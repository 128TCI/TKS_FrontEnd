function UD(t,s){for(var a=0;a<s.length;a++){const r=s[a];if(typeof r!="string"&&!Array.isArray(r)){for(const n in r)if(n!=="default"&&!(n in t)){const l=Object.getOwnPropertyDescriptor(r,n);l&&Object.defineProperty(t,n,l.get?l:{enumerable:!0,get:()=>r[n]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function a(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(n){if(n.ep)return;n.ep=!0;const l=a(n);fetch(n.href,l)}})();var Dg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function HD(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var s=t.default;if(typeof s=="function"){var a=function r(){return this instanceof r?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};a.prototype=s.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(a,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),a}var Eg={exports:{}},Eu={},Tg={exports:{}},zs={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xN;function WD(){if(xN)return zs;xN=1;var t=Symbol.for("react.element"),s=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),i=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.iterator;function f(R){return R===null||typeof R!="object"?null:(R=b&&R[b]||R["@@iterator"],typeof R=="function"?R:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,v={};function y(R,F,A){this.props=R,this.context=F,this.refs=v,this.updater=A||N}y.prototype.isReactComponent={},y.prototype.setState=function(R,F){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,F,"setState")},y.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function g(){}g.prototype=y.prototype;function j(R,F,A){this.props=R,this.context=F,this.refs=v,this.updater=A||N}var C=j.prototype=new g;C.constructor=j,p(C,y.prototype),C.isPureReactComponent=!0;var S=Array.isArray,P=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function M(R,F,A){var H,D={},_=null,xe=null;if(F!=null)for(H in F.ref!==void 0&&(xe=F.ref),F.key!==void 0&&(_=""+F.key),F)P.call(F,H)&&!E.hasOwnProperty(H)&&(D[H]=F[H]);var ge=arguments.length-2;if(ge===1)D.children=A;else if(1<ge){for(var Ne=Array(ge),Ce=0;Ce<ge;Ce++)Ne[Ce]=arguments[Ce+2];D.children=Ne}if(R&&R.defaultProps)for(H in ge=R.defaultProps,ge)D[H]===void 0&&(D[H]=ge[H]);return{$$typeof:t,type:R,key:_,ref:xe,props:D,_owner:k.current}}function L(R,F){return{$$typeof:t,type:R.type,key:F,ref:R.ref,props:R.props,_owner:R._owner}}function O(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function q(R){var F={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(A){return F[A]})}var B=/\/+/g;function se(R,F){return typeof R=="object"&&R!==null&&R.key!=null?q(""+R.key):F.toString(36)}function le(R,F,A,H,D){var _=typeof R;(_==="undefined"||_==="boolean")&&(R=null);var xe=!1;if(R===null)xe=!0;else switch(_){case"string":case"number":xe=!0;break;case"object":switch(R.$$typeof){case t:case s:xe=!0}}if(xe)return xe=R,D=D(xe),R=H===""?"."+se(xe,0):H,S(D)?(A="",R!=null&&(A=R.replace(B,"$&/")+"/"),le(D,F,A,"",function(Ce){return Ce})):D!=null&&(O(D)&&(D=L(D,A+(!D.key||xe&&xe.key===D.key?"":(""+D.key).replace(B,"$&/")+"/")+R)),F.push(D)),1;if(xe=0,H=H===""?".":H+":",S(R))for(var ge=0;ge<R.length;ge++){_=R[ge];var Ne=H+se(_,ge);xe+=le(_,F,A,Ne,D)}else if(Ne=f(R),typeof Ne=="function")for(R=Ne.call(R),ge=0;!(_=R.next()).done;)_=_.value,Ne=H+se(_,ge++),xe+=le(_,F,A,Ne,D);else if(_==="object")throw F=String(R),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return xe}function pe(R,F,A){if(R==null)return R;var H=[],D=0;return le(R,H,"","",function(_){return F.call(A,_,D++)}),H}function U(R){if(R._status===-1){var F=R._result;F=F(),F.then(function(A){(R._status===0||R._status===-1)&&(R._status=1,R._result=A)},function(A){(R._status===0||R._status===-1)&&(R._status=2,R._result=A)}),R._status===-1&&(R._status=0,R._result=F)}if(R._status===1)return R._result.default;throw R._result}var Y={current:null},W={transition:null},re={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:W,ReactCurrentOwner:k};function G(){throw Error("act(...) is not supported in production builds of React.")}return zs.Children={map:pe,forEach:function(R,F,A){pe(R,function(){F.apply(this,arguments)},A)},count:function(R){var F=0;return pe(R,function(){F++}),F},toArray:function(R){return pe(R,function(F){return F})||[]},only:function(R){if(!O(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},zs.Component=y,zs.Fragment=a,zs.Profiler=n,zs.PureComponent=j,zs.StrictMode=r,zs.Suspense=x,zs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,zs.act=G,zs.cloneElement=function(R,F,A){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var H=p({},R.props),D=R.key,_=R.ref,xe=R._owner;if(F!=null){if(F.ref!==void 0&&(_=F.ref,xe=k.current),F.key!==void 0&&(D=""+F.key),R.type&&R.type.defaultProps)var ge=R.type.defaultProps;for(Ne in F)P.call(F,Ne)&&!E.hasOwnProperty(Ne)&&(H[Ne]=F[Ne]===void 0&&ge!==void 0?ge[Ne]:F[Ne])}var Ne=arguments.length-2;if(Ne===1)H.children=A;else if(1<Ne){ge=Array(Ne);for(var Ce=0;Ce<Ne;Ce++)ge[Ce]=arguments[Ce+2];H.children=ge}return{$$typeof:t,type:R.type,key:D,ref:_,props:H,_owner:xe}},zs.createContext=function(R){return R={$$typeof:i,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:l,_context:R},R.Consumer=R},zs.createElement=M,zs.createFactory=function(R){var F=M.bind(null,R);return F.type=R,F},zs.createRef=function(){return{current:null}},zs.forwardRef=function(R){return{$$typeof:d,render:R}},zs.isValidElement=O,zs.lazy=function(R){return{$$typeof:m,_payload:{_status:-1,_result:R},_init:U}},zs.memo=function(R,F){return{$$typeof:h,type:R,compare:F===void 0?null:F}},zs.startTransition=function(R){var F=W.transition;W.transition={};try{R()}finally{W.transition=F}},zs.unstable_act=G,zs.useCallback=function(R,F){return Y.current.useCallback(R,F)},zs.useContext=function(R){return Y.current.useContext(R)},zs.useDebugValue=function(){},zs.useDeferredValue=function(R){return Y.current.useDeferredValue(R)},zs.useEffect=function(R,F){return Y.current.useEffect(R,F)},zs.useId=function(){return Y.current.useId()},zs.useImperativeHandle=function(R,F,A){return Y.current.useImperativeHandle(R,F,A)},zs.useInsertionEffect=function(R,F){return Y.current.useInsertionEffect(R,F)},zs.useLayoutEffect=function(R,F){return Y.current.useLayoutEffect(R,F)},zs.useMemo=function(R,F){return Y.current.useMemo(R,F)},zs.useReducer=function(R,F,A){return Y.current.useReducer(R,F,A)},zs.useRef=function(R){return Y.current.useRef(R)},zs.useState=function(R){return Y.current.useState(R)},zs.useSyncExternalStore=function(R,F,A){return Y.current.useSyncExternalStore(R,F,A)},zs.useTransition=function(){return Y.current.useTransition()},zs.version="18.3.1",zs}var hN;function Zy(){return hN||(hN=1,Tg.exports=WD()),Tg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mN;function GD(){if(mN)return Eu;mN=1;var t=Zy(),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,n=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function i(d,x,h){var m,b={},f=null,N=null;h!==void 0&&(f=""+h),x.key!==void 0&&(f=""+x.key),x.ref!==void 0&&(N=x.ref);for(m in x)r.call(x,m)&&!l.hasOwnProperty(m)&&(b[m]=x[m]);if(d&&d.defaultProps)for(m in x=d.defaultProps,x)b[m]===void 0&&(b[m]=x[m]);return{$$typeof:s,type:d,key:f,ref:N,props:b,_owner:n.current}}return Eu.Fragment=a,Eu.jsx=i,Eu.jsxs=i,Eu}var pN;function $D(){return pN||(pN=1,Eg.exports=GD()),Eg.exports}var e=$D(),Oh={},Ag={exports:{}},Yn={},Fg={exports:{}},Pg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fN;function zD(){return fN||(fN=1,(function(t){function s(W,re){var G=W.length;W.push(re);e:for(;0<G;){var R=G-1>>>1,F=W[R];if(0<n(F,re))W[R]=re,W[G]=F,G=R;else break e}}function a(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var re=W[0],G=W.pop();if(G!==re){W[0]=G;e:for(var R=0,F=W.length,A=F>>>1;R<A;){var H=2*(R+1)-1,D=W[H],_=H+1,xe=W[_];if(0>n(D,G))_<F&&0>n(xe,D)?(W[R]=xe,W[_]=G,R=_):(W[R]=D,W[H]=G,R=H);else if(_<F&&0>n(xe,G))W[R]=xe,W[_]=G,R=_;else break e}}return re}function n(W,re){var G=W.sortIndex-re.sortIndex;return G!==0?G:W.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,d=i.now();t.unstable_now=function(){return i.now()-d}}var x=[],h=[],m=1,b=null,f=3,N=!1,p=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(W){for(var re=a(h);re!==null;){if(re.callback===null)r(h);else if(re.startTime<=W)r(h),re.sortIndex=re.expirationTime,s(x,re);else break;re=a(h)}}function S(W){if(v=!1,C(W),!p)if(a(x)!==null)p=!0,U(P);else{var re=a(h);re!==null&&Y(S,re.startTime-W)}}function P(W,re){p=!1,v&&(v=!1,g(M),M=-1),N=!0;var G=f;try{for(C(re),b=a(x);b!==null&&(!(b.expirationTime>re)||W&&!q());){var R=b.callback;if(typeof R=="function"){b.callback=null,f=b.priorityLevel;var F=R(b.expirationTime<=re);re=t.unstable_now(),typeof F=="function"?b.callback=F:b===a(x)&&r(x),C(re)}else r(x);b=a(x)}if(b!==null)var A=!0;else{var H=a(h);H!==null&&Y(S,H.startTime-re),A=!1}return A}finally{b=null,f=G,N=!1}}var k=!1,E=null,M=-1,L=5,O=-1;function q(){return!(t.unstable_now()-O<L)}function B(){if(E!==null){var W=t.unstable_now();O=W;var re=!0;try{re=E(!0,W)}finally{re?se():(k=!1,E=null)}}else k=!1}var se;if(typeof j=="function")se=function(){j(B)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,pe=le.port2;le.port1.onmessage=B,se=function(){pe.postMessage(null)}}else se=function(){y(B,0)};function U(W){E=W,k||(k=!0,se())}function Y(W,re){M=y(function(){W(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){p||N||(p=!0,U(P))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return a(x)},t.unstable_next=function(W){switch(f){case 1:case 2:case 3:var re=3;break;default:re=f}var G=f;f=re;try{return W()}finally{f=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,re){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var G=f;f=W;try{return re()}finally{f=G}},t.unstable_scheduleCallback=function(W,re,G){var R=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?R+G:R):G=R,W){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=G+F,W={id:m++,callback:re,priorityLevel:W,startTime:G,expirationTime:F,sortIndex:-1},G>R?(W.sortIndex=G,s(h,W),a(x)===null&&W===a(h)&&(v?(g(M),M=-1):v=!0,Y(S,G-R))):(W.sortIndex=F,s(x,W),p||N||(p=!0,U(P))),W},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(W){var re=f;return function(){var G=f;f=re;try{return W.apply(this,arguments)}finally{f=G}}}})(Pg)),Pg}var gN;function VD(){return gN||(gN=1,Fg.exports=zD()),Fg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yN;function YD(){if(yN)return Yn;yN=1;var t=Zy(),s=VD();function a(c){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+c,w=1;w<arguments.length;w++)u+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,n={};function l(c,u){i(c,u),i(c+"Capture",u)}function i(c,u){for(n[c]=u,c=0;c<u.length;c++)r.add(u[c])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},b={};function f(c){return x.call(b,c)?!0:x.call(m,c)?!1:h.test(c)?b[c]=!0:(m[c]=!0,!1)}function N(c,u,w,T){if(w!==null&&w.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return T?!1:w!==null?!w.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function p(c,u,w,T){if(u===null||typeof u>"u"||N(c,u,w,T))return!0;if(T)return!1;if(w!==null)switch(w.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function v(c,u,w,T,K,oe,Pe){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=T,this.attributeNamespace=K,this.mustUseProperty=w,this.propertyName=c,this.type=u,this.sanitizeURL=oe,this.removeEmptyString=Pe}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){y[c]=new v(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var u=c[0];y[u]=new v(u,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){y[c]=new v(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){y[c]=new v(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){y[c]=new v(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){y[c]=new v(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){y[c]=new v(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){y[c]=new v(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){y[c]=new v(c,5,!1,c.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function j(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var u=c.replace(g,j);y[u]=new v(u,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var u=c.replace(g,j);y[u]=new v(u,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var u=c.replace(g,j);y[u]=new v(u,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){y[c]=new v(c,1,!1,c.toLowerCase(),null,!1,!1)}),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){y[c]=new v(c,1,!1,c.toLowerCase(),null,!0,!0)});function C(c,u,w,T){var K=y.hasOwnProperty(u)?y[u]:null;(K!==null?K.type!==0:T||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(p(u,w,K,T)&&(w=null),T||K===null?f(u)&&(w===null?c.removeAttribute(u):c.setAttribute(u,""+w)):K.mustUseProperty?c[K.propertyName]=w===null?K.type===3?!1:"":w:(u=K.attributeName,T=K.attributeNamespace,w===null?c.removeAttribute(u):(K=K.type,w=K===3||K===4&&w===!0?"":""+w,T?c.setAttributeNS(T,u,w):c.setAttribute(u,w))))}var S=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),k=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),q=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),pe=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),W=Symbol.iterator;function re(c){return c===null||typeof c!="object"?null:(c=W&&c[W]||c["@@iterator"],typeof c=="function"?c:null)}var G=Object.assign,R;function F(c){if(R===void 0)try{throw Error()}catch(w){var u=w.stack.trim().match(/\n( *(at )?)/);R=u&&u[1]||""}return`
`+R+c}var A=!1;function H(c,u){if(!c||A)return"";A=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Ot){var T=Ot}Reflect.construct(c,[],u)}else{try{u.call()}catch(Ot){T=Ot}c.call(u.prototype)}else{try{throw Error()}catch(Ot){T=Ot}c()}}catch(Ot){if(Ot&&T&&typeof Ot.stack=="string"){for(var K=Ot.stack.split(`
`),oe=T.stack.split(`
`),Pe=K.length-1,Je=oe.length-1;1<=Pe&&0<=Je&&K[Pe]!==oe[Je];)Je--;for(;1<=Pe&&0<=Je;Pe--,Je--)if(K[Pe]!==oe[Je]){if(Pe!==1||Je!==1)do if(Pe--,Je--,0>Je||K[Pe]!==oe[Je]){var ct=`
`+K[Pe].replace(" at new "," at ");return c.displayName&&ct.includes("<anonymous>")&&(ct=ct.replace("<anonymous>",c.displayName)),ct}while(1<=Pe&&0<=Je);break}}}finally{A=!1,Error.prepareStackTrace=w}return(c=c?c.displayName||c.name:"")?F(c):""}function D(c){switch(c.tag){case 5:return F(c.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return c=H(c.type,!1),c;case 11:return c=H(c.type.render,!1),c;case 1:return c=H(c.type,!0),c;default:return""}}function _(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case E:return"Fragment";case k:return"Portal";case L:return"Profiler";case M:return"StrictMode";case se:return"Suspense";case le:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case q:return(c.displayName||"Context")+".Consumer";case O:return(c._context.displayName||"Context")+".Provider";case B:var u=c.render;return c=c.displayName,c||(c=u.displayName||u.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case pe:return u=c.displayName||null,u!==null?u:_(c.type)||"Memo";case U:u=c._payload,c=c._init;try{return _(c(u))}catch{}}return null}function xe(c){var u=c.type;switch(c.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=u.render,c=c.displayName||c.name||"",u.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _(u);case 8:return u===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function ge(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Ne(c){var u=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ce(c){var u=Ne(c)?"checked":"value",w=Object.getOwnPropertyDescriptor(c.constructor.prototype,u),T=""+c[u];if(!c.hasOwnProperty(u)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var K=w.get,oe=w.set;return Object.defineProperty(c,u,{configurable:!0,get:function(){return K.call(this)},set:function(Pe){T=""+Pe,oe.call(this,Pe)}}),Object.defineProperty(c,u,{enumerable:w.enumerable}),{getValue:function(){return T},setValue:function(Pe){T=""+Pe},stopTracking:function(){c._valueTracker=null,delete c[u]}}}}function fe(c){c._valueTracker||(c._valueTracker=Ce(c))}function ue(c){if(!c)return!1;var u=c._valueTracker;if(!u)return!0;var w=u.getValue(),T="";return c&&(T=Ne(c)?c.checked?"true":"false":c.value),c=T,c!==w?(u.setValue(c),!0):!1}function Oe(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function De(c,u){var w=u.checked;return G({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:w??c._wrapperState.initialChecked})}function Ae(c,u){var w=u.defaultValue==null?"":u.defaultValue,T=u.checked!=null?u.checked:u.defaultChecked;w=ge(u.value!=null?u.value:w),c._wrapperState={initialChecked:T,initialValue:w,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Ee(c,u){u=u.checked,u!=null&&C(c,"checked",u,!1)}function ze(c,u){Ee(c,u);var w=ge(u.value),T=u.type;if(w!=null)T==="number"?(w===0&&c.value===""||c.value!=w)&&(c.value=""+w):c.value!==""+w&&(c.value=""+w);else if(T==="submit"||T==="reset"){c.removeAttribute("value");return}u.hasOwnProperty("value")?wt(c,u.type,w):u.hasOwnProperty("defaultValue")&&wt(c,u.type,ge(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(c.defaultChecked=!!u.defaultChecked)}function ot(c,u,w){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var T=u.type;if(!(T!=="submit"&&T!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+c._wrapperState.initialValue,w||u===c.value||(c.value=u),c.defaultValue=u}w=c.name,w!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,w!==""&&(c.name=w)}function wt(c,u,w){(u!=="number"||Oe(c.ownerDocument)!==c)&&(w==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+w&&(c.defaultValue=""+w))}var Ie=Array.isArray;function ye(c,u,w,T){if(c=c.options,u){u={};for(var K=0;K<w.length;K++)u["$"+w[K]]=!0;for(w=0;w<c.length;w++)K=u.hasOwnProperty("$"+c[w].value),c[w].selected!==K&&(c[w].selected=K),K&&T&&(c[w].defaultSelected=!0)}else{for(w=""+ge(w),u=null,K=0;K<c.length;K++){if(c[K].value===w){c[K].selected=!0,T&&(c[K].defaultSelected=!0);return}u!==null||c[K].disabled||(u=c[K])}u!==null&&(u.selected=!0)}}function be(c,u){if(u.dangerouslySetInnerHTML!=null)throw Error(a(91));return G({},u,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function Me(c,u){var w=u.value;if(w==null){if(w=u.children,u=u.defaultValue,w!=null){if(u!=null)throw Error(a(92));if(Ie(w)){if(1<w.length)throw Error(a(93));w=w[0]}u=w}u==null&&(u=""),w=u}c._wrapperState={initialValue:ge(w)}}function Re(c,u){var w=ge(u.value),T=ge(u.defaultValue);w!=null&&(w=""+w,w!==c.value&&(c.value=w),u.defaultValue==null&&c.defaultValue!==w&&(c.defaultValue=w)),T!=null&&(c.defaultValue=""+T)}function st(c){var u=c.textContent;u===c._wrapperState.initialValue&&u!==""&&u!==null&&(c.value=u)}function He(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ue(c,u){return c==null||c==="http://www.w3.org/1999/xhtml"?He(u):c==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var Ye,ht=(function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,w,T,K){MSApp.execUnsafeLocalFunction(function(){return c(u,w,T,K)})}:c})(function(c,u){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=u;else{for(Ye=Ye||document.createElement("div"),Ye.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Ye.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;u.firstChild;)c.appendChild(u.firstChild)}});function ut(c,u){if(u){var w=c.firstChild;if(w&&w===c.lastChild&&w.nodeType===3){w.nodeValue=u;return}}c.textContent=u}var vt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ve=["Webkit","ms","Moz","O"];Object.keys(vt).forEach(function(c){ve.forEach(function(u){u=u+c.charAt(0).toUpperCase()+c.substring(1),vt[u]=vt[c]})});function Le(c,u,w){return u==null||typeof u=="boolean"||u===""?"":w||typeof u!="number"||u===0||vt.hasOwnProperty(c)&&vt[c]?(""+u).trim():u+"px"}function he(c,u){c=c.style;for(var w in u)if(u.hasOwnProperty(w)){var T=w.indexOf("--")===0,K=Le(w,u[w],T);w==="float"&&(w="cssFloat"),T?c.setProperty(w,K):c[w]=K}}var Ve=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xt(c,u){if(u){if(Ve[c]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(a(137,c));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(a(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(a(61))}if(u.style!=null&&typeof u.style!="object")throw Error(a(62))}}function Pt(c,u){if(c.indexOf("-")===-1)return typeof u.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lt=null;function It(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var qe=null,Nt=null,gt=null;function dt(c){if(c=_c(c)){if(typeof qe!="function")throw Error(a(280));var u=c.stateNode;u&&(u=$d(u),qe(c.stateNode,c.type,u))}}function kt(c){Nt?gt?gt.push(c):gt=[c]:Nt=c}function Dt(){if(Nt){var c=Nt,u=gt;if(gt=Nt=null,dt(c),u)for(c=0;c<u.length;c++)dt(u[c])}}function Ge(c,u){return c(u)}function Ke(){}var ie=!1;function ke(c,u,w){if(ie)return c(u,w);ie=!0;try{return Ge(c,u,w)}finally{ie=!1,(Nt!==null||gt!==null)&&(Ke(),Dt())}}function me(c,u){var w=c.stateNode;if(w===null)return null;var T=$d(w);if(T===null)return null;w=T[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(T=!T.disabled)||(c=c.type,T=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!T;break e;default:c=!1}if(c)return null;if(w&&typeof w!="function")throw Error(a(231,u,typeof w));return w}var Ze=!1;if(d)try{var it={};Object.defineProperty(it,"passive",{get:function(){Ze=!0}}),window.addEventListener("test",it,it),window.removeEventListener("test",it,it)}catch{Ze=!1}function _t(c,u,w,T,K,oe,Pe,Je,ct){var Ot=Array.prototype.slice.call(arguments,3);try{u.apply(w,Ot)}catch(qt){this.onError(qt)}}var nt=!1,mt=null,ae=!1,ce=null,te={onError:function(c){nt=!0,mt=c}};function z(c,u,w,T,K,oe,Pe,Je,ct){nt=!1,mt=null,_t.apply(te,arguments)}function V(c,u,w,T,K,oe,Pe,Je,ct){if(z.apply(this,arguments),nt){if(nt){var Ot=mt;nt=!1,mt=null}else throw Error(a(198));ae||(ae=!0,ce=Ot)}}function X(c){var u=c,w=c;if(c.alternate)for(;u.return;)u=u.return;else{c=u;do u=c,(u.flags&4098)!==0&&(w=u.return),c=u.return;while(c)}return u.tag===3?w:null}function de(c){if(c.tag===13){var u=c.memoizedState;if(u===null&&(c=c.alternate,c!==null&&(u=c.memoizedState)),u!==null)return u.dehydrated}return null}function _e(c){if(X(c)!==c)throw Error(a(188))}function Te(c){var u=c.alternate;if(!u){if(u=X(c),u===null)throw Error(a(188));return u!==c?null:c}for(var w=c,T=u;;){var K=w.return;if(K===null)break;var oe=K.alternate;if(oe===null){if(T=K.return,T!==null){w=T;continue}break}if(K.child===oe.child){for(oe=K.child;oe;){if(oe===w)return _e(K),c;if(oe===T)return _e(K),u;oe=oe.sibling}throw Error(a(188))}if(w.return!==T.return)w=K,T=oe;else{for(var Pe=!1,Je=K.child;Je;){if(Je===w){Pe=!0,w=K,T=oe;break}if(Je===T){Pe=!0,T=K,w=oe;break}Je=Je.sibling}if(!Pe){for(Je=oe.child;Je;){if(Je===w){Pe=!0,w=oe,T=K;break}if(Je===T){Pe=!0,T=oe,w=K;break}Je=Je.sibling}if(!Pe)throw Error(a(189))}}if(w.alternate!==T)throw Error(a(190))}if(w.tag!==3)throw Error(a(188));return w.stateNode.current===w?c:u}function je(c){return c=Te(c),c!==null?J(c):null}function J(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var u=J(c);if(u!==null)return u;c=c.sibling}return null}var we=s.unstable_scheduleCallback,I=s.unstable_cancelCallback,Z=s.unstable_shouldYield,Q=s.unstable_requestPaint,We=s.unstable_now,ft=s.unstable_getCurrentPriorityLevel,$t=s.unstable_ImmediatePriority,yt=s.unstable_UserBlockingPriority,$e=s.unstable_NormalPriority,bt=s.unstable_LowPriority,ts=s.unstable_IdlePriority,Ts=null,at=null;function Jt(c){if(at&&typeof at.onCommitFiberRoot=="function")try{at.onCommitFiberRoot(Ts,c,void 0,(c.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:Js,zt=Math.log,cs=Math.LN2;function Js(c){return c>>>=0,c===0?32:31-(zt(c)/cs|0)|0}var Tt=64,Ut=4194304;function hs(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Na(c,u){var w=c.pendingLanes;if(w===0)return 0;var T=0,K=c.suspendedLanes,oe=c.pingedLanes,Pe=w&268435455;if(Pe!==0){var Je=Pe&~K;Je!==0?T=hs(Je):(oe&=Pe,oe!==0&&(T=hs(oe)))}else Pe=w&~K,Pe!==0?T=hs(Pe):oe!==0&&(T=hs(oe));if(T===0)return 0;if(u!==0&&u!==T&&(u&K)===0&&(K=T&-T,oe=u&-u,K>=oe||K===16&&(oe&4194240)!==0))return u;if((T&4)!==0&&(T|=w&16),u=c.entangledLanes,u!==0)for(c=c.entanglements,u&=T;0<u;)w=31-jt(u),K=1<<w,T|=c[w],u&=~K;return T}function ha(c,u){switch(c){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ma(c,u){for(var w=c.suspendedLanes,T=c.pingedLanes,K=c.expirationTimes,oe=c.pendingLanes;0<oe;){var Pe=31-jt(oe),Je=1<<Pe,ct=K[Pe];ct===-1?((Je&w)===0||(Je&T)!==0)&&(K[Pe]=ha(Je,u)):ct<=u&&(c.expiredLanes|=Je),oe&=~Je}}function Ba(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function hr(){var c=Tt;return Tt<<=1,(Tt&4194240)===0&&(Tt=64),c}function ta(c){for(var u=[],w=0;31>w;w++)u.push(c);return u}function sa(c,u,w){c.pendingLanes|=u,u!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,u=31-jt(u),c[u]=w}function jr(c,u){var w=c.pendingLanes&~u;c.pendingLanes=u,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=u,c.mutableReadLanes&=u,c.entangledLanes&=u,u=c.entanglements;var T=c.eventTimes;for(c=c.expirationTimes;0<w;){var K=31-jt(w),oe=1<<K;u[K]=0,T[K]=-1,c[K]=-1,w&=~oe}}function rt(c,u){var w=c.entangledLanes|=u;for(c=c.entanglements;w;){var T=31-jt(w),K=1<<T;K&u|c[T]&u&&(c[T]|=u),w&=~K}}var Vt=0;function vs(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var Ys,Ks,qs,la,qa,ia=!1,ca=[],va=null,tt=null,ns=null,ks=new Map,pa=new Map,Qs=[],ja="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fe(c,u){switch(c){case"focusin":case"focusout":va=null;break;case"dragenter":case"dragleave":tt=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":ks.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":pa.delete(u.pointerId)}}function At(c,u,w,T,K,oe){return c===null||c.nativeEvent!==oe?(c={blockedOn:u,domEventName:w,eventSystemFlags:T,nativeEvent:oe,targetContainers:[K]},u!==null&&(u=_c(u),u!==null&&Ks(u)),c):(c.eventSystemFlags|=T,u=c.targetContainers,K!==null&&u.indexOf(K)===-1&&u.push(K),c)}function Mt(c,u,w,T,K){switch(u){case"focusin":return va=At(va,c,u,w,T,K),!0;case"dragenter":return tt=At(tt,c,u,w,T,K),!0;case"mouseover":return ns=At(ns,c,u,w,T,K),!0;case"pointerover":var oe=K.pointerId;return ks.set(oe,At(ks.get(oe)||null,c,u,w,T,K)),!0;case"gotpointercapture":return oe=K.pointerId,pa.set(oe,At(pa.get(oe)||null,c,u,w,T,K)),!0}return!1}function fa(c){var u=ri(c.target);if(u!==null){var w=X(u);if(w!==null){if(u=w.tag,u===13){if(u=de(w),u!==null){c.blockedOn=u,qa(c.priority,function(){qs(w)});return}}else if(u===3&&w.stateNode.current.memoizedState.isDehydrated){c.blockedOn=w.tag===3?w.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Bs(c){if(c.blockedOn!==null)return!1;for(var u=c.targetContainers;0<u.length;){var w=Ja(c.domEventName,c.eventSystemFlags,u[0],c.nativeEvent);if(w===null){w=c.nativeEvent;var T=new w.constructor(w.type,w);Lt=T,w.target.dispatchEvent(T),Lt=null}else return u=_c(w),u!==null&&Ks(u),c.blockedOn=w,!1;u.shift()}return!0}function Ca(c,u,w){Bs(c)&&w.delete(u)}function Jr(){ia=!1,va!==null&&Bs(va)&&(va=null),tt!==null&&Bs(tt)&&(tt=null),ns!==null&&Bs(ns)&&(ns=null),ks.forEach(Ca),pa.forEach(Ca)}function cn(c,u){c.blockedOn===u&&(c.blockedOn=null,ia||(ia=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Jr)))}function dn(c){function u(K){return cn(K,c)}if(0<ca.length){cn(ca[0],c);for(var w=1;w<ca.length;w++){var T=ca[w];T.blockedOn===c&&(T.blockedOn=null)}}for(va!==null&&cn(va,c),tt!==null&&cn(tt,c),ns!==null&&cn(ns,c),ks.forEach(u),pa.forEach(u),w=0;w<Qs.length;w++)T=Qs[w],T.blockedOn===c&&(T.blockedOn=null);for(;0<Qs.length&&(w=Qs[0],w.blockedOn===null);)fa(w),w.blockedOn===null&&Qs.shift()}var Lr=S.ReactCurrentBatchConfig,Qr=!0;function ao(c,u,w,T){var K=Vt,oe=Lr.transition;Lr.transition=null;try{Vt=1,Rn(c,u,w,T)}finally{Vt=K,Lr.transition=oe}}function En(c,u,w,T){var K=Vt,oe=Lr.transition;Lr.transition=null;try{Vt=4,Rn(c,u,w,T)}finally{Vt=K,Lr.transition=oe}}function Rn(c,u,w,T){if(Qr){var K=Ja(c,u,w,T);if(K===null)lu(c,u,T,Xa,w),Fe(c,T);else if(Mt(K,c,u,w,T))T.stopPropagation();else if(Fe(c,T),u&4&&-1<ja.indexOf(c)){for(;K!==null;){var oe=_c(K);if(oe!==null&&Ys(oe),oe=Ja(c,u,w,T),oe===null&&lu(c,u,T,Xa,w),oe===K)break;K=oe}K!==null&&T.stopPropagation()}else lu(c,u,T,null,w)}}var Xa=null;function Ja(c,u,w,T){if(Xa=null,c=It(T),c=ri(c),c!==null)if(u=X(c),u===null)c=null;else if(w=u.tag,w===13){if(c=de(u),c!==null)return c;c=null}else if(w===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;c=null}else u!==c&&(c=null);return Xa=c,null}function ro(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ft()){case $t:return 1;case yt:return 4;case $e:case bt:return 16;case ts:return 536870912;default:return 16}default:return 16}}var Qe=null,ps=null,_s=null;function Xt(){if(_s)return _s;var c,u=ps,w=u.length,T,K="value"in Qe?Qe.value:Qe.textContent,oe=K.length;for(c=0;c<w&&u[c]===K[c];c++);var Pe=w-c;for(T=1;T<=Pe&&u[w-T]===K[oe-T];T++);return _s=K.slice(c,1<T?1-T:void 0)}function Ra(c){var u=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&u===13&&(c=13)):c=u,c===10&&(c=13),32<=c||c===13?c:0}function Qa(){return!0}function or(){return!1}function wa(c){function u(w,T,K,oe,Pe){this._reactName=w,this._targetInst=K,this.type=T,this.nativeEvent=oe,this.target=Pe,this.currentTarget=null;for(var Je in c)c.hasOwnProperty(Je)&&(w=c[Je],this[Je]=w?w(oe):oe[Je]);return this.isDefaultPrevented=(oe.defaultPrevented!=null?oe.defaultPrevented:oe.returnValue===!1)?Qa:or,this.isPropagationStopped=or,this}return G(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var w=this.nativeEvent;w&&(w.preventDefault?w.preventDefault():typeof w.returnValue!="unknown"&&(w.returnValue=!1),this.isDefaultPrevented=Qa)},stopPropagation:function(){var w=this.nativeEvent;w&&(w.stopPropagation?w.stopPropagation():typeof w.cancelBubble!="unknown"&&(w.cancelBubble=!0),this.isPropagationStopped=Qa)},persist:function(){},isPersistent:Qa}),u}var lt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ws=wa(lt),Or=G({},lt,{view:0,detail:0}),un=wa(Or),no,Ro,Uo,Ho=G({},Or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vl,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Uo&&(Uo&&c.type==="mousemove"?(no=c.screenX-Uo.screenX,Ro=c.screenY-Uo.screenY):Ro=no=0,Uo=c),no)},movementY:function(c){return"movementY"in c?c.movementY:Ro}}),Xl=wa(Ho),yl=G({},Ho,{dataTransfer:0}),Nc=wa(yl),_r=G({},Or,{relatedTarget:0}),xn=wa(_r),Jl=G({},lt,{animationName:0,elapsedTime:0,pseudoElement:0}),bl=wa(Jl),Ei=G({},lt,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Wo=wa(Ei),Ti=G({},lt,{data:0}),No=wa(Ti),jo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Go={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ai={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $o(c){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(c):(c=Ai[c])?!!u[c]:!1}function vl(){return $o}var zo=G({},Or,{key:function(c){if(c.key){var u=jo[c.key]||c.key;if(u!=="Unidentified")return u}return c.type==="keypress"?(c=Ra(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Go[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vl,charCode:function(c){return c.type==="keypress"?Ra(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Ra(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Ql=wa(zo),Vo=G({},Ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wl=wa(Vo),Ed=G({},Or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vl}),Td=wa(Ed),Ad=G({},lt,{propertyName:0,elapsedTime:0,pseudoElement:0}),jc=wa(Ad),Fd=G({},Ho,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Cc=wa(Fd),J0=[9,13,27,32],Un=d&&"CompositionEvent"in window,Nl=null;d&&"documentMode"in document&&(Nl=document.documentMode);var Pd=d&&"TextEvent"in window&&!Nl,Md=d&&(!Un||Nl&&8<Nl&&11>=Nl),oo=" ",Sc=!1;function kc(c,u){switch(c){case"keyup":return J0.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Id(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Zr=!1;function Q0(c,u){switch(c){case"compositionend":return Id(u);case"keypress":return u.which!==32?null:(Sc=!0,oo);case"textInput":return c=u.data,c===oo&&Sc?null:c;default:return null}}function Z0(c,u){if(Zr)return c==="compositionend"||!Un&&kc(c,u)?(c=Xt(),_s=ps=Qe=null,Zr=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Md&&u.locale!=="ko"?null:u.data;default:return null}}var Fi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yo(c){var u=c&&c.nodeName&&c.nodeName.toLowerCase();return u==="input"?!!Fi[c.type]:u==="textarea"}function Zl(c,u,w,T){kt(T),u=ai(u,"onChange"),0<u.length&&(w=new Ws("onChange","change",null,w,T),c.push({event:w,listeners:u}))}var jl=null,ei=null;function eu(c){Hd(c,0)}function Pi(c){var u=Ri(c);if(ue(u))return c}function Ld(c,u){if(c==="change")return u}var Br=!1;if(d){var Ko;if(d){var ti="oninput"in document;if(!ti){var Dc=document.createElement("div");Dc.setAttribute("oninput","return;"),ti=typeof Dc.oninput=="function"}Ko=ti}else Ko=!1;Br=Ko&&(!document.documentMode||9<document.documentMode)}function Mi(){jl&&(jl.detachEvent("onpropertychange",Od),ei=jl=null)}function Od(c){if(c.propertyName==="value"&&Pi(ei)){var u=[];Zl(u,ei,c,It(c)),ke(eu,u)}}function Ux(c,u,w){c==="focusin"?(Mi(),jl=u,ei=w,jl.attachEvent("onpropertychange",Od)):c==="focusout"&&Mi()}function St(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Pi(ei)}function Ht(c,u){if(c==="click")return Pi(u)}function mr(c,u){if(c==="input"||c==="change")return Pi(u)}function Bv(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var lo=typeof Object.is=="function"?Object.is:Bv;function _d(c,u){if(lo(c,u))return!0;if(typeof c!="object"||c===null||typeof u!="object"||u===null)return!1;var w=Object.keys(c),T=Object.keys(u);if(w.length!==T.length)return!1;for(T=0;T<w.length;T++){var K=w[T];if(!x.call(u,K)||!lo(c[K],u[K]))return!1}return!0}function Hx(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function pf(c,u){var w=Hx(c);c=0;for(var T;w;){if(w.nodeType===3){if(T=c+w.textContent.length,c<=u&&T>=u)return{node:w,offset:u-c};c=T}e:{for(;w;){if(w.nextSibling){w=w.nextSibling;break e}w=w.parentNode}w=void 0}w=Hx(w)}}function Wx(c,u){return c&&u?c===u?!0:c&&c.nodeType===3?!1:u&&u.nodeType===3?Wx(c,u.parentNode):"contains"in c?c.contains(u):c.compareDocumentPosition?!!(c.compareDocumentPosition(u)&16):!1:!1}function ff(){for(var c=window,u=Oe();u instanceof c.HTMLIFrameElement;){try{var w=typeof u.contentWindow.location.href=="string"}catch{w=!1}if(w)c=u.contentWindow;else break;u=Oe(c.document)}return u}function Bd(c){var u=c&&c.nodeName&&c.nodeName.toLowerCase();return u&&(u==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||u==="textarea"||c.contentEditable==="true")}function tu(c){var u=ff(),w=c.focusedElem,T=c.selectionRange;if(u!==w&&w&&w.ownerDocument&&Wx(w.ownerDocument.documentElement,w)){if(T!==null&&Bd(w)){if(u=T.start,c=T.end,c===void 0&&(c=u),"selectionStart"in w)w.selectionStart=u,w.selectionEnd=Math.min(c,w.value.length);else if(c=(u=w.ownerDocument||document)&&u.defaultView||window,c.getSelection){c=c.getSelection();var K=w.textContent.length,oe=Math.min(T.start,K);T=T.end===void 0?oe:Math.min(T.end,K),!c.extend&&oe>T&&(K=T,T=oe,oe=K),K=pf(w,oe);var Pe=pf(w,T);K&&Pe&&(c.rangeCount!==1||c.anchorNode!==K.node||c.anchorOffset!==K.offset||c.focusNode!==Pe.node||c.focusOffset!==Pe.offset)&&(u=u.createRange(),u.setStart(K.node,K.offset),c.removeAllRanges(),oe>T?(c.addRange(u),c.extend(Pe.node,Pe.offset)):(u.setEnd(Pe.node,Pe.offset),c.addRange(u)))}}for(u=[],c=w;c=c.parentNode;)c.nodeType===1&&u.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<u.length;w++)c=u[w],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var Gx=d&&"documentMode"in document&&11>=document.documentMode,Cl=null,su=null,Rd=null,au=!1;function gf(c,u,w){var T=w.window===w?w.document:w.nodeType===9?w:w.ownerDocument;au||Cl==null||Cl!==Oe(T)||(T=Cl,"selectionStart"in T&&Bd(T)?T={start:T.selectionStart,end:T.selectionEnd}:(T=(T.ownerDocument&&T.ownerDocument.defaultView||window).getSelection(),T={anchorNode:T.anchorNode,anchorOffset:T.anchorOffset,focusNode:T.focusNode,focusOffset:T.focusOffset}),Rd&&_d(Rd,T)||(Rd=T,T=ai(su,"onSelect"),0<T.length&&(u=new Ws("onSelect","select",null,u,w),c.push({event:u,listeners:T}),u.target=Cl)))}function Ec(c,u){var w={};return w[c.toLowerCase()]=u.toLowerCase(),w["Webkit"+c]="webkit"+u,w["Moz"+c]="moz"+u,w}var Sl={animationend:Ec("Animation","AnimationEnd"),animationiteration:Ec("Animation","AnimationIteration"),animationstart:Ec("Animation","AnimationStart"),transitionend:Ec("Transition","TransitionEnd")},ru={},yf={};d&&(yf=document.createElement("div").style,"AnimationEvent"in window||(delete Sl.animationend.animation,delete Sl.animationiteration.animation,delete Sl.animationstart.animation),"TransitionEvent"in window||delete Sl.transitionend.transition);function Ud(c){if(ru[c])return ru[c];if(!Sl[c])return c;var u=Sl[c],w;for(w in u)if(u.hasOwnProperty(w)&&w in yf)return ru[c]=u[w];return c}var bf=Ud("animationend"),$x=Ud("animationiteration"),zx=Ud("animationstart"),Vx=Ud("transitionend"),Ii=new Map,Tc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hn(c,u){Ii.set(c,u),l(u,[c])}for(var si=0;si<Tc.length;si++){var nu=Tc[si],vf=nu.toLowerCase(),wf=nu[0].toUpperCase()+nu.slice(1);Hn(vf,"on"+wf)}Hn(bf,"onAnimationEnd"),Hn($x,"onAnimationIteration"),Hn(zx,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(Vx,"onTransitionEnd"),i("onMouseEnter",["mouseout","mouseover"]),i("onMouseLeave",["mouseout","mouseover"]),i("onPointerEnter",["pointerout","pointerover"]),i("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ac));function Fc(c,u,w){var T=c.type||"unknown-event";c.currentTarget=w,V(T,u,void 0,c),c.currentTarget=null}function Hd(c,u){u=(u&4)!==0;for(var w=0;w<c.length;w++){var T=c[w],K=T.event;T=T.listeners;e:{var oe=void 0;if(u)for(var Pe=T.length-1;0<=Pe;Pe--){var Je=T[Pe],ct=Je.instance,Ot=Je.currentTarget;if(Je=Je.listener,ct!==oe&&K.isPropagationStopped())break e;Fc(K,Je,Ot),oe=ct}else for(Pe=0;Pe<T.length;Pe++){if(Je=T[Pe],ct=Je.instance,Ot=Je.currentTarget,Je=Je.listener,ct!==oe&&K.isPropagationStopped())break e;Fc(K,Je,Ot),oe=ct}}}if(ae)throw c=ce,ae=!1,ce=null,c}function La(c,u){var w=u[uu];w===void 0&&(w=u[uu]=new Set);var T=c+"__bubble";w.has(T)||(Kx(u,c,2,!1),w.add(T))}function ou(c,u,w){var T=0;u&&(T|=4),Kx(w,c,T,u)}var Wd="_reactListening"+Math.random().toString(36).slice(2);function Pc(c){if(!c[Wd]){c[Wd]=!0,r.forEach(function(w){w!=="selectionchange"&&(Yx.has(w)||ou(w,!1,c),ou(w,!0,c))});var u=c.nodeType===9?c:c.ownerDocument;u===null||u[Wd]||(u[Wd]=!0,ou("selectionchange",!1,u))}}function Kx(c,u,w,T){switch(ro(u)){case 1:var K=ao;break;case 4:K=En;break;default:K=Rn}w=K.bind(null,u,w,c),K=void 0,!Ze||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(K=!0),T?K!==void 0?c.addEventListener(u,w,{capture:!0,passive:K}):c.addEventListener(u,w,!0):K!==void 0?c.addEventListener(u,w,{passive:K}):c.addEventListener(u,w,!1)}function lu(c,u,w,T,K){var oe=T;if((u&1)===0&&(u&2)===0&&T!==null)e:for(;;){if(T===null)return;var Pe=T.tag;if(Pe===3||Pe===4){var Je=T.stateNode.containerInfo;if(Je===K||Je.nodeType===8&&Je.parentNode===K)break;if(Pe===4)for(Pe=T.return;Pe!==null;){var ct=Pe.tag;if((ct===3||ct===4)&&(ct=Pe.stateNode.containerInfo,ct===K||ct.nodeType===8&&ct.parentNode===K))return;Pe=Pe.return}for(;Je!==null;){if(Pe=ri(Je),Pe===null)return;if(ct=Pe.tag,ct===5||ct===6){T=oe=Pe;continue e}Je=Je.parentNode}}T=T.return}ke(function(){var Ot=oe,qt=It(w),Qt=[];e:{var Kt=Ii.get(c);if(Kt!==void 0){var us=Ws,gs=c;switch(c){case"keypress":if(Ra(w)===0)break e;case"keydown":case"keyup":us=Ql;break;case"focusin":gs="focus",us=xn;break;case"focusout":gs="blur",us=xn;break;case"beforeblur":case"afterblur":us=xn;break;case"click":if(w.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":us=Xl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":us=Nc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":us=Td;break;case bf:case $x:case zx:us=bl;break;case Vx:us=jc;break;case"scroll":us=un;break;case"wheel":us=Cc;break;case"copy":case"cut":case"paste":us=Wo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":us=wl}var Ns=(u&4)!==0,pr=!Ns&&c==="scroll",Et=Ns?Kt!==null?Kt+"Capture":null:Kt;Ns=[];for(var pt=Ot,Ft;pt!==null;){Ft=pt;var es=Ft.stateNode;if(Ft.tag===5&&es!==null&&(Ft=es,Et!==null&&(es=me(pt,Et),es!=null&&Ns.push(Li(pt,es,Ft)))),pr)break;pt=pt.return}0<Ns.length&&(Kt=new us(Kt,gs,null,w,qt),Qt.push({event:Kt,listeners:Ns}))}}if((u&7)===0){e:{if(Kt=c==="mouseover"||c==="pointerover",us=c==="mouseout"||c==="pointerout",Kt&&w!==Lt&&(gs=w.relatedTarget||w.fromElement)&&(ri(gs)||gs[Xo]))break e;if((us||Kt)&&(Kt=qt.window===qt?qt:(Kt=qt.ownerDocument)?Kt.defaultView||Kt.parentWindow:window,us?(gs=w.relatedTarget||w.toElement,us=Ot,gs=gs?ri(gs):null,gs!==null&&(pr=X(gs),gs!==pr||gs.tag!==5&&gs.tag!==6)&&(gs=null)):(us=null,gs=Ot),us!==gs)){if(Ns=Xl,es="onMouseLeave",Et="onMouseEnter",pt="mouse",(c==="pointerout"||c==="pointerover")&&(Ns=wl,es="onPointerLeave",Et="onPointerEnter",pt="pointer"),pr=us==null?Kt:Ri(us),Ft=gs==null?Kt:Ri(gs),Kt=new Ns(es,pt+"leave",us,w,qt),Kt.target=pr,Kt.relatedTarget=Ft,es=null,ri(qt)===Ot&&(Ns=new Ns(Et,pt+"enter",gs,w,qt),Ns.target=Ft,Ns.relatedTarget=pr,es=Ns),pr=es,us&&gs)t:{for(Ns=us,Et=gs,pt=0,Ft=Ns;Ft;Ft=qo(Ft))pt++;for(Ft=0,es=Et;es;es=qo(es))Ft++;for(;0<pt-Ft;)Ns=qo(Ns),pt--;for(;0<Ft-pt;)Et=qo(Et),Ft--;for(;pt--;){if(Ns===Et||Et!==null&&Ns===Et.alternate)break t;Ns=qo(Ns),Et=qo(Et)}Ns=null}else Ns=null;us!==null&&qx(Qt,Kt,us,Ns,!1),gs!==null&&pr!==null&&qx(Qt,pr,gs,Ns,!0)}}e:{if(Kt=Ot?Ri(Ot):window,us=Kt.nodeName&&Kt.nodeName.toLowerCase(),us==="select"||us==="input"&&Kt.type==="file")var js=Ld;else if(Yo(Kt))if(Br)js=mr;else{js=St;var Ds=Ux}else(us=Kt.nodeName)&&us.toLowerCase()==="input"&&(Kt.type==="checkbox"||Kt.type==="radio")&&(js=Ht);if(js&&(js=js(c,Ot))){Zl(Qt,js,w,qt);break e}Ds&&Ds(c,Kt,Ot),c==="focusout"&&(Ds=Kt._wrapperState)&&Ds.controlled&&Kt.type==="number"&&wt(Kt,"number",Kt.value)}switch(Ds=Ot?Ri(Ot):window,c){case"focusin":(Yo(Ds)||Ds.contentEditable==="true")&&(Cl=Ds,su=Ot,Rd=null);break;case"focusout":Rd=su=Cl=null;break;case"mousedown":au=!0;break;case"contextmenu":case"mouseup":case"dragend":au=!1,gf(Qt,w,qt);break;case"selectionchange":if(Gx)break;case"keydown":case"keyup":gf(Qt,w,qt)}var Es;if(Un)e:{switch(c){case"compositionstart":var Os="onCompositionStart";break e;case"compositionend":Os="onCompositionEnd";break e;case"compositionupdate":Os="onCompositionUpdate";break e}Os=void 0}else Zr?kc(c,w)&&(Os="onCompositionEnd"):c==="keydown"&&w.keyCode===229&&(Os="onCompositionStart");Os&&(Md&&w.locale!=="ko"&&(Zr||Os!=="onCompositionStart"?Os==="onCompositionEnd"&&Zr&&(Es=Xt()):(Qe=qt,ps="value"in Qe?Qe.value:Qe.textContent,Zr=!0)),Ds=ai(Ot,Os),0<Ds.length&&(Os=new No(Os,c,null,w,qt),Qt.push({event:Os,listeners:Ds}),Es?Os.data=Es:(Es=Id(w),Es!==null&&(Os.data=Es)))),(Es=Pd?Q0(c,w):Z0(c,w))&&(Ot=ai(Ot,"onBeforeInput"),0<Ot.length&&(qt=new No("onBeforeInput","beforeinput",null,w,qt),Qt.push({event:qt,listeners:Ot}),qt.data=Es))}Hd(Qt,u)})}function Li(c,u,w){return{instance:c,listener:u,currentTarget:w}}function ai(c,u){for(var w=u+"Capture",T=[];c!==null;){var K=c,oe=K.stateNode;K.tag===5&&oe!==null&&(K=oe,oe=me(c,w),oe!=null&&T.unshift(Li(c,oe,K)),oe=me(c,u),oe!=null&&T.push(Li(c,oe,K))),c=c.return}return T}function qo(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function qx(c,u,w,T,K){for(var oe=u._reactName,Pe=[];w!==null&&w!==T;){var Je=w,ct=Je.alternate,Ot=Je.stateNode;if(ct!==null&&ct===T)break;Je.tag===5&&Ot!==null&&(Je=Ot,K?(ct=me(w,oe),ct!=null&&Pe.unshift(Li(w,ct,Je))):K||(ct=me(w,oe),ct!=null&&Pe.push(Li(w,ct,Je)))),w=w.return}Pe.length!==0&&c.push({event:u,listeners:Pe})}var Nf=/\r\n?/g,jf=/\u0000|\uFFFD/g;function Xx(c){return(typeof c=="string"?c:""+c).replace(Nf,`
`).replace(jf,"")}function Gd(c,u,w){if(u=Xx(u),Xx(c)!==u&&w)throw Error(a(425))}function Mc(){}var Oi=null,_i=null;function iu(c,u){return c==="textarea"||c==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var cu=typeof setTimeout=="function"?setTimeout:void 0,Cf=typeof clearTimeout=="function"?clearTimeout:void 0,Jx=typeof Promise=="function"?Promise:void 0,Sf=typeof queueMicrotask=="function"?queueMicrotask:typeof Jx<"u"?function(c){return Jx.resolve(null).then(c).catch(Ic)}:cu;function Ic(c){setTimeout(function(){throw c})}function du(c,u){var w=u,T=0;do{var K=w.nextSibling;if(c.removeChild(w),K&&K.nodeType===8)if(w=K.data,w==="/$"){if(T===0){c.removeChild(K),dn(u);return}T--}else w!=="$"&&w!=="$?"&&w!=="$!"||T++;w=K}while(w);dn(u)}function kl(c){for(;c!=null;c=c.nextSibling){var u=c.nodeType;if(u===1||u===3)break;if(u===8){if(u=c.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return c}function Qx(c){c=c.previousSibling;for(var u=0;c;){if(c.nodeType===8){var w=c.data;if(w==="$"||w==="$!"||w==="$?"){if(u===0)return c;u--}else w==="/$"&&u++}c=c.previousSibling}return null}var Bi=Math.random().toString(36).slice(2),hn="__reactFiber$"+Bi,Lc="__reactProps$"+Bi,Xo="__reactContainer$"+Bi,uu="__reactEvents$"+Bi,kf="__reactListeners$"+Bi,Oc="__reactHandles$"+Bi;function ri(c){var u=c[hn];if(u)return u;for(var w=c.parentNode;w;){if(u=w[Xo]||w[hn]){if(w=u.alternate,u.child!==null||w!==null&&w.child!==null)for(c=Qx(c);c!==null;){if(w=c[hn])return w;c=Qx(c)}return u}c=w,w=c.parentNode}return null}function _c(c){return c=c[hn]||c[Xo],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function Ri(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(a(33))}function $d(c){return c[Lc]||null}var xu=[],Ui=-1;function Dl(c){return{current:c}}function Oa(c){0>Ui||(c.current=xu[Ui],xu[Ui]=null,Ui--)}function Fa(c,u){Ui++,xu[Ui]=c.current,c.current=u}var El={},lr=Dl(El),Wa=Dl(!1),Jo=El;function ni(c,u){var w=c.type.contextTypes;if(!w)return El;var T=c.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===u)return T.__reactInternalMemoizedMaskedChildContext;var K={},oe;for(oe in w)K[oe]=u[oe];return T&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=u,c.__reactInternalMemoizedMaskedChildContext=K),K}function en(c){return c=c.childContextTypes,c!=null}function zd(){Oa(Wa),Oa(lr)}function Zx(c,u,w){if(lr.current!==El)throw Error(a(168));Fa(lr,u),Fa(Wa,w)}function eh(c,u,w){var T=c.stateNode;if(u=u.childContextTypes,typeof T.getChildContext!="function")return w;T=T.getChildContext();for(var K in T)if(!(K in u))throw Error(a(108,xe(c)||"Unknown",K));return G({},w,T)}function Vd(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||El,Jo=lr.current,Fa(lr,c),Fa(Wa,Wa.current),!0}function th(c,u,w){var T=c.stateNode;if(!T)throw Error(a(169));w?(c=eh(c,u,Jo),T.__reactInternalMemoizedMergedChildContext=c,Oa(Wa),Oa(lr),Fa(lr,c)):Oa(Wa),Fa(Wa,w)}var Qo=null,Yd=!1,hu=!1;function sh(c){Qo===null?Qo=[c]:Qo.push(c)}function Df(c){Yd=!0,sh(c)}function mn(){if(!hu&&Qo!==null){hu=!0;var c=0,u=Vt;try{var w=Qo;for(Vt=1;c<w.length;c++){var T=w[c];do T=T(!0);while(T!==null)}Qo=null,Yd=!1}catch(K){throw Qo!==null&&(Qo=Qo.slice(c+1)),we($t,mn),K}finally{Vt=u,hu=!1}}return null}var Tn=[],Hi=0,Kd=null,qd=0,Wn=[],Gn=0,oi=null,Zo=1,el="";function Se(c,u){Tn[Hi++]=qd,Tn[Hi++]=Kd,Kd=c,qd=u}function Xe(c,u,w){Wn[Gn++]=Zo,Wn[Gn++]=el,Wn[Gn++]=oi,oi=c;var T=Zo;c=el;var K=32-jt(T)-1;T&=~(1<<K),w+=1;var oe=32-jt(u)+K;if(30<oe){var Pe=K-K%5;oe=(T&(1<<Pe)-1).toString(32),T>>=Pe,K-=Pe,Zo=1<<32-jt(u)+K|w<<K|T,el=oe+c}else Zo=1<<oe|w<<K|T,el=c}function Ct(c){c.return!==null&&(Se(c,1),Xe(c,1,0))}function is(c){for(;c===Kd;)Kd=Tn[--Hi],Tn[Hi]=null,qd=Tn[--Hi],Tn[Hi]=null;for(;c===oi;)oi=Wn[--Gn],Wn[Gn]=null,el=Wn[--Gn],Wn[Gn]=null,Zo=Wn[--Gn],Wn[Gn]=null}var Ls=null,io=null,Za=!1,tl=null;function Rv(c,u){var w=Do(5,null,null,0);w.elementType="DELETED",w.stateNode=u,w.return=c,u=c.deletions,u===null?(c.deletions=[w],c.flags|=16):u.push(w)}function Uv(c,u){switch(c.tag){case 5:var w=c.type;return u=u.nodeType!==1||w.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(c.stateNode=u,Ls=c,io=kl(u.firstChild),!0):!1;case 6:return u=c.pendingProps===""||u.nodeType!==3?null:u,u!==null?(c.stateNode=u,Ls=c,io=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(w=oi!==null?{id:Zo,overflow:el}:null,c.memoizedState={dehydrated:u,treeContext:w,retryLane:1073741824},w=Do(18,null,null,0),w.stateNode=u,w.return=c,c.child=w,Ls=c,io=null,!0):!1;default:return!1}}function Ef(c){return(c.mode&1)!==0&&(c.flags&128)===0}function Tf(c){if(Za){var u=io;if(u){var w=u;if(!Uv(c,u)){if(Ef(c))throw Error(a(418));u=kl(w.nextSibling);var T=Ls;u&&Uv(c,u)?Rv(T,w):(c.flags=c.flags&-4097|2,Za=!1,Ls=c)}}else{if(Ef(c))throw Error(a(418));c.flags=c.flags&-4097|2,Za=!1,Ls=c}}}function Hv(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Ls=c}function ah(c){if(c!==Ls)return!1;if(!Za)return Hv(c),Za=!0,!1;var u;if((u=c.tag!==3)&&!(u=c.tag!==5)&&(u=c.type,u=u!=="head"&&u!=="body"&&!iu(c.type,c.memoizedProps)),u&&(u=io)){if(Ef(c))throw Wv(),Error(a(418));for(;u;)Rv(c,u),u=kl(u.nextSibling)}if(Hv(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));e:{for(c=c.nextSibling,u=0;c;){if(c.nodeType===8){var w=c.data;if(w==="/$"){if(u===0){io=kl(c.nextSibling);break e}u--}else w!=="$"&&w!=="$!"&&w!=="$?"||u++}c=c.nextSibling}io=null}}else io=Ls?kl(c.stateNode.nextSibling):null;return!0}function Wv(){for(var c=io;c;)c=kl(c.nextSibling)}function Xd(){io=Ls=null,Za=!1}function Af(c){tl===null?tl=[c]:tl.push(c)}var oD=S.ReactCurrentBatchConfig;function mu(c,u,w){if(c=w.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(a(309));var T=w.stateNode}if(!T)throw Error(a(147,c));var K=T,oe=""+c;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===oe?u.ref:(u=function(Pe){var Je=K.refs;Pe===null?delete Je[oe]:Je[oe]=Pe},u._stringRef=oe,u)}if(typeof c!="string")throw Error(a(284));if(!w._owner)throw Error(a(290,c))}return c}function rh(c,u){throw c=Object.prototype.toString.call(u),Error(a(31,c==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":c))}function Gv(c){var u=c._init;return u(c._payload)}function $v(c){function u(Et,pt){if(c){var Ft=Et.deletions;Ft===null?(Et.deletions=[pt],Et.flags|=16):Ft.push(pt)}}function w(Et,pt){if(!c)return null;for(;pt!==null;)u(Et,pt),pt=pt.sibling;return null}function T(Et,pt){for(Et=new Map;pt!==null;)pt.key!==null?Et.set(pt.key,pt):Et.set(pt.index,pt),pt=pt.sibling;return Et}function K(Et,pt){return Et=qi(Et,pt),Et.index=0,Et.sibling=null,Et}function oe(Et,pt,Ft){return Et.index=Ft,c?(Ft=Et.alternate,Ft!==null?(Ft=Ft.index,Ft<pt?(Et.flags|=2,pt):Ft):(Et.flags|=2,pt)):(Et.flags|=1048576,pt)}function Pe(Et){return c&&Et.alternate===null&&(Et.flags|=2),Et}function Je(Et,pt,Ft,es){return pt===null||pt.tag!==6?(pt=wg(Ft,Et.mode,es),pt.return=Et,pt):(pt=K(pt,Ft),pt.return=Et,pt)}function ct(Et,pt,Ft,es){var js=Ft.type;return js===E?qt(Et,pt,Ft.props.children,es,Ft.key):pt!==null&&(pt.elementType===js||typeof js=="object"&&js!==null&&js.$$typeof===U&&Gv(js)===pt.type)?(es=K(pt,Ft.props),es.ref=mu(Et,pt,Ft),es.return=Et,es):(es=Eh(Ft.type,Ft.key,Ft.props,null,Et.mode,es),es.ref=mu(Et,pt,Ft),es.return=Et,es)}function Ot(Et,pt,Ft,es){return pt===null||pt.tag!==4||pt.stateNode.containerInfo!==Ft.containerInfo||pt.stateNode.implementation!==Ft.implementation?(pt=Ng(Ft,Et.mode,es),pt.return=Et,pt):(pt=K(pt,Ft.children||[]),pt.return=Et,pt)}function qt(Et,pt,Ft,es,js){return pt===null||pt.tag!==7?(pt=zc(Ft,Et.mode,es,js),pt.return=Et,pt):(pt=K(pt,Ft),pt.return=Et,pt)}function Qt(Et,pt,Ft){if(typeof pt=="string"&&pt!==""||typeof pt=="number")return pt=wg(""+pt,Et.mode,Ft),pt.return=Et,pt;if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case P:return Ft=Eh(pt.type,pt.key,pt.props,null,Et.mode,Ft),Ft.ref=mu(Et,null,pt),Ft.return=Et,Ft;case k:return pt=Ng(pt,Et.mode,Ft),pt.return=Et,pt;case U:var es=pt._init;return Qt(Et,es(pt._payload),Ft)}if(Ie(pt)||re(pt))return pt=zc(pt,Et.mode,Ft,null),pt.return=Et,pt;rh(Et,pt)}return null}function Kt(Et,pt,Ft,es){var js=pt!==null?pt.key:null;if(typeof Ft=="string"&&Ft!==""||typeof Ft=="number")return js!==null?null:Je(Et,pt,""+Ft,es);if(typeof Ft=="object"&&Ft!==null){switch(Ft.$$typeof){case P:return Ft.key===js?ct(Et,pt,Ft,es):null;case k:return Ft.key===js?Ot(Et,pt,Ft,es):null;case U:return js=Ft._init,Kt(Et,pt,js(Ft._payload),es)}if(Ie(Ft)||re(Ft))return js!==null?null:qt(Et,pt,Ft,es,null);rh(Et,Ft)}return null}function us(Et,pt,Ft,es,js){if(typeof es=="string"&&es!==""||typeof es=="number")return Et=Et.get(Ft)||null,Je(pt,Et,""+es,js);if(typeof es=="object"&&es!==null){switch(es.$$typeof){case P:return Et=Et.get(es.key===null?Ft:es.key)||null,ct(pt,Et,es,js);case k:return Et=Et.get(es.key===null?Ft:es.key)||null,Ot(pt,Et,es,js);case U:var Ds=es._init;return us(Et,pt,Ft,Ds(es._payload),js)}if(Ie(es)||re(es))return Et=Et.get(Ft)||null,qt(pt,Et,es,js,null);rh(pt,es)}return null}function gs(Et,pt,Ft,es){for(var js=null,Ds=null,Es=pt,Os=pt=0,Hr=null;Es!==null&&Os<Ft.length;Os++){Es.index>Os?(Hr=Es,Es=null):Hr=Es.sibling;var da=Kt(Et,Es,Ft[Os],es);if(da===null){Es===null&&(Es=Hr);break}c&&Es&&da.alternate===null&&u(Et,Es),pt=oe(da,pt,Os),Ds===null?js=da:Ds.sibling=da,Ds=da,Es=Hr}if(Os===Ft.length)return w(Et,Es),Za&&Se(Et,Os),js;if(Es===null){for(;Os<Ft.length;Os++)Es=Qt(Et,Ft[Os],es),Es!==null&&(pt=oe(Es,pt,Os),Ds===null?js=Es:Ds.sibling=Es,Ds=Es);return Za&&Se(Et,Os),js}for(Es=T(Et,Es);Os<Ft.length;Os++)Hr=us(Es,Et,Os,Ft[Os],es),Hr!==null&&(c&&Hr.alternate!==null&&Es.delete(Hr.key===null?Os:Hr.key),pt=oe(Hr,pt,Os),Ds===null?js=Hr:Ds.sibling=Hr,Ds=Hr);return c&&Es.forEach(function(Xi){return u(Et,Xi)}),Za&&Se(Et,Os),js}function Ns(Et,pt,Ft,es){var js=re(Ft);if(typeof js!="function")throw Error(a(150));if(Ft=js.call(Ft),Ft==null)throw Error(a(151));for(var Ds=js=null,Es=pt,Os=pt=0,Hr=null,da=Ft.next();Es!==null&&!da.done;Os++,da=Ft.next()){Es.index>Os?(Hr=Es,Es=null):Hr=Es.sibling;var Xi=Kt(Et,Es,da.value,es);if(Xi===null){Es===null&&(Es=Hr);break}c&&Es&&Xi.alternate===null&&u(Et,Es),pt=oe(Xi,pt,Os),Ds===null?js=Xi:Ds.sibling=Xi,Ds=Xi,Es=Hr}if(da.done)return w(Et,Es),Za&&Se(Et,Os),js;if(Es===null){for(;!da.done;Os++,da=Ft.next())da=Qt(Et,da.value,es),da!==null&&(pt=oe(da,pt,Os),Ds===null?js=da:Ds.sibling=da,Ds=da);return Za&&Se(Et,Os),js}for(Es=T(Et,Es);!da.done;Os++,da=Ft.next())da=us(Es,Et,Os,da.value,es),da!==null&&(c&&da.alternate!==null&&Es.delete(da.key===null?Os:da.key),pt=oe(da,pt,Os),Ds===null?js=da:Ds.sibling=da,Ds=da);return c&&Es.forEach(function(RD){return u(Et,RD)}),Za&&Se(Et,Os),js}function pr(Et,pt,Ft,es){if(typeof Ft=="object"&&Ft!==null&&Ft.type===E&&Ft.key===null&&(Ft=Ft.props.children),typeof Ft=="object"&&Ft!==null){switch(Ft.$$typeof){case P:e:{for(var js=Ft.key,Ds=pt;Ds!==null;){if(Ds.key===js){if(js=Ft.type,js===E){if(Ds.tag===7){w(Et,Ds.sibling),pt=K(Ds,Ft.props.children),pt.return=Et,Et=pt;break e}}else if(Ds.elementType===js||typeof js=="object"&&js!==null&&js.$$typeof===U&&Gv(js)===Ds.type){w(Et,Ds.sibling),pt=K(Ds,Ft.props),pt.ref=mu(Et,Ds,Ft),pt.return=Et,Et=pt;break e}w(Et,Ds);break}else u(Et,Ds);Ds=Ds.sibling}Ft.type===E?(pt=zc(Ft.props.children,Et.mode,es,Ft.key),pt.return=Et,Et=pt):(es=Eh(Ft.type,Ft.key,Ft.props,null,Et.mode,es),es.ref=mu(Et,pt,Ft),es.return=Et,Et=es)}return Pe(Et);case k:e:{for(Ds=Ft.key;pt!==null;){if(pt.key===Ds)if(pt.tag===4&&pt.stateNode.containerInfo===Ft.containerInfo&&pt.stateNode.implementation===Ft.implementation){w(Et,pt.sibling),pt=K(pt,Ft.children||[]),pt.return=Et,Et=pt;break e}else{w(Et,pt);break}else u(Et,pt);pt=pt.sibling}pt=Ng(Ft,Et.mode,es),pt.return=Et,Et=pt}return Pe(Et);case U:return Ds=Ft._init,pr(Et,pt,Ds(Ft._payload),es)}if(Ie(Ft))return gs(Et,pt,Ft,es);if(re(Ft))return Ns(Et,pt,Ft,es);rh(Et,Ft)}return typeof Ft=="string"&&Ft!==""||typeof Ft=="number"?(Ft=""+Ft,pt!==null&&pt.tag===6?(w(Et,pt.sibling),pt=K(pt,Ft),pt.return=Et,Et=pt):(w(Et,pt),pt=wg(Ft,Et.mode,es),pt.return=Et,Et=pt),Pe(Et)):w(Et,pt)}return pr}var Jd=$v(!0),zv=$v(!1),nh=Dl(null),oh=null,Qd=null,Ff=null;function Pf(){Ff=Qd=oh=null}function Mf(c){var u=nh.current;Oa(nh),c._currentValue=u}function If(c,u,w){for(;c!==null;){var T=c.alternate;if((c.childLanes&u)!==u?(c.childLanes|=u,T!==null&&(T.childLanes|=u)):T!==null&&(T.childLanes&u)!==u&&(T.childLanes|=u),c===w)break;c=c.return}}function Zd(c,u){oh=c,Ff=Qd=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&u)!==0&&($n=!0),c.firstContext=null)}function Co(c){var u=c._currentValue;if(Ff!==c)if(c={context:c,memoizedValue:u,next:null},Qd===null){if(oh===null)throw Error(a(308));Qd=c,oh.dependencies={lanes:0,firstContext:c}}else Qd=Qd.next=c;return u}var Bc=null;function Lf(c){Bc===null?Bc=[c]:Bc.push(c)}function Vv(c,u,w,T){var K=u.interleaved;return K===null?(w.next=w,Lf(u)):(w.next=K.next,K.next=w),u.interleaved=w,li(c,T)}function li(c,u){c.lanes|=u;var w=c.alternate;for(w!==null&&(w.lanes|=u),w=c,c=c.return;c!==null;)c.childLanes|=u,w=c.alternate,w!==null&&(w.childLanes|=u),w=c,c=c.return;return w.tag===3?w.stateNode:null}var Wi=!1;function Of(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yv(c,u){c=c.updateQueue,u.updateQueue===c&&(u.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function ii(c,u){return{eventTime:c,lane:u,tag:0,payload:null,callback:null,next:null}}function Gi(c,u,w){var T=c.updateQueue;if(T===null)return null;if(T=T.shared,(aa&2)!==0){var K=T.pending;return K===null?u.next=u:(u.next=K.next,K.next=u),T.pending=u,li(c,w)}return K=T.interleaved,K===null?(u.next=u,Lf(T)):(u.next=K.next,K.next=u),T.interleaved=u,li(c,w)}function lh(c,u,w){if(u=u.updateQueue,u!==null&&(u=u.shared,(w&4194240)!==0)){var T=u.lanes;T&=c.pendingLanes,w|=T,u.lanes=w,rt(c,w)}}function Kv(c,u){var w=c.updateQueue,T=c.alternate;if(T!==null&&(T=T.updateQueue,w===T)){var K=null,oe=null;if(w=w.firstBaseUpdate,w!==null){do{var Pe={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};oe===null?K=oe=Pe:oe=oe.next=Pe,w=w.next}while(w!==null);oe===null?K=oe=u:oe=oe.next=u}else K=oe=u;w={baseState:T.baseState,firstBaseUpdate:K,lastBaseUpdate:oe,shared:T.shared,effects:T.effects},c.updateQueue=w;return}c=w.lastBaseUpdate,c===null?w.firstBaseUpdate=u:c.next=u,w.lastBaseUpdate=u}function ih(c,u,w,T){var K=c.updateQueue;Wi=!1;var oe=K.firstBaseUpdate,Pe=K.lastBaseUpdate,Je=K.shared.pending;if(Je!==null){K.shared.pending=null;var ct=Je,Ot=ct.next;ct.next=null,Pe===null?oe=Ot:Pe.next=Ot,Pe=ct;var qt=c.alternate;qt!==null&&(qt=qt.updateQueue,Je=qt.lastBaseUpdate,Je!==Pe&&(Je===null?qt.firstBaseUpdate=Ot:Je.next=Ot,qt.lastBaseUpdate=ct))}if(oe!==null){var Qt=K.baseState;Pe=0,qt=Ot=ct=null,Je=oe;do{var Kt=Je.lane,us=Je.eventTime;if((T&Kt)===Kt){qt!==null&&(qt=qt.next={eventTime:us,lane:0,tag:Je.tag,payload:Je.payload,callback:Je.callback,next:null});e:{var gs=c,Ns=Je;switch(Kt=u,us=w,Ns.tag){case 1:if(gs=Ns.payload,typeof gs=="function"){Qt=gs.call(us,Qt,Kt);break e}Qt=gs;break e;case 3:gs.flags=gs.flags&-65537|128;case 0:if(gs=Ns.payload,Kt=typeof gs=="function"?gs.call(us,Qt,Kt):gs,Kt==null)break e;Qt=G({},Qt,Kt);break e;case 2:Wi=!0}}Je.callback!==null&&Je.lane!==0&&(c.flags|=64,Kt=K.effects,Kt===null?K.effects=[Je]:Kt.push(Je))}else us={eventTime:us,lane:Kt,tag:Je.tag,payload:Je.payload,callback:Je.callback,next:null},qt===null?(Ot=qt=us,ct=Qt):qt=qt.next=us,Pe|=Kt;if(Je=Je.next,Je===null){if(Je=K.shared.pending,Je===null)break;Kt=Je,Je=Kt.next,Kt.next=null,K.lastBaseUpdate=Kt,K.shared.pending=null}}while(!0);if(qt===null&&(ct=Qt),K.baseState=ct,K.firstBaseUpdate=Ot,K.lastBaseUpdate=qt,u=K.shared.interleaved,u!==null){K=u;do Pe|=K.lane,K=K.next;while(K!==u)}else oe===null&&(K.shared.lanes=0);Hc|=Pe,c.lanes=Pe,c.memoizedState=Qt}}function qv(c,u,w){if(c=u.effects,u.effects=null,c!==null)for(u=0;u<c.length;u++){var T=c[u],K=T.callback;if(K!==null){if(T.callback=null,T=w,typeof K!="function")throw Error(a(191,K));K.call(T)}}}var pu={},Tl=Dl(pu),fu=Dl(pu),gu=Dl(pu);function Rc(c){if(c===pu)throw Error(a(174));return c}function _f(c,u){switch(Fa(gu,u),Fa(fu,c),Fa(Tl,pu),c=u.nodeType,c){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Ue(null,"");break;default:c=c===8?u.parentNode:u,u=c.namespaceURI||null,c=c.tagName,u=Ue(u,c)}Oa(Tl),Fa(Tl,u)}function e0(){Oa(Tl),Oa(fu),Oa(gu)}function Xv(c){Rc(gu.current);var u=Rc(Tl.current),w=Ue(u,c.type);u!==w&&(Fa(fu,c),Fa(Tl,w))}function Bf(c){fu.current===c&&(Oa(Tl),Oa(fu))}var er=Dl(0);function ch(c){for(var u=c;u!==null;){if(u.tag===13){var w=u.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||w.data==="$?"||w.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Rf=[];function Uf(){for(var c=0;c<Rf.length;c++)Rf[c]._workInProgressVersionPrimary=null;Rf.length=0}var dh=S.ReactCurrentDispatcher,Hf=S.ReactCurrentBatchConfig,Uc=0,tr=null,Tr=null,Rr=null,uh=!1,yu=!1,bu=0,lD=0;function pn(){throw Error(a(321))}function Wf(c,u){if(u===null)return!1;for(var w=0;w<u.length&&w<c.length;w++)if(!lo(c[w],u[w]))return!1;return!0}function Gf(c,u,w,T,K,oe){if(Uc=oe,tr=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,dh.current=c===null||c.memoizedState===null?uD:xD,c=w(T,K),yu){oe=0;do{if(yu=!1,bu=0,25<=oe)throw Error(a(301));oe+=1,Rr=Tr=null,u.updateQueue=null,dh.current=hD,c=w(T,K)}while(yu)}if(dh.current=mh,u=Tr!==null&&Tr.next!==null,Uc=0,Rr=Tr=tr=null,uh=!1,u)throw Error(a(300));return c}function $f(){var c=bu!==0;return bu=0,c}function Al(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rr===null?tr.memoizedState=Rr=c:Rr=Rr.next=c,Rr}function So(){if(Tr===null){var c=tr.alternate;c=c!==null?c.memoizedState:null}else c=Tr.next;var u=Rr===null?tr.memoizedState:Rr.next;if(u!==null)Rr=u,Tr=c;else{if(c===null)throw Error(a(310));Tr=c,c={memoizedState:Tr.memoizedState,baseState:Tr.baseState,baseQueue:Tr.baseQueue,queue:Tr.queue,next:null},Rr===null?tr.memoizedState=Rr=c:Rr=Rr.next=c}return Rr}function vu(c,u){return typeof u=="function"?u(c):u}function zf(c){var u=So(),w=u.queue;if(w===null)throw Error(a(311));w.lastRenderedReducer=c;var T=Tr,K=T.baseQueue,oe=w.pending;if(oe!==null){if(K!==null){var Pe=K.next;K.next=oe.next,oe.next=Pe}T.baseQueue=K=oe,w.pending=null}if(K!==null){oe=K.next,T=T.baseState;var Je=Pe=null,ct=null,Ot=oe;do{var qt=Ot.lane;if((Uc&qt)===qt)ct!==null&&(ct=ct.next={lane:0,action:Ot.action,hasEagerState:Ot.hasEagerState,eagerState:Ot.eagerState,next:null}),T=Ot.hasEagerState?Ot.eagerState:c(T,Ot.action);else{var Qt={lane:qt,action:Ot.action,hasEagerState:Ot.hasEagerState,eagerState:Ot.eagerState,next:null};ct===null?(Je=ct=Qt,Pe=T):ct=ct.next=Qt,tr.lanes|=qt,Hc|=qt}Ot=Ot.next}while(Ot!==null&&Ot!==oe);ct===null?Pe=T:ct.next=Je,lo(T,u.memoizedState)||($n=!0),u.memoizedState=T,u.baseState=Pe,u.baseQueue=ct,w.lastRenderedState=T}if(c=w.interleaved,c!==null){K=c;do oe=K.lane,tr.lanes|=oe,Hc|=oe,K=K.next;while(K!==c)}else K===null&&(w.lanes=0);return[u.memoizedState,w.dispatch]}function Vf(c){var u=So(),w=u.queue;if(w===null)throw Error(a(311));w.lastRenderedReducer=c;var T=w.dispatch,K=w.pending,oe=u.memoizedState;if(K!==null){w.pending=null;var Pe=K=K.next;do oe=c(oe,Pe.action),Pe=Pe.next;while(Pe!==K);lo(oe,u.memoizedState)||($n=!0),u.memoizedState=oe,u.baseQueue===null&&(u.baseState=oe),w.lastRenderedState=oe}return[oe,T]}function Jv(){}function Qv(c,u){var w=tr,T=So(),K=u(),oe=!lo(T.memoizedState,K);if(oe&&(T.memoizedState=K,$n=!0),T=T.queue,Yf(tw.bind(null,w,T,c),[c]),T.getSnapshot!==u||oe||Rr!==null&&Rr.memoizedState.tag&1){if(w.flags|=2048,wu(9,ew.bind(null,w,T,K,u),void 0,null),Ur===null)throw Error(a(349));(Uc&30)!==0||Zv(w,u,K)}return K}function Zv(c,u,w){c.flags|=16384,c={getSnapshot:u,value:w},u=tr.updateQueue,u===null?(u={lastEffect:null,stores:null},tr.updateQueue=u,u.stores=[c]):(w=u.stores,w===null?u.stores=[c]:w.push(c))}function ew(c,u,w,T){u.value=w,u.getSnapshot=T,sw(u)&&aw(c)}function tw(c,u,w){return w(function(){sw(u)&&aw(c)})}function sw(c){var u=c.getSnapshot;c=c.value;try{var w=u();return!lo(c,w)}catch{return!0}}function aw(c){var u=li(c,1);u!==null&&nl(u,c,1,-1)}function rw(c){var u=Al();return typeof c=="function"&&(c=c()),u.memoizedState=u.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vu,lastRenderedState:c},u.queue=c,c=c.dispatch=dD.bind(null,tr,c),[u.memoizedState,c]}function wu(c,u,w,T){return c={tag:c,create:u,destroy:w,deps:T,next:null},u=tr.updateQueue,u===null?(u={lastEffect:null,stores:null},tr.updateQueue=u,u.lastEffect=c.next=c):(w=u.lastEffect,w===null?u.lastEffect=c.next=c:(T=w.next,w.next=c,c.next=T,u.lastEffect=c)),c}function nw(){return So().memoizedState}function xh(c,u,w,T){var K=Al();tr.flags|=c,K.memoizedState=wu(1|u,w,void 0,T===void 0?null:T)}function hh(c,u,w,T){var K=So();T=T===void 0?null:T;var oe=void 0;if(Tr!==null){var Pe=Tr.memoizedState;if(oe=Pe.destroy,T!==null&&Wf(T,Pe.deps)){K.memoizedState=wu(u,w,oe,T);return}}tr.flags|=c,K.memoizedState=wu(1|u,w,oe,T)}function ow(c,u){return xh(8390656,8,c,u)}function Yf(c,u){return hh(2048,8,c,u)}function lw(c,u){return hh(4,2,c,u)}function iw(c,u){return hh(4,4,c,u)}function cw(c,u){if(typeof u=="function")return c=c(),u(c),function(){u(null)};if(u!=null)return c=c(),u.current=c,function(){u.current=null}}function dw(c,u,w){return w=w!=null?w.concat([c]):null,hh(4,4,cw.bind(null,u,c),w)}function Kf(){}function uw(c,u){var w=So();u=u===void 0?null:u;var T=w.memoizedState;return T!==null&&u!==null&&Wf(u,T[1])?T[0]:(w.memoizedState=[c,u],c)}function xw(c,u){var w=So();u=u===void 0?null:u;var T=w.memoizedState;return T!==null&&u!==null&&Wf(u,T[1])?T[0]:(c=c(),w.memoizedState=[c,u],c)}function hw(c,u,w){return(Uc&21)===0?(c.baseState&&(c.baseState=!1,$n=!0),c.memoizedState=w):(lo(w,u)||(w=hr(),tr.lanes|=w,Hc|=w,c.baseState=!0),u)}function iD(c,u){var w=Vt;Vt=w!==0&&4>w?w:4,c(!0);var T=Hf.transition;Hf.transition={};try{c(!1),u()}finally{Vt=w,Hf.transition=T}}function mw(){return So().memoizedState}function cD(c,u,w){var T=Yi(c);if(w={lane:T,action:w,hasEagerState:!1,eagerState:null,next:null},pw(c))fw(u,w);else if(w=Vv(c,u,w,T),w!==null){var K=Fn();nl(w,c,T,K),gw(w,u,T)}}function dD(c,u,w){var T=Yi(c),K={lane:T,action:w,hasEagerState:!1,eagerState:null,next:null};if(pw(c))fw(u,K);else{var oe=c.alternate;if(c.lanes===0&&(oe===null||oe.lanes===0)&&(oe=u.lastRenderedReducer,oe!==null))try{var Pe=u.lastRenderedState,Je=oe(Pe,w);if(K.hasEagerState=!0,K.eagerState=Je,lo(Je,Pe)){var ct=u.interleaved;ct===null?(K.next=K,Lf(u)):(K.next=ct.next,ct.next=K),u.interleaved=K;return}}catch{}finally{}w=Vv(c,u,K,T),w!==null&&(K=Fn(),nl(w,c,T,K),gw(w,u,T))}}function pw(c){var u=c.alternate;return c===tr||u!==null&&u===tr}function fw(c,u){yu=uh=!0;var w=c.pending;w===null?u.next=u:(u.next=w.next,w.next=u),c.pending=u}function gw(c,u,w){if((w&4194240)!==0){var T=u.lanes;T&=c.pendingLanes,w|=T,u.lanes=w,rt(c,w)}}var mh={readContext:Co,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useInsertionEffect:pn,useLayoutEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useMutableSource:pn,useSyncExternalStore:pn,useId:pn,unstable_isNewReconciler:!1},uD={readContext:Co,useCallback:function(c,u){return Al().memoizedState=[c,u===void 0?null:u],c},useContext:Co,useEffect:ow,useImperativeHandle:function(c,u,w){return w=w!=null?w.concat([c]):null,xh(4194308,4,cw.bind(null,u,c),w)},useLayoutEffect:function(c,u){return xh(4194308,4,c,u)},useInsertionEffect:function(c,u){return xh(4,2,c,u)},useMemo:function(c,u){var w=Al();return u=u===void 0?null:u,c=c(),w.memoizedState=[c,u],c},useReducer:function(c,u,w){var T=Al();return u=w!==void 0?w(u):u,T.memoizedState=T.baseState=u,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:u},T.queue=c,c=c.dispatch=cD.bind(null,tr,c),[T.memoizedState,c]},useRef:function(c){var u=Al();return c={current:c},u.memoizedState=c},useState:rw,useDebugValue:Kf,useDeferredValue:function(c){return Al().memoizedState=c},useTransition:function(){var c=rw(!1),u=c[0];return c=iD.bind(null,c[1]),Al().memoizedState=c,[u,c]},useMutableSource:function(){},useSyncExternalStore:function(c,u,w){var T=tr,K=Al();if(Za){if(w===void 0)throw Error(a(407));w=w()}else{if(w=u(),Ur===null)throw Error(a(349));(Uc&30)!==0||Zv(T,u,w)}K.memoizedState=w;var oe={value:w,getSnapshot:u};return K.queue=oe,ow(tw.bind(null,T,oe,c),[c]),T.flags|=2048,wu(9,ew.bind(null,T,oe,w,u),void 0,null),w},useId:function(){var c=Al(),u=Ur.identifierPrefix;if(Za){var w=el,T=Zo;w=(T&~(1<<32-jt(T)-1)).toString(32)+w,u=":"+u+"R"+w,w=bu++,0<w&&(u+="H"+w.toString(32)),u+=":"}else w=lD++,u=":"+u+"r"+w.toString(32)+":";return c.memoizedState=u},unstable_isNewReconciler:!1},xD={readContext:Co,useCallback:uw,useContext:Co,useEffect:Yf,useImperativeHandle:dw,useInsertionEffect:lw,useLayoutEffect:iw,useMemo:xw,useReducer:zf,useRef:nw,useState:function(){return zf(vu)},useDebugValue:Kf,useDeferredValue:function(c){var u=So();return hw(u,Tr.memoizedState,c)},useTransition:function(){var c=zf(vu)[0],u=So().memoizedState;return[c,u]},useMutableSource:Jv,useSyncExternalStore:Qv,useId:mw,unstable_isNewReconciler:!1},hD={readContext:Co,useCallback:uw,useContext:Co,useEffect:Yf,useImperativeHandle:dw,useInsertionEffect:lw,useLayoutEffect:iw,useMemo:xw,useReducer:Vf,useRef:nw,useState:function(){return Vf(vu)},useDebugValue:Kf,useDeferredValue:function(c){var u=So();return Tr===null?u.memoizedState=c:hw(u,Tr.memoizedState,c)},useTransition:function(){var c=Vf(vu)[0],u=So().memoizedState;return[c,u]},useMutableSource:Jv,useSyncExternalStore:Qv,useId:mw,unstable_isNewReconciler:!1};function sl(c,u){if(c&&c.defaultProps){u=G({},u),c=c.defaultProps;for(var w in c)u[w]===void 0&&(u[w]=c[w]);return u}return u}function qf(c,u,w,T){u=c.memoizedState,w=w(T,u),w=w==null?u:G({},u,w),c.memoizedState=w,c.lanes===0&&(c.updateQueue.baseState=w)}var ph={isMounted:function(c){return(c=c._reactInternals)?X(c)===c:!1},enqueueSetState:function(c,u,w){c=c._reactInternals;var T=Fn(),K=Yi(c),oe=ii(T,K);oe.payload=u,w!=null&&(oe.callback=w),u=Gi(c,oe,K),u!==null&&(nl(u,c,K,T),lh(u,c,K))},enqueueReplaceState:function(c,u,w){c=c._reactInternals;var T=Fn(),K=Yi(c),oe=ii(T,K);oe.tag=1,oe.payload=u,w!=null&&(oe.callback=w),u=Gi(c,oe,K),u!==null&&(nl(u,c,K,T),lh(u,c,K))},enqueueForceUpdate:function(c,u){c=c._reactInternals;var w=Fn(),T=Yi(c),K=ii(w,T);K.tag=2,u!=null&&(K.callback=u),u=Gi(c,K,T),u!==null&&(nl(u,c,T,w),lh(u,c,T))}};function yw(c,u,w,T,K,oe,Pe){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(T,oe,Pe):u.prototype&&u.prototype.isPureReactComponent?!_d(w,T)||!_d(K,oe):!0}function bw(c,u,w){var T=!1,K=El,oe=u.contextType;return typeof oe=="object"&&oe!==null?oe=Co(oe):(K=en(u)?Jo:lr.current,T=u.contextTypes,oe=(T=T!=null)?ni(c,K):El),u=new u(w,oe),c.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=ph,c.stateNode=u,u._reactInternals=c,T&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=K,c.__reactInternalMemoizedMaskedChildContext=oe),u}function vw(c,u,w,T){c=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(w,T),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(w,T),u.state!==c&&ph.enqueueReplaceState(u,u.state,null)}function Xf(c,u,w,T){var K=c.stateNode;K.props=w,K.state=c.memoizedState,K.refs={},Of(c);var oe=u.contextType;typeof oe=="object"&&oe!==null?K.context=Co(oe):(oe=en(u)?Jo:lr.current,K.context=ni(c,oe)),K.state=c.memoizedState,oe=u.getDerivedStateFromProps,typeof oe=="function"&&(qf(c,u,oe,w),K.state=c.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof K.getSnapshotBeforeUpdate=="function"||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(u=K.state,typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount(),u!==K.state&&ph.enqueueReplaceState(K,K.state,null),ih(c,w,K,T),K.state=c.memoizedState),typeof K.componentDidMount=="function"&&(c.flags|=4194308)}function t0(c,u){try{var w="",T=u;do w+=D(T),T=T.return;while(T);var K=w}catch(oe){K=`
Error generating stack: `+oe.message+`
`+oe.stack}return{value:c,source:u,stack:K,digest:null}}function Jf(c,u,w){return{value:c,source:null,stack:w??null,digest:u??null}}function Qf(c,u){try{console.error(u.value)}catch(w){setTimeout(function(){throw w})}}var mD=typeof WeakMap=="function"?WeakMap:Map;function ww(c,u,w){w=ii(-1,w),w.tag=3,w.payload={element:null};var T=u.value;return w.callback=function(){Nh||(Nh=!0,hg=T),Qf(c,u)},w}function Nw(c,u,w){w=ii(-1,w),w.tag=3;var T=c.type.getDerivedStateFromError;if(typeof T=="function"){var K=u.value;w.payload=function(){return T(K)},w.callback=function(){Qf(c,u)}}var oe=c.stateNode;return oe!==null&&typeof oe.componentDidCatch=="function"&&(w.callback=function(){Qf(c,u),typeof T!="function"&&(zi===null?zi=new Set([this]):zi.add(this));var Pe=u.stack;this.componentDidCatch(u.value,{componentStack:Pe!==null?Pe:""})}),w}function jw(c,u,w){var T=c.pingCache;if(T===null){T=c.pingCache=new mD;var K=new Set;T.set(u,K)}else K=T.get(u),K===void 0&&(K=new Set,T.set(u,K));K.has(w)||(K.add(w),c=ED.bind(null,c,u,w),u.then(c,c))}function Cw(c){do{var u;if((u=c.tag===13)&&(u=c.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return c;c=c.return}while(c!==null);return null}function Sw(c,u,w,T,K){return(c.mode&1)===0?(c===u?c.flags|=65536:(c.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(u=ii(-1,1),u.tag=2,Gi(w,u,1))),w.lanes|=1),c):(c.flags|=65536,c.lanes=K,c)}var pD=S.ReactCurrentOwner,$n=!1;function An(c,u,w,T){u.child=c===null?zv(u,null,w,T):Jd(u,c.child,w,T)}function kw(c,u,w,T,K){w=w.render;var oe=u.ref;return Zd(u,K),T=Gf(c,u,w,T,oe,K),w=$f(),c!==null&&!$n?(u.updateQueue=c.updateQueue,u.flags&=-2053,c.lanes&=~K,ci(c,u,K)):(Za&&w&&Ct(u),u.flags|=1,An(c,u,T,K),u.child)}function Dw(c,u,w,T,K){if(c===null){var oe=w.type;return typeof oe=="function"&&!vg(oe)&&oe.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(u.tag=15,u.type=oe,Ew(c,u,oe,T,K)):(c=Eh(w.type,null,T,u,u.mode,K),c.ref=u.ref,c.return=u,u.child=c)}if(oe=c.child,(c.lanes&K)===0){var Pe=oe.memoizedProps;if(w=w.compare,w=w!==null?w:_d,w(Pe,T)&&c.ref===u.ref)return ci(c,u,K)}return u.flags|=1,c=qi(oe,T),c.ref=u.ref,c.return=u,u.child=c}function Ew(c,u,w,T,K){if(c!==null){var oe=c.memoizedProps;if(_d(oe,T)&&c.ref===u.ref)if($n=!1,u.pendingProps=T=oe,(c.lanes&K)!==0)(c.flags&131072)!==0&&($n=!0);else return u.lanes=c.lanes,ci(c,u,K)}return Zf(c,u,w,T,K)}function Tw(c,u,w){var T=u.pendingProps,K=T.children,oe=c!==null?c.memoizedState:null;if(T.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fa(a0,co),co|=w;else{if((w&1073741824)===0)return c=oe!==null?oe.baseLanes|w:w,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:c,cachePool:null,transitions:null},u.updateQueue=null,Fa(a0,co),co|=c,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},T=oe!==null?oe.baseLanes:w,Fa(a0,co),co|=T}else oe!==null?(T=oe.baseLanes|w,u.memoizedState=null):T=w,Fa(a0,co),co|=T;return An(c,u,K,w),u.child}function Aw(c,u){var w=u.ref;(c===null&&w!==null||c!==null&&c.ref!==w)&&(u.flags|=512,u.flags|=2097152)}function Zf(c,u,w,T,K){var oe=en(w)?Jo:lr.current;return oe=ni(u,oe),Zd(u,K),w=Gf(c,u,w,T,oe,K),T=$f(),c!==null&&!$n?(u.updateQueue=c.updateQueue,u.flags&=-2053,c.lanes&=~K,ci(c,u,K)):(Za&&T&&Ct(u),u.flags|=1,An(c,u,w,K),u.child)}function Fw(c,u,w,T,K){if(en(w)){var oe=!0;Vd(u)}else oe=!1;if(Zd(u,K),u.stateNode===null)gh(c,u),bw(u,w,T),Xf(u,w,T,K),T=!0;else if(c===null){var Pe=u.stateNode,Je=u.memoizedProps;Pe.props=Je;var ct=Pe.context,Ot=w.contextType;typeof Ot=="object"&&Ot!==null?Ot=Co(Ot):(Ot=en(w)?Jo:lr.current,Ot=ni(u,Ot));var qt=w.getDerivedStateFromProps,Qt=typeof qt=="function"||typeof Pe.getSnapshotBeforeUpdate=="function";Qt||typeof Pe.UNSAFE_componentWillReceiveProps!="function"&&typeof Pe.componentWillReceiveProps!="function"||(Je!==T||ct!==Ot)&&vw(u,Pe,T,Ot),Wi=!1;var Kt=u.memoizedState;Pe.state=Kt,ih(u,T,Pe,K),ct=u.memoizedState,Je!==T||Kt!==ct||Wa.current||Wi?(typeof qt=="function"&&(qf(u,w,qt,T),ct=u.memoizedState),(Je=Wi||yw(u,w,Je,T,Kt,ct,Ot))?(Qt||typeof Pe.UNSAFE_componentWillMount!="function"&&typeof Pe.componentWillMount!="function"||(typeof Pe.componentWillMount=="function"&&Pe.componentWillMount(),typeof Pe.UNSAFE_componentWillMount=="function"&&Pe.UNSAFE_componentWillMount()),typeof Pe.componentDidMount=="function"&&(u.flags|=4194308)):(typeof Pe.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=T,u.memoizedState=ct),Pe.props=T,Pe.state=ct,Pe.context=Ot,T=Je):(typeof Pe.componentDidMount=="function"&&(u.flags|=4194308),T=!1)}else{Pe=u.stateNode,Yv(c,u),Je=u.memoizedProps,Ot=u.type===u.elementType?Je:sl(u.type,Je),Pe.props=Ot,Qt=u.pendingProps,Kt=Pe.context,ct=w.contextType,typeof ct=="object"&&ct!==null?ct=Co(ct):(ct=en(w)?Jo:lr.current,ct=ni(u,ct));var us=w.getDerivedStateFromProps;(qt=typeof us=="function"||typeof Pe.getSnapshotBeforeUpdate=="function")||typeof Pe.UNSAFE_componentWillReceiveProps!="function"&&typeof Pe.componentWillReceiveProps!="function"||(Je!==Qt||Kt!==ct)&&vw(u,Pe,T,ct),Wi=!1,Kt=u.memoizedState,Pe.state=Kt,ih(u,T,Pe,K);var gs=u.memoizedState;Je!==Qt||Kt!==gs||Wa.current||Wi?(typeof us=="function"&&(qf(u,w,us,T),gs=u.memoizedState),(Ot=Wi||yw(u,w,Ot,T,Kt,gs,ct)||!1)?(qt||typeof Pe.UNSAFE_componentWillUpdate!="function"&&typeof Pe.componentWillUpdate!="function"||(typeof Pe.componentWillUpdate=="function"&&Pe.componentWillUpdate(T,gs,ct),typeof Pe.UNSAFE_componentWillUpdate=="function"&&Pe.UNSAFE_componentWillUpdate(T,gs,ct)),typeof Pe.componentDidUpdate=="function"&&(u.flags|=4),typeof Pe.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof Pe.componentDidUpdate!="function"||Je===c.memoizedProps&&Kt===c.memoizedState||(u.flags|=4),typeof Pe.getSnapshotBeforeUpdate!="function"||Je===c.memoizedProps&&Kt===c.memoizedState||(u.flags|=1024),u.memoizedProps=T,u.memoizedState=gs),Pe.props=T,Pe.state=gs,Pe.context=ct,T=Ot):(typeof Pe.componentDidUpdate!="function"||Je===c.memoizedProps&&Kt===c.memoizedState||(u.flags|=4),typeof Pe.getSnapshotBeforeUpdate!="function"||Je===c.memoizedProps&&Kt===c.memoizedState||(u.flags|=1024),T=!1)}return eg(c,u,w,T,oe,K)}function eg(c,u,w,T,K,oe){Aw(c,u);var Pe=(u.flags&128)!==0;if(!T&&!Pe)return K&&th(u,w,!1),ci(c,u,oe);T=u.stateNode,pD.current=u;var Je=Pe&&typeof w.getDerivedStateFromError!="function"?null:T.render();return u.flags|=1,c!==null&&Pe?(u.child=Jd(u,c.child,null,oe),u.child=Jd(u,null,Je,oe)):An(c,u,Je,oe),u.memoizedState=T.state,K&&th(u,w,!0),u.child}function Pw(c){var u=c.stateNode;u.pendingContext?Zx(c,u.pendingContext,u.pendingContext!==u.context):u.context&&Zx(c,u.context,!1),_f(c,u.containerInfo)}function Mw(c,u,w,T,K){return Xd(),Af(K),u.flags|=256,An(c,u,w,T),u.child}var tg={dehydrated:null,treeContext:null,retryLane:0};function sg(c){return{baseLanes:c,cachePool:null,transitions:null}}function Iw(c,u,w){var T=u.pendingProps,K=er.current,oe=!1,Pe=(u.flags&128)!==0,Je;if((Je=Pe)||(Je=c!==null&&c.memoizedState===null?!1:(K&2)!==0),Je?(oe=!0,u.flags&=-129):(c===null||c.memoizedState!==null)&&(K|=1),Fa(er,K&1),c===null)return Tf(u),c=u.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((u.mode&1)===0?u.lanes=1:c.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(Pe=T.children,c=T.fallback,oe?(T=u.mode,oe=u.child,Pe={mode:"hidden",children:Pe},(T&1)===0&&oe!==null?(oe.childLanes=0,oe.pendingProps=Pe):oe=Th(Pe,T,0,null),c=zc(c,T,w,null),oe.return=u,c.return=u,oe.sibling=c,u.child=oe,u.child.memoizedState=sg(w),u.memoizedState=tg,c):ag(u,Pe));if(K=c.memoizedState,K!==null&&(Je=K.dehydrated,Je!==null))return fD(c,u,Pe,T,Je,K,w);if(oe){oe=T.fallback,Pe=u.mode,K=c.child,Je=K.sibling;var ct={mode:"hidden",children:T.children};return(Pe&1)===0&&u.child!==K?(T=u.child,T.childLanes=0,T.pendingProps=ct,u.deletions=null):(T=qi(K,ct),T.subtreeFlags=K.subtreeFlags&14680064),Je!==null?oe=qi(Je,oe):(oe=zc(oe,Pe,w,null),oe.flags|=2),oe.return=u,T.return=u,T.sibling=oe,u.child=T,T=oe,oe=u.child,Pe=c.child.memoizedState,Pe=Pe===null?sg(w):{baseLanes:Pe.baseLanes|w,cachePool:null,transitions:Pe.transitions},oe.memoizedState=Pe,oe.childLanes=c.childLanes&~w,u.memoizedState=tg,T}return oe=c.child,c=oe.sibling,T=qi(oe,{mode:"visible",children:T.children}),(u.mode&1)===0&&(T.lanes=w),T.return=u,T.sibling=null,c!==null&&(w=u.deletions,w===null?(u.deletions=[c],u.flags|=16):w.push(c)),u.child=T,u.memoizedState=null,T}function ag(c,u){return u=Th({mode:"visible",children:u},c.mode,0,null),u.return=c,c.child=u}function fh(c,u,w,T){return T!==null&&Af(T),Jd(u,c.child,null,w),c=ag(u,u.pendingProps.children),c.flags|=2,u.memoizedState=null,c}function fD(c,u,w,T,K,oe,Pe){if(w)return u.flags&256?(u.flags&=-257,T=Jf(Error(a(422))),fh(c,u,Pe,T)):u.memoizedState!==null?(u.child=c.child,u.flags|=128,null):(oe=T.fallback,K=u.mode,T=Th({mode:"visible",children:T.children},K,0,null),oe=zc(oe,K,Pe,null),oe.flags|=2,T.return=u,oe.return=u,T.sibling=oe,u.child=T,(u.mode&1)!==0&&Jd(u,c.child,null,Pe),u.child.memoizedState=sg(Pe),u.memoizedState=tg,oe);if((u.mode&1)===0)return fh(c,u,Pe,null);if(K.data==="$!"){if(T=K.nextSibling&&K.nextSibling.dataset,T)var Je=T.dgst;return T=Je,oe=Error(a(419)),T=Jf(oe,T,void 0),fh(c,u,Pe,T)}if(Je=(Pe&c.childLanes)!==0,$n||Je){if(T=Ur,T!==null){switch(Pe&-Pe){case 4:K=2;break;case 16:K=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:K=32;break;case 536870912:K=268435456;break;default:K=0}K=(K&(T.suspendedLanes|Pe))!==0?0:K,K!==0&&K!==oe.retryLane&&(oe.retryLane=K,li(c,K),nl(T,c,K,-1))}return bg(),T=Jf(Error(a(421))),fh(c,u,Pe,T)}return K.data==="$?"?(u.flags|=128,u.child=c.child,u=TD.bind(null,c),K._reactRetry=u,null):(c=oe.treeContext,io=kl(K.nextSibling),Ls=u,Za=!0,tl=null,c!==null&&(Wn[Gn++]=Zo,Wn[Gn++]=el,Wn[Gn++]=oi,Zo=c.id,el=c.overflow,oi=u),u=ag(u,T.children),u.flags|=4096,u)}function Lw(c,u,w){c.lanes|=u;var T=c.alternate;T!==null&&(T.lanes|=u),If(c.return,u,w)}function rg(c,u,w,T,K){var oe=c.memoizedState;oe===null?c.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:T,tail:w,tailMode:K}:(oe.isBackwards=u,oe.rendering=null,oe.renderingStartTime=0,oe.last=T,oe.tail=w,oe.tailMode=K)}function Ow(c,u,w){var T=u.pendingProps,K=T.revealOrder,oe=T.tail;if(An(c,u,T.children,w),T=er.current,(T&2)!==0)T=T&1|2,u.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=u.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&Lw(c,w,u);else if(c.tag===19)Lw(c,w,u);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===u)break e;for(;c.sibling===null;){if(c.return===null||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}T&=1}if(Fa(er,T),(u.mode&1)===0)u.memoizedState=null;else switch(K){case"forwards":for(w=u.child,K=null;w!==null;)c=w.alternate,c!==null&&ch(c)===null&&(K=w),w=w.sibling;w=K,w===null?(K=u.child,u.child=null):(K=w.sibling,w.sibling=null),rg(u,!1,K,w,oe);break;case"backwards":for(w=null,K=u.child,u.child=null;K!==null;){if(c=K.alternate,c!==null&&ch(c)===null){u.child=K;break}c=K.sibling,K.sibling=w,w=K,K=c}rg(u,!0,w,null,oe);break;case"together":rg(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function gh(c,u){(u.mode&1)===0&&c!==null&&(c.alternate=null,u.alternate=null,u.flags|=2)}function ci(c,u,w){if(c!==null&&(u.dependencies=c.dependencies),Hc|=u.lanes,(w&u.childLanes)===0)return null;if(c!==null&&u.child!==c.child)throw Error(a(153));if(u.child!==null){for(c=u.child,w=qi(c,c.pendingProps),u.child=w,w.return=u;c.sibling!==null;)c=c.sibling,w=w.sibling=qi(c,c.pendingProps),w.return=u;w.sibling=null}return u.child}function gD(c,u,w){switch(u.tag){case 3:Pw(u),Xd();break;case 5:Xv(u);break;case 1:en(u.type)&&Vd(u);break;case 4:_f(u,u.stateNode.containerInfo);break;case 10:var T=u.type._context,K=u.memoizedProps.value;Fa(nh,T._currentValue),T._currentValue=K;break;case 13:if(T=u.memoizedState,T!==null)return T.dehydrated!==null?(Fa(er,er.current&1),u.flags|=128,null):(w&u.child.childLanes)!==0?Iw(c,u,w):(Fa(er,er.current&1),c=ci(c,u,w),c!==null?c.sibling:null);Fa(er,er.current&1);break;case 19:if(T=(w&u.childLanes)!==0,(c.flags&128)!==0){if(T)return Ow(c,u,w);u.flags|=128}if(K=u.memoizedState,K!==null&&(K.rendering=null,K.tail=null,K.lastEffect=null),Fa(er,er.current),T)break;return null;case 22:case 23:return u.lanes=0,Tw(c,u,w)}return ci(c,u,w)}var _w,ng,Bw,Rw;_w=function(c,u){for(var w=u.child;w!==null;){if(w.tag===5||w.tag===6)c.appendChild(w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===u)break;for(;w.sibling===null;){if(w.return===null||w.return===u)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},ng=function(){},Bw=function(c,u,w,T){var K=c.memoizedProps;if(K!==T){c=u.stateNode,Rc(Tl.current);var oe=null;switch(w){case"input":K=De(c,K),T=De(c,T),oe=[];break;case"select":K=G({},K,{value:void 0}),T=G({},T,{value:void 0}),oe=[];break;case"textarea":K=be(c,K),T=be(c,T),oe=[];break;default:typeof K.onClick!="function"&&typeof T.onClick=="function"&&(c.onclick=Mc)}xt(w,T);var Pe;w=null;for(Ot in K)if(!T.hasOwnProperty(Ot)&&K.hasOwnProperty(Ot)&&K[Ot]!=null)if(Ot==="style"){var Je=K[Ot];for(Pe in Je)Je.hasOwnProperty(Pe)&&(w||(w={}),w[Pe]="")}else Ot!=="dangerouslySetInnerHTML"&&Ot!=="children"&&Ot!=="suppressContentEditableWarning"&&Ot!=="suppressHydrationWarning"&&Ot!=="autoFocus"&&(n.hasOwnProperty(Ot)?oe||(oe=[]):(oe=oe||[]).push(Ot,null));for(Ot in T){var ct=T[Ot];if(Je=K?.[Ot],T.hasOwnProperty(Ot)&&ct!==Je&&(ct!=null||Je!=null))if(Ot==="style")if(Je){for(Pe in Je)!Je.hasOwnProperty(Pe)||ct&&ct.hasOwnProperty(Pe)||(w||(w={}),w[Pe]="");for(Pe in ct)ct.hasOwnProperty(Pe)&&Je[Pe]!==ct[Pe]&&(w||(w={}),w[Pe]=ct[Pe])}else w||(oe||(oe=[]),oe.push(Ot,w)),w=ct;else Ot==="dangerouslySetInnerHTML"?(ct=ct?ct.__html:void 0,Je=Je?Je.__html:void 0,ct!=null&&Je!==ct&&(oe=oe||[]).push(Ot,ct)):Ot==="children"?typeof ct!="string"&&typeof ct!="number"||(oe=oe||[]).push(Ot,""+ct):Ot!=="suppressContentEditableWarning"&&Ot!=="suppressHydrationWarning"&&(n.hasOwnProperty(Ot)?(ct!=null&&Ot==="onScroll"&&La("scroll",c),oe||Je===ct||(oe=[])):(oe=oe||[]).push(Ot,ct))}w&&(oe=oe||[]).push("style",w);var Ot=oe;(u.updateQueue=Ot)&&(u.flags|=4)}},Rw=function(c,u,w,T){w!==T&&(u.flags|=4)};function Nu(c,u){if(!Za)switch(c.tailMode){case"hidden":u=c.tail;for(var w=null;u!==null;)u.alternate!==null&&(w=u),u=u.sibling;w===null?c.tail=null:w.sibling=null;break;case"collapsed":w=c.tail;for(var T=null;w!==null;)w.alternate!==null&&(T=w),w=w.sibling;T===null?u||c.tail===null?c.tail=null:c.tail.sibling=null:T.sibling=null}}function fn(c){var u=c.alternate!==null&&c.alternate.child===c.child,w=0,T=0;if(u)for(var K=c.child;K!==null;)w|=K.lanes|K.childLanes,T|=K.subtreeFlags&14680064,T|=K.flags&14680064,K.return=c,K=K.sibling;else for(K=c.child;K!==null;)w|=K.lanes|K.childLanes,T|=K.subtreeFlags,T|=K.flags,K.return=c,K=K.sibling;return c.subtreeFlags|=T,c.childLanes=w,u}function yD(c,u,w){var T=u.pendingProps;switch(is(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(u),null;case 1:return en(u.type)&&zd(),fn(u),null;case 3:return T=u.stateNode,e0(),Oa(Wa),Oa(lr),Uf(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(c===null||c.child===null)&&(ah(u)?u.flags|=4:c===null||c.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,tl!==null&&(fg(tl),tl=null))),ng(c,u),fn(u),null;case 5:Bf(u);var K=Rc(gu.current);if(w=u.type,c!==null&&u.stateNode!=null)Bw(c,u,w,T,K),c.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!T){if(u.stateNode===null)throw Error(a(166));return fn(u),null}if(c=Rc(Tl.current),ah(u)){T=u.stateNode,w=u.type;var oe=u.memoizedProps;switch(T[hn]=u,T[Lc]=oe,c=(u.mode&1)!==0,w){case"dialog":La("cancel",T),La("close",T);break;case"iframe":case"object":case"embed":La("load",T);break;case"video":case"audio":for(K=0;K<Ac.length;K++)La(Ac[K],T);break;case"source":La("error",T);break;case"img":case"image":case"link":La("error",T),La("load",T);break;case"details":La("toggle",T);break;case"input":Ae(T,oe),La("invalid",T);break;case"select":T._wrapperState={wasMultiple:!!oe.multiple},La("invalid",T);break;case"textarea":Me(T,oe),La("invalid",T)}xt(w,oe),K=null;for(var Pe in oe)if(oe.hasOwnProperty(Pe)){var Je=oe[Pe];Pe==="children"?typeof Je=="string"?T.textContent!==Je&&(oe.suppressHydrationWarning!==!0&&Gd(T.textContent,Je,c),K=["children",Je]):typeof Je=="number"&&T.textContent!==""+Je&&(oe.suppressHydrationWarning!==!0&&Gd(T.textContent,Je,c),K=["children",""+Je]):n.hasOwnProperty(Pe)&&Je!=null&&Pe==="onScroll"&&La("scroll",T)}switch(w){case"input":fe(T),ot(T,oe,!0);break;case"textarea":fe(T),st(T);break;case"select":case"option":break;default:typeof oe.onClick=="function"&&(T.onclick=Mc)}T=K,u.updateQueue=T,T!==null&&(u.flags|=4)}else{Pe=K.nodeType===9?K:K.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=He(w)),c==="http://www.w3.org/1999/xhtml"?w==="script"?(c=Pe.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof T.is=="string"?c=Pe.createElement(w,{is:T.is}):(c=Pe.createElement(w),w==="select"&&(Pe=c,T.multiple?Pe.multiple=!0:T.size&&(Pe.size=T.size))):c=Pe.createElementNS(c,w),c[hn]=u,c[Lc]=T,_w(c,u,!1,!1),u.stateNode=c;e:{switch(Pe=Pt(w,T),w){case"dialog":La("cancel",c),La("close",c),K=T;break;case"iframe":case"object":case"embed":La("load",c),K=T;break;case"video":case"audio":for(K=0;K<Ac.length;K++)La(Ac[K],c);K=T;break;case"source":La("error",c),K=T;break;case"img":case"image":case"link":La("error",c),La("load",c),K=T;break;case"details":La("toggle",c),K=T;break;case"input":Ae(c,T),K=De(c,T),La("invalid",c);break;case"option":K=T;break;case"select":c._wrapperState={wasMultiple:!!T.multiple},K=G({},T,{value:void 0}),La("invalid",c);break;case"textarea":Me(c,T),K=be(c,T),La("invalid",c);break;default:K=T}xt(w,K),Je=K;for(oe in Je)if(Je.hasOwnProperty(oe)){var ct=Je[oe];oe==="style"?he(c,ct):oe==="dangerouslySetInnerHTML"?(ct=ct?ct.__html:void 0,ct!=null&&ht(c,ct)):oe==="children"?typeof ct=="string"?(w!=="textarea"||ct!=="")&&ut(c,ct):typeof ct=="number"&&ut(c,""+ct):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(n.hasOwnProperty(oe)?ct!=null&&oe==="onScroll"&&La("scroll",c):ct!=null&&C(c,oe,ct,Pe))}switch(w){case"input":fe(c),ot(c,T,!1);break;case"textarea":fe(c),st(c);break;case"option":T.value!=null&&c.setAttribute("value",""+ge(T.value));break;case"select":c.multiple=!!T.multiple,oe=T.value,oe!=null?ye(c,!!T.multiple,oe,!1):T.defaultValue!=null&&ye(c,!!T.multiple,T.defaultValue,!0);break;default:typeof K.onClick=="function"&&(c.onclick=Mc)}switch(w){case"button":case"input":case"select":case"textarea":T=!!T.autoFocus;break e;case"img":T=!0;break e;default:T=!1}}T&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return fn(u),null;case 6:if(c&&u.stateNode!=null)Rw(c,u,c.memoizedProps,T);else{if(typeof T!="string"&&u.stateNode===null)throw Error(a(166));if(w=Rc(gu.current),Rc(Tl.current),ah(u)){if(T=u.stateNode,w=u.memoizedProps,T[hn]=u,(oe=T.nodeValue!==w)&&(c=Ls,c!==null))switch(c.tag){case 3:Gd(T.nodeValue,w,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&Gd(T.nodeValue,w,(c.mode&1)!==0)}oe&&(u.flags|=4)}else T=(w.nodeType===9?w:w.ownerDocument).createTextNode(T),T[hn]=u,u.stateNode=T}return fn(u),null;case 13:if(Oa(er),T=u.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(Za&&io!==null&&(u.mode&1)!==0&&(u.flags&128)===0)Wv(),Xd(),u.flags|=98560,oe=!1;else if(oe=ah(u),T!==null&&T.dehydrated!==null){if(c===null){if(!oe)throw Error(a(318));if(oe=u.memoizedState,oe=oe!==null?oe.dehydrated:null,!oe)throw Error(a(317));oe[hn]=u}else Xd(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;fn(u),oe=!1}else tl!==null&&(fg(tl),tl=null),oe=!0;if(!oe)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=w,u):(T=T!==null,T!==(c!==null&&c.memoizedState!==null)&&T&&(u.child.flags|=8192,(u.mode&1)!==0&&(c===null||(er.current&1)!==0?Ar===0&&(Ar=3):bg())),u.updateQueue!==null&&(u.flags|=4),fn(u),null);case 4:return e0(),ng(c,u),c===null&&Pc(u.stateNode.containerInfo),fn(u),null;case 10:return Mf(u.type._context),fn(u),null;case 17:return en(u.type)&&zd(),fn(u),null;case 19:if(Oa(er),oe=u.memoizedState,oe===null)return fn(u),null;if(T=(u.flags&128)!==0,Pe=oe.rendering,Pe===null)if(T)Nu(oe,!1);else{if(Ar!==0||c!==null&&(c.flags&128)!==0)for(c=u.child;c!==null;){if(Pe=ch(c),Pe!==null){for(u.flags|=128,Nu(oe,!1),T=Pe.updateQueue,T!==null&&(u.updateQueue=T,u.flags|=4),u.subtreeFlags=0,T=w,w=u.child;w!==null;)oe=w,c=T,oe.flags&=14680066,Pe=oe.alternate,Pe===null?(oe.childLanes=0,oe.lanes=c,oe.child=null,oe.subtreeFlags=0,oe.memoizedProps=null,oe.memoizedState=null,oe.updateQueue=null,oe.dependencies=null,oe.stateNode=null):(oe.childLanes=Pe.childLanes,oe.lanes=Pe.lanes,oe.child=Pe.child,oe.subtreeFlags=0,oe.deletions=null,oe.memoizedProps=Pe.memoizedProps,oe.memoizedState=Pe.memoizedState,oe.updateQueue=Pe.updateQueue,oe.type=Pe.type,c=Pe.dependencies,oe.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),w=w.sibling;return Fa(er,er.current&1|2),u.child}c=c.sibling}oe.tail!==null&&We()>r0&&(u.flags|=128,T=!0,Nu(oe,!1),u.lanes=4194304)}else{if(!T)if(c=ch(Pe),c!==null){if(u.flags|=128,T=!0,w=c.updateQueue,w!==null&&(u.updateQueue=w,u.flags|=4),Nu(oe,!0),oe.tail===null&&oe.tailMode==="hidden"&&!Pe.alternate&&!Za)return fn(u),null}else 2*We()-oe.renderingStartTime>r0&&w!==1073741824&&(u.flags|=128,T=!0,Nu(oe,!1),u.lanes=4194304);oe.isBackwards?(Pe.sibling=u.child,u.child=Pe):(w=oe.last,w!==null?w.sibling=Pe:u.child=Pe,oe.last=Pe)}return oe.tail!==null?(u=oe.tail,oe.rendering=u,oe.tail=u.sibling,oe.renderingStartTime=We(),u.sibling=null,w=er.current,Fa(er,T?w&1|2:w&1),u):(fn(u),null);case 22:case 23:return yg(),T=u.memoizedState!==null,c!==null&&c.memoizedState!==null!==T&&(u.flags|=8192),T&&(u.mode&1)!==0?(co&1073741824)!==0&&(fn(u),u.subtreeFlags&6&&(u.flags|=8192)):fn(u),null;case 24:return null;case 25:return null}throw Error(a(156,u.tag))}function bD(c,u){switch(is(u),u.tag){case 1:return en(u.type)&&zd(),c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 3:return e0(),Oa(Wa),Oa(lr),Uf(),c=u.flags,(c&65536)!==0&&(c&128)===0?(u.flags=c&-65537|128,u):null;case 5:return Bf(u),null;case 13:if(Oa(er),c=u.memoizedState,c!==null&&c.dehydrated!==null){if(u.alternate===null)throw Error(a(340));Xd()}return c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 19:return Oa(er),null;case 4:return e0(),null;case 10:return Mf(u.type._context),null;case 22:case 23:return yg(),null;case 24:return null;default:return null}}var yh=!1,gn=!1,vD=typeof WeakSet=="function"?WeakSet:Set,ms=null;function s0(c,u){var w=c.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(T){ir(c,u,T)}else w.current=null}function og(c,u,w){try{w()}catch(T){ir(c,u,T)}}var Uw=!1;function wD(c,u){if(Oi=Qr,c=ff(),Bd(c)){if("selectionStart"in c)var w={start:c.selectionStart,end:c.selectionEnd};else e:{w=(w=c.ownerDocument)&&w.defaultView||window;var T=w.getSelection&&w.getSelection();if(T&&T.rangeCount!==0){w=T.anchorNode;var K=T.anchorOffset,oe=T.focusNode;T=T.focusOffset;try{w.nodeType,oe.nodeType}catch{w=null;break e}var Pe=0,Je=-1,ct=-1,Ot=0,qt=0,Qt=c,Kt=null;t:for(;;){for(var us;Qt!==w||K!==0&&Qt.nodeType!==3||(Je=Pe+K),Qt!==oe||T!==0&&Qt.nodeType!==3||(ct=Pe+T),Qt.nodeType===3&&(Pe+=Qt.nodeValue.length),(us=Qt.firstChild)!==null;)Kt=Qt,Qt=us;for(;;){if(Qt===c)break t;if(Kt===w&&++Ot===K&&(Je=Pe),Kt===oe&&++qt===T&&(ct=Pe),(us=Qt.nextSibling)!==null)break;Qt=Kt,Kt=Qt.parentNode}Qt=us}w=Je===-1||ct===-1?null:{start:Je,end:ct}}else w=null}w=w||{start:0,end:0}}else w=null;for(_i={focusedElem:c,selectionRange:w},Qr=!1,ms=u;ms!==null;)if(u=ms,c=u.child,(u.subtreeFlags&1028)!==0&&c!==null)c.return=u,ms=c;else for(;ms!==null;){u=ms;try{var gs=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(gs!==null){var Ns=gs.memoizedProps,pr=gs.memoizedState,Et=u.stateNode,pt=Et.getSnapshotBeforeUpdate(u.elementType===u.type?Ns:sl(u.type,Ns),pr);Et.__reactInternalSnapshotBeforeUpdate=pt}break;case 3:var Ft=u.stateNode.containerInfo;Ft.nodeType===1?Ft.textContent="":Ft.nodeType===9&&Ft.documentElement&&Ft.removeChild(Ft.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(es){ir(u,u.return,es)}if(c=u.sibling,c!==null){c.return=u.return,ms=c;break}ms=u.return}return gs=Uw,Uw=!1,gs}function ju(c,u,w){var T=u.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var K=T=T.next;do{if((K.tag&c)===c){var oe=K.destroy;K.destroy=void 0,oe!==void 0&&og(u,w,oe)}K=K.next}while(K!==T)}}function bh(c,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var w=u=u.next;do{if((w.tag&c)===c){var T=w.create;w.destroy=T()}w=w.next}while(w!==u)}}function lg(c){var u=c.ref;if(u!==null){var w=c.stateNode;switch(c.tag){case 5:c=w;break;default:c=w}typeof u=="function"?u(c):u.current=c}}function Hw(c){var u=c.alternate;u!==null&&(c.alternate=null,Hw(u)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(u=c.stateNode,u!==null&&(delete u[hn],delete u[Lc],delete u[uu],delete u[kf],delete u[Oc])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function Ww(c){return c.tag===5||c.tag===3||c.tag===4}function Gw(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||Ww(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function ig(c,u,w){var T=c.tag;if(T===5||T===6)c=c.stateNode,u?w.nodeType===8?w.parentNode.insertBefore(c,u):w.insertBefore(c,u):(w.nodeType===8?(u=w.parentNode,u.insertBefore(c,w)):(u=w,u.appendChild(c)),w=w._reactRootContainer,w!=null||u.onclick!==null||(u.onclick=Mc));else if(T!==4&&(c=c.child,c!==null))for(ig(c,u,w),c=c.sibling;c!==null;)ig(c,u,w),c=c.sibling}function cg(c,u,w){var T=c.tag;if(T===5||T===6)c=c.stateNode,u?w.insertBefore(c,u):w.appendChild(c);else if(T!==4&&(c=c.child,c!==null))for(cg(c,u,w),c=c.sibling;c!==null;)cg(c,u,w),c=c.sibling}var tn=null,al=!1;function $i(c,u,w){for(w=w.child;w!==null;)$w(c,u,w),w=w.sibling}function $w(c,u,w){if(at&&typeof at.onCommitFiberUnmount=="function")try{at.onCommitFiberUnmount(Ts,w)}catch{}switch(w.tag){case 5:gn||s0(w,u);case 6:var T=tn,K=al;tn=null,$i(c,u,w),tn=T,al=K,tn!==null&&(al?(c=tn,w=w.stateNode,c.nodeType===8?c.parentNode.removeChild(w):c.removeChild(w)):tn.removeChild(w.stateNode));break;case 18:tn!==null&&(al?(c=tn,w=w.stateNode,c.nodeType===8?du(c.parentNode,w):c.nodeType===1&&du(c,w),dn(c)):du(tn,w.stateNode));break;case 4:T=tn,K=al,tn=w.stateNode.containerInfo,al=!0,$i(c,u,w),tn=T,al=K;break;case 0:case 11:case 14:case 15:if(!gn&&(T=w.updateQueue,T!==null&&(T=T.lastEffect,T!==null))){K=T=T.next;do{var oe=K,Pe=oe.destroy;oe=oe.tag,Pe!==void 0&&((oe&2)!==0||(oe&4)!==0)&&og(w,u,Pe),K=K.next}while(K!==T)}$i(c,u,w);break;case 1:if(!gn&&(s0(w,u),T=w.stateNode,typeof T.componentWillUnmount=="function"))try{T.props=w.memoizedProps,T.state=w.memoizedState,T.componentWillUnmount()}catch(Je){ir(w,u,Je)}$i(c,u,w);break;case 21:$i(c,u,w);break;case 22:w.mode&1?(gn=(T=gn)||w.memoizedState!==null,$i(c,u,w),gn=T):$i(c,u,w);break;default:$i(c,u,w)}}function zw(c){var u=c.updateQueue;if(u!==null){c.updateQueue=null;var w=c.stateNode;w===null&&(w=c.stateNode=new vD),u.forEach(function(T){var K=AD.bind(null,c,T);w.has(T)||(w.add(T),T.then(K,K))})}}function rl(c,u){var w=u.deletions;if(w!==null)for(var T=0;T<w.length;T++){var K=w[T];try{var oe=c,Pe=u,Je=Pe;e:for(;Je!==null;){switch(Je.tag){case 5:tn=Je.stateNode,al=!1;break e;case 3:tn=Je.stateNode.containerInfo,al=!0;break e;case 4:tn=Je.stateNode.containerInfo,al=!0;break e}Je=Je.return}if(tn===null)throw Error(a(160));$w(oe,Pe,K),tn=null,al=!1;var ct=K.alternate;ct!==null&&(ct.return=null),K.return=null}catch(Ot){ir(K,u,Ot)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)Vw(u,c),u=u.sibling}function Vw(c,u){var w=c.alternate,T=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(rl(u,c),Fl(c),T&4){try{ju(3,c,c.return),bh(3,c)}catch(Ns){ir(c,c.return,Ns)}try{ju(5,c,c.return)}catch(Ns){ir(c,c.return,Ns)}}break;case 1:rl(u,c),Fl(c),T&512&&w!==null&&s0(w,w.return);break;case 5:if(rl(u,c),Fl(c),T&512&&w!==null&&s0(w,w.return),c.flags&32){var K=c.stateNode;try{ut(K,"")}catch(Ns){ir(c,c.return,Ns)}}if(T&4&&(K=c.stateNode,K!=null)){var oe=c.memoizedProps,Pe=w!==null?w.memoizedProps:oe,Je=c.type,ct=c.updateQueue;if(c.updateQueue=null,ct!==null)try{Je==="input"&&oe.type==="radio"&&oe.name!=null&&Ee(K,oe),Pt(Je,Pe);var Ot=Pt(Je,oe);for(Pe=0;Pe<ct.length;Pe+=2){var qt=ct[Pe],Qt=ct[Pe+1];qt==="style"?he(K,Qt):qt==="dangerouslySetInnerHTML"?ht(K,Qt):qt==="children"?ut(K,Qt):C(K,qt,Qt,Ot)}switch(Je){case"input":ze(K,oe);break;case"textarea":Re(K,oe);break;case"select":var Kt=K._wrapperState.wasMultiple;K._wrapperState.wasMultiple=!!oe.multiple;var us=oe.value;us!=null?ye(K,!!oe.multiple,us,!1):Kt!==!!oe.multiple&&(oe.defaultValue!=null?ye(K,!!oe.multiple,oe.defaultValue,!0):ye(K,!!oe.multiple,oe.multiple?[]:"",!1))}K[Lc]=oe}catch(Ns){ir(c,c.return,Ns)}}break;case 6:if(rl(u,c),Fl(c),T&4){if(c.stateNode===null)throw Error(a(162));K=c.stateNode,oe=c.memoizedProps;try{K.nodeValue=oe}catch(Ns){ir(c,c.return,Ns)}}break;case 3:if(rl(u,c),Fl(c),T&4&&w!==null&&w.memoizedState.isDehydrated)try{dn(u.containerInfo)}catch(Ns){ir(c,c.return,Ns)}break;case 4:rl(u,c),Fl(c);break;case 13:rl(u,c),Fl(c),K=c.child,K.flags&8192&&(oe=K.memoizedState!==null,K.stateNode.isHidden=oe,!oe||K.alternate!==null&&K.alternate.memoizedState!==null||(xg=We())),T&4&&zw(c);break;case 22:if(qt=w!==null&&w.memoizedState!==null,c.mode&1?(gn=(Ot=gn)||qt,rl(u,c),gn=Ot):rl(u,c),Fl(c),T&8192){if(Ot=c.memoizedState!==null,(c.stateNode.isHidden=Ot)&&!qt&&(c.mode&1)!==0)for(ms=c,qt=c.child;qt!==null;){for(Qt=ms=qt;ms!==null;){switch(Kt=ms,us=Kt.child,Kt.tag){case 0:case 11:case 14:case 15:ju(4,Kt,Kt.return);break;case 1:s0(Kt,Kt.return);var gs=Kt.stateNode;if(typeof gs.componentWillUnmount=="function"){T=Kt,w=Kt.return;try{u=T,gs.props=u.memoizedProps,gs.state=u.memoizedState,gs.componentWillUnmount()}catch(Ns){ir(T,w,Ns)}}break;case 5:s0(Kt,Kt.return);break;case 22:if(Kt.memoizedState!==null){qw(Qt);continue}}us!==null?(us.return=Kt,ms=us):qw(Qt)}qt=qt.sibling}e:for(qt=null,Qt=c;;){if(Qt.tag===5){if(qt===null){qt=Qt;try{K=Qt.stateNode,Ot?(oe=K.style,typeof oe.setProperty=="function"?oe.setProperty("display","none","important"):oe.display="none"):(Je=Qt.stateNode,ct=Qt.memoizedProps.style,Pe=ct!=null&&ct.hasOwnProperty("display")?ct.display:null,Je.style.display=Le("display",Pe))}catch(Ns){ir(c,c.return,Ns)}}}else if(Qt.tag===6){if(qt===null)try{Qt.stateNode.nodeValue=Ot?"":Qt.memoizedProps}catch(Ns){ir(c,c.return,Ns)}}else if((Qt.tag!==22&&Qt.tag!==23||Qt.memoizedState===null||Qt===c)&&Qt.child!==null){Qt.child.return=Qt,Qt=Qt.child;continue}if(Qt===c)break e;for(;Qt.sibling===null;){if(Qt.return===null||Qt.return===c)break e;qt===Qt&&(qt=null),Qt=Qt.return}qt===Qt&&(qt=null),Qt.sibling.return=Qt.return,Qt=Qt.sibling}}break;case 19:rl(u,c),Fl(c),T&4&&zw(c);break;case 21:break;default:rl(u,c),Fl(c)}}function Fl(c){var u=c.flags;if(u&2){try{e:{for(var w=c.return;w!==null;){if(Ww(w)){var T=w;break e}w=w.return}throw Error(a(160))}switch(T.tag){case 5:var K=T.stateNode;T.flags&32&&(ut(K,""),T.flags&=-33);var oe=Gw(c);cg(c,oe,K);break;case 3:case 4:var Pe=T.stateNode.containerInfo,Je=Gw(c);ig(c,Je,Pe);break;default:throw Error(a(161))}}catch(ct){ir(c,c.return,ct)}c.flags&=-3}u&4096&&(c.flags&=-4097)}function ND(c,u,w){ms=c,Yw(c)}function Yw(c,u,w){for(var T=(c.mode&1)!==0;ms!==null;){var K=ms,oe=K.child;if(K.tag===22&&T){var Pe=K.memoizedState!==null||yh;if(!Pe){var Je=K.alternate,ct=Je!==null&&Je.memoizedState!==null||gn;Je=yh;var Ot=gn;if(yh=Pe,(gn=ct)&&!Ot)for(ms=K;ms!==null;)Pe=ms,ct=Pe.child,Pe.tag===22&&Pe.memoizedState!==null?Xw(K):ct!==null?(ct.return=Pe,ms=ct):Xw(K);for(;oe!==null;)ms=oe,Yw(oe),oe=oe.sibling;ms=K,yh=Je,gn=Ot}Kw(c)}else(K.subtreeFlags&8772)!==0&&oe!==null?(oe.return=K,ms=oe):Kw(c)}}function Kw(c){for(;ms!==null;){var u=ms;if((u.flags&8772)!==0){var w=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:gn||bh(5,u);break;case 1:var T=u.stateNode;if(u.flags&4&&!gn)if(w===null)T.componentDidMount();else{var K=u.elementType===u.type?w.memoizedProps:sl(u.type,w.memoizedProps);T.componentDidUpdate(K,w.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var oe=u.updateQueue;oe!==null&&qv(u,oe,T);break;case 3:var Pe=u.updateQueue;if(Pe!==null){if(w=null,u.child!==null)switch(u.child.tag){case 5:w=u.child.stateNode;break;case 1:w=u.child.stateNode}qv(u,Pe,w)}break;case 5:var Je=u.stateNode;if(w===null&&u.flags&4){w=Je;var ct=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":ct.autoFocus&&w.focus();break;case"img":ct.src&&(w.src=ct.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var Ot=u.alternate;if(Ot!==null){var qt=Ot.memoizedState;if(qt!==null){var Qt=qt.dehydrated;Qt!==null&&dn(Qt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}gn||u.flags&512&&lg(u)}catch(Kt){ir(u,u.return,Kt)}}if(u===c){ms=null;break}if(w=u.sibling,w!==null){w.return=u.return,ms=w;break}ms=u.return}}function qw(c){for(;ms!==null;){var u=ms;if(u===c){ms=null;break}var w=u.sibling;if(w!==null){w.return=u.return,ms=w;break}ms=u.return}}function Xw(c){for(;ms!==null;){var u=ms;try{switch(u.tag){case 0:case 11:case 15:var w=u.return;try{bh(4,u)}catch(ct){ir(u,w,ct)}break;case 1:var T=u.stateNode;if(typeof T.componentDidMount=="function"){var K=u.return;try{T.componentDidMount()}catch(ct){ir(u,K,ct)}}var oe=u.return;try{lg(u)}catch(ct){ir(u,oe,ct)}break;case 5:var Pe=u.return;try{lg(u)}catch(ct){ir(u,Pe,ct)}}}catch(ct){ir(u,u.return,ct)}if(u===c){ms=null;break}var Je=u.sibling;if(Je!==null){Je.return=u.return,ms=Je;break}ms=u.return}}var jD=Math.ceil,vh=S.ReactCurrentDispatcher,dg=S.ReactCurrentOwner,ko=S.ReactCurrentBatchConfig,aa=0,Ur=null,Cr=null,sn=0,co=0,a0=Dl(0),Ar=0,Cu=null,Hc=0,wh=0,ug=0,Su=null,zn=null,xg=0,r0=1/0,di=null,Nh=!1,hg=null,zi=null,jh=!1,Vi=null,Ch=0,ku=0,mg=null,Sh=-1,kh=0;function Fn(){return(aa&6)!==0?We():Sh!==-1?Sh:Sh=We()}function Yi(c){return(c.mode&1)===0?1:(aa&2)!==0&&sn!==0?sn&-sn:oD.transition!==null?(kh===0&&(kh=hr()),kh):(c=Vt,c!==0||(c=window.event,c=c===void 0?16:ro(c.type)),c)}function nl(c,u,w,T){if(50<ku)throw ku=0,mg=null,Error(a(185));sa(c,w,T),((aa&2)===0||c!==Ur)&&(c===Ur&&((aa&2)===0&&(wh|=w),Ar===4&&Ki(c,sn)),Vn(c,T),w===1&&aa===0&&(u.mode&1)===0&&(r0=We()+500,Yd&&mn()))}function Vn(c,u){var w=c.callbackNode;ma(c,u);var T=Na(c,c===Ur?sn:0);if(T===0)w!==null&&I(w),c.callbackNode=null,c.callbackPriority=0;else if(u=T&-T,c.callbackPriority!==u){if(w!=null&&I(w),u===1)c.tag===0?Df(Qw.bind(null,c)):sh(Qw.bind(null,c)),Sf(function(){(aa&6)===0&&mn()}),w=null;else{switch(vs(T)){case 1:w=$t;break;case 4:w=yt;break;case 16:w=$e;break;case 536870912:w=ts;break;default:w=$e}w=oN(w,Jw.bind(null,c))}c.callbackPriority=u,c.callbackNode=w}}function Jw(c,u){if(Sh=-1,kh=0,(aa&6)!==0)throw Error(a(327));var w=c.callbackNode;if(n0()&&c.callbackNode!==w)return null;var T=Na(c,c===Ur?sn:0);if(T===0)return null;if((T&30)!==0||(T&c.expiredLanes)!==0||u)u=Dh(c,T);else{u=T;var K=aa;aa|=2;var oe=eN();(Ur!==c||sn!==u)&&(di=null,r0=We()+500,Gc(c,u));do try{kD();break}catch(Je){Zw(c,Je)}while(!0);Pf(),vh.current=oe,aa=K,Cr!==null?u=0:(Ur=null,sn=0,u=Ar)}if(u!==0){if(u===2&&(K=Ba(c),K!==0&&(T=K,u=pg(c,K))),u===1)throw w=Cu,Gc(c,0),Ki(c,T),Vn(c,We()),w;if(u===6)Ki(c,T);else{if(K=c.current.alternate,(T&30)===0&&!CD(K)&&(u=Dh(c,T),u===2&&(oe=Ba(c),oe!==0&&(T=oe,u=pg(c,oe))),u===1))throw w=Cu,Gc(c,0),Ki(c,T),Vn(c,We()),w;switch(c.finishedWork=K,c.finishedLanes=T,u){case 0:case 1:throw Error(a(345));case 2:$c(c,zn,di);break;case 3:if(Ki(c,T),(T&130023424)===T&&(u=xg+500-We(),10<u)){if(Na(c,0)!==0)break;if(K=c.suspendedLanes,(K&T)!==T){Fn(),c.pingedLanes|=c.suspendedLanes&K;break}c.timeoutHandle=cu($c.bind(null,c,zn,di),u);break}$c(c,zn,di);break;case 4:if(Ki(c,T),(T&4194240)===T)break;for(u=c.eventTimes,K=-1;0<T;){var Pe=31-jt(T);oe=1<<Pe,Pe=u[Pe],Pe>K&&(K=Pe),T&=~oe}if(T=K,T=We()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*jD(T/1960))-T,10<T){c.timeoutHandle=cu($c.bind(null,c,zn,di),T);break}$c(c,zn,di);break;case 5:$c(c,zn,di);break;default:throw Error(a(329))}}}return Vn(c,We()),c.callbackNode===w?Jw.bind(null,c):null}function pg(c,u){var w=Su;return c.current.memoizedState.isDehydrated&&(Gc(c,u).flags|=256),c=Dh(c,u),c!==2&&(u=zn,zn=w,u!==null&&fg(u)),c}function fg(c){zn===null?zn=c:zn.push.apply(zn,c)}function CD(c){for(var u=c;;){if(u.flags&16384){var w=u.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var T=0;T<w.length;T++){var K=w[T],oe=K.getSnapshot;K=K.value;try{if(!lo(oe(),K))return!1}catch{return!1}}}if(w=u.child,u.subtreeFlags&16384&&w!==null)w.return=u,u=w;else{if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Ki(c,u){for(u&=~ug,u&=~wh,c.suspendedLanes|=u,c.pingedLanes&=~u,c=c.expirationTimes;0<u;){var w=31-jt(u),T=1<<w;c[w]=-1,u&=~T}}function Qw(c){if((aa&6)!==0)throw Error(a(327));n0();var u=Na(c,0);if((u&1)===0)return Vn(c,We()),null;var w=Dh(c,u);if(c.tag!==0&&w===2){var T=Ba(c);T!==0&&(u=T,w=pg(c,T))}if(w===1)throw w=Cu,Gc(c,0),Ki(c,u),Vn(c,We()),w;if(w===6)throw Error(a(345));return c.finishedWork=c.current.alternate,c.finishedLanes=u,$c(c,zn,di),Vn(c,We()),null}function gg(c,u){var w=aa;aa|=1;try{return c(u)}finally{aa=w,aa===0&&(r0=We()+500,Yd&&mn())}}function Wc(c){Vi!==null&&Vi.tag===0&&(aa&6)===0&&n0();var u=aa;aa|=1;var w=ko.transition,T=Vt;try{if(ko.transition=null,Vt=1,c)return c()}finally{Vt=T,ko.transition=w,aa=u,(aa&6)===0&&mn()}}function yg(){co=a0.current,Oa(a0)}function Gc(c,u){c.finishedWork=null,c.finishedLanes=0;var w=c.timeoutHandle;if(w!==-1&&(c.timeoutHandle=-1,Cf(w)),Cr!==null)for(w=Cr.return;w!==null;){var T=w;switch(is(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&zd();break;case 3:e0(),Oa(Wa),Oa(lr),Uf();break;case 5:Bf(T);break;case 4:e0();break;case 13:Oa(er);break;case 19:Oa(er);break;case 10:Mf(T.type._context);break;case 22:case 23:yg()}w=w.return}if(Ur=c,Cr=c=qi(c.current,null),sn=co=u,Ar=0,Cu=null,ug=wh=Hc=0,zn=Su=null,Bc!==null){for(u=0;u<Bc.length;u++)if(w=Bc[u],T=w.interleaved,T!==null){w.interleaved=null;var K=T.next,oe=w.pending;if(oe!==null){var Pe=oe.next;oe.next=K,T.next=Pe}w.pending=T}Bc=null}return c}function Zw(c,u){do{var w=Cr;try{if(Pf(),dh.current=mh,uh){for(var T=tr.memoizedState;T!==null;){var K=T.queue;K!==null&&(K.pending=null),T=T.next}uh=!1}if(Uc=0,Rr=Tr=tr=null,yu=!1,bu=0,dg.current=null,w===null||w.return===null){Ar=1,Cu=u,Cr=null;break}e:{var oe=c,Pe=w.return,Je=w,ct=u;if(u=sn,Je.flags|=32768,ct!==null&&typeof ct=="object"&&typeof ct.then=="function"){var Ot=ct,qt=Je,Qt=qt.tag;if((qt.mode&1)===0&&(Qt===0||Qt===11||Qt===15)){var Kt=qt.alternate;Kt?(qt.updateQueue=Kt.updateQueue,qt.memoizedState=Kt.memoizedState,qt.lanes=Kt.lanes):(qt.updateQueue=null,qt.memoizedState=null)}var us=Cw(Pe);if(us!==null){us.flags&=-257,Sw(us,Pe,Je,oe,u),us.mode&1&&jw(oe,Ot,u),u=us,ct=Ot;var gs=u.updateQueue;if(gs===null){var Ns=new Set;Ns.add(ct),u.updateQueue=Ns}else gs.add(ct);break e}else{if((u&1)===0){jw(oe,Ot,u),bg();break e}ct=Error(a(426))}}else if(Za&&Je.mode&1){var pr=Cw(Pe);if(pr!==null){(pr.flags&65536)===0&&(pr.flags|=256),Sw(pr,Pe,Je,oe,u),Af(t0(ct,Je));break e}}oe=ct=t0(ct,Je),Ar!==4&&(Ar=2),Su===null?Su=[oe]:Su.push(oe),oe=Pe;do{switch(oe.tag){case 3:oe.flags|=65536,u&=-u,oe.lanes|=u;var Et=ww(oe,ct,u);Kv(oe,Et);break e;case 1:Je=ct;var pt=oe.type,Ft=oe.stateNode;if((oe.flags&128)===0&&(typeof pt.getDerivedStateFromError=="function"||Ft!==null&&typeof Ft.componentDidCatch=="function"&&(zi===null||!zi.has(Ft)))){oe.flags|=65536,u&=-u,oe.lanes|=u;var es=Nw(oe,Je,u);Kv(oe,es);break e}}oe=oe.return}while(oe!==null)}sN(w)}catch(js){u=js,Cr===w&&w!==null&&(Cr=w=w.return);continue}break}while(!0)}function eN(){var c=vh.current;return vh.current=mh,c===null?mh:c}function bg(){(Ar===0||Ar===3||Ar===2)&&(Ar=4),Ur===null||(Hc&268435455)===0&&(wh&268435455)===0||Ki(Ur,sn)}function Dh(c,u){var w=aa;aa|=2;var T=eN();(Ur!==c||sn!==u)&&(di=null,Gc(c,u));do try{SD();break}catch(K){Zw(c,K)}while(!0);if(Pf(),aa=w,vh.current=T,Cr!==null)throw Error(a(261));return Ur=null,sn=0,Ar}function SD(){for(;Cr!==null;)tN(Cr)}function kD(){for(;Cr!==null&&!Z();)tN(Cr)}function tN(c){var u=nN(c.alternate,c,co);c.memoizedProps=c.pendingProps,u===null?sN(c):Cr=u,dg.current=null}function sN(c){var u=c;do{var w=u.alternate;if(c=u.return,(u.flags&32768)===0){if(w=yD(w,u,co),w!==null){Cr=w;return}}else{if(w=bD(w,u),w!==null){w.flags&=32767,Cr=w;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Ar=6,Cr=null;return}}if(u=u.sibling,u!==null){Cr=u;return}Cr=u=c}while(u!==null);Ar===0&&(Ar=5)}function $c(c,u,w){var T=Vt,K=ko.transition;try{ko.transition=null,Vt=1,DD(c,u,w,T)}finally{ko.transition=K,Vt=T}return null}function DD(c,u,w,T){do n0();while(Vi!==null);if((aa&6)!==0)throw Error(a(327));w=c.finishedWork;var K=c.finishedLanes;if(w===null)return null;if(c.finishedWork=null,c.finishedLanes=0,w===c.current)throw Error(a(177));c.callbackNode=null,c.callbackPriority=0;var oe=w.lanes|w.childLanes;if(jr(c,oe),c===Ur&&(Cr=Ur=null,sn=0),(w.subtreeFlags&2064)===0&&(w.flags&2064)===0||jh||(jh=!0,oN($e,function(){return n0(),null})),oe=(w.flags&15990)!==0,(w.subtreeFlags&15990)!==0||oe){oe=ko.transition,ko.transition=null;var Pe=Vt;Vt=1;var Je=aa;aa|=4,dg.current=null,wD(c,w),Vw(w,c),tu(_i),Qr=!!Oi,_i=Oi=null,c.current=w,ND(w),Q(),aa=Je,Vt=Pe,ko.transition=oe}else c.current=w;if(jh&&(jh=!1,Vi=c,Ch=K),oe=c.pendingLanes,oe===0&&(zi=null),Jt(w.stateNode),Vn(c,We()),u!==null)for(T=c.onRecoverableError,w=0;w<u.length;w++)K=u[w],T(K.value,{componentStack:K.stack,digest:K.digest});if(Nh)throw Nh=!1,c=hg,hg=null,c;return(Ch&1)!==0&&c.tag!==0&&n0(),oe=c.pendingLanes,(oe&1)!==0?c===mg?ku++:(ku=0,mg=c):ku=0,mn(),null}function n0(){if(Vi!==null){var c=vs(Ch),u=ko.transition,w=Vt;try{if(ko.transition=null,Vt=16>c?16:c,Vi===null)var T=!1;else{if(c=Vi,Vi=null,Ch=0,(aa&6)!==0)throw Error(a(331));var K=aa;for(aa|=4,ms=c.current;ms!==null;){var oe=ms,Pe=oe.child;if((ms.flags&16)!==0){var Je=oe.deletions;if(Je!==null){for(var ct=0;ct<Je.length;ct++){var Ot=Je[ct];for(ms=Ot;ms!==null;){var qt=ms;switch(qt.tag){case 0:case 11:case 15:ju(8,qt,oe)}var Qt=qt.child;if(Qt!==null)Qt.return=qt,ms=Qt;else for(;ms!==null;){qt=ms;var Kt=qt.sibling,us=qt.return;if(Hw(qt),qt===Ot){ms=null;break}if(Kt!==null){Kt.return=us,ms=Kt;break}ms=us}}}var gs=oe.alternate;if(gs!==null){var Ns=gs.child;if(Ns!==null){gs.child=null;do{var pr=Ns.sibling;Ns.sibling=null,Ns=pr}while(Ns!==null)}}ms=oe}}if((oe.subtreeFlags&2064)!==0&&Pe!==null)Pe.return=oe,ms=Pe;else e:for(;ms!==null;){if(oe=ms,(oe.flags&2048)!==0)switch(oe.tag){case 0:case 11:case 15:ju(9,oe,oe.return)}var Et=oe.sibling;if(Et!==null){Et.return=oe.return,ms=Et;break e}ms=oe.return}}var pt=c.current;for(ms=pt;ms!==null;){Pe=ms;var Ft=Pe.child;if((Pe.subtreeFlags&2064)!==0&&Ft!==null)Ft.return=Pe,ms=Ft;else e:for(Pe=pt;ms!==null;){if(Je=ms,(Je.flags&2048)!==0)try{switch(Je.tag){case 0:case 11:case 15:bh(9,Je)}}catch(js){ir(Je,Je.return,js)}if(Je===Pe){ms=null;break e}var es=Je.sibling;if(es!==null){es.return=Je.return,ms=es;break e}ms=Je.return}}if(aa=K,mn(),at&&typeof at.onPostCommitFiberRoot=="function")try{at.onPostCommitFiberRoot(Ts,c)}catch{}T=!0}return T}finally{Vt=w,ko.transition=u}}return!1}function aN(c,u,w){u=t0(w,u),u=ww(c,u,1),c=Gi(c,u,1),u=Fn(),c!==null&&(sa(c,1,u),Vn(c,u))}function ir(c,u,w){if(c.tag===3)aN(c,c,w);else for(;u!==null;){if(u.tag===3){aN(u,c,w);break}else if(u.tag===1){var T=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(zi===null||!zi.has(T))){c=t0(w,c),c=Nw(u,c,1),u=Gi(u,c,1),c=Fn(),u!==null&&(sa(u,1,c),Vn(u,c));break}}u=u.return}}function ED(c,u,w){var T=c.pingCache;T!==null&&T.delete(u),u=Fn(),c.pingedLanes|=c.suspendedLanes&w,Ur===c&&(sn&w)===w&&(Ar===4||Ar===3&&(sn&130023424)===sn&&500>We()-xg?Gc(c,0):ug|=w),Vn(c,u)}function rN(c,u){u===0&&((c.mode&1)===0?u=1:(u=Ut,Ut<<=1,(Ut&130023424)===0&&(Ut=4194304)));var w=Fn();c=li(c,u),c!==null&&(sa(c,u,w),Vn(c,w))}function TD(c){var u=c.memoizedState,w=0;u!==null&&(w=u.retryLane),rN(c,w)}function AD(c,u){var w=0;switch(c.tag){case 13:var T=c.stateNode,K=c.memoizedState;K!==null&&(w=K.retryLane);break;case 19:T=c.stateNode;break;default:throw Error(a(314))}T!==null&&T.delete(u),rN(c,w)}var nN;nN=function(c,u,w){if(c!==null)if(c.memoizedProps!==u.pendingProps||Wa.current)$n=!0;else{if((c.lanes&w)===0&&(u.flags&128)===0)return $n=!1,gD(c,u,w);$n=(c.flags&131072)!==0}else $n=!1,Za&&(u.flags&1048576)!==0&&Xe(u,qd,u.index);switch(u.lanes=0,u.tag){case 2:var T=u.type;gh(c,u),c=u.pendingProps;var K=ni(u,lr.current);Zd(u,w),K=Gf(null,u,T,c,K,w);var oe=$f();return u.flags|=1,typeof K=="object"&&K!==null&&typeof K.render=="function"&&K.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,en(T)?(oe=!0,Vd(u)):oe=!1,u.memoizedState=K.state!==null&&K.state!==void 0?K.state:null,Of(u),K.updater=ph,u.stateNode=K,K._reactInternals=u,Xf(u,T,c,w),u=eg(null,u,T,!0,oe,w)):(u.tag=0,Za&&oe&&Ct(u),An(null,u,K,w),u=u.child),u;case 16:T=u.elementType;e:{switch(gh(c,u),c=u.pendingProps,K=T._init,T=K(T._payload),u.type=T,K=u.tag=PD(T),c=sl(T,c),K){case 0:u=Zf(null,u,T,c,w);break e;case 1:u=Fw(null,u,T,c,w);break e;case 11:u=kw(null,u,T,c,w);break e;case 14:u=Dw(null,u,T,sl(T.type,c),w);break e}throw Error(a(306,T,""))}return u;case 0:return T=u.type,K=u.pendingProps,K=u.elementType===T?K:sl(T,K),Zf(c,u,T,K,w);case 1:return T=u.type,K=u.pendingProps,K=u.elementType===T?K:sl(T,K),Fw(c,u,T,K,w);case 3:e:{if(Pw(u),c===null)throw Error(a(387));T=u.pendingProps,oe=u.memoizedState,K=oe.element,Yv(c,u),ih(u,T,null,w);var Pe=u.memoizedState;if(T=Pe.element,oe.isDehydrated)if(oe={element:T,isDehydrated:!1,cache:Pe.cache,pendingSuspenseBoundaries:Pe.pendingSuspenseBoundaries,transitions:Pe.transitions},u.updateQueue.baseState=oe,u.memoizedState=oe,u.flags&256){K=t0(Error(a(423)),u),u=Mw(c,u,T,w,K);break e}else if(T!==K){K=t0(Error(a(424)),u),u=Mw(c,u,T,w,K);break e}else for(io=kl(u.stateNode.containerInfo.firstChild),Ls=u,Za=!0,tl=null,w=zv(u,null,T,w),u.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(Xd(),T===K){u=ci(c,u,w);break e}An(c,u,T,w)}u=u.child}return u;case 5:return Xv(u),c===null&&Tf(u),T=u.type,K=u.pendingProps,oe=c!==null?c.memoizedProps:null,Pe=K.children,iu(T,K)?Pe=null:oe!==null&&iu(T,oe)&&(u.flags|=32),Aw(c,u),An(c,u,Pe,w),u.child;case 6:return c===null&&Tf(u),null;case 13:return Iw(c,u,w);case 4:return _f(u,u.stateNode.containerInfo),T=u.pendingProps,c===null?u.child=Jd(u,null,T,w):An(c,u,T,w),u.child;case 11:return T=u.type,K=u.pendingProps,K=u.elementType===T?K:sl(T,K),kw(c,u,T,K,w);case 7:return An(c,u,u.pendingProps,w),u.child;case 8:return An(c,u,u.pendingProps.children,w),u.child;case 12:return An(c,u,u.pendingProps.children,w),u.child;case 10:e:{if(T=u.type._context,K=u.pendingProps,oe=u.memoizedProps,Pe=K.value,Fa(nh,T._currentValue),T._currentValue=Pe,oe!==null)if(lo(oe.value,Pe)){if(oe.children===K.children&&!Wa.current){u=ci(c,u,w);break e}}else for(oe=u.child,oe!==null&&(oe.return=u);oe!==null;){var Je=oe.dependencies;if(Je!==null){Pe=oe.child;for(var ct=Je.firstContext;ct!==null;){if(ct.context===T){if(oe.tag===1){ct=ii(-1,w&-w),ct.tag=2;var Ot=oe.updateQueue;if(Ot!==null){Ot=Ot.shared;var qt=Ot.pending;qt===null?ct.next=ct:(ct.next=qt.next,qt.next=ct),Ot.pending=ct}}oe.lanes|=w,ct=oe.alternate,ct!==null&&(ct.lanes|=w),If(oe.return,w,u),Je.lanes|=w;break}ct=ct.next}}else if(oe.tag===10)Pe=oe.type===u.type?null:oe.child;else if(oe.tag===18){if(Pe=oe.return,Pe===null)throw Error(a(341));Pe.lanes|=w,Je=Pe.alternate,Je!==null&&(Je.lanes|=w),If(Pe,w,u),Pe=oe.sibling}else Pe=oe.child;if(Pe!==null)Pe.return=oe;else for(Pe=oe;Pe!==null;){if(Pe===u){Pe=null;break}if(oe=Pe.sibling,oe!==null){oe.return=Pe.return,Pe=oe;break}Pe=Pe.return}oe=Pe}An(c,u,K.children,w),u=u.child}return u;case 9:return K=u.type,T=u.pendingProps.children,Zd(u,w),K=Co(K),T=T(K),u.flags|=1,An(c,u,T,w),u.child;case 14:return T=u.type,K=sl(T,u.pendingProps),K=sl(T.type,K),Dw(c,u,T,K,w);case 15:return Ew(c,u,u.type,u.pendingProps,w);case 17:return T=u.type,K=u.pendingProps,K=u.elementType===T?K:sl(T,K),gh(c,u),u.tag=1,en(T)?(c=!0,Vd(u)):c=!1,Zd(u,w),bw(u,T,K),Xf(u,T,K,w),eg(null,u,T,!0,c,w);case 19:return Ow(c,u,w);case 22:return Tw(c,u,w)}throw Error(a(156,u.tag))};function oN(c,u){return we(c,u)}function FD(c,u,w,T){this.tag=c,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Do(c,u,w,T){return new FD(c,u,w,T)}function vg(c){return c=c.prototype,!(!c||!c.isReactComponent)}function PD(c){if(typeof c=="function")return vg(c)?1:0;if(c!=null){if(c=c.$$typeof,c===B)return 11;if(c===pe)return 14}return 2}function qi(c,u){var w=c.alternate;return w===null?(w=Do(c.tag,u,c.key,c.mode),w.elementType=c.elementType,w.type=c.type,w.stateNode=c.stateNode,w.alternate=c,c.alternate=w):(w.pendingProps=u,w.type=c.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=c.flags&14680064,w.childLanes=c.childLanes,w.lanes=c.lanes,w.child=c.child,w.memoizedProps=c.memoizedProps,w.memoizedState=c.memoizedState,w.updateQueue=c.updateQueue,u=c.dependencies,w.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},w.sibling=c.sibling,w.index=c.index,w.ref=c.ref,w}function Eh(c,u,w,T,K,oe){var Pe=2;if(T=c,typeof c=="function")vg(c)&&(Pe=1);else if(typeof c=="string")Pe=5;else e:switch(c){case E:return zc(w.children,K,oe,u);case M:Pe=8,K|=8;break;case L:return c=Do(12,w,u,K|2),c.elementType=L,c.lanes=oe,c;case se:return c=Do(13,w,u,K),c.elementType=se,c.lanes=oe,c;case le:return c=Do(19,w,u,K),c.elementType=le,c.lanes=oe,c;case Y:return Th(w,K,oe,u);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case O:Pe=10;break e;case q:Pe=9;break e;case B:Pe=11;break e;case pe:Pe=14;break e;case U:Pe=16,T=null;break e}throw Error(a(130,c==null?c:typeof c,""))}return u=Do(Pe,w,u,K),u.elementType=c,u.type=T,u.lanes=oe,u}function zc(c,u,w,T){return c=Do(7,c,T,u),c.lanes=w,c}function Th(c,u,w,T){return c=Do(22,c,T,u),c.elementType=Y,c.lanes=w,c.stateNode={isHidden:!1},c}function wg(c,u,w){return c=Do(6,c,null,u),c.lanes=w,c}function Ng(c,u,w){return u=Do(4,c.children!==null?c.children:[],c.key,u),u.lanes=w,u.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},u}function MD(c,u,w,T,K){this.tag=u,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ta(0),this.expirationTimes=ta(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ta(0),this.identifierPrefix=T,this.onRecoverableError=K,this.mutableSourceEagerHydrationData=null}function jg(c,u,w,T,K,oe,Pe,Je,ct){return c=new MD(c,u,w,Je,ct),u===1?(u=1,oe===!0&&(u|=8)):u=0,oe=Do(3,null,null,u),c.current=oe,oe.stateNode=c,oe.memoizedState={element:T,isDehydrated:w,cache:null,transitions:null,pendingSuspenseBoundaries:null},Of(oe),c}function ID(c,u,w){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k,key:T==null?null:""+T,children:c,containerInfo:u,implementation:w}}function lN(c){if(!c)return El;c=c._reactInternals;e:{if(X(c)!==c||c.tag!==1)throw Error(a(170));var u=c;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(en(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(a(171))}if(c.tag===1){var w=c.type;if(en(w))return eh(c,w,u)}return u}function iN(c,u,w,T,K,oe,Pe,Je,ct){return c=jg(w,T,!0,c,K,oe,Pe,Je,ct),c.context=lN(null),w=c.current,T=Fn(),K=Yi(w),oe=ii(T,K),oe.callback=u??null,Gi(w,oe,K),c.current.lanes=K,sa(c,K,T),Vn(c,T),c}function Ah(c,u,w,T){var K=u.current,oe=Fn(),Pe=Yi(K);return w=lN(w),u.context===null?u.context=w:u.pendingContext=w,u=ii(oe,Pe),u.payload={element:c},T=T===void 0?null:T,T!==null&&(u.callback=T),c=Gi(K,u,Pe),c!==null&&(nl(c,K,Pe,oe),lh(c,K,Pe)),Pe}function Fh(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function cN(c,u){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var w=c.retryLane;c.retryLane=w!==0&&w<u?w:u}}function Cg(c,u){cN(c,u),(c=c.alternate)&&cN(c,u)}function LD(){return null}var dN=typeof reportError=="function"?reportError:function(c){console.error(c)};function Sg(c){this._internalRoot=c}Ph.prototype.render=Sg.prototype.render=function(c){var u=this._internalRoot;if(u===null)throw Error(a(409));Ah(c,u,null,null)},Ph.prototype.unmount=Sg.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var u=c.containerInfo;Wc(function(){Ah(null,c,null,null)}),u[Xo]=null}};function Ph(c){this._internalRoot=c}Ph.prototype.unstable_scheduleHydration=function(c){if(c){var u=la();c={blockedOn:null,target:c,priority:u};for(var w=0;w<Qs.length&&u!==0&&u<Qs[w].priority;w++);Qs.splice(w,0,c),w===0&&fa(c)}};function kg(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function Mh(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function uN(){}function OD(c,u,w,T,K){if(K){if(typeof T=="function"){var oe=T;T=function(){var Ot=Fh(Pe);oe.call(Ot)}}var Pe=iN(u,T,c,0,null,!1,!1,"",uN);return c._reactRootContainer=Pe,c[Xo]=Pe.current,Pc(c.nodeType===8?c.parentNode:c),Wc(),Pe}for(;K=c.lastChild;)c.removeChild(K);if(typeof T=="function"){var Je=T;T=function(){var Ot=Fh(ct);Je.call(Ot)}}var ct=jg(c,0,!1,null,null,!1,!1,"",uN);return c._reactRootContainer=ct,c[Xo]=ct.current,Pc(c.nodeType===8?c.parentNode:c),Wc(function(){Ah(u,ct,w,T)}),ct}function Ih(c,u,w,T,K){var oe=w._reactRootContainer;if(oe){var Pe=oe;if(typeof K=="function"){var Je=K;K=function(){var ct=Fh(Pe);Je.call(ct)}}Ah(u,Pe,c,K)}else Pe=OD(w,u,c,K,T);return Fh(Pe)}Ys=function(c){switch(c.tag){case 3:var u=c.stateNode;if(u.current.memoizedState.isDehydrated){var w=hs(u.pendingLanes);w!==0&&(rt(u,w|1),Vn(u,We()),(aa&6)===0&&(r0=We()+500,mn()))}break;case 13:Wc(function(){var T=li(c,1);if(T!==null){var K=Fn();nl(T,c,1,K)}}),Cg(c,1)}},Ks=function(c){if(c.tag===13){var u=li(c,134217728);if(u!==null){var w=Fn();nl(u,c,134217728,w)}Cg(c,134217728)}},qs=function(c){if(c.tag===13){var u=Yi(c),w=li(c,u);if(w!==null){var T=Fn();nl(w,c,u,T)}Cg(c,u)}},la=function(){return Vt},qa=function(c,u){var w=Vt;try{return Vt=c,u()}finally{Vt=w}},qe=function(c,u,w){switch(u){case"input":if(ze(c,w),u=w.name,w.type==="radio"&&u!=null){for(w=c;w.parentNode;)w=w.parentNode;for(w=w.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<w.length;u++){var T=w[u];if(T!==c&&T.form===c.form){var K=$d(T);if(!K)throw Error(a(90));ue(T),ze(T,K)}}}break;case"textarea":Re(c,w);break;case"select":u=w.value,u!=null&&ye(c,!!w.multiple,u,!1)}},Ge=gg,Ke=Wc;var _D={usingClientEntryPoint:!1,Events:[_c,Ri,$d,kt,Dt,gg]},Du={findFiberByHostInstance:ri,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BD={bundleType:Du.bundleType,version:Du.version,rendererPackageName:Du.rendererPackageName,rendererConfig:Du.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=je(c),c===null?null:c.stateNode},findFiberByHostInstance:Du.findFiberByHostInstance||LD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lh.isDisabled&&Lh.supportsFiber)try{Ts=Lh.inject(BD),at=Lh}catch{}}return Yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_D,Yn.createPortal=function(c,u){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kg(u))throw Error(a(200));return ID(c,u,null,w)},Yn.createRoot=function(c,u){if(!kg(c))throw Error(a(299));var w=!1,T="",K=dN;return u!=null&&(u.unstable_strictMode===!0&&(w=!0),u.identifierPrefix!==void 0&&(T=u.identifierPrefix),u.onRecoverableError!==void 0&&(K=u.onRecoverableError)),u=jg(c,1,!1,null,null,w,!1,T,K),c[Xo]=u.current,Pc(c.nodeType===8?c.parentNode:c),new Sg(u)},Yn.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var u=c._reactInternals;if(u===void 0)throw typeof c.render=="function"?Error(a(188)):(c=Object.keys(c).join(","),Error(a(268,c)));return c=je(u),c=c===null?null:c.stateNode,c},Yn.flushSync=function(c){return Wc(c)},Yn.hydrate=function(c,u,w){if(!Mh(u))throw Error(a(200));return Ih(null,c,u,!0,w)},Yn.hydrateRoot=function(c,u,w){if(!kg(c))throw Error(a(405));var T=w!=null&&w.hydratedSources||null,K=!1,oe="",Pe=dN;if(w!=null&&(w.unstable_strictMode===!0&&(K=!0),w.identifierPrefix!==void 0&&(oe=w.identifierPrefix),w.onRecoverableError!==void 0&&(Pe=w.onRecoverableError)),u=iN(u,null,c,1,w??null,K,!1,oe,Pe),c[Xo]=u.current,Pc(c),T)for(c=0;c<T.length;c++)w=T[c],K=w._getVersion,K=K(w._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[w,K]:u.mutableSourceEagerHydrationData.push(w,K);return new Ph(u)},Yn.render=function(c,u,w){if(!Mh(u))throw Error(a(200));return Ih(null,c,u,!1,w)},Yn.unmountComponentAtNode=function(c){if(!Mh(c))throw Error(a(40));return c._reactRootContainer?(Wc(function(){Ih(null,null,c,!1,function(){c._reactRootContainer=null,c[Xo]=null})}),!0):!1},Yn.unstable_batchedUpdates=gg,Yn.unstable_renderSubtreeIntoContainer=function(c,u,w,T){if(!Mh(w))throw Error(a(200));if(c==null||c._reactInternals===void 0)throw Error(a(38));return Ih(c,u,w,!1,T)},Yn.version="18.3.1-next-f1338f8080-20240426",Yn}var bN;function $2(){if(bN)return Ag.exports;bN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(s){console.error(s)}}return t(),Ag.exports=YD(),Ag.exports}var vN;function KD(){if(vN)return Oh;vN=1;var t=$2();return Oh.createRoot=t.createRoot,Oh.hydrateRoot=t.hydrateRoot,Oh}var qD=KD(),o=Zy();const z2=Qy(o),V2=UD({__proto__:null,default:z2},[o]);function Y2(t,s){return function(){return t.apply(s,arguments)}}const{toString:XD}=Object.prototype,{getPrototypeOf:eb}=Object,{iterator:Rp,toStringTag:K2}=Symbol,Up=(t=>s=>{const a=XD.call(s);return t[a]||(t[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),fl=t=>(t=t.toLowerCase(),s=>Up(s)===t),Hp=t=>s=>typeof s===t,{isArray:O0}=Array,C0=Hp("undefined");function dx(t){return t!==null&&!C0(t)&&t.constructor!==null&&!C0(t.constructor)&&Xn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const q2=fl("ArrayBuffer");function JD(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&q2(t.buffer),s}const QD=Hp("string"),Xn=Hp("function"),X2=Hp("number"),ux=t=>t!==null&&typeof t=="object",ZD=t=>t===!0||t===!1,gm=t=>{if(Up(t)!=="object")return!1;const s=eb(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(K2 in t)&&!(Rp in t)},e6=t=>{if(!ux(t)||dx(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},t6=fl("Date"),s6=fl("File"),a6=fl("Blob"),r6=fl("FileList"),n6=t=>ux(t)&&Xn(t.pipe),o6=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||Xn(t.append)&&((s=Up(t))==="formdata"||s==="object"&&Xn(t.toString)&&t.toString()==="[object FormData]"))},l6=fl("URLSearchParams"),[i6,c6,d6,u6]=["ReadableStream","Request","Response","Headers"].map(fl),x6=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xx(t,s,{allOwnKeys:a=!1}={}){if(t===null||typeof t>"u")return;let r,n;if(typeof t!="object"&&(t=[t]),O0(t))for(r=0,n=t.length;r<n;r++)s.call(null,t[r],r,t);else{if(dx(t))return;const l=a?Object.getOwnPropertyNames(t):Object.keys(t),i=l.length;let d;for(r=0;r<i;r++)d=l[r],s.call(null,t[d],d,t)}}function J2(t,s){if(dx(t))return null;s=s.toLowerCase();const a=Object.keys(t);let r=a.length,n;for(;r-- >0;)if(n=a[r],s===n.toLowerCase())return n;return null}const Zc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Q2=t=>!C0(t)&&t!==Zc;function Ny(){const{caseless:t,skipUndefined:s}=Q2(this)&&this||{},a={},r=(n,l)=>{if(l==="__proto__"||l==="constructor"||l==="prototype")return;const i=t&&J2(a,l)||l;gm(a[i])&&gm(n)?a[i]=Ny(a[i],n):gm(n)?a[i]=Ny({},n):O0(n)?a[i]=n.slice():(!s||!C0(n))&&(a[i]=n)};for(let n=0,l=arguments.length;n<l;n++)arguments[n]&&xx(arguments[n],r);return a}const h6=(t,s,a,{allOwnKeys:r}={})=>(xx(s,(n,l)=>{a&&Xn(n)?Object.defineProperty(t,l,{value:Y2(n,a),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(t,l,{value:n,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:r}),t),m6=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),p6=(t,s,a,r)=>{t.prototype=Object.create(s.prototype,r),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(t,"super",{value:s.prototype}),a&&Object.assign(t.prototype,a)},f6=(t,s,a,r)=>{let n,l,i;const d={};if(s=s||{},t==null)return s;do{for(n=Object.getOwnPropertyNames(t),l=n.length;l-- >0;)i=n[l],(!r||r(i,t,s))&&!d[i]&&(s[i]=t[i],d[i]=!0);t=a!==!1&&eb(t)}while(t&&(!a||a(t,s))&&t!==Object.prototype);return s},g6=(t,s,a)=>{t=String(t),(a===void 0||a>t.length)&&(a=t.length),a-=s.length;const r=t.indexOf(s,a);return r!==-1&&r===a},y6=t=>{if(!t)return null;if(O0(t))return t;let s=t.length;if(!X2(s))return null;const a=new Array(s);for(;s-- >0;)a[s]=t[s];return a},b6=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&eb(Uint8Array)),v6=(t,s)=>{const r=(t&&t[Rp]).call(t);let n;for(;(n=r.next())&&!n.done;){const l=n.value;s.call(t,l[0],l[1])}},w6=(t,s)=>{let a;const r=[];for(;(a=t.exec(s))!==null;)r.push(a);return r},N6=fl("HTMLFormElement"),j6=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,r,n){return r.toUpperCase()+n}),wN=(({hasOwnProperty:t})=>(s,a)=>t.call(s,a))(Object.prototype),C6=fl("RegExp"),Z2=(t,s)=>{const a=Object.getOwnPropertyDescriptors(t),r={};xx(a,(n,l)=>{let i;(i=s(n,l,t))!==!1&&(r[l]=i||n)}),Object.defineProperties(t,r)},S6=t=>{Z2(t,(s,a)=>{if(Xn(t)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const r=t[a];if(Xn(r)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},k6=(t,s)=>{const a={},r=n=>{n.forEach(l=>{a[l]=!0})};return O0(t)?r(t):r(String(t).split(s)),a},D6=()=>{},E6=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function T6(t){return!!(t&&Xn(t.append)&&t[K2]==="FormData"&&t[Rp])}const A6=t=>{const s=new Array(10),a=(r,n)=>{if(ux(r)){if(s.indexOf(r)>=0)return;if(dx(r))return r;if(!("toJSON"in r)){s[n]=r;const l=O0(r)?[]:{};return xx(r,(i,d)=>{const x=a(i,n+1);!C0(x)&&(l[d]=x)}),s[n]=void 0,l}}return r};return a(t,0)},F6=fl("AsyncFunction"),P6=t=>t&&(ux(t)||Xn(t))&&Xn(t.then)&&Xn(t.catch),e4=((t,s)=>t?setImmediate:s?((a,r)=>(Zc.addEventListener("message",({source:n,data:l})=>{n===Zc&&l===a&&r.length&&r.shift()()},!1),n=>{r.push(n),Zc.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",Xn(Zc.postMessage)),M6=typeof queueMicrotask<"u"?queueMicrotask.bind(Zc):typeof process<"u"&&process.nextTick||e4,I6=t=>t!=null&&Xn(t[Rp]),Bt={isArray:O0,isArrayBuffer:q2,isBuffer:dx,isFormData:o6,isArrayBufferView:JD,isString:QD,isNumber:X2,isBoolean:ZD,isObject:ux,isPlainObject:gm,isEmptyObject:e6,isReadableStream:i6,isRequest:c6,isResponse:d6,isHeaders:u6,isUndefined:C0,isDate:t6,isFile:s6,isBlob:a6,isRegExp:C6,isFunction:Xn,isStream:n6,isURLSearchParams:l6,isTypedArray:b6,isFileList:r6,forEach:xx,merge:Ny,extend:h6,trim:x6,stripBOM:m6,inherits:p6,toFlatObject:f6,kindOf:Up,kindOfTest:fl,endsWith:g6,toArray:y6,forEachEntry:v6,matchAll:w6,isHTMLForm:N6,hasOwnProperty:wN,hasOwnProp:wN,reduceDescriptors:Z2,freezeMethods:S6,toObjectSet:k6,toCamelCase:j6,noop:D6,toFiniteNumber:E6,findKey:J2,global:Zc,isContextDefined:Q2,isSpecCompliantForm:T6,toJSONObject:A6,isAsyncFn:F6,isThenable:P6,setImmediate:e4,asap:M6,isIterable:I6};let Is=class t4 extends Error{static from(s,a,r,n,l,i){const d=new t4(s.message,a||s.code,r,n,l);return d.cause=s,d.name=s.name,i&&Object.assign(d,i),d}constructor(s,a,r,n,l){super(s),this.name="AxiosError",this.isAxiosError=!0,a&&(this.code=a),r&&(this.config=r),n&&(this.request=n),l&&(this.response=l,this.status=l.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Bt.toJSONObject(this.config),code:this.code,status:this.status}}};Is.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Is.ERR_BAD_OPTION="ERR_BAD_OPTION";Is.ECONNABORTED="ECONNABORTED";Is.ETIMEDOUT="ETIMEDOUT";Is.ERR_NETWORK="ERR_NETWORK";Is.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Is.ERR_DEPRECATED="ERR_DEPRECATED";Is.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Is.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Is.ERR_CANCELED="ERR_CANCELED";Is.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Is.ERR_INVALID_URL="ERR_INVALID_URL";const L6=null;function jy(t){return Bt.isPlainObject(t)||Bt.isArray(t)}function s4(t){return Bt.endsWith(t,"[]")?t.slice(0,-2):t}function NN(t,s,a){return t?t.concat(s).map(function(n,l){return n=s4(n),!a&&l?"["+n+"]":n}).join(a?".":""):s}function O6(t){return Bt.isArray(t)&&!t.some(jy)}const _6=Bt.toFlatObject(Bt,{},null,function(s){return/^is[A-Z]/.test(s)});function Wp(t,s,a){if(!Bt.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,a=Bt.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,y){return!Bt.isUndefined(y[v])});const r=a.metaTokens,n=a.visitor||m,l=a.dots,i=a.indexes,x=(a.Blob||typeof Blob<"u"&&Blob)&&Bt.isSpecCompliantForm(s);if(!Bt.isFunction(n))throw new TypeError("visitor must be a function");function h(p){if(p===null)return"";if(Bt.isDate(p))return p.toISOString();if(Bt.isBoolean(p))return p.toString();if(!x&&Bt.isBlob(p))throw new Is("Blob is not supported. Use a Buffer instead.");return Bt.isArrayBuffer(p)||Bt.isTypedArray(p)?x&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function m(p,v,y){let g=p;if(p&&!y&&typeof p=="object"){if(Bt.endsWith(v,"{}"))v=r?v:v.slice(0,-2),p=JSON.stringify(p);else if(Bt.isArray(p)&&O6(p)||(Bt.isFileList(p)||Bt.endsWith(v,"[]"))&&(g=Bt.toArray(p)))return v=s4(v),g.forEach(function(C,S){!(Bt.isUndefined(C)||C===null)&&s.append(i===!0?NN([v],S,l):i===null?v:v+"[]",h(C))}),!1}return jy(p)?!0:(s.append(NN(y,v,l),h(p)),!1)}const b=[],f=Object.assign(_6,{defaultVisitor:m,convertValue:h,isVisitable:jy});function N(p,v){if(!Bt.isUndefined(p)){if(b.indexOf(p)!==-1)throw Error("Circular reference detected in "+v.join("."));b.push(p),Bt.forEach(p,function(g,j){(!(Bt.isUndefined(g)||g===null)&&n.call(s,g,Bt.isString(j)?j.trim():j,v,f))===!0&&N(g,v?v.concat(j):[j])}),b.pop()}}if(!Bt.isObject(t))throw new TypeError("data must be an object");return N(t),s}function jN(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return s[r]})}function tb(t,s){this._pairs=[],t&&Wp(t,this,s)}const a4=tb.prototype;a4.append=function(s,a){this._pairs.push([s,a])};a4.toString=function(s){const a=s?function(r){return s.call(this,r,jN)}:jN;return this._pairs.map(function(n){return a(n[0])+"="+a(n[1])},"").join("&")};function B6(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function r4(t,s,a){if(!s)return t;const r=a&&a.encode||B6,n=Bt.isFunction(a)?{serialize:a}:a,l=n&&n.serialize;let i;if(l?i=l(s,n):i=Bt.isURLSearchParams(s)?s.toString():new tb(s,n).toString(r),i){const d=t.indexOf("#");d!==-1&&(t=t.slice(0,d)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class CN{constructor(){this.handlers=[]}use(s,a,r){return this.handlers.push({fulfilled:s,rejected:a,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){Bt.forEach(this.handlers,function(r){r!==null&&s(r)})}}const sb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},R6=typeof URLSearchParams<"u"?URLSearchParams:tb,U6=typeof FormData<"u"?FormData:null,H6=typeof Blob<"u"?Blob:null,W6={isBrowser:!0,classes:{URLSearchParams:R6,FormData:U6,Blob:H6},protocols:["http","https","file","blob","url","data"]},ab=typeof window<"u"&&typeof document<"u",Cy=typeof navigator=="object"&&navigator||void 0,G6=ab&&(!Cy||["ReactNative","NativeScript","NS"].indexOf(Cy.product)<0),$6=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",z6=ab&&window.location.href||"http://localhost",V6=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ab,hasStandardBrowserEnv:G6,hasStandardBrowserWebWorkerEnv:$6,navigator:Cy,origin:z6},Symbol.toStringTag,{value:"Module"})),Nn={...V6,...W6};function Y6(t,s){return Wp(t,new Nn.classes.URLSearchParams,{visitor:function(a,r,n,l){return Nn.isNode&&Bt.isBuffer(a)?(this.append(r,a.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...s})}function K6(t){return Bt.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function q6(t){const s={},a=Object.keys(t);let r;const n=a.length;let l;for(r=0;r<n;r++)l=a[r],s[l]=t[l];return s}function n4(t){function s(a,r,n,l){let i=a[l++];if(i==="__proto__")return!0;const d=Number.isFinite(+i),x=l>=a.length;return i=!i&&Bt.isArray(n)?n.length:i,x?(Bt.hasOwnProp(n,i)?n[i]=[n[i],r]:n[i]=r,!d):((!n[i]||!Bt.isObject(n[i]))&&(n[i]=[]),s(a,r,n[i],l)&&Bt.isArray(n[i])&&(n[i]=q6(n[i])),!d)}if(Bt.isFormData(t)&&Bt.isFunction(t.entries)){const a={};return Bt.forEachEntry(t,(r,n)=>{s(K6(r),n,a,0)}),a}return null}function X6(t,s,a){if(Bt.isString(t))try{return(s||JSON.parse)(t),Bt.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(a||JSON.stringify)(t)}const hx={transitional:sb,adapter:["xhr","http","fetch"],transformRequest:[function(s,a){const r=a.getContentType()||"",n=r.indexOf("application/json")>-1,l=Bt.isObject(s);if(l&&Bt.isHTMLForm(s)&&(s=new FormData(s)),Bt.isFormData(s))return n?JSON.stringify(n4(s)):s;if(Bt.isArrayBuffer(s)||Bt.isBuffer(s)||Bt.isStream(s)||Bt.isFile(s)||Bt.isBlob(s)||Bt.isReadableStream(s))return s;if(Bt.isArrayBufferView(s))return s.buffer;if(Bt.isURLSearchParams(s))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let d;if(l){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Y6(s,this.formSerializer).toString();if((d=Bt.isFileList(s))||r.indexOf("multipart/form-data")>-1){const x=this.env&&this.env.FormData;return Wp(d?{"files[]":s}:s,x&&new x,this.formSerializer)}}return l||n?(a.setContentType("application/json",!1),X6(s)):s}],transformResponse:[function(s){const a=this.transitional||hx.transitional,r=a&&a.forcedJSONParsing,n=this.responseType==="json";if(Bt.isResponse(s)||Bt.isReadableStream(s))return s;if(s&&Bt.isString(s)&&(r&&!this.responseType||n)){const i=!(a&&a.silentJSONParsing)&&n;try{return JSON.parse(s,this.parseReviver)}catch(d){if(i)throw d.name==="SyntaxError"?Is.from(d,Is.ERR_BAD_RESPONSE,this,null,this.response):d}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Nn.classes.FormData,Blob:Nn.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Bt.forEach(["delete","get","head","post","put","patch"],t=>{hx.headers[t]={}});const J6=Bt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Q6=t=>{const s={};let a,r,n;return t&&t.split(`
`).forEach(function(i){n=i.indexOf(":"),a=i.substring(0,n).trim().toLowerCase(),r=i.substring(n+1).trim(),!(!a||s[a]&&J6[a])&&(a==="set-cookie"?s[a]?s[a].push(r):s[a]=[r]:s[a]=s[a]?s[a]+", "+r:r)}),s},SN=Symbol("internals");function Tu(t){return t&&String(t).trim().toLowerCase()}function ym(t){return t===!1||t==null?t:Bt.isArray(t)?t.map(ym):String(t)}function Z6(t){const s=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=a.exec(t);)s[r[1]]=r[2];return s}const e5=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Mg(t,s,a,r,n){if(Bt.isFunction(r))return r.call(this,s,a);if(n&&(s=a),!!Bt.isString(s)){if(Bt.isString(r))return s.indexOf(r)!==-1;if(Bt.isRegExp(r))return r.test(s)}}function t5(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,a,r)=>a.toUpperCase()+r)}function s5(t,s){const a=Bt.toCamelCase(" "+s);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+a,{value:function(n,l,i){return this[r].call(this,s,n,l,i)},configurable:!0})})}let Jn=class{constructor(s){s&&this.set(s)}set(s,a,r){const n=this;function l(d,x,h){const m=Tu(x);if(!m)throw new Error("header name must be a non-empty string");const b=Bt.findKey(n,m);(!b||n[b]===void 0||h===!0||h===void 0&&n[b]!==!1)&&(n[b||x]=ym(d))}const i=(d,x)=>Bt.forEach(d,(h,m)=>l(h,m,x));if(Bt.isPlainObject(s)||s instanceof this.constructor)i(s,a);else if(Bt.isString(s)&&(s=s.trim())&&!e5(s))i(Q6(s),a);else if(Bt.isObject(s)&&Bt.isIterable(s)){let d={},x,h;for(const m of s){if(!Bt.isArray(m))throw TypeError("Object iterator must return a key-value pair");d[h=m[0]]=(x=d[h])?Bt.isArray(x)?[...x,m[1]]:[x,m[1]]:m[1]}i(d,a)}else s!=null&&l(a,s,r);return this}get(s,a){if(s=Tu(s),s){const r=Bt.findKey(this,s);if(r){const n=this[r];if(!a)return n;if(a===!0)return Z6(n);if(Bt.isFunction(a))return a.call(this,n,r);if(Bt.isRegExp(a))return a.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,a){if(s=Tu(s),s){const r=Bt.findKey(this,s);return!!(r&&this[r]!==void 0&&(!a||Mg(this,this[r],r,a)))}return!1}delete(s,a){const r=this;let n=!1;function l(i){if(i=Tu(i),i){const d=Bt.findKey(r,i);d&&(!a||Mg(r,r[d],d,a))&&(delete r[d],n=!0)}}return Bt.isArray(s)?s.forEach(l):l(s),n}clear(s){const a=Object.keys(this);let r=a.length,n=!1;for(;r--;){const l=a[r];(!s||Mg(this,this[l],l,s,!0))&&(delete this[l],n=!0)}return n}normalize(s){const a=this,r={};return Bt.forEach(this,(n,l)=>{const i=Bt.findKey(r,l);if(i){a[i]=ym(n),delete a[l];return}const d=s?t5(l):String(l).trim();d!==l&&delete a[l],a[d]=ym(n),r[d]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const a=Object.create(null);return Bt.forEach(this,(r,n)=>{r!=null&&r!==!1&&(a[n]=s&&Bt.isArray(r)?r.join(", "):r)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,a])=>s+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...a){const r=new this(s);return a.forEach(n=>r.set(n)),r}static accessor(s){const r=(this[SN]=this[SN]={accessors:{}}).accessors,n=this.prototype;function l(i){const d=Tu(i);r[d]||(s5(n,i),r[d]=!0)}return Bt.isArray(s)?s.forEach(l):l(s),this}};Jn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Bt.reduceDescriptors(Jn.prototype,({value:t},s)=>{let a=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(r){this[a]=r}}});Bt.freezeMethods(Jn);function Ig(t,s){const a=this||hx,r=s||a,n=Jn.from(r.headers);let l=r.data;return Bt.forEach(t,function(d){l=d.call(a,l,n.normalize(),s?s.status:void 0)}),n.normalize(),l}function o4(t){return!!(t&&t.__CANCEL__)}let mx=class extends Is{constructor(s,a,r){super(s??"canceled",Is.ERR_CANCELED,a,r),this.name="CanceledError",this.__CANCEL__=!0}};function l4(t,s,a){const r=a.config.validateStatus;!a.status||!r||r(a.status)?t(a):s(new Is("Request failed with status code "+a.status,[Is.ERR_BAD_REQUEST,Is.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function a5(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function r5(t,s){t=t||10;const a=new Array(t),r=new Array(t);let n=0,l=0,i;return s=s!==void 0?s:1e3,function(x){const h=Date.now(),m=r[l];i||(i=h),a[n]=x,r[n]=h;let b=l,f=0;for(;b!==n;)f+=a[b++],b=b%t;if(n=(n+1)%t,n===l&&(l=(l+1)%t),h-i<s)return;const N=m&&h-m;return N?Math.round(f*1e3/N):void 0}}function n5(t,s){let a=0,r=1e3/s,n,l;const i=(h,m=Date.now())=>{a=m,n=null,l&&(clearTimeout(l),l=null),t(...h)};return[(...h)=>{const m=Date.now(),b=m-a;b>=r?i(h,m):(n=h,l||(l=setTimeout(()=>{l=null,i(n)},r-b)))},()=>n&&i(n)]}const op=(t,s,a=3)=>{let r=0;const n=r5(50,250);return n5(l=>{const i=l.loaded,d=l.lengthComputable?l.total:void 0,x=i-r,h=n(x),m=i<=d;r=i;const b={loaded:i,total:d,progress:d?i/d:void 0,bytes:x,rate:h||void 0,estimated:h&&d&&m?(d-i)/h:void 0,event:l,lengthComputable:d!=null,[s?"download":"upload"]:!0};t(b)},a)},kN=(t,s)=>{const a=t!=null;return[r=>s[0]({lengthComputable:a,total:t,loaded:r}),s[1]]},DN=t=>(...s)=>Bt.asap(()=>t(...s)),o5=Nn.hasStandardBrowserEnv?((t,s)=>a=>(a=new URL(a,Nn.origin),t.protocol===a.protocol&&t.host===a.host&&(s||t.port===a.port)))(new URL(Nn.origin),Nn.navigator&&/(msie|trident)/i.test(Nn.navigator.userAgent)):()=>!0,l5=Nn.hasStandardBrowserEnv?{write(t,s,a,r,n,l,i){if(typeof document>"u")return;const d=[`${t}=${encodeURIComponent(s)}`];Bt.isNumber(a)&&d.push(`expires=${new Date(a).toUTCString()}`),Bt.isString(r)&&d.push(`path=${r}`),Bt.isString(n)&&d.push(`domain=${n}`),l===!0&&d.push("secure"),Bt.isString(i)&&d.push(`SameSite=${i}`),document.cookie=d.join("; ")},read(t){if(typeof document>"u")return null;const s=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return s?decodeURIComponent(s[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function i5(t){return typeof t!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function c5(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function i4(t,s,a){let r=!i5(s);return t&&(r||a==!1)?c5(t,s):s}const EN=t=>t instanceof Jn?{...t}:t;function ld(t,s){s=s||{};const a={};function r(h,m,b,f){return Bt.isPlainObject(h)&&Bt.isPlainObject(m)?Bt.merge.call({caseless:f},h,m):Bt.isPlainObject(m)?Bt.merge({},m):Bt.isArray(m)?m.slice():m}function n(h,m,b,f){if(Bt.isUndefined(m)){if(!Bt.isUndefined(h))return r(void 0,h,b,f)}else return r(h,m,b,f)}function l(h,m){if(!Bt.isUndefined(m))return r(void 0,m)}function i(h,m){if(Bt.isUndefined(m)){if(!Bt.isUndefined(h))return r(void 0,h)}else return r(void 0,m)}function d(h,m,b){if(b in s)return r(h,m);if(b in t)return r(void 0,h)}const x={url:l,method:l,data:l,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:d,headers:(h,m,b)=>n(EN(h),EN(m),b,!0)};return Bt.forEach(Object.keys({...t,...s}),function(m){if(m==="__proto__"||m==="constructor"||m==="prototype")return;const b=Bt.hasOwnProp(x,m)?x[m]:n,f=b(t[m],s[m],m);Bt.isUndefined(f)&&b!==d||(a[m]=f)}),a}const c4=t=>{const s=ld({},t);let{data:a,withXSRFToken:r,xsrfHeaderName:n,xsrfCookieName:l,headers:i,auth:d}=s;if(s.headers=i=Jn.from(i),s.url=r4(i4(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),d&&i.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),Bt.isFormData(a)){if(Nn.hasStandardBrowserEnv||Nn.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(Bt.isFunction(a.getHeaders)){const x=a.getHeaders(),h=["content-type","content-length"];Object.entries(x).forEach(([m,b])=>{h.includes(m.toLowerCase())&&i.set(m,b)})}}if(Nn.hasStandardBrowserEnv&&(r&&Bt.isFunction(r)&&(r=r(s)),r||r!==!1&&o5(s.url))){const x=n&&l&&l5.read(l);x&&i.set(n,x)}return s},d5=typeof XMLHttpRequest<"u",u5=d5&&function(t){return new Promise(function(a,r){const n=c4(t);let l=n.data;const i=Jn.from(n.headers).normalize();let{responseType:d,onUploadProgress:x,onDownloadProgress:h}=n,m,b,f,N,p;function v(){N&&N(),p&&p(),n.cancelToken&&n.cancelToken.unsubscribe(m),n.signal&&n.signal.removeEventListener("abort",m)}let y=new XMLHttpRequest;y.open(n.method.toUpperCase(),n.url,!0),y.timeout=n.timeout;function g(){if(!y)return;const C=Jn.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),P={data:!d||d==="text"||d==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:C,config:t,request:y};l4(function(E){a(E),v()},function(E){r(E),v()},P),y=null}"onloadend"in y?y.onloadend=g:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(g)},y.onabort=function(){y&&(r(new Is("Request aborted",Is.ECONNABORTED,t,y)),y=null)},y.onerror=function(S){const P=S&&S.message?S.message:"Network Error",k=new Is(P,Is.ERR_NETWORK,t,y);k.event=S||null,r(k),y=null},y.ontimeout=function(){let S=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const P=n.transitional||sb;n.timeoutErrorMessage&&(S=n.timeoutErrorMessage),r(new Is(S,P.clarifyTimeoutError?Is.ETIMEDOUT:Is.ECONNABORTED,t,y)),y=null},l===void 0&&i.setContentType(null),"setRequestHeader"in y&&Bt.forEach(i.toJSON(),function(S,P){y.setRequestHeader(P,S)}),Bt.isUndefined(n.withCredentials)||(y.withCredentials=!!n.withCredentials),d&&d!=="json"&&(y.responseType=n.responseType),h&&([f,p]=op(h,!0),y.addEventListener("progress",f)),x&&y.upload&&([b,N]=op(x),y.upload.addEventListener("progress",b),y.upload.addEventListener("loadend",N)),(n.cancelToken||n.signal)&&(m=C=>{y&&(r(!C||C.type?new mx(null,t,y):C),y.abort(),y=null)},n.cancelToken&&n.cancelToken.subscribe(m),n.signal&&(n.signal.aborted?m():n.signal.addEventListener("abort",m)));const j=a5(n.url);if(j&&Nn.protocols.indexOf(j)===-1){r(new Is("Unsupported protocol "+j+":",Is.ERR_BAD_REQUEST,t));return}y.send(l||null)})},x5=(t,s)=>{const{length:a}=t=t?t.filter(Boolean):[];if(s||a){let r=new AbortController,n;const l=function(h){if(!n){n=!0,d();const m=h instanceof Error?h:this.reason;r.abort(m instanceof Is?m:new mx(m instanceof Error?m.message:m))}};let i=s&&setTimeout(()=>{i=null,l(new Is(`timeout of ${s}ms exceeded`,Is.ETIMEDOUT))},s);const d=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(l):h.removeEventListener("abort",l)}),t=null)};t.forEach(h=>h.addEventListener("abort",l));const{signal:x}=r;return x.unsubscribe=()=>Bt.asap(d),x}},h5=function*(t,s){let a=t.byteLength;if(a<s){yield t;return}let r=0,n;for(;r<a;)n=r+s,yield t.slice(r,n),r=n},m5=async function*(t,s){for await(const a of p5(t))yield*h5(a,s)},p5=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:a,value:r}=await s.read();if(a)break;yield r}}finally{await s.cancel()}},TN=(t,s,a,r)=>{const n=m5(t,s);let l=0,i,d=x=>{i||(i=!0,r&&r(x))};return new ReadableStream({async pull(x){try{const{done:h,value:m}=await n.next();if(h){d(),x.close();return}let b=m.byteLength;if(a){let f=l+=b;a(f)}x.enqueue(new Uint8Array(m))}catch(h){throw d(h),h}},cancel(x){return d(x),n.return()}},{highWaterMark:2})},AN=64*1024,{isFunction:_h}=Bt,f5=(({Request:t,Response:s})=>({Request:t,Response:s}))(Bt.global),{ReadableStream:FN,TextEncoder:PN}=Bt.global,MN=(t,...s)=>{try{return!!t(...s)}catch{return!1}},g5=t=>{t=Bt.merge.call({skipUndefined:!0},f5,t);const{fetch:s,Request:a,Response:r}=t,n=s?_h(s):typeof fetch=="function",l=_h(a),i=_h(r);if(!n)return!1;const d=n&&_h(FN),x=n&&(typeof PN=="function"?(p=>v=>p.encode(v))(new PN):async p=>new Uint8Array(await new a(p).arrayBuffer())),h=l&&d&&MN(()=>{let p=!1;const v=new a(Nn.origin,{body:new FN,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!v}),m=i&&d&&MN(()=>Bt.isReadableStream(new r("").body)),b={stream:m&&(p=>p.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!b[p]&&(b[p]=(v,y)=>{let g=v&&v[p];if(g)return g.call(v);throw new Is(`Response type '${p}' is not supported`,Is.ERR_NOT_SUPPORT,y)})});const f=async p=>{if(p==null)return 0;if(Bt.isBlob(p))return p.size;if(Bt.isSpecCompliantForm(p))return(await new a(Nn.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(Bt.isArrayBufferView(p)||Bt.isArrayBuffer(p))return p.byteLength;if(Bt.isURLSearchParams(p)&&(p=p+""),Bt.isString(p))return(await x(p)).byteLength},N=async(p,v)=>{const y=Bt.toFiniteNumber(p.getContentLength());return y??f(v)};return async p=>{let{url:v,method:y,data:g,signal:j,cancelToken:C,timeout:S,onDownloadProgress:P,onUploadProgress:k,responseType:E,headers:M,withCredentials:L="same-origin",fetchOptions:O}=c4(p),q=s||fetch;E=E?(E+"").toLowerCase():"text";let B=x5([j,C&&C.toAbortSignal()],S),se=null;const le=B&&B.unsubscribe&&(()=>{B.unsubscribe()});let pe;try{if(k&&h&&y!=="get"&&y!=="head"&&(pe=await N(M,g))!==0){let R=new a(v,{method:"POST",body:g,duplex:"half"}),F;if(Bt.isFormData(g)&&(F=R.headers.get("content-type"))&&M.setContentType(F),R.body){const[A,H]=kN(pe,op(DN(k)));g=TN(R.body,AN,A,H)}}Bt.isString(L)||(L=L?"include":"omit");const U=l&&"credentials"in a.prototype,Y={...O,signal:B,method:y.toUpperCase(),headers:M.normalize().toJSON(),body:g,duplex:"half",credentials:U?L:void 0};se=l&&new a(v,Y);let W=await(l?q(se,O):q(v,Y));const re=m&&(E==="stream"||E==="response");if(m&&(P||re&&le)){const R={};["status","statusText","headers"].forEach(D=>{R[D]=W[D]});const F=Bt.toFiniteNumber(W.headers.get("content-length")),[A,H]=P&&kN(F,op(DN(P),!0))||[];W=new r(TN(W.body,AN,A,()=>{H&&H(),le&&le()}),R)}E=E||"text";let G=await b[Bt.findKey(b,E)||"text"](W,p);return!re&&le&&le(),await new Promise((R,F)=>{l4(R,F,{data:G,headers:Jn.from(W.headers),status:W.status,statusText:W.statusText,config:p,request:se})})}catch(U){throw le&&le(),U&&U.name==="TypeError"&&/Load failed|fetch/i.test(U.message)?Object.assign(new Is("Network Error",Is.ERR_NETWORK,p,se,U&&U.response),{cause:U.cause||U}):Is.from(U,U&&U.code,p,se,U&&U.response)}}},y5=new Map,d4=t=>{let s=t&&t.env||{};const{fetch:a,Request:r,Response:n}=s,l=[r,n,a];let i=l.length,d=i,x,h,m=y5;for(;d--;)x=l[d],h=m.get(x),h===void 0&&m.set(x,h=d?new Map:g5(s)),m=h;return h};d4();const rb={http:L6,xhr:u5,fetch:{get:d4}};Bt.forEach(rb,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const IN=t=>`- ${t}`,b5=t=>Bt.isFunction(t)||t===null||t===!1;function v5(t,s){t=Bt.isArray(t)?t:[t];const{length:a}=t;let r,n;const l={};for(let i=0;i<a;i++){r=t[i];let d;if(n=r,!b5(r)&&(n=rb[(d=String(r)).toLowerCase()],n===void 0))throw new Is(`Unknown adapter '${d}'`);if(n&&(Bt.isFunction(n)||(n=n.get(s))))break;l[d||"#"+i]=n}if(!n){const i=Object.entries(l).map(([x,h])=>`adapter ${x} `+(h===!1?"is not supported by the environment":"is not available in the build"));let d=a?i.length>1?`since :
`+i.map(IN).join(`
`):" "+IN(i[0]):"as no adapter specified";throw new Is("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return n}const u4={getAdapter:v5,adapters:rb};function Lg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new mx(null,t)}function LN(t){return Lg(t),t.headers=Jn.from(t.headers),t.data=Ig.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),u4.getAdapter(t.adapter||hx.adapter,t)(t).then(function(r){return Lg(t),r.data=Ig.call(t,t.transformResponse,r),r.headers=Jn.from(r.headers),r},function(r){return o4(r)||(Lg(t),r&&r.response&&(r.response.data=Ig.call(t,t.transformResponse,r.response),r.response.headers=Jn.from(r.response.headers))),Promise.reject(r)})}const x4="1.13.5",Gp={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{Gp[t]=function(r){return typeof r===t||"a"+(s<1?"n ":" ")+t}});const ON={};Gp.transitional=function(s,a,r){function n(l,i){return"[Axios v"+x4+"] Transitional option '"+l+"'"+i+(r?". "+r:"")}return(l,i,d)=>{if(s===!1)throw new Is(n(i," has been removed"+(a?" in "+a:"")),Is.ERR_DEPRECATED);return a&&!ON[i]&&(ON[i]=!0,console.warn(n(i," has been deprecated since v"+a+" and will be removed in the near future"))),s?s(l,i,d):!0}};Gp.spelling=function(s){return(a,r)=>(console.warn(`${r} is likely a misspelling of ${s}`),!0)};function w5(t,s,a){if(typeof t!="object")throw new Is("options must be an object",Is.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let n=r.length;for(;n-- >0;){const l=r[n],i=s[l];if(i){const d=t[l],x=d===void 0||i(d,l,t);if(x!==!0)throw new Is("option "+l+" must be "+x,Is.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new Is("Unknown option "+l,Is.ERR_BAD_OPTION)}}const bm={assertOptions:w5,validators:Gp},Eo=bm.validators;let td=class{constructor(s){this.defaults=s||{},this.interceptors={request:new CN,response:new CN}}async request(s,a){try{return await this._request(s,a)}catch(r){if(r instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const l=n.stack?n.stack.replace(/^.+\n/,""):"";try{r.stack?l&&!String(r.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+l):r.stack=l}catch{}}throw r}}_request(s,a){typeof s=="string"?(a=a||{},a.url=s):a=s||{},a=ld(this.defaults,a);const{transitional:r,paramsSerializer:n,headers:l}=a;r!==void 0&&bm.assertOptions(r,{silentJSONParsing:Eo.transitional(Eo.boolean),forcedJSONParsing:Eo.transitional(Eo.boolean),clarifyTimeoutError:Eo.transitional(Eo.boolean),legacyInterceptorReqResOrdering:Eo.transitional(Eo.boolean)},!1),n!=null&&(Bt.isFunction(n)?a.paramsSerializer={serialize:n}:bm.assertOptions(n,{encode:Eo.function,serialize:Eo.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),bm.assertOptions(a,{baseUrl:Eo.spelling("baseURL"),withXsrfToken:Eo.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let i=l&&Bt.merge(l.common,l[a.method]);l&&Bt.forEach(["delete","get","head","post","put","patch","common"],p=>{delete l[p]}),a.headers=Jn.concat(i,l);const d=[];let x=!0;this.interceptors.request.forEach(function(v){if(typeof v.runWhen=="function"&&v.runWhen(a)===!1)return;x=x&&v.synchronous;const y=a.transitional||sb;y&&y.legacyInterceptorReqResOrdering?d.unshift(v.fulfilled,v.rejected):d.push(v.fulfilled,v.rejected)});const h=[];this.interceptors.response.forEach(function(v){h.push(v.fulfilled,v.rejected)});let m,b=0,f;if(!x){const p=[LN.bind(this),void 0];for(p.unshift(...d),p.push(...h),f=p.length,m=Promise.resolve(a);b<f;)m=m.then(p[b++],p[b++]);return m}f=d.length;let N=a;for(;b<f;){const p=d[b++],v=d[b++];try{N=p(N)}catch(y){v.call(this,y);break}}try{m=LN.call(this,N)}catch(p){return Promise.reject(p)}for(b=0,f=h.length;b<f;)m=m.then(h[b++],h[b++]);return m}getUri(s){s=ld(this.defaults,s);const a=i4(s.baseURL,s.url,s.allowAbsoluteUrls);return r4(a,s.params,s.paramsSerializer)}};Bt.forEach(["delete","get","head","options"],function(s){td.prototype[s]=function(a,r){return this.request(ld(r||{},{method:s,url:a,data:(r||{}).data}))}});Bt.forEach(["post","put","patch"],function(s){function a(r){return function(l,i,d){return this.request(ld(d||{},{method:s,headers:r?{"Content-Type":"multipart/form-data"}:{},url:l,data:i}))}}td.prototype[s]=a(),td.prototype[s+"Form"]=a(!0)});let N5=class h4{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(l){a=l});const r=this;this.promise.then(n=>{if(!r._listeners)return;let l=r._listeners.length;for(;l-- >0;)r._listeners[l](n);r._listeners=null}),this.promise.then=n=>{let l;const i=new Promise(d=>{r.subscribe(d),l=d}).then(n);return i.cancel=function(){r.unsubscribe(l)},i},s(function(l,i,d){r.reason||(r.reason=new mx(l,i,d),a(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const a=this._listeners.indexOf(s);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const s=new AbortController,a=r=>{s.abort(r)};return this.subscribe(a),s.signal.unsubscribe=()=>this.unsubscribe(a),s.signal}static source(){let s;return{token:new h4(function(n){s=n}),cancel:s}}};function j5(t){return function(a){return t.apply(null,a)}}function C5(t){return Bt.isObject(t)&&t.isAxiosError===!0}const Sy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Sy).forEach(([t,s])=>{Sy[s]=t});function m4(t){const s=new td(t),a=Y2(td.prototype.request,s);return Bt.extend(a,td.prototype,s,{allOwnKeys:!0}),Bt.extend(a,s,null,{allOwnKeys:!0}),a.create=function(n){return m4(ld(t,n))},a}const br=m4(hx);br.Axios=td;br.CanceledError=mx;br.CancelToken=N5;br.isCancel=o4;br.VERSION=x4;br.toFormData=Wp;br.AxiosError=Is;br.Cancel=br.CanceledError;br.all=function(s){return Promise.all(s)};br.spread=j5;br.isAxiosError=C5;br.mergeConfig=ld;br.AxiosHeaders=Jn;br.formToJSON=t=>n4(Bt.isHTMLForm(t)?new FormData(t):t);br.getAdapter=u4.getAdapter;br.HttpStatusCode=Sy;br.default=br;const{Axios:XQ,AxiosError:JQ,CanceledError:QQ,isCancel:ZQ,CancelToken:eZ,VERSION:tZ,all:sZ,Cancel:aZ,isAxiosError:rZ,spread:nZ,toFormData:oZ,AxiosHeaders:lZ,HttpStatusCode:iZ,formToJSON:cZ,getAdapter:dZ,mergeConfig:uZ}=br,ne=br.create({baseURL:"http://26.53.171.75:8443/api"});/*!
* sweetalert2 v11.26.17
* Released under the MIT License.
*/function p4(t,s,a){if(typeof t=="function"?t===s:t.has(s))return arguments.length<3?s:a;throw new TypeError("Private element is not present on this object")}function S5(t,s){if(s.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _N(t,s){return t.get(p4(t,s))}function k5(t,s,a){S5(t,s),s.set(t,a)}function D5(t,s,a){return t.set(p4(t,s),a),a}const E5=100,Cs={},T5=()=>{Cs.previousActiveElement instanceof HTMLElement?(Cs.previousActiveElement.focus(),Cs.previousActiveElement=null):document.body&&document.body.focus()},A5=t=>new Promise(s=>{if(!t)return s();const a=window.scrollX,r=window.scrollY;Cs.restoreFocusTimeout=setTimeout(()=>{T5(),s()},E5),window.scrollTo(a,r)}),f4="swal2-",F5=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],Rt=F5.reduce((t,s)=>(t[s]=f4+s,t),{}),P5=["success","warning","info","question","error"],lp=P5.reduce((t,s)=>(t[s]=f4+s,t),{}),g4="SweetAlert2:",nb=t=>t.charAt(0).toUpperCase()+t.slice(1),_n=t=>{console.warn(`${g4} ${typeof t=="object"?t.join(" "):t}`)},gd=t=>{console.error(`${g4} ${t}`)},BN=[],M5=t=>{BN.includes(t)||(BN.push(t),_n(t))},y4=(t,s=null)=>{M5(`"${t}" is deprecated and will be removed in the next major release.${s?` Use "${s}" instead.`:""}`)},$p=t=>typeof t=="function"?t():t,ob=t=>t&&typeof t.toPromise=="function",px=t=>ob(t)?t.toPromise():Promise.resolve(t),lb=t=>t&&Promise.resolve(t)===t,Bn=()=>document.body.querySelector(`.${Rt.container}`),fx=t=>{const s=Bn();return s?s.querySelector(t):null},vo=t=>fx(`.${t}`),ba=()=>vo(Rt.popup),_0=()=>vo(Rt.icon),I5=()=>vo(Rt["icon-content"]),b4=()=>vo(Rt.title),ib=()=>vo(Rt["html-container"]),v4=()=>vo(Rt.image),cb=()=>vo(Rt["progress-steps"]),zp=()=>vo(Rt["validation-message"]),Wl=()=>fx(`.${Rt.actions} .${Rt.confirm}`),B0=()=>fx(`.${Rt.actions} .${Rt.cancel}`),yd=()=>fx(`.${Rt.actions} .${Rt.deny}`),L5=()=>vo(Rt["input-label"]),R0=()=>fx(`.${Rt.loader}`),gx=()=>vo(Rt.actions),w4=()=>vo(Rt.footer),Vp=()=>vo(Rt["timer-progress-bar"]),db=()=>vo(Rt.close),O5=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,ub=()=>{const t=ba();if(!t)return[];const s=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),a=Array.from(s).sort((l,i)=>{const d=parseInt(l.getAttribute("tabindex")||"0"),x=parseInt(i.getAttribute("tabindex")||"0");return d>x?1:d<x?-1:0}),r=t.querySelectorAll(O5),n=Array.from(r).filter(l=>l.getAttribute("tabindex")!=="-1");return[...new Set(a.concat(n))].filter(l=>Qn(l))},xb=()=>pi(document.body,Rt.shown)&&!pi(document.body,Rt["toast-shown"])&&!pi(document.body,Rt["no-backdrop"]),Yp=()=>{const t=ba();return t?pi(t,Rt.toast):!1},_5=()=>{const t=ba();return t?t.hasAttribute("data-loading"):!1},wo=(t,s)=>{if(t.textContent="",s){const r=new DOMParser().parseFromString(s,"text/html"),n=r.querySelector("head");n&&Array.from(n.childNodes).forEach(i=>{t.appendChild(i)});const l=r.querySelector("body");l&&Array.from(l.childNodes).forEach(i=>{i instanceof HTMLVideoElement||i instanceof HTMLAudioElement?t.appendChild(i.cloneNode(!0)):t.appendChild(i)})}},pi=(t,s)=>{if(!s)return!1;const a=s.split(/\s+/);for(let r=0;r<a.length;r++)if(!t.classList.contains(a[r]))return!1;return!0},B5=(t,s)=>{Array.from(t.classList).forEach(a=>{!Object.values(Rt).includes(a)&&!Object.values(lp).includes(a)&&!Object.values(s.showClass||{}).includes(a)&&t.classList.remove(a)})},go=(t,s,a)=>{if(B5(t,s),!s.customClass)return;const r=s.customClass[a];if(r){if(typeof r!="string"&&!r.forEach){_n(`Invalid type of customClass.${a}! Expected string or iterable object, got "${typeof r}"`);return}ga(t,r)}},Kp=(t,s)=>{if(!s)return null;switch(s){case"select":case"textarea":case"file":return t.querySelector(`.${Rt.popup} > .${Rt[s]}`);case"checkbox":return t.querySelector(`.${Rt.popup} > .${Rt.checkbox} input`);case"radio":return t.querySelector(`.${Rt.popup} > .${Rt.radio} input:checked`)||t.querySelector(`.${Rt.popup} > .${Rt.radio} input:first-child`);case"range":return t.querySelector(`.${Rt.popup} > .${Rt.range} input`);default:return t.querySelector(`.${Rt.popup} > .${Rt.input}`)}},N4=t=>{if(t.focus(),t.type!=="file"){const s=t.value;t.value="",t.value=s}},j4=(t,s,a)=>{!t||!s||(typeof s=="string"&&(s=s.split(/\s+/).filter(Boolean)),s.forEach(r=>{Array.isArray(t)?t.forEach(n=>{a?n.classList.add(r):n.classList.remove(r)}):a?t.classList.add(r):t.classList.remove(r)}))},ga=(t,s)=>{j4(t,s,!0)},Oo=(t,s)=>{j4(t,s,!1)},tc=(t,s)=>{const a=Array.from(t.children);for(let r=0;r<a.length;r++){const n=a[r];if(n instanceof HTMLElement&&pi(n,s))return n}},sd=(t,s,a)=>{a===`${parseInt(`${a}`)}`&&(a=parseInt(a)),a||parseInt(`${a}`)===0?t.style.setProperty(s,typeof a=="number"?`${a}px`:a):t.style.removeProperty(s)},Kr=(t,s="flex")=>{t&&(t.style.display=s)},Sn=t=>{t&&(t.style.display="none")},hb=(t,s="block")=>{t&&new MutationObserver(()=>{yx(t,t.innerHTML,s)}).observe(t,{childList:!0,subtree:!0})},RN=(t,s,a,r)=>{const n=t.querySelector(s);n&&n.style.setProperty(a,r)},yx=(t,s,a="flex")=>{s?Kr(t,a):Sn(t)},Qn=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),R5=()=>!Qn(Wl())&&!Qn(yd())&&!Qn(B0()),ky=t=>t.scrollHeight>t.clientHeight,U5=(t,s)=>{let a=t;for(;a&&a!==s;){if(ky(a))return!0;a=a.parentElement}return!1},C4=t=>{const s=window.getComputedStyle(t),a=parseFloat(s.getPropertyValue("animation-duration")||"0"),r=parseFloat(s.getPropertyValue("transition-duration")||"0");return a>0||r>0},mb=(t,s=!1)=>{const a=Vp();a&&Qn(a)&&(s&&(a.style.transition="none",a.style.width="100%"),setTimeout(()=>{a.style.transition=`width ${t/1e3}s linear`,a.style.width="0%"},10))},H5=()=>{const t=Vp();if(!t)return;const s=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const a=parseInt(window.getComputedStyle(t).width),r=s/a*100;t.style.width=`${r}%`},W5=()=>typeof window>"u"||typeof document>"u",G5=`
 <div aria-labelledby="${Rt.title}" aria-describedby="${Rt["html-container"]}" class="${Rt.popup}" tabindex="-1">
   <button type="button" class="${Rt.close}"></button>
   <ul class="${Rt["progress-steps"]}"></ul>
   <div class="${Rt.icon}"></div>
   <img class="${Rt.image}" />
   <h2 class="${Rt.title}" id="${Rt.title}"></h2>
   <div class="${Rt["html-container"]}" id="${Rt["html-container"]}"></div>
   <input class="${Rt.input}" id="${Rt.input}" />
   <input type="file" class="${Rt.file}" />
   <div class="${Rt.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${Rt.select}" id="${Rt.select}"></select>
   <div class="${Rt.radio}"></div>
   <label class="${Rt.checkbox}">
     <input type="checkbox" id="${Rt.checkbox}" />
     <span class="${Rt.label}"></span>
   </label>
   <textarea class="${Rt.textarea}" id="${Rt.textarea}"></textarea>
   <div class="${Rt["validation-message"]}" id="${Rt["validation-message"]}"></div>
   <div class="${Rt.actions}">
     <div class="${Rt.loader}"></div>
     <button type="button" class="${Rt.confirm}"></button>
     <button type="button" class="${Rt.deny}"></button>
     <button type="button" class="${Rt.cancel}"></button>
   </div>
   <div class="${Rt.footer}"></div>
   <div class="${Rt["timer-progress-bar-container"]}">
     <div class="${Rt["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),$5=()=>{const t=Bn();return t?(t.remove(),Oo([document.documentElement,document.body],[Rt["no-backdrop"],Rt["toast-shown"],Rt["has-column"]]),!0):!1},Vc=()=>{Cs.currentInstance&&Cs.currentInstance.resetValidationMessage()},z5=()=>{const t=ba();if(!t)return;const s=tc(t,Rt.input),a=tc(t,Rt.file),r=t.querySelector(`.${Rt.range} input`),n=t.querySelector(`.${Rt.range} output`),l=tc(t,Rt.select),i=t.querySelector(`.${Rt.checkbox} input`),d=tc(t,Rt.textarea);s&&(s.oninput=Vc),a&&(a.onchange=Vc),l&&(l.onchange=Vc),i&&(i.onchange=Vc),d&&(d.oninput=Vc),r&&n&&(r.oninput=()=>{Vc(),n.value=r.value},r.onchange=()=>{Vc(),n.value=r.value})},V5=t=>{if(typeof t=="string"){const s=document.querySelector(t);if(!s)throw new Error(`Target element "${t}" not found`);return s}return t},Y5=t=>{const s=ba();s&&(s.setAttribute("role",t.toast?"alert":"dialog"),s.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||s.setAttribute("aria-modal","true"))},K5=t=>{window.getComputedStyle(t).direction==="rtl"&&(ga(Bn(),Rt.rtl),Cs.isRTL=!0)},q5=t=>{const s=$5();if(W5()){gd("SweetAlert2 requires document to initialize");return}const a=document.createElement("div");a.className=Rt.container,s&&ga(a,Rt["no-transition"]),wo(a,G5),a.dataset.swal2Theme=t.theme;const r=V5(t.target||"body");r.appendChild(a),t.topLayer&&(a.setAttribute("popover",""),a.showPopover()),Y5(t),K5(r),z5()},pb=(t,s)=>{t instanceof HTMLElement?s.appendChild(t):typeof t=="object"?X5(t,s):t&&wo(s,t)},X5=(t,s)=>{"jquery"in t?J5(s,t):wo(s,t.toString())},J5=(t,s)=>{if(t.textContent="",0 in s)for(let a=0;a in s;a++)t.appendChild(s[a].cloneNode(!0));else t.appendChild(s.cloneNode(!0))},Q5=(t,s)=>{const a=gx(),r=R0();!a||!r||(!s.showConfirmButton&&!s.showDenyButton&&!s.showCancelButton?Sn(a):Kr(a),go(a,s,"actions"),Z5(a,r,s),wo(r,s.loaderHtml||""),go(r,s,"loader"))};function Z5(t,s,a){const r=Wl(),n=yd(),l=B0();!r||!n||!l||(_g(r,"confirm",a),_g(n,"deny",a),_g(l,"cancel",a),eE(r,n,l,a),a.reverseButtons&&(a.toast?(t.insertBefore(l,r),t.insertBefore(n,r)):(t.insertBefore(l,s),t.insertBefore(n,s),t.insertBefore(r,s))))}function eE(t,s,a,r){if(!r.buttonsStyling){Oo([t,s,a],Rt.styled);return}ga([t,s,a],Rt.styled),r.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",r.confirmButtonColor),r.denyButtonColor&&s.style.setProperty("--swal2-deny-button-background-color",r.denyButtonColor),r.cancelButtonColor&&a.style.setProperty("--swal2-cancel-button-background-color",r.cancelButtonColor),Og(t),Og(s),Og(a)}function Og(t){const s=window.getComputedStyle(t);if(s.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const a=s.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",s.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${a}`))}function _g(t,s,a){const r=nb(s);yx(t,a[`show${r}Button`],"inline-block"),wo(t,a[`${s}ButtonText`]||""),t.setAttribute("aria-label",a[`${s}ButtonAriaLabel`]||""),t.className=Rt[s],go(t,a,`${s}Button`)}const tE=(t,s)=>{const a=db();a&&(wo(a,s.closeButtonHtml||""),go(a,s,"closeButton"),yx(a,s.showCloseButton),a.setAttribute("aria-label",s.closeButtonAriaLabel||""))},sE=(t,s)=>{const a=Bn();a&&(aE(a,s.backdrop),rE(a,s.position),nE(a,s.grow),go(a,s,"container"))};function aE(t,s){typeof s=="string"?t.style.background=s:s||ga([document.documentElement,document.body],Rt["no-backdrop"])}function rE(t,s){s&&(s in Rt?ga(t,Rt[s]):(_n('The "position" parameter is not valid, defaulting to "center"'),ga(t,Rt.center)))}function nE(t,s){s&&ga(t,Rt[`grow-${s}`])}var Ua={innerParams:new WeakMap,domCache:new WeakMap};const oE=["input","file","range","select","radio","checkbox","textarea"],lE=(t,s)=>{const a=ba();if(!a)return;const r=Ua.innerParams.get(t),n=!r||s.input!==r.input;oE.forEach(l=>{const i=tc(a,Rt[l]);i&&(dE(l,s.inputAttributes),i.className=Rt[l],n&&Sn(i))}),s.input&&(n&&iE(s),uE(s))},iE=t=>{if(!t.input)return;if(!gr[t.input]){gd(`Unexpected type of input! Expected ${Object.keys(gr).join(" | ")}, got "${t.input}"`);return}const s=S4(t.input);if(!s)return;const a=gr[t.input](s,t);Kr(s),t.inputAutoFocus&&setTimeout(()=>{N4(a)})},cE=t=>{for(let s=0;s<t.attributes.length;s++){const a=t.attributes[s].name;["id","type","value","style"].includes(a)||t.removeAttribute(a)}},dE=(t,s)=>{const a=ba();if(!a)return;const r=Kp(a,t);if(r){cE(r);for(const n in s)r.setAttribute(n,s[n])}},uE=t=>{if(!t.input)return;const s=S4(t.input);s&&go(s,t,"input")},fb=(t,s)=>{!t.placeholder&&s.inputPlaceholder&&(t.placeholder=s.inputPlaceholder)},bx=(t,s,a)=>{if(a.inputLabel){const r=document.createElement("label"),n=Rt["input-label"];r.setAttribute("for",t.id),r.className=n,typeof a.customClass=="object"&&ga(r,a.customClass.inputLabel),r.innerText=a.inputLabel,s.insertAdjacentElement("beforebegin",r)}},S4=t=>{const s=ba();if(s)return tc(s,Rt[t]||Rt.input)},ip=(t,s)=>{["string","number"].includes(typeof s)?t.value=`${s}`:lb(s)||_n(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof s}"`)},gr={};gr.text=gr.email=gr.password=gr.number=gr.tel=gr.url=gr.search=gr.date=gr["datetime-local"]=gr.time=gr.week=gr.month=(t,s)=>{const a=t;return ip(a,s.inputValue),bx(a,a,s),fb(a,s),a.type=s.input,a};gr.file=(t,s)=>{const a=t;return bx(a,a,s),fb(a,s),a};gr.range=(t,s)=>{const a=t,r=a.querySelector("input"),n=a.querySelector("output");return r&&(ip(r,s.inputValue),r.type=s.input,bx(r,t,s)),n&&ip(n,s.inputValue),t};gr.select=(t,s)=>{const a=t;if(a.textContent="",s.inputPlaceholder){const r=document.createElement("option");wo(r,s.inputPlaceholder),r.value="",r.disabled=!0,r.selected=!0,a.appendChild(r)}return bx(a,a,s),a};gr.radio=t=>{const s=t;return s.textContent="",t};gr.checkbox=(t,s)=>{const a=ba();if(!a)throw new Error("Popup not found");const r=Kp(a,"checkbox");if(!r)throw new Error("Checkbox input not found");r.value="1",r.checked=!!s.inputValue;const l=t.querySelector("span");if(l){const i=s.inputPlaceholder||s.inputLabel;i&&wo(l,i)}return r};gr.textarea=(t,s)=>{const a=t;ip(a,s.inputValue),fb(a,s),bx(a,a,s);const r=n=>parseInt(window.getComputedStyle(n).marginLeft)+parseInt(window.getComputedStyle(n).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const n=ba();if(!n)return;const l=parseInt(window.getComputedStyle(n).width),i=()=>{if(!document.body.contains(a))return;const d=a.offsetWidth+r(a),x=ba();x&&(d>l?x.style.width=`${d}px`:sd(x,"width",s.width))};new MutationObserver(i).observe(a,{attributes:!0,attributeFilter:["style"]})}}),a};const xE=(t,s)=>{const a=ib();a&&(hb(a),go(a,s,"htmlContainer"),s.html?(pb(s.html,a),Kr(a,"block")):s.text?(a.textContent=s.text,Kr(a,"block")):Sn(a),lE(t,s))},hE=(t,s)=>{const a=w4();a&&(hb(a),yx(a,!!s.footer,"block"),s.footer&&pb(s.footer,a),go(a,s,"footer"))},mE=(t,s)=>{const a=Ua.innerParams.get(t),r=_0();if(!r)return;if(a&&s.icon===a.icon){HN(r,s),UN(r,s);return}if(!s.icon&&!s.iconHtml){Sn(r);return}if(s.icon&&Object.keys(lp).indexOf(s.icon)===-1){gd(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${s.icon}"`),Sn(r);return}Kr(r),HN(r,s),UN(r,s),ga(r,s.showClass&&s.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",k4)},UN=(t,s)=>{for(const[a,r]of Object.entries(lp))s.icon!==a&&Oo(t,r);ga(t,s.icon&&lp[s.icon]),gE(t,s),k4(),go(t,s,"icon")},k4=()=>{const t=ba();if(!t)return;const s=window.getComputedStyle(t).getPropertyValue("background-color"),a=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<a.length;r++)a[r].style.backgroundColor=s},pE=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,fE=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,HN=(t,s)=>{if(!s.icon&&!s.iconHtml)return;let a=t.innerHTML,r="";s.iconHtml?r=WN(s.iconHtml):s.icon==="success"?(r=pE(s),a=a.replace(/ style=".*?"/g,"")):s.icon==="error"?r=fE:s.icon&&(r=WN({question:"?",warning:"!",info:"i"}[s.icon])),a.trim()!==r.trim()&&wo(t,r)},gE=(t,s)=>{if(s.iconColor){t.style.color=s.iconColor,t.style.borderColor=s.iconColor;for(const a of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])RN(t,a,"background-color",s.iconColor);RN(t,".swal2-success-ring","border-color",s.iconColor)}},WN=t=>`<div class="${Rt["icon-content"]}">${t}</div>`,yE=(t,s)=>{const a=v4();if(a){if(!s.imageUrl){Sn(a);return}Kr(a,""),a.setAttribute("src",s.imageUrl),a.setAttribute("alt",s.imageAlt||""),sd(a,"width",s.imageWidth),sd(a,"height",s.imageHeight),a.className=Rt.image,go(a,s,"image")}};let gb=!1,D4=0,E4=0,T4=0,A4=0;const bE=t=>{t.addEventListener("mousedown",cp),document.body.addEventListener("mousemove",dp),t.addEventListener("mouseup",up),t.addEventListener("touchstart",cp),document.body.addEventListener("touchmove",dp),t.addEventListener("touchend",up)},vE=t=>{t.removeEventListener("mousedown",cp),document.body.removeEventListener("mousemove",dp),t.removeEventListener("mouseup",up),t.removeEventListener("touchstart",cp),document.body.removeEventListener("touchmove",dp),t.removeEventListener("touchend",up)},cp=t=>{const s=ba();if(!s)return;const a=_0();if(t.target===s||a&&a.contains(t.target)){gb=!0;const r=F4(t);D4=r.clientX,E4=r.clientY,T4=parseInt(s.style.insetInlineStart)||0,A4=parseInt(s.style.insetBlockStart)||0,ga(s,"swal2-dragging")}},dp=t=>{const s=ba();if(s&&gb){let{clientX:a,clientY:r}=F4(t);const n=a-D4;s.style.insetInlineStart=`${T4+(Cs.isRTL?-n:n)}px`,s.style.insetBlockStart=`${A4+(r-E4)}px`}},up=()=>{const t=ba();gb=!1,Oo(t,"swal2-dragging")},F4=t=>{let s=0,a=0;return t.type.startsWith("mouse")?(s=t.clientX,a=t.clientY):t.type.startsWith("touch")&&(s=t.touches[0].clientX,a=t.touches[0].clientY),{clientX:s,clientY:a}},wE=(t,s)=>{const a=Bn(),r=ba();if(!(!a||!r)){if(s.toast){sd(a,"width",s.width),r.style.width="100%";const n=R0();n&&r.insertBefore(n,_0())}else sd(r,"width",s.width);sd(r,"padding",s.padding),s.color&&(r.style.color=s.color),s.background&&(r.style.background=s.background),Sn(zp()),NE(r,s),s.draggable&&!s.toast?(ga(r,Rt.draggable),bE(r)):(Oo(r,Rt.draggable),vE(r))}},NE=(t,s)=>{const a=s.showClass||{};t.className=`${Rt.popup} ${Qn(t)?a.popup:""}`,s.toast?(ga([document.documentElement,document.body],Rt["toast-shown"]),ga(t,Rt.toast)):ga(t,Rt.modal),go(t,s,"popup"),typeof s.customClass=="string"&&ga(t,s.customClass),s.icon&&ga(t,Rt[`icon-${s.icon}`])},jE=(t,s)=>{const a=cb();if(!a)return;const{progressSteps:r,currentProgressStep:n}=s;if(!r||r.length===0||n===void 0){Sn(a);return}Kr(a),a.textContent="",n>=r.length&&_n("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((l,i)=>{const d=CE(l);if(a.appendChild(d),i===n&&ga(d,Rt["active-progress-step"]),i!==r.length-1){const x=SE(s);a.appendChild(x)}})},CE=t=>{const s=document.createElement("li");return ga(s,Rt["progress-step"]),wo(s,t),s},SE=t=>{const s=document.createElement("li");return ga(s,Rt["progress-step-line"]),t.progressStepsDistance&&sd(s,"width",t.progressStepsDistance),s},kE=(t,s)=>{const a=b4();a&&(hb(a),yx(a,!!(s.title||s.titleText),"block"),s.title&&pb(s.title,a),s.titleText&&(a.innerText=s.titleText),go(a,s,"title"))},P4=(t,s)=>{var a;wE(t,s),sE(t,s),jE(t,s),mE(t,s),yE(t,s),kE(t,s),tE(t,s),xE(t,s),Q5(t,s),hE(t,s);const r=ba();typeof s.didRender=="function"&&r&&s.didRender(r),(a=Cs.eventEmitter)===null||a===void 0||a.emit("didRender",r)},DE=()=>Qn(ba()),M4=()=>{var t;return(t=Wl())===null||t===void 0?void 0:t.click()},EE=()=>{var t;return(t=yd())===null||t===void 0?void 0:t.click()},TE=()=>{var t;return(t=B0())===null||t===void 0?void 0:t.click()},U0=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),I4=t=>{if(t.keydownTarget&&t.keydownHandlerAdded&&t.keydownHandler){const s=t.keydownHandler;t.keydownTarget.removeEventListener("keydown",s,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1}},AE=(t,s,a)=>{if(I4(t),!s.toast){const r=l=>PE(s,l,a);t.keydownHandler=r;const n=s.keydownListenerCapture?window:ba();if(n){t.keydownTarget=n,t.keydownListenerCapture=s.keydownListenerCapture;const l=r;t.keydownTarget.addEventListener("keydown",l,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0}}},Dy=(t,s)=>{var a;const r=ub();if(r.length){t=t+s,t===-2&&(t=r.length-1),t===r.length?t=0:t===-1&&(t=r.length-1),r[t].focus();return}(a=ba())===null||a===void 0||a.focus()},L4=["ArrowRight","ArrowDown"],FE=["ArrowLeft","ArrowUp"],PE=(t,s,a)=>{t&&(s.isComposing||s.keyCode===229||(t.stopKeydownPropagation&&s.stopPropagation(),s.key==="Enter"?ME(s,t):s.key==="Tab"?IE(s):[...L4,...FE].includes(s.key)?LE(s.key):s.key==="Escape"&&OE(s,t,a)))},ME=(t,s)=>{if(!$p(s.allowEnterKey))return;const a=ba();if(!a||!s.input)return;const r=Kp(a,s.input);if(t.target&&r&&t.target instanceof HTMLElement&&t.target.outerHTML===r.outerHTML){if(["textarea","file"].includes(s.input))return;M4(),t.preventDefault()}},IE=t=>{const s=t.target,a=ub();let r=-1;for(let n=0;n<a.length;n++)if(s===a[n]){r=n;break}t.shiftKey?Dy(r,-1):Dy(r,1),t.stopPropagation(),t.preventDefault()},LE=t=>{const s=gx(),a=Wl(),r=yd(),n=B0();if(!s||!a||!r||!n)return;const l=[a,r,n];if(document.activeElement instanceof HTMLElement&&!l.includes(document.activeElement))return;const i=L4.includes(t)?"nextElementSibling":"previousElementSibling";let d=document.activeElement;if(d){for(let x=0;x<s.children.length;x++){if(d=d[i],!d)return;if(d instanceof HTMLButtonElement&&Qn(d))break}d instanceof HTMLButtonElement&&d.focus()}},OE=(t,s,a)=>{t.preventDefault(),$p(s.allowEscapeKey)&&a(U0.esc)};var S0={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const _E=()=>{const t=Bn();Array.from(document.body.children).forEach(a=>{a.contains(t)||(a.hasAttribute("aria-hidden")&&a.setAttribute("data-previous-aria-hidden",a.getAttribute("aria-hidden")||""),a.setAttribute("aria-hidden","true"))})},O4=()=>{Array.from(document.body.children).forEach(s=>{s.hasAttribute("data-previous-aria-hidden")?(s.setAttribute("aria-hidden",s.getAttribute("data-previous-aria-hidden")||""),s.removeAttribute("data-previous-aria-hidden")):s.removeAttribute("aria-hidden")})},_4=typeof window<"u"&&!!window.GestureEvent,BE=()=>{if(_4&&!pi(document.body,Rt.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,ga(document.body,Rt.iosfix),RE()}},RE=()=>{const t=Bn();if(!t)return;let s;t.ontouchstart=a=>{s=UE(a)},t.ontouchmove=a=>{s&&(a.preventDefault(),a.stopPropagation())}},UE=t=>{const s=t.target,a=Bn(),r=ib();return!a||!r||HE(t)||WE(t)?!1:s===a||!ky(a)&&s instanceof HTMLElement&&!U5(s,r)&&s.tagName!=="INPUT"&&s.tagName!=="TEXTAREA"&&!(ky(r)&&r.contains(s))},HE=t=>!!(t.touches&&t.touches.length&&t.touches[0].touchType==="stylus"),WE=t=>t.touches&&t.touches.length>1,GE=()=>{if(pi(document.body,Rt.iosfix)){const t=parseInt(document.body.style.top,10);Oo(document.body,Rt.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},$E=()=>{const t=document.createElement("div");t.className=Rt["scrollbar-measure"],document.body.appendChild(t);const s=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),s};let g0=null;const zE=t=>{g0===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(g0=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${g0+$E()}px`)},VE=()=>{g0!==null&&(document.body.style.paddingRight=`${g0}px`,g0=null)};function B4(t,s,a,r){Yp()?GN(t,r):(A5(a).then(()=>GN(t,r)),I4(Cs)),_4?(s.setAttribute("style","display:none !important"),s.removeAttribute("class"),s.innerHTML=""):s.remove(),xb()&&(VE(),GE(),O4()),YE()}function YE(){Oo([document.documentElement,document.body],[Rt.shown,Rt["height-auto"],Rt["no-backdrop"],Rt["toast-shown"]])}function sc(t){t=qE(t);const s=S0.swalPromiseResolve.get(this),a=KE(this);this.isAwaitingPromise?t.isDismissed||(vx(this),s(t)):a&&s(t)}const KE=t=>{const s=ba();if(!s)return!1;const a=Ua.innerParams.get(t);if(!a||pi(s,a.hideClass.popup))return!1;Oo(s,a.showClass.popup),ga(s,a.hideClass.popup);const r=Bn();return Oo(r,a.showClass.backdrop),ga(r,a.hideClass.backdrop),XE(t,s,a),!0};function R4(t){const s=S0.swalPromiseReject.get(this);vx(this),s&&s(t)}const vx=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,Ua.innerParams.get(t)||t._destroy())},qE=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),XE=(t,s,a)=>{var r;const n=Bn(),l=C4(s);typeof a.willClose=="function"&&a.willClose(s),(r=Cs.eventEmitter)===null||r===void 0||r.emit("willClose",s),l&&n?JE(t,s,n,!!a.returnFocus,a.didClose):n&&B4(t,n,!!a.returnFocus,a.didClose)},JE=(t,s,a,r,n)=>{Cs.swalCloseEventFinishedCallback=B4.bind(null,t,a,r,n);const l=function(i){if(i.target===s){var d;(d=Cs.swalCloseEventFinishedCallback)===null||d===void 0||d.call(Cs),delete Cs.swalCloseEventFinishedCallback,s.removeEventListener("animationend",l),s.removeEventListener("transitionend",l)}};s.addEventListener("animationend",l),s.addEventListener("transitionend",l)},GN=(t,s)=>{setTimeout(()=>{var a;typeof s=="function"&&s.bind(t.params)(),(a=Cs.eventEmitter)===null||a===void 0||a.emit("didClose"),t._destroy&&t._destroy()})},k0=t=>{let s=ba();if(s||new ee,s=ba(),!s)return;const a=R0();Yp()?Sn(_0()):QE(s,t),Kr(a),s.setAttribute("data-loading","true"),s.setAttribute("aria-busy","true"),s.focus()},QE=(t,s)=>{const a=gx(),r=R0();!a||!r||(!s&&Qn(Wl())&&(s=Wl()),Kr(a),s&&(Sn(s),r.setAttribute("data-button-to-replace",s.className),a.insertBefore(r,s)),ga([t,a],Rt.loading))},ZE=(t,s)=>{s.input==="select"||s.input==="radio"?rT(t,s):["text","email","number","tel","textarea"].some(a=>a===s.input)&&(ob(s.inputValue)||lb(s.inputValue))&&(k0(Wl()),nT(t,s))},eT=(t,s)=>{const a=t.getInput();if(!a)return null;switch(s.input){case"checkbox":return tT(a);case"radio":return sT(a);case"file":return aT(a);default:return s.inputAutoTrim?a.value.trim():a.value}},tT=t=>t.checked?1:0,sT=t=>t.checked?t.value:null,aT=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,rT=(t,s)=>{const a=ba();if(!a)return;const r=n=>{s.input==="select"?oT(a,xp(n),s):s.input==="radio"&&lT(a,xp(n),s)};ob(s.inputOptions)||lb(s.inputOptions)?(k0(Wl()),px(s.inputOptions).then(n=>{t.hideLoading(),r(n)})):typeof s.inputOptions=="object"?r(s.inputOptions):gd(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof s.inputOptions}`)},nT=(t,s)=>{const a=t.getInput();a&&(Sn(a),px(s.inputValue).then(r=>{a.value=s.input==="number"?`${parseFloat(r)||0}`:`${r}`,Kr(a),a.focus(),t.hideLoading()}).catch(r=>{gd(`Error in inputValue promise: ${r}`),a.value="",Kr(a),a.focus(),t.hideLoading()}))};function oT(t,s,a){const r=tc(t,Rt.select);if(!r)return;const n=(l,i,d)=>{const x=document.createElement("option");x.value=d,wo(x,i),x.selected=U4(d,a.inputValue),l.appendChild(x)};s.forEach(l=>{const i=l[0],d=l[1];if(Array.isArray(d)){const x=document.createElement("optgroup");x.label=i,x.disabled=!1,r.appendChild(x),d.forEach(h=>n(x,h[1],h[0]))}else n(r,d,i)}),r.focus()}function lT(t,s,a){const r=tc(t,Rt.radio);if(!r)return;s.forEach(l=>{const i=l[0],d=l[1],x=document.createElement("input"),h=document.createElement("label");x.type="radio",x.name=Rt.radio,x.value=i,U4(i,a.inputValue)&&(x.checked=!0);const m=document.createElement("span");wo(m,d),m.className=Rt.label,h.appendChild(x),h.appendChild(m),r.appendChild(h)});const n=r.querySelectorAll("input");n.length&&n[0].focus()}const xp=t=>{const s=[];return t instanceof Map?t.forEach((a,r)=>{let n=a;typeof n=="object"&&(n=xp(n)),s.push([r,n])}):Object.keys(t).forEach(a=>{let r=t[a];typeof r=="object"&&(r=xp(r)),s.push([a,r])}),s},U4=(t,s)=>!!s&&s!==null&&s!==void 0&&s.toString()===t.toString(),iT=t=>{const s=Ua.innerParams.get(t);t.disableButtons(),s.input?H4(t,"confirm"):bb(t,!0)},cT=t=>{const s=Ua.innerParams.get(t);t.disableButtons(),s.returnInputValueOnDeny?H4(t,"deny"):yb(t,!1)},dT=(t,s)=>{t.disableButtons(),s(U0.cancel)},H4=(t,s)=>{const a=Ua.innerParams.get(t);if(!a.input){gd(`The "input" parameter is needed to be set when using returnInputValueOn${nb(s)}`);return}const r=t.getInput(),n=eT(t,a);a.inputValidator?uT(t,n,s):r&&!r.checkValidity()?(t.enableButtons(),t.showValidationMessage(a.validationMessage||r.validationMessage)):s==="deny"?yb(t,n):bb(t,n)},uT=(t,s,a)=>{const r=Ua.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>px(r.inputValidator(s,r.validationMessage))).then(l=>{t.enableButtons(),t.enableInput(),l?t.showValidationMessage(l):a==="deny"?yb(t,s):bb(t,s)})},yb=(t,s)=>{const a=Ua.innerParams.get(t);a.showLoaderOnDeny&&k0(yd()),a.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>px(a.preDeny(s,a.validationMessage))).then(n=>{n===!1?(t.hideLoading(),vx(t)):t.close({isDenied:!0,value:typeof n>"u"?s:n})}).catch(n=>W4(t,n))):t.close({isDenied:!0,value:s})},$N=(t,s)=>{t.close({isConfirmed:!0,value:s})},W4=(t,s)=>{t.rejectPromise(s)},bb=(t,s)=>{const a=Ua.innerParams.get(t);a.showLoaderOnConfirm&&k0(),a.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>px(a.preConfirm(s,a.validationMessage))).then(n=>{Qn(zp())||n===!1?(t.hideLoading(),vx(t)):$N(t,typeof n>"u"?s:n)}).catch(n=>W4(t,n))):$N(t,s)};function hp(){const t=Ua.innerParams.get(this);if(!t)return;const s=Ua.domCache.get(this);Sn(s.loader),Yp()?t.icon&&Kr(_0()):xT(s),Oo([s.popup,s.actions],Rt.loading),s.popup.removeAttribute("aria-busy"),s.popup.removeAttribute("data-loading"),s.confirmButton.disabled=!1,s.denyButton.disabled=!1,s.cancelButton.disabled=!1}const xT=t=>{const s=t.loader.getAttribute("data-button-to-replace"),a=s?t.popup.getElementsByClassName(s):[];a.length?Kr(a[0],"inline-block"):R5()&&Sn(t.actions)};function G4(){const t=Ua.innerParams.get(this),s=Ua.domCache.get(this);return s?Kp(s.popup,t.input):null}function $4(t,s,a){const r=Ua.domCache.get(t);s.forEach(n=>{r[n].disabled=a})}function z4(t,s){const a=ba();if(!(!a||!t))if(t.type==="radio"){const r=a.querySelectorAll(`[name="${Rt.radio}"]`);for(let n=0;n<r.length;n++)r[n].disabled=s}else t.disabled=s}function V4(){$4(this,["confirmButton","denyButton","cancelButton"],!1)}function Y4(){$4(this,["confirmButton","denyButton","cancelButton"],!0)}function K4(){z4(this.getInput(),!1)}function q4(){z4(this.getInput(),!0)}function X4(t){const s=Ua.domCache.get(this),a=Ua.innerParams.get(this);wo(s.validationMessage,t),s.validationMessage.className=Rt["validation-message"],a.customClass&&a.customClass.validationMessage&&ga(s.validationMessage,a.customClass.validationMessage),Kr(s.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",Rt["validation-message"]),N4(r),ga(r,Rt.inputerror))}function J4(){const t=Ua.domCache.get(this);t.validationMessage&&Sn(t.validationMessage);const s=this.getInput();s&&(s.removeAttribute("aria-invalid"),s.removeAttribute("aria-describedby"),Oo(s,Rt.inputerror))}const ac={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},hT=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],mT={allowEnterKey:void 0},pT=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Q4=t=>Object.prototype.hasOwnProperty.call(ac,t),Z4=t=>hT.indexOf(t)!==-1,eC=t=>mT[t],fT=t=>{Q4(t)||_n(`Unknown parameter "${t}"`)},gT=t=>{pT.includes(t)&&_n(`The parameter "${t}" is incompatible with toasts`)},yT=t=>{const s=eC(t);s&&y4(t,s)},tC=t=>{t.backdrop===!1&&t.allowOutsideClick&&_n('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&_n(`Invalid theme "${t.theme}"`);for(const s in t)fT(s),t.toast&&gT(s),yT(s)};function sC(t){const s=Bn(),a=ba(),r=Ua.innerParams.get(this);if(!a||pi(a,r.hideClass.popup)){_n("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const n=bT(t),l=Object.assign({},r,n);tC(l),s&&(s.dataset.swal2Theme=l.theme),P4(this,l),Ua.innerParams.set(this,l),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const bT=t=>{const s={};return Object.keys(t).forEach(a=>{if(Z4(a)){const r=t;s[a]=r[a]}else _n(`Invalid parameter to update: ${a}`)}),s};function aC(){var t;const s=Ua.domCache.get(this),a=Ua.innerParams.get(this);if(!a){rC(this);return}s.popup&&Cs.swalCloseEventFinishedCallback&&(Cs.swalCloseEventFinishedCallback(),delete Cs.swalCloseEventFinishedCallback),typeof a.didDestroy=="function"&&a.didDestroy(),(t=Cs.eventEmitter)===null||t===void 0||t.emit("didDestroy"),vT(this)}const vT=t=>{rC(t),delete t.params,delete Cs.keydownHandler,delete Cs.keydownTarget,delete Cs.currentInstance},rC=t=>{t.isAwaitingPromise?(Bg(Ua,t),t.isAwaitingPromise=!0):(Bg(S0,t),Bg(Ua,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},Bg=(t,s)=>{for(const a in t)t[a].delete(s)};var wT=Object.freeze({__proto__:null,_destroy:aC,close:sc,closeModal:sc,closePopup:sc,closeToast:sc,disableButtons:Y4,disableInput:q4,disableLoading:hp,enableButtons:V4,enableInput:K4,getInput:G4,handleAwaitingPromise:vx,hideLoading:hp,rejectPromise:R4,resetValidationMessage:J4,showValidationMessage:X4,update:sC});const NT=(t,s,a)=>{t.toast?jT(t,s,a):(ST(s),kT(s),DT(t,s,a))},jT=(t,s,a)=>{s.popup.onclick=()=>{t&&(CT(t)||t.timer||t.input)||a(U0.close)}},CT=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let mp=!1;const ST=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(s){t.container.onmouseup=()=>{},s.target===t.container&&(mp=!0)}}},kT=t=>{t.container.onmousedown=s=>{s.target===t.container&&s.preventDefault(),t.popup.onmouseup=function(a){t.popup.onmouseup=()=>{},(a.target===t.popup||a.target instanceof HTMLElement&&t.popup.contains(a.target))&&(mp=!0)}}},DT=(t,s,a)=>{s.container.onclick=r=>{if(mp){mp=!1;return}r.target===s.container&&$p(t.allowOutsideClick)&&a(U0.backdrop)}},ET=t=>typeof t=="object"&&t.jquery,zN=t=>t instanceof Element||ET(t),TT=t=>{const s={};return typeof t[0]=="object"&&!zN(t[0])?Object.assign(s,t[0]):["title","html","icon"].forEach((a,r)=>{const n=t[r];typeof n=="string"||zN(n)?s[a]=n:n!==void 0&&gd(`Unexpected type of ${a}! Expected "string" or "Element", got ${typeof n}`)}),s};function AT(...t){return new this(...t)}function FT(t){class s extends this{_main(r,n){return super._main(r,Object.assign({},t,n))}}return s}const PT=()=>Cs.timeout&&Cs.timeout.getTimerLeft(),nC=()=>{if(Cs.timeout)return H5(),Cs.timeout.stop()},oC=()=>{if(Cs.timeout){const t=Cs.timeout.start();return mb(t),t}},MT=()=>{const t=Cs.timeout;return t&&(t.running?nC():oC())},IT=t=>{if(Cs.timeout){const s=Cs.timeout.increase(t);return mb(s,!0),s}},LT=()=>!!(Cs.timeout&&Cs.timeout.isRunning());let VN=!1;const Ey={};function OT(t="data-swal-template"){Ey[t]=this,VN||(document.body.addEventListener("click",_T),VN=!0)}const _T=t=>{for(let s=t.target;s&&s!==document;s=s.parentNode)for(const a in Ey){const r=s.getAttribute&&s.getAttribute(a);if(r){Ey[a].fire({template:r});return}}};class BT{constructor(){this.events={}}_getHandlersByEventName(s){return typeof this.events[s]>"u"&&(this.events[s]=[]),this.events[s]}on(s,a){const r=this._getHandlersByEventName(s);r.includes(a)||r.push(a)}once(s,a){const r=(...n)=>{this.removeListener(s,r),a.apply(this,n)};this.on(s,r)}emit(s,...a){this._getHandlersByEventName(s).forEach(r=>{try{r.apply(this,a)}catch(n){console.error(n)}})}removeListener(s,a){const r=this._getHandlersByEventName(s),n=r.indexOf(a);n>-1&&r.splice(n,1)}removeAllListeners(s){this.events[s]!==void 0&&(this.events[s].length=0)}reset(){this.events={}}}Cs.eventEmitter=new BT;const RT=(t,s)=>{Cs.eventEmitter&&Cs.eventEmitter.on(t,s)},UT=(t,s)=>{Cs.eventEmitter&&Cs.eventEmitter.once(t,s)},HT=(t,s)=>{if(Cs.eventEmitter){if(!t){Cs.eventEmitter.reset();return}s?Cs.eventEmitter.removeListener(t,s):Cs.eventEmitter.removeAllListeners(t)}};var WT=Object.freeze({__proto__:null,argsToParams:TT,bindClickHandler:OT,clickCancel:TE,clickConfirm:M4,clickDeny:EE,enableLoading:k0,fire:AT,getActions:gx,getCancelButton:B0,getCloseButton:db,getConfirmButton:Wl,getContainer:Bn,getDenyButton:yd,getFocusableElements:ub,getFooter:w4,getHtmlContainer:ib,getIcon:_0,getIconContent:I5,getImage:v4,getInputLabel:L5,getLoader:R0,getPopup:ba,getProgressSteps:cb,getTimerLeft:PT,getTimerProgressBar:Vp,getTitle:b4,getValidationMessage:zp,increaseTimer:IT,isDeprecatedParameter:eC,isLoading:_5,isTimerRunning:LT,isUpdatableParameter:Z4,isValidParameter:Q4,isVisible:DE,mixin:FT,off:HT,on:RT,once:UT,resumeTimer:oC,showLoading:k0,stopTimer:nC,toggleTimer:MT});class GT{constructor(s,a){this.callback=s,this.remaining=a,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(s){const a=this.running;return a&&this.stop(),this.remaining+=s,a&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const lC=["swal-title","swal-html","swal-footer"],$T=t=>{const s=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!s)return{};const a=s.content;return QT(a),Object.assign(zT(a),VT(a),YT(a),KT(a),qT(a),XT(a),JT(a,lC))},zT=t=>{const s={};return Array.from(t.querySelectorAll("swal-param")).forEach(r=>{id(r,["name","value"]);const n=r.getAttribute("name"),l=r.getAttribute("value");!n||!l||(n in ac&&typeof ac[n]=="boolean"?s[n]=l!=="false":n in ac&&typeof ac[n]=="object"?s[n]=JSON.parse(l):s[n]=l)}),s},VT=t=>{const s={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(r=>{const n=r.getAttribute("name"),l=r.getAttribute("value");!n||!l||(s[n]=new Function(`return ${l}`)())}),s},YT=t=>{const s={};return Array.from(t.querySelectorAll("swal-button")).forEach(r=>{id(r,["type","color","aria-label"]);const n=r.getAttribute("type");if(!(!n||!["confirm","cancel","deny"].includes(n))){if(s[`${n}ButtonText`]=r.innerHTML,s[`show${nb(n)}Button`]=!0,r.hasAttribute("color")){const l=r.getAttribute("color");l!==null&&(s[`${n}ButtonColor`]=l)}if(r.hasAttribute("aria-label")){const l=r.getAttribute("aria-label");l!==null&&(s[`${n}ButtonAriaLabel`]=l)}}}),s},KT=t=>{const s={},a=t.querySelector("swal-image");return a&&(id(a,["src","width","height","alt"]),a.hasAttribute("src")&&(s.imageUrl=a.getAttribute("src")||void 0),a.hasAttribute("width")&&(s.imageWidth=a.getAttribute("width")||void 0),a.hasAttribute("height")&&(s.imageHeight=a.getAttribute("height")||void 0),a.hasAttribute("alt")&&(s.imageAlt=a.getAttribute("alt")||void 0)),s},qT=t=>{const s={},a=t.querySelector("swal-icon");return a&&(id(a,["type","color"]),a.hasAttribute("type")&&(s.icon=a.getAttribute("type")),a.hasAttribute("color")&&(s.iconColor=a.getAttribute("color")),s.iconHtml=a.innerHTML),s},XT=t=>{const s={},a=t.querySelector("swal-input");a&&(id(a,["type","label","placeholder","value"]),s.input=a.getAttribute("type")||"text",a.hasAttribute("label")&&(s.inputLabel=a.getAttribute("label")),a.hasAttribute("placeholder")&&(s.inputPlaceholder=a.getAttribute("placeholder")),a.hasAttribute("value")&&(s.inputValue=a.getAttribute("value")));const r=Array.from(t.querySelectorAll("swal-input-option"));return r.length&&(s.inputOptions={},r.forEach(n=>{id(n,["value"]);const l=n.getAttribute("value");if(!l)return;const i=n.innerHTML;s.inputOptions[l]=i})),s},JT=(t,s)=>{const a={};for(const r in s){const n=s[r],l=t.querySelector(n);l&&(id(l,[]),a[n.replace(/^swal-/,"")]=l.innerHTML.trim())}return a},QT=t=>{const s=lC.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(a=>{const r=a.tagName.toLowerCase();s.includes(r)||_n(`Unrecognized element <${r}>`)})},id=(t,s)=>{Array.from(t.attributes).forEach(a=>{s.indexOf(a.name)===-1&&_n([`Unrecognized attribute "${a.name}" on <${t.tagName.toLowerCase()}>.`,`${s.length?`Allowed attributes are: ${s.join(", ")}`:"To set the value, use HTML within the element."}`])})},iC=10,ZT=t=>{var s,a;const r=Bn(),n=ba();if(!r||!n)return;typeof t.willOpen=="function"&&t.willOpen(n),(s=Cs.eventEmitter)===null||s===void 0||s.emit("willOpen",n);const i=window.getComputedStyle(document.body).overflowY;if(sA(r,n,t),setTimeout(()=>{eA(r,n)},iC),xb()&&(tA(r,t.scrollbarPadding!==void 0?t.scrollbarPadding:!1,i),_E()),!Yp()&&!Cs.previousActiveElement&&(Cs.previousActiveElement=document.activeElement),typeof t.didOpen=="function"){const d=t.didOpen;setTimeout(()=>d(n))}(a=Cs.eventEmitter)===null||a===void 0||a.emit("didOpen",n)},pp=t=>{const s=ba();if(!s||t.target!==s)return;const a=Bn();a&&(s.removeEventListener("animationend",pp),s.removeEventListener("transitionend",pp),a.style.overflowY="auto",Oo(a,Rt["no-transition"]))},eA=(t,s)=>{C4(s)?(t.style.overflowY="hidden",s.addEventListener("animationend",pp),s.addEventListener("transitionend",pp)):t.style.overflowY="auto"},tA=(t,s,a)=>{BE(),s&&a!=="hidden"&&zE(a),setTimeout(()=>{t.scrollTop=0})},sA=(t,s,a)=>{var r;(r=a.showClass)!==null&&r!==void 0&&r.backdrop&&ga(t,a.showClass.backdrop),a.animation?(s.style.setProperty("opacity","0","important"),Kr(s,"grid"),setTimeout(()=>{var n;(n=a.showClass)!==null&&n!==void 0&&n.popup&&ga(s,a.showClass.popup),s.style.removeProperty("opacity")},iC)):Kr(s,"grid"),ga([document.documentElement,document.body],Rt.shown),a.heightAuto&&a.backdrop&&!a.toast&&ga([document.documentElement,document.body],Rt["height-auto"])};var YN={email:(t,s)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(s||"Invalid email address"),url:(t,s)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(s||"Invalid URL")};function aA(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=YN.email),t.input==="url"&&(t.inputValidator=YN.url))}function rA(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(_n('Target parameter is not valid, defaulting to "body"'),t.target="body")}function nA(t){aA(t),t.showLoaderOnConfirm&&!t.preConfirm&&_n(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),rA(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),q5(t)}let Ol;var Bh=new WeakMap;class vr{constructor(...s){if(k5(this,Bh,Promise.resolve({isConfirmed:!1,isDenied:!1,isDismissed:!0})),typeof window>"u")return;Ol=this;const a=Object.freeze(this.constructor.argsToParams(s));this.params=a,this.isAwaitingPromise=!1,D5(Bh,this,this._main(Ol.params))}_main(s,a={}){if(tC(Object.assign({},a,s)),Cs.currentInstance){const l=S0.swalPromiseResolve.get(Cs.currentInstance),{isAwaitingPromise:i}=Cs.currentInstance;Cs.currentInstance._destroy(),i||l({isDismissed:!0}),xb()&&O4()}Cs.currentInstance=Ol;const r=lA(s,a);nA(r),Object.freeze(r),Cs.timeout&&(Cs.timeout.stop(),delete Cs.timeout),clearTimeout(Cs.restoreFocusTimeout);const n=iA(Ol);return P4(Ol,r),Ua.innerParams.set(Ol,r),oA(Ol,n,r)}then(s){return _N(Bh,this).then(s)}finally(s){return _N(Bh,this).finally(s)}}const oA=(t,s,a)=>new Promise((r,n)=>{const l=i=>{t.close({isDismissed:!0,dismiss:i,isConfirmed:!1,isDenied:!1})};S0.swalPromiseResolve.set(t,r),S0.swalPromiseReject.set(t,n),s.confirmButton.onclick=()=>{iT(t)},s.denyButton.onclick=()=>{cT(t)},s.cancelButton.onclick=()=>{dT(t,l)},s.closeButton.onclick=()=>{l(U0.close)},NT(a,s,l),AE(Cs,a,l),ZE(t,a),ZT(a),cA(Cs,a,l),dA(s,a),setTimeout(()=>{s.container.scrollTop=0})}),lA=(t,s)=>{const a=$T(t),r=Object.assign({},ac,s,a,t);return r.showClass=Object.assign({},ac.showClass,r.showClass),r.hideClass=Object.assign({},ac.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},iA=t=>{const s={popup:ba(),container:Bn(),actions:gx(),confirmButton:Wl(),denyButton:yd(),cancelButton:B0(),loader:R0(),closeButton:db(),validationMessage:zp(),progressSteps:cb()};return Ua.domCache.set(t,s),s},cA=(t,s,a)=>{const r=Vp();Sn(r),s.timer&&(t.timeout=new GT(()=>{a("timer"),delete t.timeout},s.timer),s.timerProgressBar&&r&&(Kr(r),go(r,s,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&mb(s.timer)})))},dA=(t,s)=>{if(!s.toast){if(!$p(s.allowEnterKey)){y4("allowEnterKey"),hA();return}uA(t)||xA(t,s)||Dy(-1,1)}},uA=t=>{const s=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const a of s)if(a instanceof HTMLElement&&Qn(a))return a.focus(),!0;return!1},xA=(t,s)=>s.focusDeny&&Qn(t.denyButton)?(t.denyButton.focus(),!0):s.focusCancel&&Qn(t.cancelButton)?(t.cancelButton.focus(),!0):s.focusConfirm&&Qn(t.confirmButton)?(t.confirmButton.focus(),!0):!1,hA=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};vr.prototype.disableButtons=Y4;vr.prototype.enableButtons=V4;vr.prototype.getInput=G4;vr.prototype.disableInput=q4;vr.prototype.enableInput=K4;vr.prototype.hideLoading=hp;vr.prototype.disableLoading=hp;vr.prototype.showValidationMessage=X4;vr.prototype.resetValidationMessage=J4;vr.prototype.close=sc;vr.prototype.closePopup=sc;vr.prototype.closeModal=sc;vr.prototype.closeToast=sc;vr.prototype.rejectPromise=R4;vr.prototype.update=sC;vr.prototype._destroy=aC;Object.assign(vr,WT);Object.keys(wT).forEach(t=>{vr[t]=function(...s){if(Ol&&Ol[t])return Ol[t](...s)}});vr.DismissReason=U0;vr.version="11.26.17";const ee=vr;ee.default=ee;typeof document<"u"&&(function(t,s){var a=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(a),a.styleSheet)a.styleSheet.disabled||(a.styleSheet.cssText=s);else try{a.innerHTML=s}catch{a.innerText=s}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pA=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,a,r)=>r?r.toUpperCase():a.toLowerCase()),KN=t=>{const s=pA(t);return s.charAt(0).toUpperCase()+s.slice(1)},cC=(...t)=>t.filter((s,a,r)=>!!s&&s.trim()!==""&&r.indexOf(s)===a).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=o.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:r,className:n="",children:l,iconNode:i,...d},x)=>o.createElement("svg",{ref:x,...fA,width:s,height:s,stroke:t,strokeWidth:r?Number(a)*24/Number(s):a,className:cC("lucide",n),...d},[...i.map(([h,m])=>o.createElement(h,m)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=(t,s)=>{const a=o.forwardRef(({className:r,...n},l)=>o.createElement(gA,{ref:l,iconNode:s,className:cC(`lucide-${mA(KN(t))}`,`lucide-${t}`,r),...n}));return a.displayName=KN(t),a};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],bA=os("arrow-left",yA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],wA=os("arrow-right",vA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Rg=os("arrow-up-down",NA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],vb=os("award",jA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],ln=os("box",CA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Zs=os("briefcase",SA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],ea=os("building-2",kA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],EA=os("calculator",DA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],_a=os("calendar-clock",TA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],dC=os("calendar-days",AA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m14 14-4 4",key:"rymu2i"}],["path",{d:"m10 14 4 4",key:"3sz06r"}]],PA=os("calendar-x",FA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ds=os("calendar",MA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],LA=os("camera",IA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],uC=os("chart-column",OA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Be=os("check",_A);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],lc=os("chevron-down",BA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],H0=os("chevron-left",RA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],fi=os("chevron-right",UA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],D0=os("chevron-up",HA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],GA=os("chevrons-left",WA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],zA=os("chevrons-right",$A);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ya=os("circle-alert",VA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],gl=os("circle-check-big",YA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],xC=os("circle-pause",KA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],XA=os("circle-play",qA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],wb=os("circle-x",JA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Nb=os("clipboard-list",QA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],xa=os("clock",ZA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],fp=os("database",eF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],sF=os("dollar-sign",tF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],on=os("download",aF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],qN=os("external-link",rF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],oF=os("eye",nF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]],iF=os("file-pen-line",lF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],vi=os("file-text",cF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]],uF=os("file-x",dF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Ma=os("grid-3x3",xF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],mF=os("house",hF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],qp=os("info",pF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],hC=os("layers",fF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Vu=os("layout-grid",gF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ea=os("loader-circle",yF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],vF=os("lock",bF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],NF=os("log-in",wF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],mC=os("log-out",jF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],pC=os("mail",CF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],kF=os("menu",SF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=[["path",{d:"M5 12h14",key:"1ays0h"}]],EF=os("minus",DF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],wr=os("network",TF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],cl=os("pencil",AF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],jb=os("play",FF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],fs=os("plus",PF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],IF=os("printer",MF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],to=os("refresh-cw",LF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],W0=os("rotate-ccw",OF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Aa=os("save",_F);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Gt=os("search",BF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],fC=os("send",RF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wx=os("settings",UF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],gp=os("shield",HF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],GF=os("smartphone",WF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],zF=os("square-check-big",$F);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ws=os("square-pen",VF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=[["path",{d:"M16 12H3",key:"1a2rj7"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M21 12h.01",key:"msek7k"}],["path",{d:"M21 18h.01",key:"1e8rq1"}],["path",{d:"M21 6h.01",key:"1koanj"}]],KF=os("table-of-contents",YF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],gC=os("tag",qF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ls=os("trash-2",XF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],QF=os("trending-down",JF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],e7=os("trending-up",ZF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],s7=os("triangle-alert",t7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],ur=os("upload",a7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],XN=os("user-plus",r7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],o7=os("user-x",n7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],yp=os("user",l7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Hs=os("users",i7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Ia=os("wallet",c7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],u7=os("wrench",d7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],et=os("x",x7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],m7=os("zap",h7),yC="/assets/Lifebank-xGVkpDoX.png";var vm={exports:{}};function p7(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var wm={exports:{}};const f7={},g7=Object.freeze(Object.defineProperty({__proto__:null,default:f7},Symbol.toStringTag,{value:"Module"})),y7=HD(g7);var b7=wm.exports,JN;function Xs(){return JN||(JN=1,(function(t,s){(function(a,r){t.exports=r()})(b7,function(){var a=a||(function(r,n){var l;if(typeof window<"u"&&window.crypto&&(l=window.crypto),typeof self<"u"&&self.crypto&&(l=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(l=globalThis.crypto),!l&&typeof window<"u"&&window.msCrypto&&(l=window.msCrypto),!l&&typeof Dg<"u"&&Dg.crypto&&(l=Dg.crypto),!l&&typeof p7=="function")try{l=y7}catch{}var i=function(){if(l){if(typeof l.getRandomValues=="function")try{return l.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof l.randomBytes=="function")try{return l.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},d=Object.create||(function(){function j(){}return function(C){var S;return j.prototype=C,S=new j,j.prototype=null,S}})(),x={},h=x.lib={},m=h.Base=(function(){return{extend:function(j){var C=d(this);return j&&C.mixIn(j),(!C.hasOwnProperty("init")||this.init===C.init)&&(C.init=function(){C.$super.init.apply(this,arguments)}),C.init.prototype=C,C.$super=this,C},create:function(){var j=this.extend();return j.init.apply(j,arguments),j},init:function(){},mixIn:function(j){for(var C in j)j.hasOwnProperty(C)&&(this[C]=j[C]);j.hasOwnProperty("toString")&&(this.toString=j.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),b=h.WordArray=m.extend({init:function(j,C){j=this.words=j||[],C!=n?this.sigBytes=C:this.sigBytes=j.length*4},toString:function(j){return(j||N).stringify(this)},concat:function(j){var C=this.words,S=j.words,P=this.sigBytes,k=j.sigBytes;if(this.clamp(),P%4)for(var E=0;E<k;E++){var M=S[E>>>2]>>>24-E%4*8&255;C[P+E>>>2]|=M<<24-(P+E)%4*8}else for(var L=0;L<k;L+=4)C[P+L>>>2]=S[L>>>2];return this.sigBytes+=k,this},clamp:function(){var j=this.words,C=this.sigBytes;j[C>>>2]&=4294967295<<32-C%4*8,j.length=r.ceil(C/4)},clone:function(){var j=m.clone.call(this);return j.words=this.words.slice(0),j},random:function(j){for(var C=[],S=0;S<j;S+=4)C.push(i());return new b.init(C,j)}}),f=x.enc={},N=f.Hex={stringify:function(j){for(var C=j.words,S=j.sigBytes,P=[],k=0;k<S;k++){var E=C[k>>>2]>>>24-k%4*8&255;P.push((E>>>4).toString(16)),P.push((E&15).toString(16))}return P.join("")},parse:function(j){for(var C=j.length,S=[],P=0;P<C;P+=2)S[P>>>3]|=parseInt(j.substr(P,2),16)<<24-P%8*4;return new b.init(S,C/2)}},p=f.Latin1={stringify:function(j){for(var C=j.words,S=j.sigBytes,P=[],k=0;k<S;k++){var E=C[k>>>2]>>>24-k%4*8&255;P.push(String.fromCharCode(E))}return P.join("")},parse:function(j){for(var C=j.length,S=[],P=0;P<C;P++)S[P>>>2]|=(j.charCodeAt(P)&255)<<24-P%4*8;return new b.init(S,C)}},v=f.Utf8={stringify:function(j){try{return decodeURIComponent(escape(p.stringify(j)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(j){return p.parse(unescape(encodeURIComponent(j)))}},y=h.BufferedBlockAlgorithm=m.extend({reset:function(){this._data=new b.init,this._nDataBytes=0},_append:function(j){typeof j=="string"&&(j=v.parse(j)),this._data.concat(j),this._nDataBytes+=j.sigBytes},_process:function(j){var C,S=this._data,P=S.words,k=S.sigBytes,E=this.blockSize,M=E*4,L=k/M;j?L=r.ceil(L):L=r.max((L|0)-this._minBufferSize,0);var O=L*E,q=r.min(O*4,k);if(O){for(var B=0;B<O;B+=E)this._doProcessBlock(P,B);C=P.splice(0,O),S.sigBytes-=q}return new b.init(C,q)},clone:function(){var j=m.clone.call(this);return j._data=this._data.clone(),j},_minBufferSize:0});h.Hasher=y.extend({cfg:m.extend(),init:function(j){this.cfg=this.cfg.extend(j),this.reset()},reset:function(){y.reset.call(this),this._doReset()},update:function(j){return this._append(j),this._process(),this},finalize:function(j){j&&this._append(j);var C=this._doFinalize();return C},blockSize:16,_createHelper:function(j){return function(C,S){return new j.init(S).finalize(C)}},_createHmacHelper:function(j){return function(C,S){return new g.HMAC.init(j,S).finalize(C)}}});var g=x.algo={};return x})(Math);return a})})(wm)),wm.exports}var Nm={exports:{}},v7=Nm.exports,QN;function Xp(){return QN||(QN=1,(function(t,s){(function(a,r){t.exports=r(Xs())})(v7,function(a){return(function(r){var n=a,l=n.lib,i=l.Base,d=l.WordArray,x=n.x64={};x.Word=i.extend({init:function(h,m){this.high=h,this.low=m}}),x.WordArray=i.extend({init:function(h,m){h=this.words=h||[],m!=r?this.sigBytes=m:this.sigBytes=h.length*8},toX32:function(){for(var h=this.words,m=h.length,b=[],f=0;f<m;f++){var N=h[f];b.push(N.high),b.push(N.low)}return d.create(b,this.sigBytes)},clone:function(){for(var h=i.clone.call(this),m=h.words=this.words.slice(0),b=m.length,f=0;f<b;f++)m[f]=m[f].clone();return h}})})(),a})})(Nm)),Nm.exports}var jm={exports:{}},w7=jm.exports,ZN;function N7(){return ZN||(ZN=1,(function(t,s){(function(a,r){t.exports=r(Xs())})(w7,function(a){return(function(){if(typeof ArrayBuffer=="function"){var r=a,n=r.lib,l=n.WordArray,i=l.init,d=l.init=function(x){if(x instanceof ArrayBuffer&&(x=new Uint8Array(x)),(x instanceof Int8Array||typeof Uint8ClampedArray<"u"&&x instanceof Uint8ClampedArray||x instanceof Int16Array||x instanceof Uint16Array||x instanceof Int32Array||x instanceof Uint32Array||x instanceof Float32Array||x instanceof Float64Array)&&(x=new Uint8Array(x.buffer,x.byteOffset,x.byteLength)),x instanceof Uint8Array){for(var h=x.byteLength,m=[],b=0;b<h;b++)m[b>>>2]|=x[b]<<24-b%4*8;i.call(this,m,h)}else i.apply(this,arguments)};d.prototype=l}})(),a.lib.WordArray})})(jm)),jm.exports}var Cm={exports:{}},j7=Cm.exports,ej;function C7(){return ej||(ej=1,(function(t,s){(function(a,r){t.exports=r(Xs())})(j7,function(a){return(function(){var r=a,n=r.lib,l=n.WordArray,i=r.enc;i.Utf16=i.Utf16BE={stringify:function(x){for(var h=x.words,m=x.sigBytes,b=[],f=0;f<m;f+=2){var N=h[f>>>2]>>>16-f%4*8&65535;b.push(String.fromCharCode(N))}return b.join("")},parse:function(x){for(var h=x.length,m=[],b=0;b<h;b++)m[b>>>1]|=x.charCodeAt(b)<<16-b%2*16;return l.create(m,h*2)}},i.Utf16LE={stringify:function(x){for(var h=x.words,m=x.sigBytes,b=[],f=0;f<m;f+=2){var N=d(h[f>>>2]>>>16-f%4*8&65535);b.push(String.fromCharCode(N))}return b.join("")},parse:function(x){for(var h=x.length,m=[],b=0;b<h;b++)m[b>>>1]|=d(x.charCodeAt(b)<<16-b%2*16);return l.create(m,h*2)}};function d(x){return x<<8&4278255360|x>>>8&16711935}})(),a.enc.Utf16})})(Cm)),Cm.exports}var Sm={exports:{}},S7=Sm.exports,tj;function bd(){return tj||(tj=1,(function(t,s){(function(a,r){t.exports=r(Xs())})(S7,function(a){return(function(){var r=a,n=r.lib,l=n.WordArray,i=r.enc;i.Base64={stringify:function(x){var h=x.words,m=x.sigBytes,b=this._map;x.clamp();for(var f=[],N=0;N<m;N+=3)for(var p=h[N>>>2]>>>24-N%4*8&255,v=h[N+1>>>2]>>>24-(N+1)%4*8&255,y=h[N+2>>>2]>>>24-(N+2)%4*8&255,g=p<<16|v<<8|y,j=0;j<4&&N+j*.75<m;j++)f.push(b.charAt(g>>>6*(3-j)&63));var C=b.charAt(64);if(C)for(;f.length%4;)f.push(C);return f.join("")},parse:function(x){var h=x.length,m=this._map,b=this._reverseMap;if(!b){b=this._reverseMap=[];for(var f=0;f<m.length;f++)b[m.charCodeAt(f)]=f}var N=m.charAt(64);if(N){var p=x.indexOf(N);p!==-1&&(h=p)}return d(x,h,b)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function d(x,h,m){for(var b=[],f=0,N=0;N<h;N++)if(N%4){var p=m[x.charCodeAt(N-1)]<<N%4*2,v=m[x.charCodeAt(N)]>>>6-N%4*2,y=p|v;b[f>>>2]|=y<<24-f%4*8,f++}return l.create(b,f)}})(),a.enc.Base64})})(Sm)),Sm.exports}var km={exports:{}},k7=km.exports,sj;function D7(){return sj||(sj=1,(function(t,s){(function(a,r){t.exports=r(Xs())})(k7,function(a){return(function(){var r=a,n=r.lib,l=n.WordArray,i=r.enc;i.Base64url={stringify:function(x,h){h===void 0&&(h=!0);var m=x.words,b=x.sigBytes,f=h?this._safe_map:this._map;x.clamp();for(var N=[],p=0;p<b;p+=3)for(var v=m[p>>>2]>>>24-p%4*8&255,y=m[p+1>>>2]>>>24-(p+1)%4*8&255,g=m[p+2>>>2]>>>24-(p+2)%4*8&255,j=v<<16|y<<8|g,C=0;C<4&&p+C*.75<b;C++)N.push(f.charAt(j>>>6*(3-C)&63));var S=f.charAt(64);if(S)for(;N.length%4;)N.push(S);return N.join("")},parse:function(x,h){h===void 0&&(h=!0);var m=x.length,b=h?this._safe_map:this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var N=0;N<b.length;N++)f[b.charCodeAt(N)]=N}var p=b.charAt(64);if(p){var v=x.indexOf(p);v!==-1&&(m=v)}return d(x,m,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function d(x,h,m){for(var b=[],f=0,N=0;N<h;N++)if(N%4){var p=m[x.charCodeAt(N-1)]<<N%4*2,v=m[x.charCodeAt(N)]>>>6-N%4*2,y=p|v;b[f>>>2]|=y<<24-f%4*8,f++}return l.create(b,f)}})(),a.enc.Base64url})})(km)),km.exports}var Dm={exports:{}},E7=Dm.exports,aj;function vd(){return aj||(aj=1,(function(t,s){(function(a,r){t.exports=r(Xs())})(E7,function(a){return(function(r){var n=a,l=n.lib,i=l.WordArray,d=l.Hasher,x=n.algo,h=[];(function(){for(var v=0;v<64;v++)h[v]=r.abs(r.sin(v+1))*4294967296|0})();var m=x.MD5=d.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(v,y){for(var g=0;g<16;g++){var j=y+g,C=v[j];v[j]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360}var S=this._hash.words,P=v[y+0],k=v[y+1],E=v[y+2],M=v[y+3],L=v[y+4],O=v[y+5],q=v[y+6],B=v[y+7],se=v[y+8],le=v[y+9],pe=v[y+10],U=v[y+11],Y=v[y+12],W=v[y+13],re=v[y+14],G=v[y+15],R=S[0],F=S[1],A=S[2],H=S[3];R=b(R,F,A,H,P,7,h[0]),H=b(H,R,F,A,k,12,h[1]),A=b(A,H,R,F,E,17,h[2]),F=b(F,A,H,R,M,22,h[3]),R=b(R,F,A,H,L,7,h[4]),H=b(H,R,F,A,O,12,h[5]),A=b(A,H,R,F,q,17,h[6]),F=b(F,A,H,R,B,22,h[7]),R=b(R,F,A,H,se,7,h[8]),H=b(H,R,F,A,le,12,h[9]),A=b(A,H,R,F,pe,17,h[10]),F=b(F,A,H,R,U,22,h[11]),R=b(R,F,A,H,Y,7,h[12]),H=b(H,R,F,A,W,12,h[13]),A=b(A,H,R,F,re,17,h[14]),F=b(F,A,H,R,G,22,h[15]),R=f(R,F,A,H,k,5,h[16]),H=f(H,R,F,A,q,9,h[17]),A=f(A,H,R,F,U,14,h[18]),F=f(F,A,H,R,P,20,h[19]),R=f(R,F,A,H,O,5,h[20]),H=f(H,R,F,A,pe,9,h[21]),A=f(A,H,R,F,G,14,h[22]),F=f(F,A,H,R,L,20,h[23]),R=f(R,F,A,H,le,5,h[24]),H=f(H,R,F,A,re,9,h[25]),A=f(A,H,R,F,M,14,h[26]),F=f(F,A,H,R,se,20,h[27]),R=f(R,F,A,H,W,5,h[28]),H=f(H,R,F,A,E,9,h[29]),A=f(A,H,R,F,B,14,h[30]),F=f(F,A,H,R,Y,20,h[31]),R=N(R,F,A,H,O,4,h[32]),H=N(H,R,F,A,se,11,h[33]),A=N(A,H,R,F,U,16,h[34]),F=N(F,A,H,R,re,23,h[35]),R=N(R,F,A,H,k,4,h[36]),H=N(H,R,F,A,L,11,h[37]),A=N(A,H,R,F,B,16,h[38]),F=N(F,A,H,R,pe,23,h[39]),R=N(R,F,A,H,W,4,h[40]),H=N(H,R,F,A,P,11,h[41]),A=N(A,H,R,F,M,16,h[42]),F=N(F,A,H,R,q,23,h[43]),R=N(R,F,A,H,le,4,h[44]),H=N(H,R,F,A,Y,11,h[45]),A=N(A,H,R,F,G,16,h[46]),F=N(F,A,H,R,E,23,h[47]),R=p(R,F,A,H,P,6,h[48]),H=p(H,R,F,A,B,10,h[49]),A=p(A,H,R,F,re,15,h[50]),F=p(F,A,H,R,O,21,h[51]),R=p(R,F,A,H,Y,6,h[52]),H=p(H,R,F,A,M,10,h[53]),A=p(A,H,R,F,pe,15,h[54]),F=p(F,A,H,R,k,21,h[55]),R=p(R,F,A,H,se,6,h[56]),H=p(H,R,F,A,G,10,h[57]),A=p(A,H,R,F,q,15,h[58]),F=p(F,A,H,R,W,21,h[59]),R=p(R,F,A,H,L,6,h[60]),H=p(H,R,F,A,U,10,h[61]),A=p(A,H,R,F,E,15,h[62]),F=p(F,A,H,R,le,21,h[63]),S[0]=S[0]+R|0,S[1]=S[1]+F|0,S[2]=S[2]+A|0,S[3]=S[3]+H|0},_doFinalize:function(){var v=this._data,y=v.words,g=this._nDataBytes*8,j=v.sigBytes*8;y[j>>>5]|=128<<24-j%32;var C=r.floor(g/4294967296),S=g;y[(j+64>>>9<<4)+15]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,y[(j+64>>>9<<4)+14]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,v.sigBytes=(y.length+1)*4,this._process();for(var P=this._hash,k=P.words,E=0;E<4;E++){var M=k[E];k[E]=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360}return P},clone:function(){var v=d.clone.call(this);return v._hash=this._hash.clone(),v}});function b(v,y,g,j,C,S,P){var k=v+(y&g|~y&j)+C+P;return(k<<S|k>>>32-S)+y}function f(v,y,g,j,C,S,P){var k=v+(y&j|g&~j)+C+P;return(k<<S|k>>>32-S)+y}function N(v,y,g,j,C,S,P){var k=v+(y^g^j)+C+P;return(k<<S|k>>>32-S)+y}function p(v,y,g,j,C,S,P){var k=v+(g^(y|~j))+C+P;return(k<<S|k>>>32-S)+y}n.MD5=d._createHelper(m),n.HmacMD5=d._createHmacHelper(m)})(Math),a.MD5})})(Dm)),Dm.exports}var Em={exports:{}},T7=Em.exports,rj;function bC(){return rj||(rj=1,(function(t,s){(function(a,r){t.exports=r(Xs())})(T7,function(a){return(function(){var r=a,n=r.lib,l=n.WordArray,i=n.Hasher,d=r.algo,x=[],h=d.SHA1=i.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(m,b){for(var f=this._hash.words,N=f[0],p=f[1],v=f[2],y=f[3],g=f[4],j=0;j<80;j++){if(j<16)x[j]=m[b+j]|0;else{var C=x[j-3]^x[j-8]^x[j-14]^x[j-16];x[j]=C<<1|C>>>31}var S=(N<<5|N>>>27)+g+x[j];j<20?S+=(p&v|~p&y)+1518500249:j<40?S+=(p^v^y)+1859775393:j<60?S+=(p&v|p&y|v&y)-1894007588:S+=(p^v^y)-899497514,g=y,y=v,v=p<<30|p>>>2,p=N,N=S}f[0]=f[0]+N|0,f[1]=f[1]+p|0,f[2]=f[2]+v|0,f[3]=f[3]+y|0,f[4]=f[4]+g|0},_doFinalize:function(){var m=this._data,b=m.words,f=this._nDataBytes*8,N=m.sigBytes*8;return b[N>>>5]|=128<<24-N%32,b[(N+64>>>9<<4)+14]=Math.floor(f/4294967296),b[(N+64>>>9<<4)+15]=f,m.sigBytes=b.length*4,this._process(),this._hash},clone:function(){var m=i.clone.call(this);return m._hash=this._hash.clone(),m}});r.SHA1=i._createHelper(h),r.HmacSHA1=i._createHmacHelper(h)})(),a.SHA1})})(Em)),Em.exports}var Tm={exports:{}},A7=Tm.exports,nj;function Cb(){return nj||(nj=1,(function(t,s){(function(a,r){t.exports=r(Xs())})(A7,function(a){return(function(r){var n=a,l=n.lib,i=l.WordArray,d=l.Hasher,x=n.algo,h=[],m=[];(function(){function N(g){for(var j=r.sqrt(g),C=2;C<=j;C++)if(!(g%C))return!1;return!0}function p(g){return(g-(g|0))*4294967296|0}for(var v=2,y=0;y<64;)N(v)&&(y<8&&(h[y]=p(r.pow(v,1/2))),m[y]=p(r.pow(v,1/3)),y++),v++})();var b=[],f=x.SHA256=d.extend({_doReset:function(){this._hash=new i.init(h.slice(0))},_doProcessBlock:function(N,p){for(var v=this._hash.words,y=v[0],g=v[1],j=v[2],C=v[3],S=v[4],P=v[5],k=v[6],E=v[7],M=0;M<64;M++){if(M<16)b[M]=N[p+M]|0;else{var L=b[M-15],O=(L<<25|L>>>7)^(L<<14|L>>>18)^L>>>3,q=b[M-2],B=(q<<15|q>>>17)^(q<<13|q>>>19)^q>>>10;b[M]=O+b[M-7]+B+b[M-16]}var se=S&P^~S&k,le=y&g^y&j^g&j,pe=(y<<30|y>>>2)^(y<<19|y>>>13)^(y<<10|y>>>22),U=(S<<26|S>>>6)^(S<<21|S>>>11)^(S<<7|S>>>25),Y=E+U+se+m[M]+b[M],W=pe+le;E=k,k=P,P=S,S=C+Y|0,C=j,j=g,g=y,y=Y+W|0}v[0]=v[0]+y|0,v[1]=v[1]+g|0,v[2]=v[2]+j|0,v[3]=v[3]+C|0,v[4]=v[4]+S|0,v[5]=v[5]+P|0,v[6]=v[6]+k|0,v[7]=v[7]+E|0},_doFinalize:function(){var N=this._data,p=N.words,v=this._nDataBytes*8,y=N.sigBytes*8;return p[y>>>5]|=128<<24-y%32,p[(y+64>>>9<<4)+14]=r.floor(v/4294967296),p[(y+64>>>9<<4)+15]=v,N.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var N=d.clone.call(this);return N._hash=this._hash.clone(),N}});n.SHA256=d._createHelper(f),n.HmacSHA256=d._createHmacHelper(f)})(Math),a.SHA256})})(Tm)),Tm.exports}var Am={exports:{}},F7=Am.exports,oj;function P7(){return oj||(oj=1,(function(t,s){(function(a,r,n){t.exports=r(Xs(),Cb())})(F7,function(a){return(function(){var r=a,n=r.lib,l=n.WordArray,i=r.algo,d=i.SHA256,x=i.SHA224=d.extend({_doReset:function(){this._hash=new l.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var h=d._doFinalize.call(this);return h.sigBytes-=4,h}});r.SHA224=d._createHelper(x),r.HmacSHA224=d._createHmacHelper(x)})(),a.SHA224})})(Am)),Am.exports}var Fm={exports:{}},M7=Fm.exports,lj;function vC(){return lj||(lj=1,(function(t,s){(function(a,r,n){t.exports=r(Xs(),Xp())})(M7,function(a){return(function(){var r=a,n=r.lib,l=n.Hasher,i=r.x64,d=i.Word,x=i.WordArray,h=r.algo;function m(){return d.create.apply(d,arguments)}var b=[m(1116352408,3609767458),m(1899447441,602891725),m(3049323471,3964484399),m(3921009573,2173295548),m(961987163,4081628472),m(1508970993,3053834265),m(2453635748,2937671579),m(2870763221,3664609560),m(3624381080,2734883394),m(310598401,1164996542),m(607225278,1323610764),m(1426881987,3590304994),m(1925078388,4068182383),m(2162078206,991336113),m(2614888103,633803317),m(3248222580,3479774868),m(3835390401,2666613458),m(4022224774,944711139),m(264347078,2341262773),m(604807628,2007800933),m(770255983,1495990901),m(1249150122,1856431235),m(1555081692,3175218132),m(1996064986,2198950837),m(2554220882,3999719339),m(2821834349,766784016),m(2952996808,2566594879),m(3210313671,3203337956),m(3336571891,1034457026),m(3584528711,2466948901),m(113926993,3758326383),m(338241895,168717936),m(666307205,1188179964),m(773529912,1546045734),m(1294757372,1522805485),m(1396182291,2643833823),m(1695183700,2343527390),m(1986661051,1014477480),m(2177026350,1206759142),m(2456956037,344077627),m(2730485921,1290863460),m(2820302411,3158454273),m(3259730800,3505952657),m(3345764771,106217008),m(3516065817,3606008344),m(3600352804,1432725776),m(4094571909,1467031594),m(275423344,851169720),m(430227734,3100823752),m(506948616,1363258195),m(659060556,3750685593),m(883997877,3785050280),m(958139571,3318307427),m(1322822218,3812723403),m(1537002063,2003034995),m(1747873779,3602036899),m(1955562222,1575990012),m(2024104815,1125592928),m(2227730452,2716904306),m(2361852424,442776044),m(2428436474,593698344),m(2756734187,3733110249),m(3204031479,2999351573),m(3329325298,3815920427),m(3391569614,3928383900),m(3515267271,566280711),m(3940187606,3454069534),m(4118630271,4000239992),m(116418474,1914138554),m(174292421,2731055270),m(289380356,3203993006),m(460393269,320620315),m(685471733,587496836),m(852142971,1086792851),m(1017036298,365543100),m(1126000580,2618297676),m(1288033470,3409855158),m(1501505948,4234509866),m(1607167915,987167468),m(1816402316,1246189591)],f=[];(function(){for(var p=0;p<80;p++)f[p]=m()})();var N=h.SHA512=l.extend({_doReset:function(){this._hash=new x.init([new d.init(1779033703,4089235720),new d.init(3144134277,2227873595),new d.init(1013904242,4271175723),new d.init(2773480762,1595750129),new d.init(1359893119,2917565137),new d.init(2600822924,725511199),new d.init(528734635,4215389547),new d.init(1541459225,327033209)])},_doProcessBlock:function(p,v){for(var y=this._hash.words,g=y[0],j=y[1],C=y[2],S=y[3],P=y[4],k=y[5],E=y[6],M=y[7],L=g.high,O=g.low,q=j.high,B=j.low,se=C.high,le=C.low,pe=S.high,U=S.low,Y=P.high,W=P.low,re=k.high,G=k.low,R=E.high,F=E.low,A=M.high,H=M.low,D=L,_=O,xe=q,ge=B,Ne=se,Ce=le,fe=pe,ue=U,Oe=Y,De=W,Ae=re,Ee=G,ze=R,ot=F,wt=A,Ie=H,ye=0;ye<80;ye++){var be,Me,Re=f[ye];if(ye<16)Me=Re.high=p[v+ye*2]|0,be=Re.low=p[v+ye*2+1]|0;else{var st=f[ye-15],He=st.high,Ue=st.low,Ye=(He>>>1|Ue<<31)^(He>>>8|Ue<<24)^He>>>7,ht=(Ue>>>1|He<<31)^(Ue>>>8|He<<24)^(Ue>>>7|He<<25),ut=f[ye-2],vt=ut.high,ve=ut.low,Le=(vt>>>19|ve<<13)^(vt<<3|ve>>>29)^vt>>>6,he=(ve>>>19|vt<<13)^(ve<<3|vt>>>29)^(ve>>>6|vt<<26),Ve=f[ye-7],xt=Ve.high,Pt=Ve.low,Lt=f[ye-16],It=Lt.high,qe=Lt.low;be=ht+Pt,Me=Ye+xt+(be>>>0<ht>>>0?1:0),be=be+he,Me=Me+Le+(be>>>0<he>>>0?1:0),be=be+qe,Me=Me+It+(be>>>0<qe>>>0?1:0),Re.high=Me,Re.low=be}var Nt=Oe&Ae^~Oe&ze,gt=De&Ee^~De&ot,dt=D&xe^D&Ne^xe&Ne,kt=_&ge^_&Ce^ge&Ce,Dt=(D>>>28|_<<4)^(D<<30|_>>>2)^(D<<25|_>>>7),Ge=(_>>>28|D<<4)^(_<<30|D>>>2)^(_<<25|D>>>7),Ke=(Oe>>>14|De<<18)^(Oe>>>18|De<<14)^(Oe<<23|De>>>9),ie=(De>>>14|Oe<<18)^(De>>>18|Oe<<14)^(De<<23|Oe>>>9),ke=b[ye],me=ke.high,Ze=ke.low,it=Ie+ie,_t=wt+Ke+(it>>>0<Ie>>>0?1:0),it=it+gt,_t=_t+Nt+(it>>>0<gt>>>0?1:0),it=it+Ze,_t=_t+me+(it>>>0<Ze>>>0?1:0),it=it+be,_t=_t+Me+(it>>>0<be>>>0?1:0),nt=Ge+kt,mt=Dt+dt+(nt>>>0<Ge>>>0?1:0);wt=ze,Ie=ot,ze=Ae,ot=Ee,Ae=Oe,Ee=De,De=ue+it|0,Oe=fe+_t+(De>>>0<ue>>>0?1:0)|0,fe=Ne,ue=Ce,Ne=xe,Ce=ge,xe=D,ge=_,_=it+nt|0,D=_t+mt+(_>>>0<it>>>0?1:0)|0}O=g.low=O+_,g.high=L+D+(O>>>0<_>>>0?1:0),B=j.low=B+ge,j.high=q+xe+(B>>>0<ge>>>0?1:0),le=C.low=le+Ce,C.high=se+Ne+(le>>>0<Ce>>>0?1:0),U=S.low=U+ue,S.high=pe+fe+(U>>>0<ue>>>0?1:0),W=P.low=W+De,P.high=Y+Oe+(W>>>0<De>>>0?1:0),G=k.low=G+Ee,k.high=re+Ae+(G>>>0<Ee>>>0?1:0),F=E.low=F+ot,E.high=R+ze+(F>>>0<ot>>>0?1:0),H=M.low=H+Ie,M.high=A+wt+(H>>>0<Ie>>>0?1:0)},_doFinalize:function(){var p=this._data,v=p.words,y=this._nDataBytes*8,g=p.sigBytes*8;v[g>>>5]|=128<<24-g%32,v[(g+128>>>10<<5)+30]=Math.floor(y/4294967296),v[(g+128>>>10<<5)+31]=y,p.sigBytes=v.length*4,this._process();var j=this._hash.toX32();return j},clone:function(){var p=l.clone.call(this);return p._hash=this._hash.clone(),p},blockSize:1024/32});r.SHA512=l._createHelper(N),r.HmacSHA512=l._createHmacHelper(N)})(),a.SHA512})})(Fm)),Fm.exports}var Pm={exports:{}},I7=Pm.exports,ij;function L7(){return ij||(ij=1,(function(t,s){(function(a,r,n){t.exports=r(Xs(),Xp(),vC())})(I7,function(a){return(function(){var r=a,n=r.x64,l=n.Word,i=n.WordArray,d=r.algo,x=d.SHA512,h=d.SHA384=x.extend({_doReset:function(){this._hash=new i.init([new l.init(3418070365,3238371032),new l.init(1654270250,914150663),new l.init(2438529370,812702999),new l.init(355462360,4144912697),new l.init(1731405415,4290775857),new l.init(2394180231,1750603025),new l.init(3675008525,1694076839),new l.init(1203062813,3204075428)])},_doFinalize:function(){var m=x._doFinalize.call(this);return m.sigBytes-=16,m}});r.SHA384=x._createHelper(h),r.HmacSHA384=x._createHmacHelper(h)})(),a.SHA384})})(Pm)),Pm.exports}var Mm={exports:{}},O7=Mm.exports,cj;function _7(){return cj||(cj=1,(function(t,s){(function(a,r,n){t.exports=r(Xs(),Xp())})(O7,function(a){return(function(r){var n=a,l=n.lib,i=l.WordArray,d=l.Hasher,x=n.x64,h=x.Word,m=n.algo,b=[],f=[],N=[];(function(){for(var y=1,g=0,j=0;j<24;j++){b[y+5*g]=(j+1)*(j+2)/2%64;var C=g%5,S=(2*y+3*g)%5;y=C,g=S}for(var y=0;y<5;y++)for(var g=0;g<5;g++)f[y+5*g]=g+(2*y+3*g)%5*5;for(var P=1,k=0;k<24;k++){for(var E=0,M=0,L=0;L<7;L++){if(P&1){var O=(1<<L)-1;O<32?M^=1<<O:E^=1<<O-32}P&128?P=P<<1^113:P<<=1}N[k]=h.create(E,M)}})();var p=[];(function(){for(var y=0;y<25;y++)p[y]=h.create()})();var v=m.SHA3=d.extend({cfg:d.cfg.extend({outputLength:512}),_doReset:function(){for(var y=this._state=[],g=0;g<25;g++)y[g]=new h.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(y,g){for(var j=this._state,C=this.blockSize/2,S=0;S<C;S++){var P=y[g+2*S],k=y[g+2*S+1];P=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,k=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360;var E=j[S];E.high^=k,E.low^=P}for(var M=0;M<24;M++){for(var L=0;L<5;L++){for(var O=0,q=0,B=0;B<5;B++){var E=j[L+5*B];O^=E.high,q^=E.low}var se=p[L];se.high=O,se.low=q}for(var L=0;L<5;L++)for(var le=p[(L+4)%5],pe=p[(L+1)%5],U=pe.high,Y=pe.low,O=le.high^(U<<1|Y>>>31),q=le.low^(Y<<1|U>>>31),B=0;B<5;B++){var E=j[L+5*B];E.high^=O,E.low^=q}for(var W=1;W<25;W++){var O,q,E=j[W],re=E.high,G=E.low,R=b[W];R<32?(O=re<<R|G>>>32-R,q=G<<R|re>>>32-R):(O=G<<R-32|re>>>64-R,q=re<<R-32|G>>>64-R);var F=p[f[W]];F.high=O,F.low=q}var A=p[0],H=j[0];A.high=H.high,A.low=H.low;for(var L=0;L<5;L++)for(var B=0;B<5;B++){var W=L+5*B,E=j[W],D=p[W],_=p[(L+1)%5+5*B],xe=p[(L+2)%5+5*B];E.high=D.high^~_.high&xe.high,E.low=D.low^~_.low&xe.low}var E=j[0],ge=N[M];E.high^=ge.high,E.low^=ge.low}},_doFinalize:function(){var y=this._data,g=y.words;this._nDataBytes*8;var j=y.sigBytes*8,C=this.blockSize*32;g[j>>>5]|=1<<24-j%32,g[(r.ceil((j+1)/C)*C>>>5)-1]|=128,y.sigBytes=g.length*4,this._process();for(var S=this._state,P=this.cfg.outputLength/8,k=P/8,E=[],M=0;M<k;M++){var L=S[M],O=L.high,q=L.low;O=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360,q=(q<<8|q>>>24)&16711935|(q<<24|q>>>8)&4278255360,E.push(q),E.push(O)}return new i.init(E,P)},clone:function(){for(var y=d.clone.call(this),g=y._state=this._state.slice(0),j=0;j<25;j++)g[j]=g[j].clone();return y}});n.SHA3=d._createHelper(v),n.HmacSHA3=d._createHmacHelper(v)})(Math),a.SHA3})})(Mm)),Mm.exports}var Im={exports:{}},B7=Im.exports,dj;function R7(){return dj||(dj=1,(function(t,s){(function(a,r){t.exports=r(Xs())})(B7,function(a){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return(function(r){var n=a,l=n.lib,i=l.WordArray,d=l.Hasher,x=n.algo,h=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),m=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),b=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),N=i.create([0,1518500249,1859775393,2400959708,2840853838]),p=i.create([1352829926,1548603684,1836072691,2053994217,0]),v=x.RIPEMD160=d.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(k,E){for(var M=0;M<16;M++){var L=E+M,O=k[L];k[L]=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360}var q=this._hash.words,B=N.words,se=p.words,le=h.words,pe=m.words,U=b.words,Y=f.words,W,re,G,R,F,A,H,D,_,xe;A=W=q[0],H=re=q[1],D=G=q[2],_=R=q[3],xe=F=q[4];for(var ge,M=0;M<80;M+=1)ge=W+k[E+le[M]]|0,M<16?ge+=y(re,G,R)+B[0]:M<32?ge+=g(re,G,R)+B[1]:M<48?ge+=j(re,G,R)+B[2]:M<64?ge+=C(re,G,R)+B[3]:ge+=S(re,G,R)+B[4],ge=ge|0,ge=P(ge,U[M]),ge=ge+F|0,W=F,F=R,R=P(G,10),G=re,re=ge,ge=A+k[E+pe[M]]|0,M<16?ge+=S(H,D,_)+se[0]:M<32?ge+=C(H,D,_)+se[1]:M<48?ge+=j(H,D,_)+se[2]:M<64?ge+=g(H,D,_)+se[3]:ge+=y(H,D,_)+se[4],ge=ge|0,ge=P(ge,Y[M]),ge=ge+xe|0,A=xe,xe=_,_=P(D,10),D=H,H=ge;ge=q[1]+G+_|0,q[1]=q[2]+R+xe|0,q[2]=q[3]+F+A|0,q[3]=q[4]+W+H|0,q[4]=q[0]+re+D|0,q[0]=ge},_doFinalize:function(){var k=this._data,E=k.words,M=this._nDataBytes*8,L=k.sigBytes*8;E[L>>>5]|=128<<24-L%32,E[(L+64>>>9<<4)+14]=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360,k.sigBytes=(E.length+1)*4,this._process();for(var O=this._hash,q=O.words,B=0;B<5;B++){var se=q[B];q[B]=(se<<8|se>>>24)&16711935|(se<<24|se>>>8)&4278255360}return O},clone:function(){var k=d.clone.call(this);return k._hash=this._hash.clone(),k}});function y(k,E,M){return k^E^M}function g(k,E,M){return k&E|~k&M}function j(k,E,M){return(k|~E)^M}function C(k,E,M){return k&M|E&~M}function S(k,E,M){return k^(E|~M)}function P(k,E){return k<<E|k>>>32-E}n.RIPEMD160=d._createHelper(v),n.HmacRIPEMD160=d._createHmacHelper(v)})(),a.RIPEMD160})})(Im)),Im.exports}var Lm={exports:{}},U7=Lm.exports,uj;function Sb(){return uj||(uj=1,(function(t,s){(function(a,r){t.exports=r(Xs())})(U7,function(a){(function(){var r=a,n=r.lib,l=n.Base,i=r.enc,d=i.Utf8,x=r.algo;x.HMAC=l.extend({init:function(h,m){h=this._hasher=new h.init,typeof m=="string"&&(m=d.parse(m));var b=h.blockSize,f=b*4;m.sigBytes>f&&(m=h.finalize(m)),m.clamp();for(var N=this._oKey=m.clone(),p=this._iKey=m.clone(),v=N.words,y=p.words,g=0;g<b;g++)v[g]^=1549556828,y[g]^=909522486;N.sigBytes=p.sigBytes=f,this.reset()},reset:function(){var h=this._hasher;h.reset(),h.update(this._iKey)},update:function(h){return this._hasher.update(h),this},finalize:function(h){var m=this._hasher,b=m.finalize(h);m.reset();var f=m.finalize(this._oKey.clone().concat(b));return f}})})()})})(Lm)),Lm.exports}var Om={exports:{}},H7=Om.exports,xj;function W7(){return xj||(xj=1,(function(t,s){(function(a,r,n){t.exports=r(Xs(),Cb(),Sb())})(H7,function(a){return(function(){var r=a,n=r.lib,l=n.Base,i=n.WordArray,d=r.algo,x=d.SHA256,h=d.HMAC,m=d.PBKDF2=l.extend({cfg:l.extend({keySize:128/32,hasher:x,iterations:25e4}),init:function(b){this.cfg=this.cfg.extend(b)},compute:function(b,f){for(var N=this.cfg,p=h.create(N.hasher,b),v=i.create(),y=i.create([1]),g=v.words,j=y.words,C=N.keySize,S=N.iterations;g.length<C;){var P=p.update(f).finalize(y);p.reset();for(var k=P.words,E=k.length,M=P,L=1;L<S;L++){M=p.finalize(M),p.reset();for(var O=M.words,q=0;q<E;q++)k[q]^=O[q]}v.concat(P),j[0]++}return v.sigBytes=C*4,v}});r.PBKDF2=function(b,f,N){return m.create(N).compute(b,f)}})(),a.PBKDF2})})(Om)),Om.exports}var _m={exports:{}},G7=_m.exports,hj;function fc(){return hj||(hj=1,(function(t,s){(function(a,r,n){t.exports=r(Xs(),bC(),Sb())})(G7,function(a){return(function(){var r=a,n=r.lib,l=n.Base,i=n.WordArray,d=r.algo,x=d.MD5,h=d.EvpKDF=l.extend({cfg:l.extend({keySize:128/32,hasher:x,iterations:1}),init:function(m){this.cfg=this.cfg.extend(m)},compute:function(m,b){for(var f,N=this.cfg,p=N.hasher.create(),v=i.create(),y=v.words,g=N.keySize,j=N.iterations;y.length<g;){f&&p.update(f),f=p.update(m).finalize(b),p.reset();for(var C=1;C<j;C++)f=p.finalize(f),p.reset();v.concat(f)}return v.sigBytes=g*4,v}});r.EvpKDF=function(m,b,f){return h.create(f).compute(m,b)}})(),a.EvpKDF})})(_m)),_m.exports}var Bm={exports:{}},$7=Bm.exports,mj;function Xr(){return mj||(mj=1,(function(t,s){(function(a,r,n){t.exports=r(Xs(),fc())})($7,function(a){a.lib.Cipher||(function(r){var n=a,l=n.lib,i=l.Base,d=l.WordArray,x=l.BufferedBlockAlgorithm,h=n.enc;h.Utf8;var m=h.Base64,b=n.algo,f=b.EvpKDF,N=l.Cipher=x.extend({cfg:i.extend(),createEncryptor:function(O,q){return this.create(this._ENC_XFORM_MODE,O,q)},createDecryptor:function(O,q){return this.create(this._DEC_XFORM_MODE,O,q)},init:function(O,q,B){this.cfg=this.cfg.extend(B),this._xformMode=O,this._key=q,this.reset()},reset:function(){x.reset.call(this),this._doReset()},process:function(O){return this._append(O),this._process()},finalize:function(O){O&&this._append(O);var q=this._doFinalize();return q},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:(function(){function O(q){return typeof q=="string"?L:k}return function(q){return{encrypt:function(B,se,le){return O(se).encrypt(q,B,se,le)},decrypt:function(B,se,le){return O(se).decrypt(q,B,se,le)}}}})()});l.StreamCipher=N.extend({_doFinalize:function(){var O=this._process(!0);return O},blockSize:1});var p=n.mode={},v=l.BlockCipherMode=i.extend({createEncryptor:function(O,q){return this.Encryptor.create(O,q)},createDecryptor:function(O,q){return this.Decryptor.create(O,q)},init:function(O,q){this._cipher=O,this._iv=q}}),y=p.CBC=(function(){var O=v.extend();O.Encryptor=O.extend({processBlock:function(B,se){var le=this._cipher,pe=le.blockSize;q.call(this,B,se,pe),le.encryptBlock(B,se),this._prevBlock=B.slice(se,se+pe)}}),O.Decryptor=O.extend({processBlock:function(B,se){var le=this._cipher,pe=le.blockSize,U=B.slice(se,se+pe);le.decryptBlock(B,se),q.call(this,B,se,pe),this._prevBlock=U}});function q(B,se,le){var pe,U=this._iv;U?(pe=U,this._iv=r):pe=this._prevBlock;for(var Y=0;Y<le;Y++)B[se+Y]^=pe[Y]}return O})(),g=n.pad={},j=g.Pkcs7={pad:function(O,q){for(var B=q*4,se=B-O.sigBytes%B,le=se<<24|se<<16|se<<8|se,pe=[],U=0;U<se;U+=4)pe.push(le);var Y=d.create(pe,se);O.concat(Y)},unpad:function(O){var q=O.words[O.sigBytes-1>>>2]&255;O.sigBytes-=q}};l.BlockCipher=N.extend({cfg:N.cfg.extend({mode:y,padding:j}),reset:function(){var O;N.reset.call(this);var q=this.cfg,B=q.iv,se=q.mode;this._xformMode==this._ENC_XFORM_MODE?O=se.createEncryptor:(O=se.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==O?this._mode.init(this,B&&B.words):(this._mode=O.call(se,this,B&&B.words),this._mode.__creator=O)},_doProcessBlock:function(O,q){this._mode.processBlock(O,q)},_doFinalize:function(){var O,q=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(q.pad(this._data,this.blockSize),O=this._process(!0)):(O=this._process(!0),q.unpad(O)),O},blockSize:128/32});var C=l.CipherParams=i.extend({init:function(O){this.mixIn(O)},toString:function(O){return(O||this.formatter).stringify(this)}}),S=n.format={},P=S.OpenSSL={stringify:function(O){var q,B=O.ciphertext,se=O.salt;return se?q=d.create([1398893684,1701076831]).concat(se).concat(B):q=B,q.toString(m)},parse:function(O){var q,B=m.parse(O),se=B.words;return se[0]==1398893684&&se[1]==1701076831&&(q=d.create(se.slice(2,4)),se.splice(0,4),B.sigBytes-=16),C.create({ciphertext:B,salt:q})}},k=l.SerializableCipher=i.extend({cfg:i.extend({format:P}),encrypt:function(O,q,B,se){se=this.cfg.extend(se);var le=O.createEncryptor(B,se),pe=le.finalize(q),U=le.cfg;return C.create({ciphertext:pe,key:B,iv:U.iv,algorithm:O,mode:U.mode,padding:U.padding,blockSize:O.blockSize,formatter:se.format})},decrypt:function(O,q,B,se){se=this.cfg.extend(se),q=this._parse(q,se.format);var le=O.createDecryptor(B,se).finalize(q.ciphertext);return le},_parse:function(O,q){return typeof O=="string"?q.parse(O,this):O}}),E=n.kdf={},M=E.OpenSSL={execute:function(O,q,B,se,le){if(se||(se=d.random(64/8)),le)var pe=f.create({keySize:q+B,hasher:le}).compute(O,se);else var pe=f.create({keySize:q+B}).compute(O,se);var U=d.create(pe.words.slice(q),B*4);return pe.sigBytes=q*4,C.create({key:pe,iv:U,salt:se})}},L=l.PasswordBasedCipher=k.extend({cfg:k.cfg.extend({kdf:M}),encrypt:function(O,q,B,se){se=this.cfg.extend(se);var le=se.kdf.execute(B,O.keySize,O.ivSize,se.salt,se.hasher);se.iv=le.iv;var pe=k.encrypt.call(this,O,q,le.key,se);return pe.mixIn(le),pe},decrypt:function(O,q,B,se){se=this.cfg.extend(se),q=this._parse(q,se.format);var le=se.kdf.execute(B,O.keySize,O.ivSize,q.salt,se.hasher);se.iv=le.iv;var pe=k.decrypt.call(this,O,q,le.key,se);return pe}})})()})})(Bm)),Bm.exports}var Rm={exports:{}},z7=Rm.exports,pj;function V7(){return pj||(pj=1,(function(t,s){(function(a,r,n){t.exports=r(Xs(),Xr())})(z7,function(a){return a.mode.CFB=(function(){var r=a.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(l,i){var d=this._cipher,x=d.blockSize;n.call(this,l,i,x,d),this._prevBlock=l.slice(i,i+x)}}),r.Decryptor=r.extend({processBlock:function(l,i){var d=this._cipher,x=d.blockSize,h=l.slice(i,i+x);n.call(this,l,i,x,d),this._prevBlock=h}});function n(l,i,d,x){var h,m=this._iv;m?(h=m.slice(0),this._iv=void 0):h=this._prevBlock,x.encryptBlock(h,0);for(var b=0;b<d;b++)l[i+b]^=h[b]}return r})(),a.mode.CFB})})(Rm)),Rm.exports}var Um={exports:{}},Y7=Um.exports,fj;function K7(){return fj||(fj=1,(function(t,s){(function(a,r,n){t.exports=r(Xs(),Xr())})(Y7,function(a){return a.mode.CTR=(function(){var r=a.lib.BlockCipherMode.extend(),n=r.Encryptor=r.extend({processBlock:function(l,i){var d=this._cipher,x=d.blockSize,h=this._iv,m=this._counter;h&&(m=this._counter=h.slice(0),this._iv=void 0);var b=m.slice(0);d.encryptBlock(b,0),m[x-1]=m[x-1]+1|0;for(var f=0;f<x;f++)l[i+f]^=b[f]}});return r.Decryptor=n,r})(),a.mode.CTR})})(Um)),Um.exports}var Hm={exports:{}},q7=Hm.exports,gj;function X7(){return gj||(gj=1,(function(t,s){(function(a,r,n){t.exports=r(Xs(),Xr())})(q7,function(a){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return a.mode.CTRGladman=(function(){var r=a.lib.BlockCipherMode.extend();function n(d){if((d>>24&255)===255){var x=d>>16&255,h=d>>8&255,m=d&255;x===255?(x=0,h===255?(h=0,m===255?m=0:++m):++h):++x,d=0,d+=x<<16,d+=h<<8,d+=m}else d+=1<<24;return d}function l(d){return(d[0]=n(d[0]))===0&&(d[1]=n(d[1])),d}var i=r.Encryptor=r.extend({processBlock:function(d,x){var h=this._cipher,m=h.blockSize,b=this._iv,f=this._counter;b&&(f=this._counter=b.slice(0),this._iv=void 0),l(f);var N=f.slice(0);h.encryptBlock(N,0);for(var p=0;p<m;p++)d[x+p]^=N[p]}});return r.Decryptor=i,r})(),a.mode.CTRGladman})})(Hm)),Hm.exports}var Wm={exports:{}},J7=Wm.exports,yj;function Q7(){return yj||(yj=1,(function(t,s){(function(a,r,n){t.exports=r(Xs(),Xr())})(J7,function(a){return a.mode.OFB=(function(){var r=a.lib.BlockCipherMode.extend(),n=r.Encryptor=r.extend({processBlock:function(l,i){var d=this._cipher,x=d.blockSize,h=this._iv,m=this._keystream;h&&(m=this._keystream=h.slice(0),this._iv=void 0),d.encryptBlock(m,0);for(var b=0;b<x;b++)l[i+b]^=m[b]}});return r.Decryptor=n,r})(),a.mode.OFB})})(Wm)),Wm.exports}var Gm={exports:{}},Z7=Gm.exports,bj;function eP(){return bj||(bj=1,(function(t,s){(function(a,r,n){t.exports=r(Xs(),Xr())})(Z7,function(a){return a.mode.ECB=(function(){var r=a.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(n,l){this._cipher.encryptBlock(n,l)}}),r.Decryptor=r.extend({processBlock:function(n,l){this._cipher.decryptBlock(n,l)}}),r})(),a.mode.ECB})})(Gm)),Gm.exports}var $m={exports:{}},tP=$m.exports,vj;function sP(){return vj||(vj=1,(function(t,s){(function(a,r,n){t.exports=r(Xs(),Xr())})(tP,function(a){return a.pad.AnsiX923={pad:function(r,n){var l=r.sigBytes,i=n*4,d=i-l%i,x=l+d-1;r.clamp(),r.words[x>>>2]|=d<<24-x%4*8,r.sigBytes+=d},unpad:function(r){var n=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=n}},a.pad.Ansix923})})($m)),$m.exports}var zm={exports:{}},aP=zm.exports,wj;function rP(){return wj||(wj=1,(function(t,s){(function(a,r,n){t.exports=r(Xs(),Xr())})(aP,function(a){return a.pad.Iso10126={pad:function(r,n){var l=n*4,i=l-r.sigBytes%l;r.concat(a.lib.WordArray.random(i-1)).concat(a.lib.WordArray.create([i<<24],1))},unpad:function(r){var n=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=n}},a.pad.Iso10126})})(zm)),zm.exports}var Vm={exports:{}},nP=Vm.exports,Nj;function oP(){return Nj||(Nj=1,(function(t,s){(function(a,r,n){t.exports=r(Xs(),Xr())})(nP,function(a){return a.pad.Iso97971={pad:function(r,n){r.concat(a.lib.WordArray.create([2147483648],1)),a.pad.ZeroPadding.pad(r,n)},unpad:function(r){a.pad.ZeroPadding.unpad(r),r.sigBytes--}},a.pad.Iso97971})})(Vm)),Vm.exports}var Ym={exports:{}},lP=Ym.exports,jj;function iP(){return jj||(jj=1,(function(t,s){(function(a,r,n){t.exports=r(Xs(),Xr())})(lP,function(a){return a.pad.ZeroPadding={pad:function(r,n){var l=n*4;r.clamp(),r.sigBytes+=l-(r.sigBytes%l||l)},unpad:function(r){for(var n=r.words,l=r.sigBytes-1,l=r.sigBytes-1;l>=0;l--)if(n[l>>>2]>>>24-l%4*8&255){r.sigBytes=l+1;break}}},a.pad.ZeroPadding})})(Ym)),Ym.exports}var Km={exports:{}},cP=Km.exports,Cj;function dP(){return Cj||(Cj=1,(function(t,s){(function(a,r,n){t.exports=r(Xs(),Xr())})(cP,function(a){return a.pad.NoPadding={pad:function(){},unpad:function(){}},a.pad.NoPadding})})(Km)),Km.exports}var qm={exports:{}},uP=qm.exports,Sj;function xP(){return Sj||(Sj=1,(function(t,s){(function(a,r,n){t.exports=r(Xs(),Xr())})(uP,function(a){return(function(r){var n=a,l=n.lib,i=l.CipherParams,d=n.enc,x=d.Hex,h=n.format;h.Hex={stringify:function(m){return m.ciphertext.toString(x)},parse:function(m){var b=x.parse(m);return i.create({ciphertext:b})}}})(),a.format.Hex})})(qm)),qm.exports}var Xm={exports:{}},hP=Xm.exports,kj;function mP(){return kj||(kj=1,(function(t,s){(function(a,r,n){t.exports=r(Xs(),bd(),vd(),fc(),Xr())})(hP,function(a){return(function(){var r=a,n=r.lib,l=n.BlockCipher,i=r.algo,d=[],x=[],h=[],m=[],b=[],f=[],N=[],p=[],v=[],y=[];(function(){for(var C=[],S=0;S<256;S++)S<128?C[S]=S<<1:C[S]=S<<1^283;for(var P=0,k=0,S=0;S<256;S++){var E=k^k<<1^k<<2^k<<3^k<<4;E=E>>>8^E&255^99,d[P]=E,x[E]=P;var M=C[P],L=C[M],O=C[L],q=C[E]*257^E*16843008;h[P]=q<<24|q>>>8,m[P]=q<<16|q>>>16,b[P]=q<<8|q>>>24,f[P]=q;var q=O*16843009^L*65537^M*257^P*16843008;N[E]=q<<24|q>>>8,p[E]=q<<16|q>>>16,v[E]=q<<8|q>>>24,y[E]=q,P?(P=M^C[C[C[O^M]]],k^=C[C[k]]):P=k=1}})();var g=[0,1,2,4,8,16,32,64,128,27,54],j=i.AES=l.extend({_doReset:function(){var C;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var S=this._keyPriorReset=this._key,P=S.words,k=S.sigBytes/4,E=this._nRounds=k+6,M=(E+1)*4,L=this._keySchedule=[],O=0;O<M;O++)O<k?L[O]=P[O]:(C=L[O-1],O%k?k>6&&O%k==4&&(C=d[C>>>24]<<24|d[C>>>16&255]<<16|d[C>>>8&255]<<8|d[C&255]):(C=C<<8|C>>>24,C=d[C>>>24]<<24|d[C>>>16&255]<<16|d[C>>>8&255]<<8|d[C&255],C^=g[O/k|0]<<24),L[O]=L[O-k]^C);for(var q=this._invKeySchedule=[],B=0;B<M;B++){var O=M-B;if(B%4)var C=L[O];else var C=L[O-4];B<4||O<=4?q[B]=C:q[B]=N[d[C>>>24]]^p[d[C>>>16&255]]^v[d[C>>>8&255]]^y[d[C&255]]}}},encryptBlock:function(C,S){this._doCryptBlock(C,S,this._keySchedule,h,m,b,f,d)},decryptBlock:function(C,S){var P=C[S+1];C[S+1]=C[S+3],C[S+3]=P,this._doCryptBlock(C,S,this._invKeySchedule,N,p,v,y,x);var P=C[S+1];C[S+1]=C[S+3],C[S+3]=P},_doCryptBlock:function(C,S,P,k,E,M,L,O){for(var q=this._nRounds,B=C[S]^P[0],se=C[S+1]^P[1],le=C[S+2]^P[2],pe=C[S+3]^P[3],U=4,Y=1;Y<q;Y++){var W=k[B>>>24]^E[se>>>16&255]^M[le>>>8&255]^L[pe&255]^P[U++],re=k[se>>>24]^E[le>>>16&255]^M[pe>>>8&255]^L[B&255]^P[U++],G=k[le>>>24]^E[pe>>>16&255]^M[B>>>8&255]^L[se&255]^P[U++],R=k[pe>>>24]^E[B>>>16&255]^M[se>>>8&255]^L[le&255]^P[U++];B=W,se=re,le=G,pe=R}var W=(O[B>>>24]<<24|O[se>>>16&255]<<16|O[le>>>8&255]<<8|O[pe&255])^P[U++],re=(O[se>>>24]<<24|O[le>>>16&255]<<16|O[pe>>>8&255]<<8|O[B&255])^P[U++],G=(O[le>>>24]<<24|O[pe>>>16&255]<<16|O[B>>>8&255]<<8|O[se&255])^P[U++],R=(O[pe>>>24]<<24|O[B>>>16&255]<<16|O[se>>>8&255]<<8|O[le&255])^P[U++];C[S]=W,C[S+1]=re,C[S+2]=G,C[S+3]=R},keySize:256/32});r.AES=l._createHelper(j)})(),a.AES})})(Xm)),Xm.exports}var Jm={exports:{}},pP=Jm.exports,Dj;function fP(){return Dj||(Dj=1,(function(t,s){(function(a,r,n){t.exports=r(Xs(),bd(),vd(),fc(),Xr())})(pP,function(a){return(function(){var r=a,n=r.lib,l=n.WordArray,i=n.BlockCipher,d=r.algo,x=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],h=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],m=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],b=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],N=d.DES=i.extend({_doReset:function(){for(var g=this._key,j=g.words,C=[],S=0;S<56;S++){var P=x[S]-1;C[S]=j[P>>>5]>>>31-P%32&1}for(var k=this._subKeys=[],E=0;E<16;E++){for(var M=k[E]=[],L=m[E],S=0;S<24;S++)M[S/6|0]|=C[(h[S]-1+L)%28]<<31-S%6,M[4+(S/6|0)]|=C[28+(h[S+24]-1+L)%28]<<31-S%6;M[0]=M[0]<<1|M[0]>>>31;for(var S=1;S<7;S++)M[S]=M[S]>>>(S-1)*4+3;M[7]=M[7]<<5|M[7]>>>27}for(var O=this._invSubKeys=[],S=0;S<16;S++)O[S]=k[15-S]},encryptBlock:function(g,j){this._doCryptBlock(g,j,this._subKeys)},decryptBlock:function(g,j){this._doCryptBlock(g,j,this._invSubKeys)},_doCryptBlock:function(g,j,C){this._lBlock=g[j],this._rBlock=g[j+1],p.call(this,4,252645135),p.call(this,16,65535),v.call(this,2,858993459),v.call(this,8,16711935),p.call(this,1,1431655765);for(var S=0;S<16;S++){for(var P=C[S],k=this._lBlock,E=this._rBlock,M=0,L=0;L<8;L++)M|=b[L][((E^P[L])&f[L])>>>0];this._lBlock=E,this._rBlock=k^M}var O=this._lBlock;this._lBlock=this._rBlock,this._rBlock=O,p.call(this,1,1431655765),v.call(this,8,16711935),v.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),g[j]=this._lBlock,g[j+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function p(g,j){var C=(this._lBlock>>>g^this._rBlock)&j;this._rBlock^=C,this._lBlock^=C<<g}function v(g,j){var C=(this._rBlock>>>g^this._lBlock)&j;this._lBlock^=C,this._rBlock^=C<<g}r.DES=i._createHelper(N);var y=d.TripleDES=i.extend({_doReset:function(){var g=this._key,j=g.words;if(j.length!==2&&j.length!==4&&j.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var C=j.slice(0,2),S=j.length<4?j.slice(0,2):j.slice(2,4),P=j.length<6?j.slice(0,2):j.slice(4,6);this._des1=N.createEncryptor(l.create(C)),this._des2=N.createEncryptor(l.create(S)),this._des3=N.createEncryptor(l.create(P))},encryptBlock:function(g,j){this._des1.encryptBlock(g,j),this._des2.decryptBlock(g,j),this._des3.encryptBlock(g,j)},decryptBlock:function(g,j){this._des3.decryptBlock(g,j),this._des2.encryptBlock(g,j),this._des1.decryptBlock(g,j)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=i._createHelper(y)})(),a.TripleDES})})(Jm)),Jm.exports}var Qm={exports:{}},gP=Qm.exports,Ej;function yP(){return Ej||(Ej=1,(function(t,s){(function(a,r,n){t.exports=r(Xs(),bd(),vd(),fc(),Xr())})(gP,function(a){return(function(){var r=a,n=r.lib,l=n.StreamCipher,i=r.algo,d=i.RC4=l.extend({_doReset:function(){for(var m=this._key,b=m.words,f=m.sigBytes,N=this._S=[],p=0;p<256;p++)N[p]=p;for(var p=0,v=0;p<256;p++){var y=p%f,g=b[y>>>2]>>>24-y%4*8&255;v=(v+N[p]+g)%256;var j=N[p];N[p]=N[v],N[v]=j}this._i=this._j=0},_doProcessBlock:function(m,b){m[b]^=x.call(this)},keySize:256/32,ivSize:0});function x(){for(var m=this._S,b=this._i,f=this._j,N=0,p=0;p<4;p++){b=(b+1)%256,f=(f+m[b])%256;var v=m[b];m[b]=m[f],m[f]=v,N|=m[(m[b]+m[f])%256]<<24-p*8}return this._i=b,this._j=f,N}r.RC4=l._createHelper(d);var h=i.RC4Drop=d.extend({cfg:d.cfg.extend({drop:192}),_doReset:function(){d._doReset.call(this);for(var m=this.cfg.drop;m>0;m--)x.call(this)}});r.RC4Drop=l._createHelper(h)})(),a.RC4})})(Qm)),Qm.exports}var Zm={exports:{}},bP=Zm.exports,Tj;function vP(){return Tj||(Tj=1,(function(t,s){(function(a,r,n){t.exports=r(Xs(),bd(),vd(),fc(),Xr())})(bP,function(a){return(function(){var r=a,n=r.lib,l=n.StreamCipher,i=r.algo,d=[],x=[],h=[],m=i.Rabbit=l.extend({_doReset:function(){for(var f=this._key.words,N=this.cfg.iv,p=0;p<4;p++)f[p]=(f[p]<<8|f[p]>>>24)&16711935|(f[p]<<24|f[p]>>>8)&4278255360;var v=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],y=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var p=0;p<4;p++)b.call(this);for(var p=0;p<8;p++)y[p]^=v[p+4&7];if(N){var g=N.words,j=g[0],C=g[1],S=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,P=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,k=S>>>16|P&4294901760,E=P<<16|S&65535;y[0]^=S,y[1]^=k,y[2]^=P,y[3]^=E,y[4]^=S,y[5]^=k,y[6]^=P,y[7]^=E;for(var p=0;p<4;p++)b.call(this)}},_doProcessBlock:function(f,N){var p=this._X;b.call(this),d[0]=p[0]^p[5]>>>16^p[3]<<16,d[1]=p[2]^p[7]>>>16^p[5]<<16,d[2]=p[4]^p[1]>>>16^p[7]<<16,d[3]=p[6]^p[3]>>>16^p[1]<<16;for(var v=0;v<4;v++)d[v]=(d[v]<<8|d[v]>>>24)&16711935|(d[v]<<24|d[v]>>>8)&4278255360,f[N+v]^=d[v]},blockSize:128/32,ivSize:64/32});function b(){for(var f=this._X,N=this._C,p=0;p<8;p++)x[p]=N[p];N[0]=N[0]+1295307597+this._b|0,N[1]=N[1]+3545052371+(N[0]>>>0<x[0]>>>0?1:0)|0,N[2]=N[2]+886263092+(N[1]>>>0<x[1]>>>0?1:0)|0,N[3]=N[3]+1295307597+(N[2]>>>0<x[2]>>>0?1:0)|0,N[4]=N[4]+3545052371+(N[3]>>>0<x[3]>>>0?1:0)|0,N[5]=N[5]+886263092+(N[4]>>>0<x[4]>>>0?1:0)|0,N[6]=N[6]+1295307597+(N[5]>>>0<x[5]>>>0?1:0)|0,N[7]=N[7]+3545052371+(N[6]>>>0<x[6]>>>0?1:0)|0,this._b=N[7]>>>0<x[7]>>>0?1:0;for(var p=0;p<8;p++){var v=f[p]+N[p],y=v&65535,g=v>>>16,j=((y*y>>>17)+y*g>>>15)+g*g,C=((v&4294901760)*v|0)+((v&65535)*v|0);h[p]=j^C}f[0]=h[0]+(h[7]<<16|h[7]>>>16)+(h[6]<<16|h[6]>>>16)|0,f[1]=h[1]+(h[0]<<8|h[0]>>>24)+h[7]|0,f[2]=h[2]+(h[1]<<16|h[1]>>>16)+(h[0]<<16|h[0]>>>16)|0,f[3]=h[3]+(h[2]<<8|h[2]>>>24)+h[1]|0,f[4]=h[4]+(h[3]<<16|h[3]>>>16)+(h[2]<<16|h[2]>>>16)|0,f[5]=h[5]+(h[4]<<8|h[4]>>>24)+h[3]|0,f[6]=h[6]+(h[5]<<16|h[5]>>>16)+(h[4]<<16|h[4]>>>16)|0,f[7]=h[7]+(h[6]<<8|h[6]>>>24)+h[5]|0}r.Rabbit=l._createHelper(m)})(),a.Rabbit})})(Zm)),Zm.exports}var ep={exports:{}},wP=ep.exports,Aj;function NP(){return Aj||(Aj=1,(function(t,s){(function(a,r,n){t.exports=r(Xs(),bd(),vd(),fc(),Xr())})(wP,function(a){return(function(){var r=a,n=r.lib,l=n.StreamCipher,i=r.algo,d=[],x=[],h=[],m=i.RabbitLegacy=l.extend({_doReset:function(){var f=this._key.words,N=this.cfg.iv,p=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],v=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var y=0;y<4;y++)b.call(this);for(var y=0;y<8;y++)v[y]^=p[y+4&7];if(N){var g=N.words,j=g[0],C=g[1],S=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,P=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,k=S>>>16|P&4294901760,E=P<<16|S&65535;v[0]^=S,v[1]^=k,v[2]^=P,v[3]^=E,v[4]^=S,v[5]^=k,v[6]^=P,v[7]^=E;for(var y=0;y<4;y++)b.call(this)}},_doProcessBlock:function(f,N){var p=this._X;b.call(this),d[0]=p[0]^p[5]>>>16^p[3]<<16,d[1]=p[2]^p[7]>>>16^p[5]<<16,d[2]=p[4]^p[1]>>>16^p[7]<<16,d[3]=p[6]^p[3]>>>16^p[1]<<16;for(var v=0;v<4;v++)d[v]=(d[v]<<8|d[v]>>>24)&16711935|(d[v]<<24|d[v]>>>8)&4278255360,f[N+v]^=d[v]},blockSize:128/32,ivSize:64/32});function b(){for(var f=this._X,N=this._C,p=0;p<8;p++)x[p]=N[p];N[0]=N[0]+1295307597+this._b|0,N[1]=N[1]+3545052371+(N[0]>>>0<x[0]>>>0?1:0)|0,N[2]=N[2]+886263092+(N[1]>>>0<x[1]>>>0?1:0)|0,N[3]=N[3]+1295307597+(N[2]>>>0<x[2]>>>0?1:0)|0,N[4]=N[4]+3545052371+(N[3]>>>0<x[3]>>>0?1:0)|0,N[5]=N[5]+886263092+(N[4]>>>0<x[4]>>>0?1:0)|0,N[6]=N[6]+1295307597+(N[5]>>>0<x[5]>>>0?1:0)|0,N[7]=N[7]+3545052371+(N[6]>>>0<x[6]>>>0?1:0)|0,this._b=N[7]>>>0<x[7]>>>0?1:0;for(var p=0;p<8;p++){var v=f[p]+N[p],y=v&65535,g=v>>>16,j=((y*y>>>17)+y*g>>>15)+g*g,C=((v&4294901760)*v|0)+((v&65535)*v|0);h[p]=j^C}f[0]=h[0]+(h[7]<<16|h[7]>>>16)+(h[6]<<16|h[6]>>>16)|0,f[1]=h[1]+(h[0]<<8|h[0]>>>24)+h[7]|0,f[2]=h[2]+(h[1]<<16|h[1]>>>16)+(h[0]<<16|h[0]>>>16)|0,f[3]=h[3]+(h[2]<<8|h[2]>>>24)+h[1]|0,f[4]=h[4]+(h[3]<<16|h[3]>>>16)+(h[2]<<16|h[2]>>>16)|0,f[5]=h[5]+(h[4]<<8|h[4]>>>24)+h[3]|0,f[6]=h[6]+(h[5]<<16|h[5]>>>16)+(h[4]<<16|h[4]>>>16)|0,f[7]=h[7]+(h[6]<<8|h[6]>>>24)+h[5]|0}r.RabbitLegacy=l._createHelper(m)})(),a.RabbitLegacy})})(ep)),ep.exports}var tp={exports:{}},jP=tp.exports,Fj;function CP(){return Fj||(Fj=1,(function(t,s){(function(a,r,n){t.exports=r(Xs(),bd(),vd(),fc(),Xr())})(jP,function(a){return(function(){var r=a,n=r.lib,l=n.BlockCipher,i=r.algo;const d=16,x=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],h=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var m={pbox:[],sbox:[]};function b(y,g){let j=g>>24&255,C=g>>16&255,S=g>>8&255,P=g&255,k=y.sbox[0][j]+y.sbox[1][C];return k=k^y.sbox[2][S],k=k+y.sbox[3][P],k}function f(y,g,j){let C=g,S=j,P;for(let k=0;k<d;++k)C=C^y.pbox[k],S=b(y,C)^S,P=C,C=S,S=P;return P=C,C=S,S=P,S=S^y.pbox[d],C=C^y.pbox[d+1],{left:C,right:S}}function N(y,g,j){let C=g,S=j,P;for(let k=d+1;k>1;--k)C=C^y.pbox[k],S=b(y,C)^S,P=C,C=S,S=P;return P=C,C=S,S=P,S=S^y.pbox[1],C=C^y.pbox[0],{left:C,right:S}}function p(y,g,j){for(let E=0;E<4;E++){y.sbox[E]=[];for(let M=0;M<256;M++)y.sbox[E][M]=h[E][M]}let C=0;for(let E=0;E<d+2;E++)y.pbox[E]=x[E]^g[C],C++,C>=j&&(C=0);let S=0,P=0,k=0;for(let E=0;E<d+2;E+=2)k=f(y,S,P),S=k.left,P=k.right,y.pbox[E]=S,y.pbox[E+1]=P;for(let E=0;E<4;E++)for(let M=0;M<256;M+=2)k=f(y,S,P),S=k.left,P=k.right,y.sbox[E][M]=S,y.sbox[E][M+1]=P;return!0}var v=i.Blowfish=l.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var y=this._keyPriorReset=this._key,g=y.words,j=y.sigBytes/4;p(m,g,j)}},encryptBlock:function(y,g){var j=f(m,y[g],y[g+1]);y[g]=j.left,y[g+1]=j.right},decryptBlock:function(y,g){var j=N(m,y[g],y[g+1]);y[g]=j.left,y[g+1]=j.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=l._createHelper(v)})(),a.Blowfish})})(tp)),tp.exports}var SP=vm.exports,Pj;function kP(){return Pj||(Pj=1,(function(t,s){(function(a,r,n){t.exports=r(Xs(),Xp(),N7(),C7(),bd(),D7(),vd(),bC(),Cb(),P7(),vC(),L7(),_7(),R7(),Sb(),W7(),fc(),Xr(),V7(),K7(),X7(),Q7(),eP(),sP(),rP(),oP(),iP(),dP(),xP(),mP(),fP(),yP(),vP(),NP(),CP())})(SP,function(a){return a})})(vm)),vm.exports}var DP=kP();const hi=Qy(DP),EP="128bl3$$1ng$",TP="bl3$$1ng$128";let Rh=null;function AP(){if(Rh)return Rh;const t=hi.enc.Utf16LE.parse(TP),s=hi.PBKDF2(EP,t,{keySize:12,iterations:1e3,hasher:hi.algo.SHA1});return Rh={iv:hi.lib.WordArray.create(s.words.slice(0,4)),key:hi.lib.WordArray.create(s.words.slice(4,12))},Rh}const rs=t=>{if(!t||t==="string")return"";try{const{key:s,iv:a}=AP(),r=t.trim().replace(/\s/g,"+");return hi.AES.decrypt(r,s,{iv:a,mode:hi.mode.CBC,padding:hi.pad.Pkcs7}).toString(hi.enc.Utf16LE)}catch(s){return console.error("Decryption Error:",s),""}};function FP({onLogout:t,activeSection:s,setActiveSection:a}){const[r,n]=o.useState(null),[l,i]=o.useState(null),[d,x]=o.useState(!1),[h,m]=o.useState(!1),[b,f]=o.useState(!1),N=o.useRef(null),p=o.useRef(null),v=o.useRef(null),y=900*1e3,[g,j]=o.useState({});o.useEffect(()=>{const U=()=>{v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{C()},y)},Y=["mousedown","mousemove","keypress","scroll","touchstart","click"];return Y.forEach(W=>{document.addEventListener(W,U)}),U(),()=>{Y.forEach(W=>{document.removeEventListener(W,U)}),v.current&&clearTimeout(v.current)}},[]);const C=async()=>{f(!0);try{const U=localStorage.getItem("userData"),Y=U?JSON.parse(U):{},W=Y.userID||Y.userId||Y.id||0;await ne.post("UserLogin/logout",{userId:W}),localStorage.removeItem("authToken"),localStorage.removeItem("loginTimestamp"),localStorage.removeItem("loginPayload"),localStorage.removeItem("userData"),await ee.fire({icon:"warning",title:"Session Expired",text:"You have been logged out due to inactivity.",timer:2e3,showConfirmButton:!1}),t()}catch(U){console.error("Auto logout error:",U),localStorage.removeItem("authToken"),localStorage.removeItem("loginTimestamp"),localStorage.removeItem("loginPayload"),localStorage.removeItem("userData"),t()}};o.useEffect(()=>{S()},[]);const S=()=>{const U=localStorage.getItem("loginPayload");if(U)try{const re=(JSON.parse(U).permissions||[]).filter(R=>rs(R.formName)==="BranchSetup"),G={};re.forEach(R=>{const F=rs(R.accessTypeName);F&&(G[F]=!0)}),j(G)}catch(Y){console.error("Error parsing or decrypting payload",Y)}},P=async()=>{f(!0);try{const U=localStorage.getItem("userData"),Y=U?JSON.parse(U):{},W=Y.userID||Y.userId||Y.id||0;await ne.post("UserLogin/logout",{userId:W}),localStorage.removeItem("authToken"),localStorage.removeItem("loginTimestamp"),localStorage.removeItem("loginPayload"),localStorage.removeItem("userData"),await ee.fire({icon:"success",title:"Logout Successful",text:"You have been logged out.",timer:1500,showConfirmButton:!1}),t()}catch(U){const Y=U.response?.data?.message||U.message||"Logout failed";await ee.fire({icon:"error",title:"Logout Error",text:Y}),console.error("Logout error:",U),f(!1)}},k=[{id:"home",label:"Home",icon:mF},{id:"file-setup",label:"File Setup",icon:vi,submenu:[{label:"System",isCategory:!0,children:[{label:"Company Information",formName:"",action:"company-information"}]},{label:"Process",isCategory:!0,children:[{label:"Allowance and Earnings",hasSubmenu:!0,children:[{label:"Allowance Bracket Code Setup",action:"allowance-bracket-code-setup"},{label:"Allowance Bracketing Setup",action:"allowance-bracketing-setup"},{label:"Allowance per Classification Setup",action:"allowance-per-classification-setup"},{label:"Classification Setup",action:"classification-setup"},{label:"Earning Setup",action:"earning-setup"}]},{label:"Calendar Setup",action:"calendar-setup"},{label:"Day Type Setup",action:"day-type-setup"},{label:"Device",hasSubmenu:!0,children:[{label:"AMS Database Configuration Setup",action:"ams-database-configuration-setup"},{label:"Borrowed Device Name",action:"borrowed-device-name"},{label:"Coordinates Setup",action:"coordinates-setup"},{label:"Device Type Setup",action:"device-type-setup"},{label:"DTR Flag Setup",action:"dtr-flag-setup"},{label:"DTR Log Fields Setup",action:"dtr-log-fields-setup"},{label:"SDK List Setup",action:"sdk-list-setup"},{label:"MYSQL Database Configuration Setup",action:"mysql-database-configuration-setup"}]},{label:"Equivalent Hours Deduction Setup",action:"equivalent-hours-deduction-setup"},{label:"Group Schedule Setup",action:"group-schedule-setup"},{label:"Help Setup",action:"help-setup"},{label:"Leave Type Setup",action:"leave-type-setup"},{label:"Overtime",hasSubmenu:!0,children:[{label:"Additional OT Hours Per Week",action:"additional-ot-hours-per-week"},{label:"Holiday OT Rates Setup",action:"holiday-ot-rates-setup"},{label:"Overtime Setup",action:"overtime-setup"},{label:"Regular Overtime Setup",action:"regular-overtime-setup"},{label:"RestDay Overtime Setup",action:"rest-day-overtime-setup"}]},{label:"Payroll Location Setup",action:"payroll-location-setup"},{label:"System Configuration Setup",action:"system-configuration-setup"},{label:"Tardiness/Undertime/Accumulation Bracket",hasSubmenu:!0,children:[{label:"Bracket Code Setup",action:"bracket-code-setup"},{label:"Tardiness/ Undertime/ Accumulation Table Setup",action:"tardiness-undertime-accumulation-table-setup"}]},{label:"Timekeep Group Setup",action:"timekeep-group-setup"},{label:"Workshift and Restday",hasSubmenu:!0,children:[{label:"Daily Schedule Setup",action:"daily-schedule-setup"},{label:"Restday Setup",action:"rest-day-setup"},{label:"Workshift Setup",action:"workshift-setup"}]},{label:"Unpaid Lunch Deduction Bracket Setup",action:"unpaid-lunch-deduction-bracket-setup"}]},{label:"Employment",isCategory:!0,children:[{label:"Area Setup",action:"area-setup"},{label:"Branch Setup",action:"branch-setup"},{label:"Department Setup",action:"department-setup"},{label:"Division Setup",action:"division-setup"},{label:"Employee Designation Setup",action:"employee-designation-setup"},{label:"Employee Status Setup",action:"employee-status-setup"},{label:"Group Setup",action:"group-setup"},{label:"Job Level Setup",action:"job-level-setup"},{label:"Location Setup",action:"location-setup"},{label:"Pay House Setup",action:"pay-house-setup"},{label:"Online Approval Setup",action:"online-approval-setup"},{label:"Section Setup",action:"section-setup"},{label:"Unit Setup",action:"unit-setup"}]}]},{id:"maintenance",label:"Maintenance",icon:wx,submenu:[{label:"Employee Management",isCategory:!0,children:[{label:"Employee Master File",action:"employee-master-file"},{label:"Employee Timekeep Configuration",action:"employee-timekeep-configuration"},{separator:!0},{label:"Rawdata",action:"raw-data"},{label:"Rawdata Ot Gap",action:"rawdata-ot-gap"},{label:"Rawdata On Straight Duty",action:"rawdata-on-straight-duty"},{separator:!0},{label:"Processed Data",action:"processed-data"}]},{label:"2 Shifts In A Day",isCategory:!0,children:[{label:"2 Shifts In A Day - Employee Timekeep Configuration",action:"2-shifts-employee-timekeep-config"},{label:"2 Shifts In A Day - Rawdata",action:"2-shifts-rawdata"}]}]},{id:"process",label:"Process",icon:jb,submenu:[{label:"Process Data",action:"process-data"},{label:"Process 2 Shifts In A Day Payroll",action:"process-2-shifts-payroll"}]},{id:"utilities",label:"Utilities",icon:u7,submenu:[{isCategory:!0,label:"Utility On Employee Configuration",children:[{label:"Update Status",action:"update-status"},{label:"Update Employee Overtime Application",action:"update-employee-overtime-application"},{label:"Update Employee Workshift",action:"update-employee-workshift"},{label:"Update Employee Leave Application",action:"update-employee-leave-application"},{label:"Update Employee Pay House",action:"update-employee-pay-house"},{label:"Update Batch Restday",action:"update-batch-rest-day"},{label:"Update Employee Classification",action:"update-employee-classification"},{label:"Delete Employee Transactions",action:"delete-employee-transactions"},{label:"Update Rawdata Online",action:"update-rawdata-online"}]},{isCategory:!0,label:"Utility On Rawdata",children:[{label:"Update Daytype In Rawdata",action:"update-daytype-rawdata"},{label:"Update Workshift In Rawdata",action:"update-workshift-rawdata"},{label:"Delete Incomplete Logs",action:"delete-incomplete-logs"},{label:"Delete Rawdata",action:"delete-rawdata"}]},{isCategory:!0,label:"Utility On Processed Data",children:[{label:"Unpost Transaction",action:"unpost-transaction"},{label:"Additional Hours Per Week",action:"additional-hours-per-week"},{label:"Apply Ot Allowance",action:"apply-ot-allowances"},{label:"Apply Break1 And Break3 Overbreak",action:"apply-break-overbreak"},{label:"Update Allowance Per Bracket",action:"update-allowance-per-bracket"},{label:"Update SSS Notification",action:"update-sss-notification"},{label:"Update No. Of Hours Per Week",action:"update-hours-per-week"},{label:"Update Tardiness Penalty",action:"update-tardiness-penalty"},{label:"Deduct Tardiness To Overtime Of The Day",action:"deduct-tardiness-to-overtime"},{label:"Delete Ot During Restday If Absent Or Incomplete In Previous Day",action:"delete-ot-restday-absent"},{label:"Process Overtime Per Cut-Off",action:"process-overtime-cutoff"},{label:"Update Assumed Days",action:"update-assumed-days"},{label:"Process Overtime 24 Hours Rule",action:"process-overtime-24hours"},{label:"Deduct Absences In Excess Of Total Hours With Pay If With Filed Leave",action:"deduct-absences-excess"},{label:"Post Processed Timekeeping Transactions",action:"post-processed-timekeeping"},{label:"Utility To Update The Time Flag Based On Set Policy Of Breaks",action:"update-time-flag-breaks"},{label:"Unpaid Lunch Deduction",action:"unpaid-lunch-deduction"},{label:"Update Flexi Break",action:"update-flexi-break"},{label:"Update GL Code Utility",action:"update-gl-code-utility"}]}]},{id:"reports",label:"Reports",icon:uC,submenu:[{label:"Daily Time Record Monitoring",action:"daily-time-record-monitoring"}]},{id:"import",label:"Import",icon:ur,submenu:[{label:"1 shift in a Day",isCategory:!0,children:[{label:"Import Workshift Variable",action:"import-workshift-variable"},{label:"Import Leave Application",action:"import-leave-application"},{label:"Import Overtime Application",action:"import-overtime-application"},{label:"Import Device Code",action:"import-device-code"},{label:"Import Employee Masterfile",action:"import-employee-masterfile"},{label:"Import Logs From Device V2",action:"import-logs-from-device-v2"},{label:"Update Raw Data",action:"update-rawdata-import"},{label:"Import Adjustment",action:"import-adjustment"}]},{label:"2 Shift in a Day",isCategory:!0,children:[{label:"Import Overtime Application",action:"overtime-application-2-shifts"},{label:"Import Workshift Variable",action:"workshift-variable-2-shifts"},{label:"Import Logs From Device V2",action:"logs-from-device-2-shifts"}]}]},{id:"export",label:"Export",icon:on,submenu:[{label:"Payroll Data",action:"export-payroll-data"},{label:"Export NAV",action:"export-nav"},{label:"Payroll DTR Allowance",action:"payroll-dtr-allowance"}]},{id:"security",label:"Security",icon:gp,submenu:[{label:"Security Manager",action:"security-manager"},{label:"Audit Trail",action:"audit-trail"},{label:"Email Configuration",action:"email-configuration"},{label:"Create New Database",action:"create-new-database"}]}];o.useEffect(()=>{function U(Y){N.current&&!N.current.contains(Y.target)&&n(null)}return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[]);const E=U=>{k.find(W=>W.id===U)?.submenu?n(r===U?null:U):(a(U),n(null))},M=U=>{a(U),n(null)},L=U=>{if(U.id===s)return!0;if(!U.submenu)return!1;const Y=W=>W.some(re=>re.action===s?!0:re.children?Y(re.children):!1);return Y(U.submenu)},O=U=>{const Y=U.filter(W=>W.isCategory);return e.jsx("div",{className:"flex gap-8 p-6 min-w-[900px]",children:Y.map((W,re)=>e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-cyan-600 font-semibold text-base mb-3 pb-2 border-b border-green-300",children:W.label}),e.jsx("div",{className:"space-y-0.5",children:W.children?.map((G,R)=>G.hasSubmenu&&G.children?e.jsxs("div",{className:"relative group",children:[e.jsxs("div",{className:"w-full text-left px-2 py-1 text-gray-600 hover:text-blue-600 hover:bg-blue-50 transition-colors duration-150 text-sm rounded flex items-center justify-between cursor-pointer",onMouseEnter:()=>i(`file-setup-${re}-${R}`),onMouseLeave:()=>i(null),children:[e.jsx("span",{children:G.label}),e.jsx(fi,{className:"w-3 h-3"})]}),l===`file-setup-${re}-${R}`&&e.jsx("div",{className:"absolute left-full top-0 ml-1 bg-white rounded-lg shadow-xl border border-gray-200 py-2 w-72 z-50 animate-slideRight",onMouseEnter:()=>i(`file-setup-${re}-${R}`),onMouseLeave:()=>i(null),children:G.children.map((F,A)=>e.jsx("button",{onClick:()=>M(F.action||""),className:`w-full text-left px-4 py-2 transition-colors duration-150 text-sm ${s===F.action?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"}`,children:F.label},A))})]},R):G.children?e.jsxs("div",{className:"mb-2",children:[e.jsx("div",{className:"text-gray-800 font-medium text-sm mb-1 px-2",children:G.label}),e.jsx("div",{className:"space-y-0.5 pl-2",children:G.children.map((F,A)=>e.jsx("button",{onClick:()=>M(F.action||""),className:`w-full text-left px-2 py-1 transition-colors duration-150 text-sm rounded ${s===F.action?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"}`,children:F.label},A))})]},R):e.jsx("button",{onClick:()=>M(G.action||""),className:`w-full text-left px-2 py-1 transition-colors duration-150 text-sm rounded ${s===G.action?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"}`,children:G.label},R))})]},re))})},q=U=>{const Y=U.filter(W=>W.isCategory);return e.jsx("div",{className:"flex gap-8 p-6 min-w-[800px]",children:Y.map((W,re)=>e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-cyan-600 font-semibold text-base mb-3 pb-2 border-b border-gray-300",children:W.label}),e.jsx("div",{className:"space-y-0.5",children:W.children?.map((G,R)=>G.separator?e.jsx("div",{className:"my-2 border-t border-gray-300"},R):e.jsx("button",{onClick:()=>M(G.action||""),className:`w-full text-left px-2 py-1 transition-colors duration-150 text-sm rounded ${s===G.action?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"}`,children:G.label},R))})]},re))})},B=U=>e.jsx("div",{className:"py-2",children:U.map((Y,W)=>pe(Y,W,"process"))}),se=U=>{const Y=U.filter(W=>W.isCategory);return e.jsx("div",{className:"flex gap-8 p-6 min-w-[900px]",children:Y.map((W,re)=>e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-cyan-600 font-semibold text-base mb-3 pb-2 border-b border-gray-300",children:W.label}),e.jsx("div",{className:"space-y-0.5",children:W.children?.map((G,R)=>G.separator?e.jsx("div",{className:"my-2 border-t border-gray-300"},R):e.jsx("button",{onClick:()=>M(G.action||""),className:`w-full text-left px-2 py-1 transition-colors duration-150 text-sm rounded ${s===G.action?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"}`,children:G.label},R))})]},re))})},le=U=>{const Y=U.filter(W=>W.isCategory);return e.jsx("div",{className:"flex gap-8 p-6 min-w-[800px]",children:Y.map((W,re)=>e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-cyan-600 font-semibold text-base mb-3 pb-2 border-b border-gray-300",children:W.label}),e.jsx("div",{className:"space-y-0.5",children:W.children?.map((G,R)=>G.separator?e.jsx("div",{className:"my-2 border-t border-gray-300"},R):e.jsx("button",{onClick:()=>M(G.action||""),className:`w-full text-left px-2 py-1 transition-colors duration-150 text-sm rounded ${s===G.action?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"}`,children:G.label},R))})]},re))})},pe=(U,Y,W="submenu")=>{const re=`${W}-${Y}`;return U.separator?e.jsx("div",{className:"my-1 border-t border-gray-200"},re):U.isCategory&&U.children?e.jsxs("div",{className:"relative group",children:[e.jsxs("div",{className:"px-4 py-2 text-gray-900 font-semibold text-sm flex items-center justify-between hover:bg-gray-50 cursor-default",onMouseEnter:()=>{p.current&&(clearTimeout(p.current),p.current=null),n(re)},onMouseLeave:()=>{p.current=window.setTimeout(()=>{n(null)},200)},children:[U.label,e.jsx(fi,{className:"w-4 h-4 text-gray-400"})]}),r===re&&e.jsx("div",{className:"absolute left-full top-0 ml-1 bg-white rounded-lg shadow-xl border border-gray-200 py-2 w-80 max-h-[70vh] overflow-y-auto animate-slideRight z-50",onMouseEnter:()=>{p.current&&(clearTimeout(p.current),p.current=null),n(re)},onMouseLeave:()=>{p.current=window.setTimeout(()=>{n(null)},200)},children:U.children.map((G,R)=>pe(G,R,re))})]},re):U.children?e.jsxs("div",{className:"relative group",children:[e.jsxs("div",{className:"px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-colors duration-150 text-sm flex items-center justify-between cursor-pointer",onMouseEnter:()=>{p.current&&(clearTimeout(p.current),p.current=null),n(re)},onMouseLeave:()=>{p.current=window.setTimeout(()=>{n(null)},200)},children:[U.label,e.jsx(fi,{className:"w-4 h-4"})]}),r===re&&e.jsx("div",{className:"absolute left-full top-0 ml-1 bg-white rounded-lg shadow-xl border border-gray-200 py-2 w-80 max-h-[70vh] overflow-y-auto animate-slideRight z-50",onMouseEnter:()=>{p.current&&(clearTimeout(p.current),p.current=null),n(re)},onMouseLeave:()=>{p.current=window.setTimeout(()=>{n(null)},200)},children:U.children.map((G,R)=>pe(G,R,re))})]},re):U.action?e.jsx("button",{onClick:()=>M(U.action||""),className:`w-full text-left px-4 py-2 transition-colors duration-150 text-sm ${s===U.action?"bg-blue-100 text-blue-700 font-medium":"text-gray-700 hover:bg-blue-50 hover:text-blue-600"}`,children:U.label},re):null};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white border-b border-cyan-200 shadow-sm",children:e.jsx("div",{className:"px-4 lg:px-6 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("img",{src:yC,alt:"LifeBank Foundation",className:"h-10 object-contain"})}),e.jsx("div",{className:"hidden md:block",children:e.jsxs("p",{className:"text-orange-500 italic",style:{fontSize:"1.1rem"},children:["we ",e.jsx("span",{className:"font-semibold",children:"excel"}),", we ",e.jsx("span",{className:"font-semibold",children:"care"}),", we ",e.jsx("span",{className:"font-semibold",children:"share"})]})})]})})}),e.jsxs("nav",{className:"bg-green-600 border-b border-green-600 sticky top-0 z-50 shadow-lg",children:[e.jsxs("div",{className:"px-4 lg:px-6",children:[e.jsxs("div",{className:"flex items-center justify-between h-14",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center w-9 h-9 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-lg shadow-md",children:e.jsx(xa,{className:"w-5 h-5 text-white",strokeWidth:2.5})}),e.jsx("div",{children:e.jsx("h1",{className:"text-white text-lg",children:"128 Timekeeping"})})]}),e.jsx("div",{ref:N,className:"hidden lg:flex items-center space-x-1",children:k.map(U=>e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>E(U.id),className:`flex items-center space-x-2 px-4 py-3 rounded-lg transition-all duration-200 ${L(U)?"bg-amber-100 text-gray text-bold":"text-slate-200 hover:bg--amber-100 hover:text-white text-bold"}`,children:[e.jsx(U.icon,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:U.label}),U.submenu&&e.jsx(lc,{className:`w-4 h-4 transition-transform duration-200 ${r===U.id?"rotate-180":""}`})]}),U.submenu&&r===U.id&&e.jsx("div",{className:`absolute top-full left-0 mt-1 bg-white rounded-lg shadow-xl border border-gray-200 animate-slideDown ${U.id==="file-setup"||U.id==="maintenance"||U.id==="utilities"||U.id==="import"?"":U.id==="process"?"py-2":"py-2 w-56"} ${U.id==="process"?"w-80":""}`,children:U.id==="file-setup"?O(U.submenu):U.id==="maintenance"?q(U.submenu):U.id==="process"?B(U.submenu):U.id==="utilities"?se(U.submenu):U.id==="import"?le(U.submenu):U.submenu.map((Y,W)=>pe(Y,W))})]},U.id))}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"hidden md:flex items-center space-x-2 px-3 py-2 bg-slate-600 rounded-lg relative cursor-pointer",onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:[e.jsx(yp,{className:"w-4 h-4 text-slate-200"}),e.jsx("span",{className:"text-slate-200 text-sm",children:"Admin"}),h&&e.jsxs("div",{className:"absolute top-full mt-2 left-1/2 transform -translate-x-1/2 bg-blue-500 text-white px-4 py-2 rounded shadow-lg whitespace-nowrap z-50 animate-fadeIn",children:[e.jsx("div",{className:"text-sm",children:"v910.000 20251201"}),e.jsx("div",{className:"absolute -top-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-blue-500 rotate-45"})]})]}),e.jsxs("button",{onClick:P,disabled:b,className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg hover:from-red-600 hover:to-red-700 transition-all duration-200 shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(mC,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:b?"Logging out...":"Logout"})]}),e.jsx("button",{onClick:()=>x(!d),className:"lg:hidden flex items-center justify-center w-10 h-10 text-slate-200 hover:text-white hover:bg-slate-600 rounded-lg transition-all duration-200",children:d?e.jsx(et,{className:"w-6 h-6"}):e.jsx(kF,{className:"w-6 h-6"})})]})]}),e.jsx("div",{className:"lg:hidden pb-3 space-y-1",children:k.map(U=>e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>E(U.id),className:`w-full flex items-center justify-between px-4 py-2.5 rounded-lg transition-all duration-200 ${s===U.id?"bg-slate-600 text-white":"text-slate-200 hover:bg-slate-600"}`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U.icon,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:U.label})]}),U.submenu&&e.jsx(lc,{className:`w-4 h-4 transition-transform duration-200 ${r===U.id?"rotate-180":""}`})]}),U.submenu&&r===U.id&&e.jsx("div",{className:"ml-6 mt-1 space-y-1 max-h-[60vh] overflow-y-auto",children:U.submenu.map((Y,W)=>pe(Y,W))})]},U.id))})]}),e.jsx("style",{children:`
          @keyframes slideDown {
            from {
              opacity: 0;
              transform: translateY(-10px);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
          .animate-slideDown {
            animation: slideDown 0.2s ease-out;
          }

          @keyframes slideRight {
            from {
              opacity: 0;
              transform: translateX(-10px);
            }
            to {
              opacity: 1;
              transform: translateX(0);
            }
          }
          .animate-slideRight {
            animation: slideRight 0.2s ease-out;
          }

          @keyframes fadeIn {
            from {
              opacity: 0;
            }
            to {
              opacity: 1;
            }
          }
          .animate-fadeIn {
            animation: fadeIn 0.2s ease-out;
          }
        `})]})]})}function oc(t,s,{checkForDefaultPrevented:a=!0}={}){return function(n){if(t?.(n),a===!1||!n.defaultPrevented)return s?.(n)}}function Mj(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function kb(...t){return s=>{let a=!1;const r=t.map(n=>{const l=Mj(n,s);return!a&&typeof l=="function"&&(a=!0),l});if(a)return()=>{for(let n=0;n<r.length;n++){const l=r[n];typeof l=="function"?l():Mj(t[n],null)}}}}function gc(...t){return o.useCallback(kb(...t),t)}function wC(t,s=[]){let a=[];function r(l,i){const d=o.createContext(i),x=a.length;a=[...a,i];const h=b=>{const{scope:f,children:N,...p}=b,v=f?.[t]?.[x]||d,y=o.useMemo(()=>p,Object.values(p));return e.jsx(v.Provider,{value:y,children:N})};h.displayName=l+"Provider";function m(b,f){const N=f?.[t]?.[x]||d,p=o.useContext(N);if(p)return p;if(i!==void 0)return i;throw new Error(`\`${b}\` must be used within \`${l}\``)}return[h,m]}const n=()=>{const l=a.map(i=>o.createContext(i));return function(d){const x=d?.[t]||l;return o.useMemo(()=>({[`__scope${t}`]:{...d,[t]:x}}),[d,x])}};return n.scopeName=t,[r,PP(n,...s)]}function PP(...t){const s=t[0];if(t.length===1)return s;const a=()=>{const r=t.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(l){const i=r.reduce((d,{useScope:x,scopeName:h})=>{const b=x(l)[`__scope${h}`];return{...d,...b}},{});return o.useMemo(()=>({[`__scope${s.scopeName}`]:i}),[i])}};return a.scopeName=s.scopeName,a}var Db=$2();const MP=Qy(Db);function IP(t){const s=LP(t),a=o.forwardRef((r,n)=>{const{children:l,...i}=r,d=o.Children.toArray(l),x=d.find(_P);if(x){const h=x.props.children,m=d.map(b=>b===x?o.Children.count(h)>1?o.Children.only(null):o.isValidElement(h)?h.props.children:null:b);return e.jsx(s,{...i,ref:n,children:o.isValidElement(h)?o.cloneElement(h,void 0,m):null})}return e.jsx(s,{...i,ref:n,children:l})});return a.displayName=`${t}.Slot`,a}function LP(t){const s=o.forwardRef((a,r)=>{const{children:n,...l}=a;if(o.isValidElement(n)){const i=RP(n),d=BP(l,n.props);return n.type!==o.Fragment&&(d.ref=r?kb(r,i):i),o.cloneElement(n,d)}return o.Children.count(n)>1?o.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var OP=Symbol("radix.slottable");function _P(t){return o.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===OP}function BP(t,s){const a={...s};for(const r in s){const n=t[r],l=s[r];/^on[A-Z]/.test(r)?n&&l?a[r]=(...d)=>{const x=l(...d);return n(...d),x}:n&&(a[r]=n):r==="style"?a[r]={...n,...l}:r==="className"&&(a[r]=[n,l].filter(Boolean).join(" "))}return{...t,...a}}function RP(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var UP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ci=UP.reduce((t,s)=>{const a=IP(`Primitive.${s}`),r=o.forwardRef((n,l)=>{const{asChild:i,...d}=n,x=i?a:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(x,{...d,ref:l})});return r.displayName=`Primitive.${s}`,{...t,[s]:r}},{});function HP(t,s){t&&Db.flushSync(()=>t.dispatchEvent(s))}function E0(t){const s=o.useRef(t);return o.useEffect(()=>{s.current=t}),o.useMemo(()=>(...a)=>s.current?.(...a),[])}function WP(t,s=globalThis?.document){const a=E0(t);o.useEffect(()=>{const r=n=>{n.key==="Escape"&&a(n)};return s.addEventListener("keydown",r,{capture:!0}),()=>s.removeEventListener("keydown",r,{capture:!0})},[a,s])}var GP="DismissableLayer",Ty="dismissableLayer.update",$P="dismissableLayer.pointerDownOutside",zP="dismissableLayer.focusOutside",Ij,NC=o.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jC=o.forwardRef((t,s)=>{const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:r,onPointerDownOutside:n,onFocusOutside:l,onInteractOutside:i,onDismiss:d,...x}=t,h=o.useContext(NC),[m,b]=o.useState(null),f=m?.ownerDocument??globalThis?.document,[,N]=o.useState({}),p=gc(s,E=>b(E)),v=Array.from(h.layers),[y]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),g=v.indexOf(y),j=m?v.indexOf(m):-1,C=h.layersWithOutsidePointerEventsDisabled.size>0,S=j>=g,P=KP(E=>{const M=E.target,L=[...h.branches].some(O=>O.contains(M));!S||L||(n?.(E),i?.(E),E.defaultPrevented||d?.())},f),k=qP(E=>{const M=E.target;[...h.branches].some(O=>O.contains(M))||(l?.(E),i?.(E),E.defaultPrevented||d?.())},f);return WP(E=>{j===h.layers.size-1&&(r?.(E),!E.defaultPrevented&&d&&(E.preventDefault(),d()))},f),o.useEffect(()=>{if(m)return a&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Ij=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),Lj(),()=>{a&&h.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Ij)}},[m,f,a,h]),o.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),Lj())},[m,h]),o.useEffect(()=>{const E=()=>N({});return document.addEventListener(Ty,E),()=>document.removeEventListener(Ty,E)},[]),e.jsx(Ci.div,{...x,ref:p,style:{pointerEvents:C?S?"auto":"none":void 0,...t.style},onFocusCapture:oc(t.onFocusCapture,k.onFocusCapture),onBlurCapture:oc(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:oc(t.onPointerDownCapture,P.onPointerDownCapture)})});jC.displayName=GP;var VP="DismissableLayerBranch",YP=o.forwardRef((t,s)=>{const a=o.useContext(NC),r=o.useRef(null),n=gc(s,r);return o.useEffect(()=>{const l=r.current;if(l)return a.branches.add(l),()=>{a.branches.delete(l)}},[a.branches]),e.jsx(Ci.div,{...t,ref:n})});YP.displayName=VP;function KP(t,s=globalThis?.document){const a=E0(t),r=o.useRef(!1),n=o.useRef(()=>{});return o.useEffect(()=>{const l=d=>{if(d.target&&!r.current){let x=function(){CC($P,a,h,{discrete:!0})};const h={originalEvent:d};d.pointerType==="touch"?(s.removeEventListener("click",n.current),n.current=x,s.addEventListener("click",n.current,{once:!0})):x()}else s.removeEventListener("click",n.current);r.current=!1},i=window.setTimeout(()=>{s.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(i),s.removeEventListener("pointerdown",l),s.removeEventListener("click",n.current)}},[s,a]),{onPointerDownCapture:()=>r.current=!0}}function qP(t,s=globalThis?.document){const a=E0(t),r=o.useRef(!1);return o.useEffect(()=>{const n=l=>{l.target&&!r.current&&CC(zP,a,{originalEvent:l},{discrete:!1})};return s.addEventListener("focusin",n),()=>s.removeEventListener("focusin",n)},[s,a]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Lj(){const t=new CustomEvent(Ty);document.dispatchEvent(t)}function CC(t,s,a,{discrete:r}){const n=a.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:a});s&&n.addEventListener(t,s,{once:!0}),r?HP(n,l):n.dispatchEvent(l)}var Ug=0;function XP(){o.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Oj()),document.body.insertAdjacentElement("beforeend",t[1]??Oj()),Ug++,()=>{Ug===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),Ug--}},[])}function Oj(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Hg="focusScope.autoFocusOnMount",Wg="focusScope.autoFocusOnUnmount",_j={bubbles:!1,cancelable:!0},JP="FocusScope",SC=o.forwardRef((t,s)=>{const{loop:a=!1,trapped:r=!1,onMountAutoFocus:n,onUnmountAutoFocus:l,...i}=t,[d,x]=o.useState(null),h=E0(n),m=E0(l),b=o.useRef(null),f=gc(s,v=>x(v)),N=o.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;o.useEffect(()=>{if(r){let v=function(C){if(N.paused||!d)return;const S=C.target;d.contains(S)?b.current=S:ec(b.current,{select:!0})},y=function(C){if(N.paused||!d)return;const S=C.relatedTarget;S!==null&&(d.contains(S)||ec(b.current,{select:!0}))},g=function(C){if(document.activeElement===document.body)for(const P of C)P.removedNodes.length>0&&ec(d)};document.addEventListener("focusin",v),document.addEventListener("focusout",y);const j=new MutationObserver(g);return d&&j.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",y),j.disconnect()}}},[r,d,N.paused]),o.useEffect(()=>{if(d){Rj.add(N);const v=document.activeElement;if(!d.contains(v)){const g=new CustomEvent(Hg,_j);d.addEventListener(Hg,h),d.dispatchEvent(g),g.defaultPrevented||(QP(aM(kC(d)),{select:!0}),document.activeElement===v&&ec(d))}return()=>{d.removeEventListener(Hg,h),setTimeout(()=>{const g=new CustomEvent(Wg,_j);d.addEventListener(Wg,m),d.dispatchEvent(g),g.defaultPrevented||ec(v??document.body,{select:!0}),d.removeEventListener(Wg,m),Rj.remove(N)},0)}}},[d,h,m,N]);const p=o.useCallback(v=>{if(!a&&!r||N.paused)return;const y=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,g=document.activeElement;if(y&&g){const j=v.currentTarget,[C,S]=ZP(j);C&&S?!v.shiftKey&&g===S?(v.preventDefault(),a&&ec(C,{select:!0})):v.shiftKey&&g===C&&(v.preventDefault(),a&&ec(S,{select:!0})):g===j&&v.preventDefault()}},[a,r,N.paused]);return e.jsx(Ci.div,{tabIndex:-1,...i,ref:f,onKeyDown:p})});SC.displayName=JP;function QP(t,{select:s=!1}={}){const a=document.activeElement;for(const r of t)if(ec(r,{select:s}),document.activeElement!==a)return}function ZP(t){const s=kC(t),a=Bj(s,t),r=Bj(s.reverse(),t);return[a,r]}function kC(t){const s=[],a=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const n=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||n?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)s.push(a.currentNode);return s}function Bj(t,s){for(const a of t)if(!eM(a,{upTo:s}))return a}function eM(t,{upTo:s}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(s!==void 0&&t===s)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function tM(t){return t instanceof HTMLInputElement&&"select"in t}function ec(t,{select:s=!1}={}){if(t&&t.focus){const a=document.activeElement;t.focus({preventScroll:!0}),t!==a&&tM(t)&&s&&t.select()}}var Rj=sM();function sM(){let t=[];return{add(s){const a=t[0];s!==a&&a?.pause(),t=Uj(t,s),t.unshift(s)},remove(s){t=Uj(t,s),t[0]?.resume()}}}function Uj(t,s){const a=[...t],r=a.indexOf(s);return r!==-1&&a.splice(r,1),a}function aM(t){return t.filter(s=>s.tagName!=="A")}var ic=globalThis?.document?o.useLayoutEffect:()=>{},rM=V2[" useId ".trim().toString()]||(()=>{}),nM=0;function oM(t){const[s,a]=o.useState(rM());return ic(()=>{a(r=>r??String(nM++))},[t]),t||(s?`radix-${s}`:"")}const lM=["top","right","bottom","left"],cc=Math.min,uo=Math.max,bp=Math.round,Uh=Math.floor,Hl=t=>({x:t,y:t}),iM={left:"right",right:"left",bottom:"top",top:"bottom"},cM={start:"end",end:"start"};function Ay(t,s,a){return uo(t,cc(s,a))}function wi(t,s){return typeof t=="function"?t(s):t}function Ni(t){return t.split("-")[0]}function G0(t){return t.split("-")[1]}function Eb(t){return t==="x"?"y":"x"}function Tb(t){return t==="y"?"height":"width"}const dM=new Set(["top","bottom"]);function Bl(t){return dM.has(Ni(t))?"y":"x"}function Ab(t){return Eb(Bl(t))}function uM(t,s,a){a===void 0&&(a=!1);const r=G0(t),n=Ab(t),l=Tb(n);let i=n==="x"?r===(a?"end":"start")?"right":"left":r==="start"?"bottom":"top";return s.reference[l]>s.floating[l]&&(i=vp(i)),[i,vp(i)]}function xM(t){const s=vp(t);return[Fy(t),s,Fy(s)]}function Fy(t){return t.replace(/start|end/g,s=>cM[s])}const Hj=["left","right"],Wj=["right","left"],hM=["top","bottom"],mM=["bottom","top"];function pM(t,s,a){switch(t){case"top":case"bottom":return a?s?Wj:Hj:s?Hj:Wj;case"left":case"right":return s?hM:mM;default:return[]}}function fM(t,s,a,r){const n=G0(t);let l=pM(Ni(t),a==="start",r);return n&&(l=l.map(i=>i+"-"+n),s&&(l=l.concat(l.map(Fy)))),l}function vp(t){return t.replace(/left|right|bottom|top/g,s=>iM[s])}function gM(t){return{top:0,right:0,bottom:0,left:0,...t}}function DC(t){return typeof t!="number"?gM(t):{top:t,right:t,bottom:t,left:t}}function wp(t){const{x:s,y:a,width:r,height:n}=t;return{width:r,height:n,top:a,left:s,right:s+r,bottom:a+n,x:s,y:a}}function Gj(t,s,a){let{reference:r,floating:n}=t;const l=Bl(s),i=Ab(s),d=Tb(i),x=Ni(s),h=l==="y",m=r.x+r.width/2-n.width/2,b=r.y+r.height/2-n.height/2,f=r[d]/2-n[d]/2;let N;switch(x){case"top":N={x:m,y:r.y-n.height};break;case"bottom":N={x:m,y:r.y+r.height};break;case"right":N={x:r.x+r.width,y:b};break;case"left":N={x:r.x-n.width,y:b};break;default:N={x:r.x,y:r.y}}switch(G0(s)){case"start":N[i]-=f*(a&&h?-1:1);break;case"end":N[i]+=f*(a&&h?-1:1);break}return N}const yM=async(t,s,a)=>{const{placement:r="bottom",strategy:n="absolute",middleware:l=[],platform:i}=a,d=l.filter(Boolean),x=await(i.isRTL==null?void 0:i.isRTL(s));let h=await i.getElementRects({reference:t,floating:s,strategy:n}),{x:m,y:b}=Gj(h,r,x),f=r,N={},p=0;for(let v=0;v<d.length;v++){const{name:y,fn:g}=d[v],{x:j,y:C,data:S,reset:P}=await g({x:m,y:b,initialPlacement:r,placement:f,strategy:n,middlewareData:N,rects:h,platform:i,elements:{reference:t,floating:s}});m=j??m,b=C??b,N={...N,[y]:{...N[y],...S}},P&&p<=50&&(p++,typeof P=="object"&&(P.placement&&(f=P.placement),P.rects&&(h=P.rects===!0?await i.getElementRects({reference:t,floating:s,strategy:n}):P.rects),{x:m,y:b}=Gj(h,f,x)),v=-1)}return{x:m,y:b,placement:f,strategy:n,middlewareData:N}};async function Yu(t,s){var a;s===void 0&&(s={});const{x:r,y:n,platform:l,rects:i,elements:d,strategy:x}=t,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:b="floating",altBoundary:f=!1,padding:N=0}=wi(s,t),p=DC(N),y=d[f?b==="floating"?"reference":"floating":b],g=wp(await l.getClippingRect({element:(a=await(l.isElement==null?void 0:l.isElement(y)))==null||a?y:y.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:h,rootBoundary:m,strategy:x})),j=b==="floating"?{x:r,y:n,width:i.floating.width,height:i.floating.height}:i.reference,C=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),S=await(l.isElement==null?void 0:l.isElement(C))?await(l.getScale==null?void 0:l.getScale(C))||{x:1,y:1}:{x:1,y:1},P=wp(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:j,offsetParent:C,strategy:x}):j);return{top:(g.top-P.top+p.top)/S.y,bottom:(P.bottom-g.bottom+p.bottom)/S.y,left:(g.left-P.left+p.left)/S.x,right:(P.right-g.right+p.right)/S.x}}const bM=t=>({name:"arrow",options:t,async fn(s){const{x:a,y:r,placement:n,rects:l,platform:i,elements:d,middlewareData:x}=s,{element:h,padding:m=0}=wi(t,s)||{};if(h==null)return{};const b=DC(m),f={x:a,y:r},N=Ab(n),p=Tb(N),v=await i.getDimensions(h),y=N==="y",g=y?"top":"left",j=y?"bottom":"right",C=y?"clientHeight":"clientWidth",S=l.reference[p]+l.reference[N]-f[N]-l.floating[p],P=f[N]-l.reference[N],k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(h));let E=k?k[C]:0;(!E||!await(i.isElement==null?void 0:i.isElement(k)))&&(E=d.floating[C]||l.floating[p]);const M=S/2-P/2,L=E/2-v[p]/2-1,O=cc(b[g],L),q=cc(b[j],L),B=O,se=E-v[p]-q,le=E/2-v[p]/2+M,pe=Ay(B,le,se),U=!x.arrow&&G0(n)!=null&&le!==pe&&l.reference[p]/2-(le<B?O:q)-v[p]/2<0,Y=U?le<B?le-B:le-se:0;return{[N]:f[N]+Y,data:{[N]:pe,centerOffset:le-pe-Y,...U&&{alignmentOffset:Y}},reset:U}}}),vM=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(s){var a,r;const{placement:n,middlewareData:l,rects:i,initialPlacement:d,platform:x,elements:h}=s,{mainAxis:m=!0,crossAxis:b=!0,fallbackPlacements:f,fallbackStrategy:N="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:v=!0,...y}=wi(t,s);if((a=l.arrow)!=null&&a.alignmentOffset)return{};const g=Ni(n),j=Bl(d),C=Ni(d)===d,S=await(x.isRTL==null?void 0:x.isRTL(h.floating)),P=f||(C||!v?[vp(d)]:xM(d)),k=p!=="none";!f&&k&&P.push(...fM(d,v,p,S));const E=[d,...P],M=await Yu(s,y),L=[];let O=((r=l.flip)==null?void 0:r.overflows)||[];if(m&&L.push(M[g]),b){const le=uM(n,i,S);L.push(M[le[0]],M[le[1]])}if(O=[...O,{placement:n,overflows:L}],!L.every(le=>le<=0)){var q,B;const le=(((q=l.flip)==null?void 0:q.index)||0)+1,pe=E[le];if(pe&&(!(b==="alignment"?j!==Bl(pe):!1)||O.every(W=>Bl(W.placement)===j?W.overflows[0]>0:!0)))return{data:{index:le,overflows:O},reset:{placement:pe}};let U=(B=O.filter(Y=>Y.overflows[0]<=0).sort((Y,W)=>Y.overflows[1]-W.overflows[1])[0])==null?void 0:B.placement;if(!U)switch(N){case"bestFit":{var se;const Y=(se=O.filter(W=>{if(k){const re=Bl(W.placement);return re===j||re==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(re=>re>0).reduce((re,G)=>re+G,0)]).sort((W,re)=>W[1]-re[1])[0])==null?void 0:se[0];Y&&(U=Y);break}case"initialPlacement":U=d;break}if(n!==U)return{reset:{placement:U}}}return{}}}};function $j(t,s){return{top:t.top-s.height,right:t.right-s.width,bottom:t.bottom-s.height,left:t.left-s.width}}function zj(t){return lM.some(s=>t[s]>=0)}const wM=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(s){const{rects:a}=s,{strategy:r="referenceHidden",...n}=wi(t,s);switch(r){case"referenceHidden":{const l=await Yu(s,{...n,elementContext:"reference"}),i=$j(l,a.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:zj(i)}}}case"escaped":{const l=await Yu(s,{...n,altBoundary:!0}),i=$j(l,a.floating);return{data:{escapedOffsets:i,escaped:zj(i)}}}default:return{}}}}},EC=new Set(["left","top"]);async function NM(t,s){const{placement:a,platform:r,elements:n}=t,l=await(r.isRTL==null?void 0:r.isRTL(n.floating)),i=Ni(a),d=G0(a),x=Bl(a)==="y",h=EC.has(i)?-1:1,m=l&&x?-1:1,b=wi(s,t);let{mainAxis:f,crossAxis:N,alignmentAxis:p}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return d&&typeof p=="number"&&(N=d==="end"?p*-1:p),x?{x:N*m,y:f*h}:{x:f*h,y:N*m}}const jM=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(s){var a,r;const{x:n,y:l,placement:i,middlewareData:d}=s,x=await NM(s,t);return i===((a=d.offset)==null?void 0:a.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:n+x.x,y:l+x.y,data:{...x,placement:i}}}}},CM=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(s){const{x:a,y:r,placement:n}=s,{mainAxis:l=!0,crossAxis:i=!1,limiter:d={fn:y=>{let{x:g,y:j}=y;return{x:g,y:j}}},...x}=wi(t,s),h={x:a,y:r},m=await Yu(s,x),b=Bl(Ni(n)),f=Eb(b);let N=h[f],p=h[b];if(l){const y=f==="y"?"top":"left",g=f==="y"?"bottom":"right",j=N+m[y],C=N-m[g];N=Ay(j,N,C)}if(i){const y=b==="y"?"top":"left",g=b==="y"?"bottom":"right",j=p+m[y],C=p-m[g];p=Ay(j,p,C)}const v=d.fn({...s,[f]:N,[b]:p});return{...v,data:{x:v.x-a,y:v.y-r,enabled:{[f]:l,[b]:i}}}}}},SM=function(t){return t===void 0&&(t={}),{options:t,fn(s){const{x:a,y:r,placement:n,rects:l,middlewareData:i}=s,{offset:d=0,mainAxis:x=!0,crossAxis:h=!0}=wi(t,s),m={x:a,y:r},b=Bl(n),f=Eb(b);let N=m[f],p=m[b];const v=wi(d,s),y=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(x){const C=f==="y"?"height":"width",S=l.reference[f]-l.floating[C]+y.mainAxis,P=l.reference[f]+l.reference[C]-y.mainAxis;N<S?N=S:N>P&&(N=P)}if(h){var g,j;const C=f==="y"?"width":"height",S=EC.has(Ni(n)),P=l.reference[b]-l.floating[C]+(S&&((g=i.offset)==null?void 0:g[b])||0)+(S?0:y.crossAxis),k=l.reference[b]+l.reference[C]+(S?0:((j=i.offset)==null?void 0:j[b])||0)-(S?y.crossAxis:0);p<P?p=P:p>k&&(p=k)}return{[f]:N,[b]:p}}}},kM=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(s){var a,r;const{placement:n,rects:l,platform:i,elements:d}=s,{apply:x=()=>{},...h}=wi(t,s),m=await Yu(s,h),b=Ni(n),f=G0(n),N=Bl(n)==="y",{width:p,height:v}=l.floating;let y,g;b==="top"||b==="bottom"?(y=b,g=f===(await(i.isRTL==null?void 0:i.isRTL(d.floating))?"start":"end")?"left":"right"):(g=b,y=f==="end"?"top":"bottom");const j=v-m.top-m.bottom,C=p-m.left-m.right,S=cc(v-m[y],j),P=cc(p-m[g],C),k=!s.middlewareData.shift;let E=S,M=P;if((a=s.middlewareData.shift)!=null&&a.enabled.x&&(M=C),(r=s.middlewareData.shift)!=null&&r.enabled.y&&(E=j),k&&!f){const O=uo(m.left,0),q=uo(m.right,0),B=uo(m.top,0),se=uo(m.bottom,0);N?M=p-2*(O!==0||q!==0?O+q:uo(m.left,m.right)):E=v-2*(B!==0||se!==0?B+se:uo(m.top,m.bottom))}await x({...s,availableWidth:M,availableHeight:E});const L=await i.getDimensions(d.floating);return p!==L.width||v!==L.height?{reset:{rects:!0}}:{}}}};function Jp(){return typeof window<"u"}function $0(t){return TC(t)?(t.nodeName||"").toLowerCase():"#document"}function fo(t){var s;return(t==null||(s=t.ownerDocument)==null?void 0:s.defaultView)||window}function zl(t){var s;return(s=(TC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:s.documentElement}function TC(t){return Jp()?t instanceof Node||t instanceof fo(t).Node:!1}function xl(t){return Jp()?t instanceof Element||t instanceof fo(t).Element:!1}function Gl(t){return Jp()?t instanceof HTMLElement||t instanceof fo(t).HTMLElement:!1}function Vj(t){return!Jp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof fo(t).ShadowRoot}const DM=new Set(["inline","contents"]);function Nx(t){const{overflow:s,overflowX:a,overflowY:r,display:n}=hl(t);return/auto|scroll|overlay|hidden|clip/.test(s+r+a)&&!DM.has(n)}const EM=new Set(["table","td","th"]);function TM(t){return EM.has($0(t))}const AM=[":popover-open",":modal"];function Qp(t){return AM.some(s=>{try{return t.matches(s)}catch{return!1}})}const FM=["transform","translate","scale","rotate","perspective"],PM=["transform","translate","scale","rotate","perspective","filter"],MM=["paint","layout","strict","content"];function Fb(t){const s=Pb(),a=xl(t)?hl(t):t;return FM.some(r=>a[r]?a[r]!=="none":!1)||(a.containerType?a.containerType!=="normal":!1)||!s&&(a.backdropFilter?a.backdropFilter!=="none":!1)||!s&&(a.filter?a.filter!=="none":!1)||PM.some(r=>(a.willChange||"").includes(r))||MM.some(r=>(a.contain||"").includes(r))}function IM(t){let s=dc(t);for(;Gl(s)&&!T0(s);){if(Fb(s))return s;if(Qp(s))return null;s=dc(s)}return null}function Pb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const LM=new Set(["html","body","#document"]);function T0(t){return LM.has($0(t))}function hl(t){return fo(t).getComputedStyle(t)}function Zp(t){return xl(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function dc(t){if($0(t)==="html")return t;const s=t.assignedSlot||t.parentNode||Vj(t)&&t.host||zl(t);return Vj(s)?s.host:s}function AC(t){const s=dc(t);return T0(s)?t.ownerDocument?t.ownerDocument.body:t.body:Gl(s)&&Nx(s)?s:AC(s)}function Ku(t,s,a){var r;s===void 0&&(s=[]),a===void 0&&(a=!0);const n=AC(t),l=n===((r=t.ownerDocument)==null?void 0:r.body),i=fo(n);if(l){const d=Py(i);return s.concat(i,i.visualViewport||[],Nx(n)?n:[],d&&a?Ku(d):[])}return s.concat(n,Ku(n,[],a))}function Py(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function FC(t){const s=hl(t);let a=parseFloat(s.width)||0,r=parseFloat(s.height)||0;const n=Gl(t),l=n?t.offsetWidth:a,i=n?t.offsetHeight:r,d=bp(a)!==l||bp(r)!==i;return d&&(a=l,r=i),{width:a,height:r,$:d}}function Mb(t){return xl(t)?t:t.contextElement}function y0(t){const s=Mb(t);if(!Gl(s))return Hl(1);const a=s.getBoundingClientRect(),{width:r,height:n,$:l}=FC(s);let i=(l?bp(a.width):a.width)/r,d=(l?bp(a.height):a.height)/n;return(!i||!Number.isFinite(i))&&(i=1),(!d||!Number.isFinite(d))&&(d=1),{x:i,y:d}}const OM=Hl(0);function PC(t){const s=fo(t);return!Pb()||!s.visualViewport?OM:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function _M(t,s,a){return s===void 0&&(s=!1),!a||s&&a!==fo(t)?!1:s}function cd(t,s,a,r){s===void 0&&(s=!1),a===void 0&&(a=!1);const n=t.getBoundingClientRect(),l=Mb(t);let i=Hl(1);s&&(r?xl(r)&&(i=y0(r)):i=y0(t));const d=_M(l,a,r)?PC(l):Hl(0);let x=(n.left+d.x)/i.x,h=(n.top+d.y)/i.y,m=n.width/i.x,b=n.height/i.y;if(l){const f=fo(l),N=r&&xl(r)?fo(r):r;let p=f,v=Py(p);for(;v&&r&&N!==p;){const y=y0(v),g=v.getBoundingClientRect(),j=hl(v),C=g.left+(v.clientLeft+parseFloat(j.paddingLeft))*y.x,S=g.top+(v.clientTop+parseFloat(j.paddingTop))*y.y;x*=y.x,h*=y.y,m*=y.x,b*=y.y,x+=C,h+=S,p=fo(v),v=Py(p)}}return wp({width:m,height:b,x,y:h})}function ef(t,s){const a=Zp(t).scrollLeft;return s?s.left+a:cd(zl(t)).left+a}function MC(t,s){const a=t.getBoundingClientRect(),r=a.left+s.scrollLeft-ef(t,a),n=a.top+s.scrollTop;return{x:r,y:n}}function BM(t){let{elements:s,rect:a,offsetParent:r,strategy:n}=t;const l=n==="fixed",i=zl(r),d=s?Qp(s.floating):!1;if(r===i||d&&l)return a;let x={scrollLeft:0,scrollTop:0},h=Hl(1);const m=Hl(0),b=Gl(r);if((b||!b&&!l)&&(($0(r)!=="body"||Nx(i))&&(x=Zp(r)),Gl(r))){const N=cd(r);h=y0(r),m.x=N.x+r.clientLeft,m.y=N.y+r.clientTop}const f=i&&!b&&!l?MC(i,x):Hl(0);return{width:a.width*h.x,height:a.height*h.y,x:a.x*h.x-x.scrollLeft*h.x+m.x+f.x,y:a.y*h.y-x.scrollTop*h.y+m.y+f.y}}function RM(t){return Array.from(t.getClientRects())}function UM(t){const s=zl(t),a=Zp(t),r=t.ownerDocument.body,n=uo(s.scrollWidth,s.clientWidth,r.scrollWidth,r.clientWidth),l=uo(s.scrollHeight,s.clientHeight,r.scrollHeight,r.clientHeight);let i=-a.scrollLeft+ef(t);const d=-a.scrollTop;return hl(r).direction==="rtl"&&(i+=uo(s.clientWidth,r.clientWidth)-n),{width:n,height:l,x:i,y:d}}const Yj=25;function HM(t,s){const a=fo(t),r=zl(t),n=a.visualViewport;let l=r.clientWidth,i=r.clientHeight,d=0,x=0;if(n){l=n.width,i=n.height;const m=Pb();(!m||m&&s==="fixed")&&(d=n.offsetLeft,x=n.offsetTop)}const h=ef(r);if(h<=0){const m=r.ownerDocument,b=m.body,f=getComputedStyle(b),N=m.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,p=Math.abs(r.clientWidth-b.clientWidth-N);p<=Yj&&(l-=p)}else h<=Yj&&(l+=h);return{width:l,height:i,x:d,y:x}}const WM=new Set(["absolute","fixed"]);function GM(t,s){const a=cd(t,!0,s==="fixed"),r=a.top+t.clientTop,n=a.left+t.clientLeft,l=Gl(t)?y0(t):Hl(1),i=t.clientWidth*l.x,d=t.clientHeight*l.y,x=n*l.x,h=r*l.y;return{width:i,height:d,x,y:h}}function Kj(t,s,a){let r;if(s==="viewport")r=HM(t,a);else if(s==="document")r=UM(zl(t));else if(xl(s))r=GM(s,a);else{const n=PC(t);r={x:s.x-n.x,y:s.y-n.y,width:s.width,height:s.height}}return wp(r)}function IC(t,s){const a=dc(t);return a===s||!xl(a)||T0(a)?!1:hl(a).position==="fixed"||IC(a,s)}function $M(t,s){const a=s.get(t);if(a)return a;let r=Ku(t,[],!1).filter(d=>xl(d)&&$0(d)!=="body"),n=null;const l=hl(t).position==="fixed";let i=l?dc(t):t;for(;xl(i)&&!T0(i);){const d=hl(i),x=Fb(i);!x&&d.position==="fixed"&&(n=null),(l?!x&&!n:!x&&d.position==="static"&&!!n&&WM.has(n.position)||Nx(i)&&!x&&IC(t,i))?r=r.filter(m=>m!==i):n=d,i=dc(i)}return s.set(t,r),r}function zM(t){let{element:s,boundary:a,rootBoundary:r,strategy:n}=t;const i=[...a==="clippingAncestors"?Qp(s)?[]:$M(s,this._c):[].concat(a),r],d=i[0],x=i.reduce((h,m)=>{const b=Kj(s,m,n);return h.top=uo(b.top,h.top),h.right=cc(b.right,h.right),h.bottom=cc(b.bottom,h.bottom),h.left=uo(b.left,h.left),h},Kj(s,d,n));return{width:x.right-x.left,height:x.bottom-x.top,x:x.left,y:x.top}}function VM(t){const{width:s,height:a}=FC(t);return{width:s,height:a}}function YM(t,s,a){const r=Gl(s),n=zl(s),l=a==="fixed",i=cd(t,!0,l,s);let d={scrollLeft:0,scrollTop:0};const x=Hl(0);function h(){x.x=ef(n)}if(r||!r&&!l)if(($0(s)!=="body"||Nx(n))&&(d=Zp(s)),r){const N=cd(s,!0,l,s);x.x=N.x+s.clientLeft,x.y=N.y+s.clientTop}else n&&h();l&&!r&&n&&h();const m=n&&!r&&!l?MC(n,d):Hl(0),b=i.left+d.scrollLeft-x.x-m.x,f=i.top+d.scrollTop-x.y-m.y;return{x:b,y:f,width:i.width,height:i.height}}function Gg(t){return hl(t).position==="static"}function qj(t,s){if(!Gl(t)||hl(t).position==="fixed")return null;if(s)return s(t);let a=t.offsetParent;return zl(t)===a&&(a=a.ownerDocument.body),a}function LC(t,s){const a=fo(t);if(Qp(t))return a;if(!Gl(t)){let n=dc(t);for(;n&&!T0(n);){if(xl(n)&&!Gg(n))return n;n=dc(n)}return a}let r=qj(t,s);for(;r&&TM(r)&&Gg(r);)r=qj(r,s);return r&&T0(r)&&Gg(r)&&!Fb(r)?a:r||IM(t)||a}const KM=async function(t){const s=this.getOffsetParent||LC,a=this.getDimensions,r=await a(t.floating);return{reference:YM(t.reference,await s(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function qM(t){return hl(t).direction==="rtl"}const XM={convertOffsetParentRelativeRectToViewportRelativeRect:BM,getDocumentElement:zl,getClippingRect:zM,getOffsetParent:LC,getElementRects:KM,getClientRects:RM,getDimensions:VM,getScale:y0,isElement:xl,isRTL:qM};function OC(t,s){return t.x===s.x&&t.y===s.y&&t.width===s.width&&t.height===s.height}function JM(t,s){let a=null,r;const n=zl(t);function l(){var d;clearTimeout(r),(d=a)==null||d.disconnect(),a=null}function i(d,x){d===void 0&&(d=!1),x===void 0&&(x=1),l();const h=t.getBoundingClientRect(),{left:m,top:b,width:f,height:N}=h;if(d||s(),!f||!N)return;const p=Uh(b),v=Uh(n.clientWidth-(m+f)),y=Uh(n.clientHeight-(b+N)),g=Uh(m),C={rootMargin:-p+"px "+-v+"px "+-y+"px "+-g+"px",threshold:uo(0,cc(1,x))||1};let S=!0;function P(k){const E=k[0].intersectionRatio;if(E!==x){if(!S)return i();E?i(!1,E):r=setTimeout(()=>{i(!1,1e-7)},1e3)}E===1&&!OC(h,t.getBoundingClientRect())&&i(),S=!1}try{a=new IntersectionObserver(P,{...C,root:n.ownerDocument})}catch{a=new IntersectionObserver(P,C)}a.observe(t)}return i(!0),l}function QM(t,s,a,r){r===void 0&&(r={});const{ancestorScroll:n=!0,ancestorResize:l=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:x=!1}=r,h=Mb(t),m=n||l?[...h?Ku(h):[],...Ku(s)]:[];m.forEach(g=>{n&&g.addEventListener("scroll",a,{passive:!0}),l&&g.addEventListener("resize",a)});const b=h&&d?JM(h,a):null;let f=-1,N=null;i&&(N=new ResizeObserver(g=>{let[j]=g;j&&j.target===h&&N&&(N.unobserve(s),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var C;(C=N)==null||C.observe(s)})),a()}),h&&!x&&N.observe(h),N.observe(s));let p,v=x?cd(t):null;x&&y();function y(){const g=cd(t);v&&!OC(v,g)&&a(),v=g,p=requestAnimationFrame(y)}return a(),()=>{var g;m.forEach(j=>{n&&j.removeEventListener("scroll",a),l&&j.removeEventListener("resize",a)}),b?.(),(g=N)==null||g.disconnect(),N=null,x&&cancelAnimationFrame(p)}}const ZM=jM,eI=CM,tI=vM,sI=kM,aI=wM,Xj=bM,rI=SM,nI=(t,s,a)=>{const r=new Map,n={platform:XM,...a},l={...n.platform,_c:r};return yM(t,s,{...n,platform:l})};var oI=typeof document<"u",lI=function(){},sp=oI?o.useLayoutEffect:lI;function Np(t,s){if(t===s)return!0;if(typeof t!=typeof s)return!1;if(typeof t=="function"&&t.toString()===s.toString())return!0;let a,r,n;if(t&&s&&typeof t=="object"){if(Array.isArray(t)){if(a=t.length,a!==s.length)return!1;for(r=a;r--!==0;)if(!Np(t[r],s[r]))return!1;return!0}if(n=Object.keys(t),a=n.length,a!==Object.keys(s).length)return!1;for(r=a;r--!==0;)if(!{}.hasOwnProperty.call(s,n[r]))return!1;for(r=a;r--!==0;){const l=n[r];if(!(l==="_owner"&&t.$$typeof)&&!Np(t[l],s[l]))return!1}return!0}return t!==t&&s!==s}function _C(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Jj(t,s){const a=_C(t);return Math.round(s*a)/a}function $g(t){const s=o.useRef(t);return sp(()=>{s.current=t}),s}function iI(t){t===void 0&&(t={});const{placement:s="bottom",strategy:a="absolute",middleware:r=[],platform:n,elements:{reference:l,floating:i}={},transform:d=!0,whileElementsMounted:x,open:h}=t,[m,b]=o.useState({x:0,y:0,strategy:a,placement:s,middlewareData:{},isPositioned:!1}),[f,N]=o.useState(r);Np(f,r)||N(r);const[p,v]=o.useState(null),[y,g]=o.useState(null),j=o.useCallback(W=>{W!==k.current&&(k.current=W,v(W))},[]),C=o.useCallback(W=>{W!==E.current&&(E.current=W,g(W))},[]),S=l||p,P=i||y,k=o.useRef(null),E=o.useRef(null),M=o.useRef(m),L=x!=null,O=$g(x),q=$g(n),B=$g(h),se=o.useCallback(()=>{if(!k.current||!E.current)return;const W={placement:s,strategy:a,middleware:f};q.current&&(W.platform=q.current),nI(k.current,E.current,W).then(re=>{const G={...re,isPositioned:B.current!==!1};le.current&&!Np(M.current,G)&&(M.current=G,Db.flushSync(()=>{b(G)}))})},[f,s,a,q,B]);sp(()=>{h===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,b(W=>({...W,isPositioned:!1})))},[h]);const le=o.useRef(!1);sp(()=>(le.current=!0,()=>{le.current=!1}),[]),sp(()=>{if(S&&(k.current=S),P&&(E.current=P),S&&P){if(O.current)return O.current(S,P,se);se()}},[S,P,se,O,L]);const pe=o.useMemo(()=>({reference:k,floating:E,setReference:j,setFloating:C}),[j,C]),U=o.useMemo(()=>({reference:S,floating:P}),[S,P]),Y=o.useMemo(()=>{const W={position:a,left:0,top:0};if(!U.floating)return W;const re=Jj(U.floating,m.x),G=Jj(U.floating,m.y);return d?{...W,transform:"translate("+re+"px, "+G+"px)",..._C(U.floating)>=1.5&&{willChange:"transform"}}:{position:a,left:re,top:G}},[a,d,U.floating,m.x,m.y]);return o.useMemo(()=>({...m,update:se,refs:pe,elements:U,floatingStyles:Y}),[m,se,pe,U,Y])}const cI=t=>{function s(a){return{}.hasOwnProperty.call(a,"current")}return{name:"arrow",options:t,fn(a){const{element:r,padding:n}=typeof t=="function"?t(a):t;return r&&s(r)?r.current!=null?Xj({element:r.current,padding:n}).fn(a):{}:r?Xj({element:r,padding:n}).fn(a):{}}}},dI=(t,s)=>({...ZM(t),options:[t,s]}),uI=(t,s)=>({...eI(t),options:[t,s]}),xI=(t,s)=>({...rI(t),options:[t,s]}),hI=(t,s)=>({...tI(t),options:[t,s]}),mI=(t,s)=>({...sI(t),options:[t,s]}),pI=(t,s)=>({...aI(t),options:[t,s]}),fI=(t,s)=>({...cI(t),options:[t,s]});var gI="Arrow",BC=o.forwardRef((t,s)=>{const{children:a,width:r=10,height:n=5,...l}=t;return e.jsx(Ci.svg,{...l,ref:s,width:r,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?a:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});BC.displayName=gI;var yI=BC;function bI(t){const[s,a]=o.useState(void 0);return ic(()=>{if(t){a({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const l=n[0];let i,d;if("borderBoxSize"in l){const x=l.borderBoxSize,h=Array.isArray(x)?x[0]:x;i=h.inlineSize,d=h.blockSize}else i=t.offsetWidth,d=t.offsetHeight;a({width:i,height:d})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else a(void 0)},[t]),s}var Ib="Popper",[RC,UC]=wC(Ib),[vI,HC]=RC(Ib),WC=t=>{const{__scopePopper:s,children:a}=t,[r,n]=o.useState(null);return e.jsx(vI,{scope:s,anchor:r,onAnchorChange:n,children:a})};WC.displayName=Ib;var GC="PopperAnchor",$C=o.forwardRef((t,s)=>{const{__scopePopper:a,virtualRef:r,...n}=t,l=HC(GC,a),i=o.useRef(null),d=gc(s,i),x=o.useRef(null);return o.useEffect(()=>{const h=x.current;x.current=r?.current||i.current,h!==x.current&&l.onAnchorChange(x.current)}),r?null:e.jsx(Ci.div,{...n,ref:d})});$C.displayName=GC;var Lb="PopperContent",[wI,NI]=RC(Lb),zC=o.forwardRef((t,s)=>{const{__scopePopper:a,side:r="bottom",sideOffset:n=0,align:l="center",alignOffset:i=0,arrowPadding:d=0,avoidCollisions:x=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:b="partial",hideWhenDetached:f=!1,updatePositionStrategy:N="optimized",onPlaced:p,...v}=t,y=HC(Lb,a),[g,j]=o.useState(null),C=gc(s,xe=>j(xe)),[S,P]=o.useState(null),k=bI(S),E=k?.width??0,M=k?.height??0,L=r+(l!=="center"?"-"+l:""),O=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},q=Array.isArray(h)?h:[h],B=q.length>0,se={padding:O,boundary:q.filter(CI),altBoundary:B},{refs:le,floatingStyles:pe,placement:U,isPositioned:Y,middlewareData:W}=iI({strategy:"fixed",placement:L,whileElementsMounted:(...xe)=>QM(...xe,{animationFrame:N==="always"}),elements:{reference:y.anchor},middleware:[dI({mainAxis:n+M,alignmentAxis:i}),x&&uI({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?xI():void 0,...se}),x&&hI({...se}),mI({...se,apply:({elements:xe,rects:ge,availableWidth:Ne,availableHeight:Ce})=>{const{width:fe,height:ue}=ge.reference,Oe=xe.floating.style;Oe.setProperty("--radix-popper-available-width",`${Ne}px`),Oe.setProperty("--radix-popper-available-height",`${Ce}px`),Oe.setProperty("--radix-popper-anchor-width",`${fe}px`),Oe.setProperty("--radix-popper-anchor-height",`${ue}px`)}}),S&&fI({element:S,padding:d}),SI({arrowWidth:E,arrowHeight:M}),f&&pI({strategy:"referenceHidden",...se})]}),[re,G]=KC(U),R=E0(p);ic(()=>{Y&&R?.()},[Y,R]);const F=W.arrow?.x,A=W.arrow?.y,H=W.arrow?.centerOffset!==0,[D,_]=o.useState();return ic(()=>{g&&_(window.getComputedStyle(g).zIndex)},[g]),e.jsx("div",{ref:le.setFloating,"data-radix-popper-content-wrapper":"",style:{...pe,transform:Y?pe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:D,"--radix-popper-transform-origin":[W.transformOrigin?.x,W.transformOrigin?.y].join(" "),...W.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(wI,{scope:a,placedSide:re,onArrowChange:P,arrowX:F,arrowY:A,shouldHideArrow:H,children:e.jsx(Ci.div,{"data-side":re,"data-align":G,...v,ref:C,style:{...v.style,animation:Y?void 0:"none"}})})})});zC.displayName=Lb;var VC="PopperArrow",jI={top:"bottom",right:"left",bottom:"top",left:"right"},YC=o.forwardRef(function(s,a){const{__scopePopper:r,...n}=s,l=NI(VC,r),i=jI[l.placedSide];return e.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:e.jsx(yI,{...n,ref:a,style:{...n.style,display:"block"}})})});YC.displayName=VC;function CI(t){return t!==null}var SI=t=>({name:"transformOrigin",options:t,fn(s){const{placement:a,rects:r,middlewareData:n}=s,i=n.arrow?.centerOffset!==0,d=i?0:t.arrowWidth,x=i?0:t.arrowHeight,[h,m]=KC(a),b={start:"0%",center:"50%",end:"100%"}[m],f=(n.arrow?.x??0)+d/2,N=(n.arrow?.y??0)+x/2;let p="",v="";return h==="bottom"?(p=i?b:`${f}px`,v=`${-x}px`):h==="top"?(p=i?b:`${f}px`,v=`${r.floating.height+x}px`):h==="right"?(p=`${-x}px`,v=i?b:`${N}px`):h==="left"&&(p=`${r.floating.width+x}px`,v=i?b:`${N}px`),{data:{x:p,y:v}}}});function KC(t){const[s,a="center"]=t.split("-");return[s,a]}var kI=WC,qC=$C,DI=zC,EI=YC,TI="Portal",XC=o.forwardRef((t,s)=>{const{container:a,...r}=t,[n,l]=o.useState(!1);ic(()=>l(!0),[]);const i=a||n&&globalThis?.document?.body;return i?MP.createPortal(e.jsx(Ci.div,{...r,ref:s}),i):null});XC.displayName=TI;function AI(t,s){return o.useReducer((a,r)=>s[a][r]??a,t)}var Ob=t=>{const{present:s,children:a}=t,r=FI(s),n=typeof a=="function"?a({present:r.isPresent}):o.Children.only(a),l=gc(r.ref,PI(n));return typeof a=="function"||r.isPresent?o.cloneElement(n,{ref:l}):null};Ob.displayName="Presence";function FI(t){const[s,a]=o.useState(),r=o.useRef(null),n=o.useRef(t),l=o.useRef("none"),i=t?"mounted":"unmounted",[d,x]=AI(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return o.useEffect(()=>{const h=Hh(r.current);l.current=d==="mounted"?h:"none"},[d]),ic(()=>{const h=r.current,m=n.current;if(m!==t){const f=l.current,N=Hh(h);t?x("MOUNT"):N==="none"||h?.display==="none"?x("UNMOUNT"):x(m&&f!==N?"ANIMATION_OUT":"UNMOUNT"),n.current=t}},[t,x]),ic(()=>{if(s){let h;const m=s.ownerDocument.defaultView??window,b=N=>{const v=Hh(r.current).includes(CSS.escape(N.animationName));if(N.target===s&&v&&(x("ANIMATION_END"),!n.current)){const y=s.style.animationFillMode;s.style.animationFillMode="forwards",h=m.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=y)})}},f=N=>{N.target===s&&(l.current=Hh(r.current))};return s.addEventListener("animationstart",f),s.addEventListener("animationcancel",b),s.addEventListener("animationend",b),()=>{m.clearTimeout(h),s.removeEventListener("animationstart",f),s.removeEventListener("animationcancel",b),s.removeEventListener("animationend",b)}}else x("ANIMATION_END")},[s,x]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:o.useCallback(h=>{r.current=h?getComputedStyle(h):null,a(h)},[])}}function Hh(t){return t?.animationName||"none"}function PI(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}function MI(t){const s=II(t),a=o.forwardRef((r,n)=>{const{children:l,...i}=r,d=o.Children.toArray(l),x=d.find(OI);if(x){const h=x.props.children,m=d.map(b=>b===x?o.Children.count(h)>1?o.Children.only(null):o.isValidElement(h)?h.props.children:null:b);return e.jsx(s,{...i,ref:n,children:o.isValidElement(h)?o.cloneElement(h,void 0,m):null})}return e.jsx(s,{...i,ref:n,children:l})});return a.displayName=`${t}.Slot`,a}function II(t){const s=o.forwardRef((a,r)=>{const{children:n,...l}=a;if(o.isValidElement(n)){const i=BI(n),d=_I(l,n.props);return n.type!==o.Fragment&&(d.ref=r?kb(r,i):i),o.cloneElement(n,d)}return o.Children.count(n)>1?o.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var LI=Symbol("radix.slottable");function OI(t){return o.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===LI}function _I(t,s){const a={...s};for(const r in s){const n=t[r],l=s[r];/^on[A-Z]/.test(r)?n&&l?a[r]=(...d)=>{const x=l(...d);return n(...d),x}:n&&(a[r]=n):r==="style"?a[r]={...n,...l}:r==="className"&&(a[r]=[n,l].filter(Boolean).join(" "))}return{...t,...a}}function BI(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var RI=V2[" useInsertionEffect ".trim().toString()]||ic;function UI({prop:t,defaultProp:s,onChange:a=()=>{},caller:r}){const[n,l,i]=HI({defaultProp:s,onChange:a}),d=t!==void 0,x=d?t:n;{const m=o.useRef(t!==void 0);o.useEffect(()=>{const b=m.current;b!==d&&console.warn(`${r} is changing from ${b?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=d},[d,r])}const h=o.useCallback(m=>{if(d){const b=WI(m)?m(t):m;b!==t&&i.current?.(b)}else l(m)},[d,t,l,i]);return[x,h]}function HI({defaultProp:t,onChange:s}){const[a,r]=o.useState(t),n=o.useRef(a),l=o.useRef(s);return RI(()=>{l.current=s},[s]),o.useEffect(()=>{n.current!==a&&(l.current?.(a),n.current=a)},[a,n]),[a,r,l]}function WI(t){return typeof t=="function"}var GI=function(t){if(typeof document>"u")return null;var s=Array.isArray(t)?t[0]:t;return s.ownerDocument.body},o0=new WeakMap,Wh=new WeakMap,Gh={},zg=0,JC=function(t){return t&&(t.host||JC(t.parentNode))},$I=function(t,s){return s.map(function(a){if(t.contains(a))return a;var r=JC(a);return r&&t.contains(r)?r:(console.error("aria-hidden",a,"in not contained inside",t,". Doing nothing"),null)}).filter(function(a){return!!a})},zI=function(t,s,a,r){var n=$I(s,Array.isArray(t)?t:[t]);Gh[a]||(Gh[a]=new WeakMap);var l=Gh[a],i=[],d=new Set,x=new Set(n),h=function(b){!b||d.has(b)||(d.add(b),h(b.parentNode))};n.forEach(h);var m=function(b){!b||x.has(b)||Array.prototype.forEach.call(b.children,function(f){if(d.has(f))m(f);else try{var N=f.getAttribute(r),p=N!==null&&N!=="false",v=(o0.get(f)||0)+1,y=(l.get(f)||0)+1;o0.set(f,v),l.set(f,y),i.push(f),v===1&&p&&Wh.set(f,!0),y===1&&f.setAttribute(a,"true"),p||f.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",f,g)}})};return m(s),d.clear(),zg++,function(){i.forEach(function(b){var f=o0.get(b)-1,N=l.get(b)-1;o0.set(b,f),l.set(b,N),f||(Wh.has(b)||b.removeAttribute(r),Wh.delete(b)),N||b.removeAttribute(a)}),zg--,zg||(o0=new WeakMap,o0=new WeakMap,Wh=new WeakMap,Gh={})}},VI=function(t,s,a){a===void 0&&(a="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),n=GI(t);return n?(r.push.apply(r,Array.from(n.querySelectorAll("[aria-live], script"))),zI(r,n,a,"aria-hidden")):function(){return null}},_l=function(){return _l=Object.assign||function(s){for(var a,r=1,n=arguments.length;r<n;r++){a=arguments[r];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])}return s},_l.apply(this,arguments)};function QC(t,s){var a={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&s.indexOf(r)<0&&(a[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)s.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(a[r[n]]=t[r[n]]);return a}function YI(t,s,a){if(a||arguments.length===2)for(var r=0,n=s.length,l;r<n;r++)(l||!(r in s))&&(l||(l=Array.prototype.slice.call(s,0,r)),l[r]=s[r]);return t.concat(l||Array.prototype.slice.call(s))}var ap="right-scroll-bar-position",rp="width-before-scroll-bar",KI="with-scroll-bars-hidden",qI="--removed-body-scroll-bar-size";function Vg(t,s){return typeof t=="function"?t(s):t&&(t.current=s),t}function XI(t,s){var a=o.useState(function(){return{value:t,callback:s,facade:{get current(){return a.value},set current(r){var n=a.value;n!==r&&(a.value=r,a.callback(r,n))}}}})[0];return a.callback=s,a.facade}var JI=typeof window<"u"?o.useLayoutEffect:o.useEffect,Qj=new WeakMap;function QI(t,s){var a=XI(null,function(r){return t.forEach(function(n){return Vg(n,r)})});return JI(function(){var r=Qj.get(a);if(r){var n=new Set(r),l=new Set(t),i=a.current;n.forEach(function(d){l.has(d)||Vg(d,null)}),l.forEach(function(d){n.has(d)||Vg(d,i)})}Qj.set(a,t)},[t]),a}function ZI(t){return t}function eL(t,s){s===void 0&&(s=ZI);var a=[],r=!1,n={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:t},useMedium:function(l){var i=s(l,r);return a.push(i),function(){a=a.filter(function(d){return d!==i})}},assignSyncMedium:function(l){for(r=!0;a.length;){var i=a;a=[],i.forEach(l)}a={push:function(d){return l(d)},filter:function(){return a}}},assignMedium:function(l){r=!0;var i=[];if(a.length){var d=a;a=[],d.forEach(l),i=a}var x=function(){var m=i;i=[],m.forEach(l)},h=function(){return Promise.resolve().then(x)};h(),a={push:function(m){i.push(m),h()},filter:function(m){return i=i.filter(m),a}}}};return n}function tL(t){t===void 0&&(t={});var s=eL(null);return s.options=_l({async:!0,ssr:!1},t),s}var ZC=function(t){var s=t.sideCar,a=QC(t,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=s.read();if(!r)throw new Error("Sidecar medium not found");return o.createElement(r,_l({},a))};ZC.isSideCarExport=!0;function sL(t,s){return t.useMedium(s),ZC}var eS=tL(),Yg=function(){},tf=o.forwardRef(function(t,s){var a=o.useRef(null),r=o.useState({onScrollCapture:Yg,onWheelCapture:Yg,onTouchMoveCapture:Yg}),n=r[0],l=r[1],i=t.forwardProps,d=t.children,x=t.className,h=t.removeScrollBar,m=t.enabled,b=t.shards,f=t.sideCar,N=t.noRelative,p=t.noIsolation,v=t.inert,y=t.allowPinchZoom,g=t.as,j=g===void 0?"div":g,C=t.gapMode,S=QC(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=f,k=QI([a,s]),E=_l(_l({},S),n);return o.createElement(o.Fragment,null,m&&o.createElement(P,{sideCar:eS,removeScrollBar:h,shards:b,noRelative:N,noIsolation:p,inert:v,setCallbacks:l,allowPinchZoom:!!y,lockRef:a,gapMode:C}),i?o.cloneElement(o.Children.only(d),_l(_l({},E),{ref:k})):o.createElement(j,_l({},E,{className:x,ref:k}),d))});tf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};tf.classNames={fullWidth:rp,zeroRight:ap};var aL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function rL(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var s=aL();return s&&t.setAttribute("nonce",s),t}function nL(t,s){t.styleSheet?t.styleSheet.cssText=s:t.appendChild(document.createTextNode(s))}function oL(t){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(t)}var lL=function(){var t=0,s=null;return{add:function(a){t==0&&(s=rL())&&(nL(s,a),oL(s)),t++},remove:function(){t--,!t&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},iL=function(){var t=lL();return function(s,a){o.useEffect(function(){return t.add(s),function(){t.remove()}},[s&&a])}},tS=function(){var t=iL(),s=function(a){var r=a.styles,n=a.dynamic;return t(r,n),null};return s},cL={left:0,top:0,right:0,gap:0},Kg=function(t){return parseInt(t||"",10)||0},dL=function(t){var s=window.getComputedStyle(document.body),a=s[t==="padding"?"paddingLeft":"marginLeft"],r=s[t==="padding"?"paddingTop":"marginTop"],n=s[t==="padding"?"paddingRight":"marginRight"];return[Kg(a),Kg(r),Kg(n)]},uL=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return cL;var s=dL(t),a=document.documentElement.clientWidth,r=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,r-a+s[2]-s[0])}},xL=tS(),b0="data-scroll-locked",hL=function(t,s,a,r){var n=t.left,l=t.top,i=t.right,d=t.gap;return a===void 0&&(a="margin"),`
  .`.concat(KI,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(b0,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(r,";"),a==="margin"&&`
    padding-left: `.concat(n,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),a==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ap,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(rp,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(ap," .").concat(ap,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(rp," .").concat(rp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(b0,`] {
    `).concat(qI,": ").concat(d,`px;
  }
`)},Zj=function(){var t=parseInt(document.body.getAttribute(b0)||"0",10);return isFinite(t)?t:0},mL=function(){o.useEffect(function(){return document.body.setAttribute(b0,(Zj()+1).toString()),function(){var t=Zj()-1;t<=0?document.body.removeAttribute(b0):document.body.setAttribute(b0,t.toString())}},[])},pL=function(t){var s=t.noRelative,a=t.noImportant,r=t.gapMode,n=r===void 0?"margin":r;mL();var l=o.useMemo(function(){return uL(n)},[n]);return o.createElement(xL,{styles:hL(l,!s,n,a?"":"!important")})},My=!1;if(typeof window<"u")try{var $h=Object.defineProperty({},"passive",{get:function(){return My=!0,!0}});window.addEventListener("test",$h,$h),window.removeEventListener("test",$h,$h)}catch{My=!1}var l0=My?{passive:!1}:!1,fL=function(t){return t.tagName==="TEXTAREA"},sS=function(t,s){if(!(t instanceof Element))return!1;var a=window.getComputedStyle(t);return a[s]!=="hidden"&&!(a.overflowY===a.overflowX&&!fL(t)&&a[s]==="visible")},gL=function(t){return sS(t,"overflowY")},yL=function(t){return sS(t,"overflowX")},e1=function(t,s){var a=s.ownerDocument,r=s;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var n=aS(t,r);if(n){var l=rS(t,r),i=l[1],d=l[2];if(i>d)return!0}r=r.parentNode}while(r&&r!==a.body);return!1},bL=function(t){var s=t.scrollTop,a=t.scrollHeight,r=t.clientHeight;return[s,a,r]},vL=function(t){var s=t.scrollLeft,a=t.scrollWidth,r=t.clientWidth;return[s,a,r]},aS=function(t,s){return t==="v"?gL(s):yL(s)},rS=function(t,s){return t==="v"?bL(s):vL(s)},wL=function(t,s){return t==="h"&&s==="rtl"?-1:1},NL=function(t,s,a,r,n){var l=wL(t,window.getComputedStyle(s).direction),i=l*r,d=a.target,x=s.contains(d),h=!1,m=i>0,b=0,f=0;do{if(!d)break;var N=rS(t,d),p=N[0],v=N[1],y=N[2],g=v-y-l*p;(p||g)&&aS(t,d)&&(b+=g,f+=p);var j=d.parentNode;d=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!x&&d!==document.body||x&&(s.contains(d)||s===d));return(m&&Math.abs(b)<1||!m&&Math.abs(f)<1)&&(h=!0),h},zh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},t1=function(t){return[t.deltaX,t.deltaY]},s1=function(t){return t&&"current"in t?t.current:t},jL=function(t,s){return t[0]===s[0]&&t[1]===s[1]},CL=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},SL=0,i0=[];function kL(t){var s=o.useRef([]),a=o.useRef([0,0]),r=o.useRef(),n=o.useState(SL++)[0],l=o.useState(tS)[0],i=o.useRef(t);o.useEffect(function(){i.current=t},[t]),o.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(n));var v=YI([t.lockRef.current],(t.shards||[]).map(s1),!0).filter(Boolean);return v.forEach(function(y){return y.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),v.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(n))})}}},[t.inert,t.lockRef.current,t.shards]);var d=o.useCallback(function(v,y){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!i.current.allowPinchZoom;var g=zh(v),j=a.current,C="deltaX"in v?v.deltaX:j[0]-g[0],S="deltaY"in v?v.deltaY:j[1]-g[1],P,k=v.target,E=Math.abs(C)>Math.abs(S)?"h":"v";if("touches"in v&&E==="h"&&k.type==="range")return!1;var M=window.getSelection(),L=M&&M.anchorNode,O=L?L===k||L.contains(k):!1;if(O)return!1;var q=e1(E,k);if(!q)return!0;if(q?P=E:(P=E==="v"?"h":"v",q=e1(E,k)),!q)return!1;if(!r.current&&"changedTouches"in v&&(C||S)&&(r.current=P),!P)return!0;var B=r.current||P;return NL(B,y,v,B==="h"?C:S)},[]),x=o.useCallback(function(v){var y=v;if(!(!i0.length||i0[i0.length-1]!==l)){var g="deltaY"in y?t1(y):zh(y),j=s.current.filter(function(P){return P.name===y.type&&(P.target===y.target||y.target===P.shadowParent)&&jL(P.delta,g)})[0];if(j&&j.should){y.cancelable&&y.preventDefault();return}if(!j){var C=(i.current.shards||[]).map(s1).filter(Boolean).filter(function(P){return P.contains(y.target)}),S=C.length>0?d(y,C[0]):!i.current.noIsolation;S&&y.cancelable&&y.preventDefault()}}},[]),h=o.useCallback(function(v,y,g,j){var C={name:v,delta:y,target:g,should:j,shadowParent:DL(g)};s.current.push(C),setTimeout(function(){s.current=s.current.filter(function(S){return S!==C})},1)},[]),m=o.useCallback(function(v){a.current=zh(v),r.current=void 0},[]),b=o.useCallback(function(v){h(v.type,t1(v),v.target,d(v,t.lockRef.current))},[]),f=o.useCallback(function(v){h(v.type,zh(v),v.target,d(v,t.lockRef.current))},[]);o.useEffect(function(){return i0.push(l),t.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:f}),document.addEventListener("wheel",x,l0),document.addEventListener("touchmove",x,l0),document.addEventListener("touchstart",m,l0),function(){i0=i0.filter(function(v){return v!==l}),document.removeEventListener("wheel",x,l0),document.removeEventListener("touchmove",x,l0),document.removeEventListener("touchstart",m,l0)}},[]);var N=t.removeScrollBar,p=t.inert;return o.createElement(o.Fragment,null,p?o.createElement(l,{styles:CL(n)}):null,N?o.createElement(pL,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function DL(t){for(var s=null;t!==null;)t instanceof ShadowRoot&&(s=t.host,t=t.host),t=t.parentNode;return s}const EL=sL(eS,kL);var nS=o.forwardRef(function(t,s){return o.createElement(tf,_l({},t,{ref:s,sideCar:EL}))});nS.classNames=tf.classNames;var sf="Popover",[oS]=wC(sf,[UC]),jx=UC(),[TL,yc]=oS(sf),lS=t=>{const{__scopePopover:s,children:a,open:r,defaultOpen:n,onOpenChange:l,modal:i=!1}=t,d=jx(s),x=o.useRef(null),[h,m]=o.useState(!1),[b,f]=UI({prop:r,defaultProp:n??!1,onChange:l,caller:sf});return e.jsx(kI,{...d,children:e.jsx(TL,{scope:s,contentId:oM(),triggerRef:x,open:b,onOpenChange:f,onOpenToggle:o.useCallback(()=>f(N=>!N),[f]),hasCustomAnchor:h,onCustomAnchorAdd:o.useCallback(()=>m(!0),[]),onCustomAnchorRemove:o.useCallback(()=>m(!1),[]),modal:i,children:a})})};lS.displayName=sf;var iS="PopoverAnchor",AL=o.forwardRef((t,s)=>{const{__scopePopover:a,...r}=t,n=yc(iS,a),l=jx(a),{onCustomAnchorAdd:i,onCustomAnchorRemove:d}=n;return o.useEffect(()=>(i(),()=>d()),[i,d]),e.jsx(qC,{...l,...r,ref:s})});AL.displayName=iS;var cS="PopoverTrigger",dS=o.forwardRef((t,s)=>{const{__scopePopover:a,...r}=t,n=yc(cS,a),l=jx(a),i=gc(s,n.triggerRef),d=e.jsx(Ci.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":pS(n.open),...r,ref:i,onClick:oc(t.onClick,n.onOpenToggle)});return n.hasCustomAnchor?d:e.jsx(qC,{asChild:!0,...l,children:d})});dS.displayName=cS;var _b="PopoverPortal",[FL,PL]=oS(_b,{forceMount:void 0}),uS=t=>{const{__scopePopover:s,forceMount:a,children:r,container:n}=t,l=yc(_b,s);return e.jsx(FL,{scope:s,forceMount:a,children:e.jsx(Ob,{present:a||l.open,children:e.jsx(XC,{asChild:!0,container:n,children:r})})})};uS.displayName=_b;var A0="PopoverContent",xS=o.forwardRef((t,s)=>{const a=PL(A0,t.__scopePopover),{forceMount:r=a.forceMount,...n}=t,l=yc(A0,t.__scopePopover);return e.jsx(Ob,{present:r||l.open,children:l.modal?e.jsx(IL,{...n,ref:s}):e.jsx(LL,{...n,ref:s})})});xS.displayName=A0;var ML=MI("PopoverContent.RemoveScroll"),IL=o.forwardRef((t,s)=>{const a=yc(A0,t.__scopePopover),r=o.useRef(null),n=gc(s,r),l=o.useRef(!1);return o.useEffect(()=>{const i=r.current;if(i)return VI(i)},[]),e.jsx(nS,{as:ML,allowPinchZoom:!0,children:e.jsx(hS,{...t,ref:n,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:oc(t.onCloseAutoFocus,i=>{i.preventDefault(),l.current||a.triggerRef.current?.focus()}),onPointerDownOutside:oc(t.onPointerDownOutside,i=>{const d=i.detail.originalEvent,x=d.button===0&&d.ctrlKey===!0,h=d.button===2||x;l.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:oc(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),LL=o.forwardRef((t,s)=>{const a=yc(A0,t.__scopePopover),r=o.useRef(!1),n=o.useRef(!1);return e.jsx(hS,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{t.onCloseAutoFocus?.(l),l.defaultPrevented||(r.current||a.triggerRef.current?.focus(),l.preventDefault()),r.current=!1,n.current=!1},onInteractOutside:l=>{t.onInteractOutside?.(l),l.defaultPrevented||(r.current=!0,l.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const i=l.target;a.triggerRef.current?.contains(i)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&n.current&&l.preventDefault()}})}),hS=o.forwardRef((t,s)=>{const{__scopePopover:a,trapFocus:r,onOpenAutoFocus:n,onCloseAutoFocus:l,disableOutsidePointerEvents:i,onEscapeKeyDown:d,onPointerDownOutside:x,onFocusOutside:h,onInteractOutside:m,...b}=t,f=yc(A0,a),N=jx(a);return XP(),e.jsx(SC,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:n,onUnmountAutoFocus:l,children:e.jsx(jC,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:m,onEscapeKeyDown:d,onPointerDownOutside:x,onFocusOutside:h,onDismiss:()=>f.onOpenChange(!1),children:e.jsx(DI,{"data-state":pS(f.open),role:"dialog",id:f.contentId,...N,...b,ref:s,style:{...b.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),mS="PopoverClose",OL=o.forwardRef((t,s)=>{const{__scopePopover:a,...r}=t,n=yc(mS,a);return e.jsx(Ci.button,{type:"button",...r,ref:s,onClick:oc(t.onClick,()=>n.onOpenChange(!1))})});OL.displayName=mS;var _L="PopoverArrow",BL=o.forwardRef((t,s)=>{const{__scopePopover:a,...r}=t,n=jx(a);return e.jsx(EI,{...n,...r,ref:s})});BL.displayName=_L;function pS(t){return t?"open":"closed"}var Cx=lS,Sx=dS,kx=uS,Dx=xS;function qr({date:t,onChange:s,label:a}){const[r,n]=o.useState(!1),[l,i]=o.useState(new Date),d=new Date(l.getFullYear(),l.getMonth()+1,0).getDate(),x=new Date(l.getFullYear(),l.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=new Date().getFullYear(),b=[];for(let C=1900;C<=m+10;C++)b.push(C);const f=()=>{i(new Date(l.getFullYear(),l.getMonth()-1))},N=()=>{i(new Date(l.getFullYear(),l.getMonth()+1))},p=C=>{i(new Date(l.getFullYear(),C,1))},v=C=>{i(new Date(C,l.getMonth(),1))},y=C=>{const S=(l.getMonth()+1).toString().padStart(2,"0"),P=C.toString().padStart(2,"0"),k=l.getFullYear();s(`${S}/${P}/${k}`),n(!1)},g=()=>{const C=new Date,S=(C.getMonth()+1).toString().padStart(2,"0"),P=C.getDate().toString().padStart(2,"0"),k=C.getFullYear();s(`${S}/${P}/${k}`),n(!1)},j=[];for(let C=0;C<x;C++)j.push(e.jsx("div",{className:"h-8"},`empty-${C}`));for(let C=1;C<=d;C++)j.push(e.jsx("button",{onClick:()=>y(C),type:"button",className:"h-8 flex items-center justify-center rounded hover:bg-blue-100 text-sm text-gray-700 hover:text-blue-600 transition-colors",children:C},C));return e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:a}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative flex-1 flex items-center",children:[e.jsx(ds,{className:"absolute left-3 w-4 h-4 text-gray-400 pointer-events-none"}),e.jsx("input",{type:"text",value:t,onChange:C=>s(C.target.value),className:"w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs(Cx,{open:r,onOpenChange:n,children:[e.jsx(Sx,{asChild:!0,children:e.jsx("button",{type:"button",className:"p-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:e.jsx(ds,{className:"w-5 h-5"})})}),e.jsx(kx,{children:e.jsxs(Dx,{className:"z-[9999] bg-white border border-gray-200 rounded-lg shadow-xl p-4 w-72 animate-in fade-in-0 zoom-in-95",align:"end",sideOffset:5,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:f,type:"button",className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx(H0,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("select",{value:l.getMonth(),onChange:C=>p(Number(C.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:h.map((C,S)=>e.jsx("option",{value:S,children:C},C))}),e.jsx("select",{value:l.getFullYear(),onChange:C=>v(Number(C.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:b.map(C=>e.jsx("option",{value:C,children:C},C))})]}),e.jsx("button",{onClick:N,type:"button",className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx(fi,{className:"w-5 h-5 text-gray-600"})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(C=>e.jsx("div",{className:"h-8 flex items-center justify-center text-xs text-gray-500",children:C},C))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:j}),e.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:e.jsx("button",{onClick:g,type:"button",className:"w-full px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 text-sm transition-colors",children:"Today"})})]})})]})]})]})}function Zt(){return e.jsx("div",{className:"w-full bg-green-600 text-white py-3",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-white text-sm",children:" 128 Tech Consulting Inc. 2025. All Rights Reserved."})})})}function Vl({selectedCodes:t,onToggle:s,onSelectAll:a}){const[r,n]=o.useState(""),[l,i]=o.useState(1),[d,x]=o.useState("code"),[h,m]=o.useState("asc"),b=10,[f,N]=o.useState([]),[p,v]=o.useState(!1),[y,g]=o.useState(null);o.useEffect(()=>{j()},[]);const j=async()=>{v(!0);try{const q=await ne.get("/Fs/Process/TimeKeepGroupSetUp");if(q.data){const B=q.data.map(se=>({id:se.id||se.ID||"",groupCode:se.groupCode||se.GroupCode||"",groupDescription:se.groupDescription||se.GroupDescription||""}));N(B)}}catch(q){const B=q.response?.data?.message||q.message||"Failed to load TKS Group";g(B),console.error("Error fetching TKSGroup:",q)}finally{}},C=q=>{d===q?m(h==="asc"?"desc":"asc"):(x(q),m("asc")),i(1)},S=f.filter(q=>q.groupCode.toLowerCase().includes(r.toLowerCase())||q.groupDescription.toLowerCase().includes(r.toLowerCase())),P=Math.ceil(S.length/b),k=(l-1)*b,E=k+b,M=S.slice(k,E),L=()=>{const q=[];if(P<=7)for(let B=1;B<=P;B++)q.push(B);else if(l<=4){for(let B=1;B<=5;B++)q.push(B);q.push("..."),q.push(P)}else if(l>=P-3){q.push(1),q.push("...");for(let B=P-4;B<=P;B++)q.push(B)}else{q.push(1),q.push("...");for(let B=l-1;B<=l+1;B++)q.push(B);q.push("..."),q.push(P)}return q},O=({field:q})=>d!==q?e.jsxs("div",{className:"flex flex-col ml-1",children:[e.jsx(D0,{className:"w-3 h-3 text-gray-400"}),e.jsx(lc,{className:"w-3 h-3 text-gray-400 -mt-1"})]}):h==="asc"?e.jsx(D0,{className:"w-3 h-3 text-blue-600 ml-1"}):e.jsx(lc,{className:"w-3 h-3 text-blue-600 ml-1"});return o.useEffect(()=>{i(1)},[r]),e.jsxs("div",{className:"lg:col-span-2 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-gray-900",children:"TKS Group"}),e.jsxs("span",{className:"px-3 py-1 bg-teal-100 text-teal-700 rounded-full text-sm",children:[t.length," selected"]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Search:"}),e.jsx("input",{type:"text",placeholder:"Search codes...",value:r,onChange:q=>{n(q.target.value),i(1)},className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsx("div",{className:"overflow-auto",style:{maxHeight:"400px"},children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left",style:{width:"40px"},children:e.jsx("input",{type:"checkbox",checked:t.length===f.length,onChange:a,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",style:{width:"80px"},children:e.jsxs("button",{onClick:()=>C("code"),className:"flex items-center hover:text-gray-900",children:["Code",e.jsx(O,{field:"code"})]})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsxs("button",{onClick:()=>C("code"),className:"flex items-center hover:text-gray-900",children:["Description",e.jsx(O,{field:"description"})]})})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:M.map(q=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:t.includes(q.id),onChange:()=>s(q.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:q.groupCode}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:q.groupDescription})]},q.id))})]})})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",k+1," to ",Math.min(E,S.length)," of ",S.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>i(q=>Math.max(1,q-1)),disabled:l===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),L().map((q,B)=>typeof q=="number"?e.jsx("button",{onClick:()=>i(q),className:`px-2 py-1 rounded text-xs ${l===q?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:q},B):e.jsx("span",{className:"px-2",children:q},B)),e.jsx("button",{onClick:()=>i(q=>Math.min(P,q+1)),disabled:l===P,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})}function a1(){const[t,s]=o.useState([]),[a,r]=o.useState(""),[n,l]=o.useState(!1),[i,d]=o.useState(""),[x,h]=o.useState(""),[m,b]=o.useState(!1),[f,N]=o.useState("workshift-variable"),[p,v]=o.useState([]),[y,g]=o.useState(null),j=o.useRef(null),[C,S]=o.useState([]),[P,k]=o.useState(!1),[E,M]=o.useState(1),L=10,[O,q]=o.useState(null),[B,se]=o.useState([]);o.useEffect(()=>{le()},[]);const le=async()=>{k(!0);try{const fe=await ne.get("/Fs/Process/TimeKeepGroupSetUp");if(fe.data){const ue=fe.data.map(Oe=>({id:Oe.id||Oe.ID||"",groupCode:Oe.groupCode||Oe.GroupCode||"",groupDescription:Oe.groupDescription||Oe.GroupDescription||""}));v(ue)}}catch(fe){const ue=fe.response?.data?.message||fe.message||"Failed to load TKS Group";q(ue),console.error("Error fetching TKSGroup:",fe)}finally{}},pe=fe=>{s(ue=>ue.includes(fe)?ue.filter(Oe=>Oe!==fe):[...ue,fe])},U=()=>{t.length===p.length?s([]):s(p.map(fe=>fe.id))},Y=fe=>{const ue=fe.target.files?.[0]??null;ue&&(g(ue),r(ue.name))},[W,re]=o.useState(!1),G=(fe,ue)=>{const Oe=window.URL.createObjectURL(fe),De=document.createElement("a");De.href=Oe,De.download=ue,document.body.appendChild(De),De.click(),document.body.removeChild(De),window.URL.revokeObjectURL(Oe)},R=async()=>{re(!0);try{const fe=await ne.get("downloads/DownloadTemplate?filename=ImportWorkShift_Template_Variable.xlsx",{responseType:"blob"}),ue=fe.headers["content-type"],Oe=new Blob([fe.data],{type:ue});G(Oe,"ImportWorkShift_Template_Variable.xlsx")}finally{}},F=async()=>{re(!0);try{const fe=await ne.get("downloads/DownloadTemplate?filename=ImportWorkshiftWithRestDay_Template.xlsx",{responseType:"blob"}),ue=fe.headers["content-type"],Oe=new Blob([fe.data],{type:ue});G(Oe,"ImportWorkshiftWithRestDay_Template.xlsx")}finally{re(!1)}},A=async()=>{if(!y){q("Please select a file to import."),ee.fire({icon:"error",title:"Error",text:"Please select a file to import."});return}if(t.length===0){ee.fire({icon:"error",title:"Error",text:"Please select group."});return}if(!i||!x){ee.fire({icon:"error",title:"Error",text:"Please select date."});return}const fe=new FormData;if(fe.append("dateFrom",i),fe.append("dateTo",x),fe.append("isDeleteExistingRecord",String(m)),fe.append("file",y,a),console.log(i,x),f=="workshift-variable")try{const ue=await ne.post("/Utilities/Import/ImportWorkshiftVariable",fe);se(ue.data.resultData),ue.data.errors.length>0?(console.log(ue.data.errors),se([]),ee.fire({icon:"error",title:"Error",text:ue.data.resultData?.[0]?.message??ue.data.errors}),S(ue.data.errors)):ee.fire({icon:"success",title:"Done",text:"Import done.",timer:2e3,showConfirmButton:!1})}finally{re(!1),l(!0)}else if(f=="workshift-restday")try{const ue=await ne.post("/Utilities/ImportRestDay/ImportRestDay",fe);se(ue.data.resultData),ue.data.errors.length>0?(se([]),await ee.fire({icon:"error",title:"Error",text:ue.data.resultData[0].message}),S(ue.data.errors)):ee.fire({icon:"success",title:"Done",text:"Import done.",timer:2e3,showConfirmButton:!1})}finally{l(!0)}};function H(fe){if(!fe)return null;const ue=new Date(fe);return ue.setDate(ue.getDate()+1),ue.toISOString()}const D=async()=>{const fe={dateFrom:H(i),dateTo:H(x),isDeleteExistingRecord:m,imports:B.filter(ue=>!ue.message)};console.log(fe,i,x);try{const ue=await ne.post("/Utilities/ImportRestDay/UpdateWorkshiftRestDay",fe);se(ue.data.resultData),ue.data.errors.length>0?(se([]),await ee.fire({icon:"error",title:"Error",text:ue.data.messages}),S(ue.data.errors)):ee.fire({icon:"success",title:"Done",text:"Update done.",timer:2e3,showConfirmButton:!1})}finally{re(!1)}},_=Math.ceil(B.length/L),xe=(E-1)*L,ge=xe+L,Ne=B.slice(xe,xe+L),Ce=()=>{const fe=[];if(_<=7)for(let ue=1;ue<=_;ue++)fe.push(ue);else if(E<=4){for(let ue=1;ue<=5;ue++)fe.push(ue);fe.push("..."),fe.push(_)}else if(E>=_-3){fe.push(1),fe.push("...");for(let ue=_-4;ue<=_;ue++)fe.push(ue)}else{fe.push(1),fe.push("...");for(let ue=E-1;ue<=E+1;ue++)fe.push(ue);fe.push("..."),fe.push(_)}return fe};return console.log(f),e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Import Workshift Variable"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Batch import workshift schedules and rest day assignments for employees. Upload Excel files to configure work schedules across multiple employee groups efficiently."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Import workshift schedules by date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Configure rest days for employee groups"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Download Excel templates for easy formatting"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update existing records or import new data"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-6",children:[e.jsx(Vl,{selectedCodes:t,onToggle:pe,onSelectAll:U}),e.jsxs("div",{className:"lg:col-span-3 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Import Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Excel File"}),e.jsxs("div",{className:"bg-teal-50 border-2 border-teal-200 rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[y&&e.jsx("div",{className:"w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:a}),y&&e.jsx("div",{className:"text-xs text-teal-600",children:"File loaded successfully"})]})]}),e.jsx("input",{type:"file",ref:j,onChange:Y,accept:".xlsx,.xls",className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",className:"px-4 py-2 bg-teal-500 text-white rounded-lg cursor-pointer hover:bg-teal-600 transition-colors text-sm",children:"Choose File"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(qr,{date:i,onChange:d,label:"Date From"}),e.jsx(qr,{date:x,onChange:h,label:"Date To"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Import Type"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-3 p-3 bg-white border-2 border-blue-500 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"radio",name:"importType",value:"workshift-variable",checked:f==="workshift-variable",onChange:fe=>N(fe.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Workshift Variable"})]}),e.jsxs("label",{className:"flex items-center gap-3 p-3 bg-white border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"radio",name:"importType",value:"workshift-restday",checked:f==="workshift-restday",onChange:fe=>N(fe.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Workshift with Restday"})]})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[e.jsx(on,{className:"w-4 h-4 text-blue-600 mt-0.5"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Download Templates:"})]}),e.jsxs("div",{className:"ml-6 space-y-1",children:[e.jsxs("a",{href:"#",className:"flex items-center gap-2 text-sm text-blue-600 hover:text-blue-700",onClick:R,children:[e.jsx(on,{className:"w-3 h-3",onClick:R}),"Download Template (Workshift Variable)"]}),e.jsxs("a",{href:"#",className:"flex items-center gap-2 text-sm text-blue-600 hover:text-blue-700",onClick:F,children:[e.jsx(on,{className:"w-3 h-3",onClick:F}),"Download Template (Workshift w/ Rest Day)"]})]})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-300 rounded-lg p-4",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",id:"delete-existing",checked:m,onChange:fe=>b(fe.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:"Delete Existing Workshift and RestDay"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Remove all existing workshift and rest day records before importing new data"})]})]})}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsxs("button",{className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",onClick:A,children:[e.jsx(ur,{className:"w-4 h-4",onClick:A}),"Import Data"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",onClick:D,children:[e.jsx(gl,{className:"w-4 h-4",onClick:D}),"Update Data"]})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"px-5 py-3 bg-white border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-gray-900",children:"Import Preview"}),n&&e.jsx("span",{className:"px-3 py-1 bg-teal-100 text-teal-700 rounded-full text-xs",children:"File loaded"})]}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpCode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpName"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateFrom"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateTo"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"TKSGroup"})]})}),e.jsx("tbody",{children:Array.isArray(Ne)&&Ne.map((fe,ue)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:fe.empCode}),e.jsx("td",{className:"px-4 py-2",children:fe.employeeName}),e.jsx("td",{className:"px-4 py-2",children:fe.dateFrom?new Date(fe.dateFrom).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:fe.dateTo?new Date(fe.dateTo).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:fe.workshiftCode}),e.jsx("td",{className:"px-4 py-2",children:t})]},ue))})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center text-xs text-gray-500 justify-between",children:[!n&&e.jsxs("span",{children:["Showing ",Math.min(ge,B.length)," of ",B.length," entries"]}),n&&e.jsxs("span",{children:["Showing ",xe+1," to ",Math.min(ge,B.length)," of ",B.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>M(fe=>Math.max(1,fe-1)),disabled:E===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Ce().map((fe,ue)=>typeof fe=="number"?e.jsx("button",{onClick:()=>M(fe),className:`px-2 py-1 rounded text-xs ${E===fe?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:fe},ue):e.jsx("span",{className:"px-2",children:fe},ue)),e.jsx("button",{onClick:()=>M(fe=>Math.min(_,fe+1)),disabled:E===_,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})}),e.jsx(Zt,{})]})}function RL(){const[t,s]=o.useState([]),[a,r]=o.useState(!1),[n,l]=o.useState(""),[i,d]=o.useState(!1),[x,h]=o.useState(""),[m,b]=o.useState(""),[f,N]=o.useState(!1),[p,v]=o.useState([]),[y,g]=o.useState(null),j=o.useRef(null),[C,S]=o.useState([]),[P,k]=o.useState(!1),[E,M]=o.useState(1),L=10,[O,q]=o.useState(null),[B,se]=o.useState([]),[le,pe]=o.useState({dateFrom:"",dateTo:"",isDeleteExistingRecord:!1,imports:[]});o.useEffect(()=>{U()},[]);const U=async()=>{k(!0);try{const Ce=await ne.get("/Fs/Process/TimeKeepGroupSetUp");if(Ce.data){const fe=Ce.data.map(ue=>({id:ue.id||ue.ID||"",groupCode:ue.groupCode||ue.GroupCode||"",groupDescription:ue.groupDescription||ue.GroupDescription||""}));v(fe)}}catch(Ce){const fe=Ce.response?.data?.message||Ce.message||"Failed to load TKS Group";q(fe),console.error("Error fetching TKSGroup:",Ce)}finally{}},Y=Ce=>{s(fe=>fe.includes(Ce)?fe.filter(ue=>ue!==Ce):[...fe,Ce])},W=()=>{t.length===p.length?s([]):s(p.map(Ce=>Ce.id))},re=Ce=>{const fe=Ce.target.files?.[0]??null;fe&&(g(fe),l(fe.name))},G=(Ce,fe)=>{const ue=window.URL.createObjectURL(Ce),Oe=document.createElement("a");Oe.href=ue,Oe.download=fe,document.body.appendChild(Oe),Oe.click(),document.body.removeChild(Oe),window.URL.revokeObjectURL(ue)},R=async()=>{r(!0);try{const Ce=await ne.get("downloads/DownloadTemplate?filename=ImportAdjustment_Template.xlsx",{responseType:"blob"}),fe=Ce.headers["content-type"],ue=new Blob([Ce.data],{type:fe});G(ue,"ImportAdjustment_Template.xlsx")}finally{}},F=async()=>{if(!y){q("Please select a file to import."),ee.fire({icon:"error",title:"Error",text:"Please select a file to import."});return}if(t.length===0){ee.fire({icon:"error",title:"Error",text:"Please select group."});return}if(!x||!m){ee.fire({icon:"error",title:"Error",text:"Please select date."});return}r(!0);const Ce=new FormData;Ce.append("dateFrom",x),Ce.append("dateTo",m),Ce.append("file",y,n);try{const fe=await ne.post("/Utilities/Import/ImportAdjustment",Ce);se(fe.data.resultData),fe.data.errors.length>0?(console.log(fe.data.errors),se([]),ee.fire({icon:"error",title:"Error",text:fe.data.resultData?.[0]?.message??fe.data.errors}),S(fe.data.errors)):ee.fire({icon:"success",title:"Done",text:"Import done.",timer:2e3,showConfirmButton:!1})}finally{r(!1),d(!0)}};function A(Ce){if(!Ce)return null;const fe=new Date(Ce);return fe.setDate(fe.getDate()+1),fe.toISOString()}const H=async()=>{const Ce={dateFrom:A(x),dateTo:A(m),isDeleteExistingRecord:f,imports:B.filter(fe=>!fe.message)};console.log(Ce,x,m),console.log(y);try{const fe=await ne.post("/Utilities/Import/UpdateImportAdjustment",Ce);se(fe.data.resultData),fe.data.errors.length>0?(se([]),ee.fire({icon:"error",title:"Error",text:fe.data.resultData?.[0]?.message??fe.data.errors}),S(fe.data.errors)):ee.fire({icon:"success",title:"Done",text:"Update done.",timer:2e3,showConfirmButton:!1})}finally{r(!1)}},D=Math.ceil(B.length/L),_=(E-1)*L,xe=_+L,ge=B.slice(_,_+L),Ne=()=>{const Ce=[];if(D<=7)for(let fe=1;fe<=D;fe++)Ce.push(fe);else if(E<=4){for(let fe=1;fe<=5;fe++)Ce.push(fe);Ce.push("..."),Ce.push(D)}else if(E>=D-3){Ce.push(1),Ce.push("...");for(let fe=D-4;fe<=D;fe++)Ce.push(fe)}else{Ce.push(1),Ce.push("...");for(let fe=E-1;fe<=E+1;fe++)Ce.push(fe);Ce.push("..."),Ce.push(D)}return Ce};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Import Adjustment"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Import time and attendance adjustments for employee records. Upload Excel files to batch update employee timekeeping data with corrections and modifications."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Import adjustment records by date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Apply corrections to employee time records"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Download Excel templates for easy formatting"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update existing records or import new adjustments"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-6",children:[e.jsx(Vl,{selectedCodes:t,onToggle:Y,onSelectAll:W}),e.jsxs("div",{className:"lg:col-span-3 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Import Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Excel File"}),e.jsxs("div",{className:"bg-teal-50 border-2 border-teal-200 rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[y&&e.jsx("div",{className:"w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:n}),y&&e.jsx("div",{className:"text-xs text-teal-600",children:"File loaded successfully"})]})]}),e.jsx("input",{type:"file",ref:j,onChange:re,accept:".xlsx,.xls",className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",className:"px-4 py-2 bg-teal-500 text-white rounded-lg cursor-pointer hover:bg-teal-600 transition-colors text-sm",children:"Choose File"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(qr,{date:x,onChange:h,label:"From:"}),e.jsx(qr,{date:m,onChange:b,label:"To:"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(on,{className:"w-4 h-4 text-blue-600 mt-0.5",onClick:R}),e.jsx("a",{href:"#",className:"text-sm text-blue-600 hover:text-blue-700",onClick:R,children:"Download Template"})]})}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsxs("button",{className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",onClick:F,children:[e.jsx(ur,{className:"w-4 h-4",onClick:F}),"Import Data"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",onClick:H,children:[e.jsx(gl,{className:"w-4 h-4",onClick:H}),"Update Data"]})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-5 py-3 bg-white border-b border-gray-200",children:e.jsx("h3",{className:"text-gray-900",children:"Import Data Preview"})}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpCode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpName"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"TransactionDate"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"TransactionType"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"LeaveType"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"OvertimeCode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"NoOfHours"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"AdjustType"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Remarks"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"IsLateFiling"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"IsLateFilingActualDate"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Status"})]})}),e.jsx("tbody",{children:Array.isArray(ge)&&ge.map((Ce,fe)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:Ce.empCode}),e.jsx("td",{className:"px-4 py-2",children:Ce.empName}),e.jsx("td",{className:"px-4 py-2",children:Ce.transactionDate?new Date(Ce.transactionDate).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:Ce.transactionType}),e.jsx("td",{className:"px-4 py-2",children:Ce.leaveType}),e.jsx("td",{className:"px-4 py-2",children:Ce.overtimeCode}),e.jsx("td",{className:"px-4 py-2",children:Ce.noOfHours}),e.jsx("td",{className:"px-4 py-2",children:Ce.adjustType}),e.jsx("td",{className:"px-4 py-2",children:Ce.remarks}),e.jsx("td",{className:"px-4 py-2",children:Ce.isLateFiling}),e.jsx("td",{className:"px-4 py-2",children:Ce.isLateFilingActualDate?new Date(Ce.isLateFilingActualDate).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:Ce.status})]},fe))})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center text-xs text-gray-500 justify-between",children:[!i&&e.jsxs("span",{children:["Showing ",Math.min(xe,B.length)," of ",B.length," entries"]}),i&&e.jsxs("span",{children:["Showing ",_+1," to ",Math.min(xe,B.length)," of ",B.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>M(Ce=>Math.max(1,Ce-1)),disabled:E===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Ne().map((Ce,fe)=>typeof Ce=="number"?e.jsx("button",{onClick:()=>M(Ce),className:`px-2 py-1 rounded text-xs ${E===Ce?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ce},fe):e.jsx("span",{className:"px-2",children:Ce},fe)),e.jsx("button",{onClick:()=>M(Ce=>Math.min(D,Ce+1)),disabled:E===D,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})}),e.jsx(Zt,{})]})}const uc=[{id:1,code:"100",description:""},{id:2,code:"2",description:"Batangas Balagtas Satellite Monthly Cash"},{id:3,code:"95",description:"Batangas - Balagtas Satellite Monthly cash 2"},{id:4,code:"4",description:"Batangas Cavite Satelite Monthly Cash"},{id:5,code:"5",description:"Batangas Cavite Satellite"},{id:6,code:"3",description:"Batangas Cavite Satellite Daily Cash"},{id:7,code:"6",description:"Batangas Daily"},{id:8,code:"7",description:"Batangas Daily Cash Payroll with Paycard"},{id:9,code:"8",description:"Batangas Employees with the same employee number"},{id:10,code:"11",description:"Batangas Monthly"},{id:11,code:"9",description:"Batangas Monthly Cash 2"},{id:12,code:"10",description:"Batangas Monthly Cash Payroll with Paycard"},{id:13,code:"12",description:"Batangas Resigned - Daily Payroll"},{id:14,code:"13",description:"Batangas Resigned - Monthly Payroll"},{id:15,code:"94",description:"Batangas Confi Managers"},{id:16,code:"85",description:"Batangas Confi Supervisor"},{id:17,code:"1",description:"Batangas1 Balagtas Monthly Payroll"},{id:18,code:"97",description:"Batangas-Balagtas Satellite Resigned"},{id:19,code:"15",description:"Bicol Daily"},{id:20,code:"16",description:"Bicol Daily Cash Payroll with Paycard"},{id:21,code:"18",description:"Bicol Daraga Satelitte Cash"},{id:22,code:"17",description:"Bicol Daraga Satellite"},{id:23,code:"19",description:"Bicol Legazpi Satellite - Monthly cash Payroll"},{id:24,code:"20",description:"Bicol Legazpi Satellite - Monthly Payroll"},{id:25,code:"22",description:"Bicol Monthly"},{id:26,code:"23",description:"Bicol Monthly Cash Payroll 2"},{id:27,code:"21",description:"Bicol Monthly Cash Payroll with Paycard"},{id:28,code:"24",description:"Bicol Resigned - Daily Payroll"},{id:29,code:"26",description:"Bicol Resigned - Monthly Payroll"},{id:30,code:"25",description:"Bicol Resigned Daraga Satellite"},{id:31,code:"27",description:"Bohol Daily"},{id:32,code:"28",description:"Bohol Monthly"},{id:33,code:"29",description:"Bukidnon Monthly"},{id:34,code:"30",description:"Cagayan de Oro Daily"},{id:35,code:"31",description:"Cagayan de Oro Monthly"},{id:36,code:"32",description:"Cavite Daily"},{id:37,code:"33",description:"Cavite Monthly"},{id:38,code:"34",description:"Cebu Daily"},{id:39,code:"35",description:"Cebu Monthly"},{id:40,code:"36",description:"Davao Daily"},{id:41,code:"37",description:"Davao Monthly"},{id:42,code:"38",description:"Iloilo Daily"},{id:43,code:"39",description:"Iloilo Monthly"},{id:44,code:"40",description:"Laguna Daily"},{id:45,code:"41",description:"Laguna Monthly"},{id:46,code:"42",description:"Leyte Daily"},{id:47,code:"43",description:"Leyte Monthly"},{id:48,code:"44",description:"Manila Daily"},{id:49,code:"45",description:"Manila Monthly"},{id:50,code:"46",description:"Mindoro Daily"},{id:51,code:"47",description:"Mindoro Monthly"},{id:52,code:"48",description:"Negros Daily"},{id:53,code:"49",description:"Negros Monthly"},{id:54,code:"50",description:"Palawan Daily"},{id:55,code:"51",description:"Palawan Monthly"},{id:56,code:"52",description:"Pampanga Daily"},{id:57,code:"53",description:"Pampanga Monthly"},{id:58,code:"54",description:"Pangasinan Daily"},{id:59,code:"55",description:"Pangasinan Monthly"},{id:60,code:"56",description:"Quezon Daily"},{id:61,code:"57",description:"Quezon Monthly"},{id:62,code:"58",description:"Rizal Daily"},{id:63,code:"59",description:"Rizal Monthly"},{id:64,code:"60",description:"Samar Daily"},{id:65,code:"61",description:"Samar Monthly"},{id:66,code:"62",description:"Zambales Daily"},{id:67,code:"63",description:"Zambales Monthly"},{id:68,code:"64",description:"Zamboanga Daily"},{id:69,code:"65",description:"Zamboanga Monthly"},{id:70,code:"66",description:"Head Office Daily"},{id:71,code:"67",description:"Head Office Monthly"},{id:72,code:"68",description:"Regional Office 1 Daily"},{id:73,code:"69",description:"Regional Office 1 Monthly"},{id:74,code:"70",description:"Regional Office 2 Daily"},{id:75,code:"71",description:"Regional Office 2 Monthly"},{id:76,code:"72",description:"Regional Office 3 Daily"},{id:77,code:"73",description:"Regional Office 3 Monthly"},{id:78,code:"74",description:"Regional Office 4 Daily"},{id:79,code:"75",description:"Regional Office 4 Monthly"},{id:80,code:"76",description:"Training Center Daily"},{id:81,code:"77",description:"Training Center Monthly"},{id:82,code:"78",description:"Warehouse Daily"},{id:83,code:"79",description:"Warehouse Monthly"},{id:84,code:"80",description:"IT Department Daily"},{id:85,code:"81",description:"IT Department Monthly"},{id:86,code:"82",description:"HR Department Daily"},{id:87,code:"83",description:"HR Department Monthly"},{id:88,code:"84",description:"Finance Department Daily"},{id:89,code:"85",description:"Finance Department Monthly"},{id:90,code:"86",description:"Marketing Department Daily"},{id:91,code:"87",description:"Marketing Department Monthly"},{id:92,code:"88",description:"Operations Department Daily"},{id:93,code:"89",description:"Operations Department Monthly"},{id:94,code:"90",description:"Sales Department Daily"},{id:95,code:"91",description:"Sales Department Monthly"},{id:96,code:"92",description:"Customer Service Daily"},{id:97,code:"93",description:"Customer Service Monthly"},{id:98,code:"96",description:"Security Personnel Daily"},{id:99,code:"98",description:"Security Personnel Monthly"},{id:100,code:"99",description:"Janitorial Staff Daily"},{id:101,code:"101",description:"Janitorial Staff Monthly"},{id:102,code:"102",description:"Contract Workers Daily"},{id:103,code:"103",description:"Contract Workers Monthly"},{id:104,code:"104",description:"Probationary Employees Daily"},{id:105,code:"105",description:"Probationary Employees Monthly"},{id:106,code:"106",description:"Regular Employees Daily"},{id:107,code:"107",description:"Regular Employees Monthly"},{id:108,code:"108",description:"Supervisory Level Daily"},{id:109,code:"109",description:"Supervisory Level Monthly"},{id:110,code:"110",description:"Managerial Level Daily"},{id:111,code:"111",description:"Managerial Level Monthly"},{id:112,code:"112",description:"Executive Level Daily"},{id:113,code:"113",description:"Executive Level Monthly"},{id:114,code:"114",description:"Special Projects Team"}];function UL(){const[t,s]=o.useState(""),[a,r]=o.useState(""),[n,l]=o.useState([2,3,4,5,6,7,8,9,10]),[i,d]=o.useState("3/1/2020"),[x,h]=o.useState("03/15/2020"),[m,b]=o.useState(null),f=o.useRef(null),[N,p]=o.useState(!1),[v,y]=o.useState(!1),[g,j]=o.useState(!1),[C,S]=o.useState(!1),[P,k]=o.useState("B3-TFT-U_DATFILE"),[E,M]=o.useState([]),[L,O]=o.useState(""),[q,B]=o.useState(!1),[se,le]=o.useState(null),[pe,U]=o.useState(""),[Y,W]=o.useState("active"),[re,G]=o.useState(!1),[R,F]=o.useState(""),H=[{id:1,code:"001",name:"Juan Dela Cruz"},{id:2,code:"002",name:"Maria Santos"},{id:3,code:"003",name:"Pedro Reyes"},{id:4,code:"004",name:"Ana Garcia"},{id:5,code:"005",name:"Jose Hernandez"},{id:6,code:"006",name:"Carmen Lopez"},{id:7,code:"007",name:"Miguel Torres"},{id:8,code:"008",name:"Isabel Ramirez"},{id:9,code:"009",name:"Carlos Flores"},{id:10,code:"010",name:"Rosa Morales"}].filter(ge=>ge.code.toLowerCase().includes(pe.toLowerCase())||ge.name.toLowerCase().includes(pe.toLowerCase())),D=(ge,Ne)=>{s(ge),r(Ne),G(!1),F("")};o.useEffect(()=>{_()},[]);const _=async()=>{j(!0);try{const ge=await ne.get("/Fs/Process/Device/DeviceTypeSetUp");if(ge.data){const Ne=ge.data.map(Ce=>({deviceName:Ce.deviceName||Ce.DeviceName||""}));M(Ne)}}catch(ge){const Ne=ge.response?.data?.message||ge.message||"Failed to Devices";le(Ne),console.error("Error fetching Devices",ge)}finally{}};o.useEffect(()=>{const ge=Ne=>{Ne.key==="Escape"&&re&&G(!1)};return re&&document.addEventListener("keydown",ge),()=>{document.removeEventListener("keydown",ge)}},[re]);const xe=ge=>{const Ne=ge.target.files?.[0];Ne&&(O(Ne.name),B(!0))};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Import Logs From Device"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Import employee attendance logs directly from biometric devices. Upload device log files to batch process time-in and time-out records for multiple employees."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Import device logs by date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Consolidate daily time records automatically"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"View and validate logs before processing"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by device and employee status"})]})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-6",children:e.jsxs("div",{className:"lg:col-span-3 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Import Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(qr,{date:i,onChange:d,label:"From:"}),e.jsx(qr,{date:x,onChange:h,label:"To:"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Device:"}),e.jsx("select",{value:P,onChange:ge=>k(ge.target.value),className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:E.map(ge=>e.jsx("option",{value:ge.deviceName,children:ge.deviceName},ge.deviceName))})]}),e.jsx("div",{className:"grid grid-cols-2 space-y-2",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:N,onChange:ge=>p(ge.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Enable Device Code"})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"File Name:"}),e.jsxs("div",{className:"bg-teal-50 border-2 border-teal-200 rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[m&&e.jsx("div",{className:"w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:L}),m&&e.jsx("div",{className:"text-xs text-teal-600",children:"File loaded successfully"})]})]}),e.jsx("input",{type:"file",ref:f,onChange:xe,accept:".xlsx,.xls",className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",className:"px-4 py-2 bg-teal-500 text-white rounded-lg cursor-pointer hover:bg-teal-600 transition-colors text-sm",children:"Choose File"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:v,onChange:ge=>y(ge.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Do Not Include Resigned Employees"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"text",value:a,onChange:ge=>s(ge.target.value),className:"w-36 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!0}),e.jsx("button",{onClick:()=>G(!0),className:"px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{s(""),r("")},className:"px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 shadow-sm",children:e.jsx(ls,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsxs("button",{className:"px-6 py-2.5 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center gap-2",children:[e.jsx(ur,{className:"w-4 h-4"}),"Import"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx(Be,{className:"w-4 h-4"}),"Validate"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-orange-600 text-white rounded hover:bg-orange-700 transition-colors flex items-center gap-2",children:[e.jsx(gl,{className:"w-4 h-4"}),"Update"]})]})]})]})}),re&&e.jsx("div",{className:"mb-6 bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:()=>G(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl border border-gray-300",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:()=>G(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Select Employee"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:R,onChange:ge=>F(ge.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"EmpCode "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Name"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Group Code"})]})}),e.jsx("tbody",{children:H.map((ge,Ne)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>D(ge.code,ge.name),children:[e.jsx("td",{className:"px-3 py-1.5",children:ge.id}),e.jsx("td",{className:"px-3 py-1.5",children:ge.name}),e.jsx("td",{className:"px-3 py-1.5",children:ge.code})]},ge.code))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsx("div",{className:"text-gray-600 text-xs",children:"Showing 1 to 10 of 1,658 entries"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"Previous"}),e.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded text-xs",children:"1"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"2"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"3"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"4"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"5"}),e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"166"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"Next"})]})]})]})]})})]})}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-5 py-3 bg-white border-b border-gray-200",children:e.jsx("h3",{className:"text-gray-900",children:"Import Preview"})}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Employee Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Date In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Actual Date/Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Date Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Flag"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break1Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break1In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break2Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break3Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break3In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Workshift"})]})}),e.jsx("tbody",{children:e.jsx("tr",{children:e.jsx("td",{colSpan:14,className:"px-4 py-12 text-center text-gray-500 text-sm",children:"No data available in table"})})})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Showing 0 entries"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:"Previous"}),e.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:"Next"})]})]})]})]})]})}),e.jsx(Zt,{})]})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var jp={};jp.version="0.18.5";var fS=1252,HL=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Bb={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Rb=function(t){HL.indexOf(t)!=-1&&(fS=Bb[0]=t)};function WL(){Rb(1252)}var ll=function(t){Rb(t)};function Ub(){ll(1200),WL()}function r1(t){for(var s=[],a=0,r=t.length;a<r;++a)s[a]=t.charCodeAt(a);return s}function GL(t){for(var s=[],a=0;a<t.length>>1;++a)s[a]=String.fromCharCode(t.charCodeAt(2*a)+(t.charCodeAt(2*a+1)<<8));return s.join("")}function gS(t){for(var s=[],a=0;a<t.length>>1;++a)s[a]=String.fromCharCode(t.charCodeAt(2*a+1)+(t.charCodeAt(2*a)<<8));return s.join("")}var Lu=function(t){var s=t.charCodeAt(0),a=t.charCodeAt(1);return s==255&&a==254?GL(t.slice(2)):s==254&&a==255?gS(t.slice(2)):s==65279?t.slice(1):t},Vh=function(s){return String.fromCharCode(s)},n1=function(s){return String.fromCharCode(s)},qu,rc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Xu(t){for(var s="",a=0,r=0,n=0,l=0,i=0,d=0,x=0,h=0;h<t.length;)a=t.charCodeAt(h++),l=a>>2,r=t.charCodeAt(h++),i=(a&3)<<4|r>>4,n=t.charCodeAt(h++),d=(r&15)<<2|n>>6,x=n&63,isNaN(r)?d=x=64:isNaN(n)&&(x=64),s+=rc.charAt(l)+rc.charAt(i)+rc.charAt(d)+rc.charAt(x);return s}function yo(t){var s="",a=0,r=0,n=0,l=0,i=0,d=0,x=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var h=0;h<t.length;)l=rc.indexOf(t.charAt(h++)),i=rc.indexOf(t.charAt(h++)),a=l<<2|i>>4,s+=String.fromCharCode(a),d=rc.indexOf(t.charAt(h++)),r=(i&15)<<4|d>>2,d!==64&&(s+=String.fromCharCode(r)),x=rc.indexOf(t.charAt(h++)),n=(d&3)<<6|x,x!==64&&(s+=String.fromCharCode(n));return s}var $s=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Si=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(s,a){return a?new Buffer(s,a):new Buffer(s)}:Buffer.from.bind(Buffer)}return function(){}})();function xc(t){return $s?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function o1(t){return $s?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var mo=function(s){return $s?Si(s,"binary"):s.split("").map(function(a){return a.charCodeAt(0)&255})};function af(t){if(typeof ArrayBuffer>"u")return mo(t);for(var s=new ArrayBuffer(t.length),a=new Uint8Array(s),r=0;r!=t.length;++r)a[r]=t.charCodeAt(r)&255;return s}function bc(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var s=[],a=0;a<t.length;++a)s[a]=String.fromCharCode(t[a]);return s.join("")}function $L(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}function Hb(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return Hb(new Uint8Array(t));for(var s=new Array(t.length),a=0;a<t.length;++a)s[a]=t[a];return s}var Vr=$s?function(t){return Buffer.concat(t.map(function(s){return Buffer.isBuffer(s)?s:Si(s)}))}:function(t){if(typeof Uint8Array<"u"){var s=0,a=0;for(s=0;s<t.length;++s)a+=t[s].length;var r=new Uint8Array(a),n=0;for(s=0,a=0;s<t.length;a+=n,++s)if(n=t[s].length,t[s]instanceof Uint8Array)r.set(t[s],a);else{if(typeof t[s]=="string")throw"wtf";r.set(new Uint8Array(t[s]),a)}return r}return[].concat.apply([],t.map(function(l){return Array.isArray(l)?l:[].slice.call(l)}))};function zL(t){for(var s=[],a=0,r=t.length+250,n=xc(t.length+255),l=0;l<t.length;++l){var i=t.charCodeAt(l);if(i<128)n[a++]=i;else if(i<2048)n[a++]=192|i>>6&31,n[a++]=128|i&63;else if(i>=55296&&i<57344){i=(i&1023)+64;var d=t.charCodeAt(++l)&1023;n[a++]=240|i>>8&7,n[a++]=128|i>>2&63,n[a++]=128|d>>6&15|(i&3)<<4,n[a++]=128|d&63}else n[a++]=224|i>>12&15,n[a++]=128|i>>6&63,n[a++]=128|i&63;a>r&&(s.push(n.slice(0,a)),a=0,n=xc(65535),r=65530)}return s.push(n.slice(0,a)),Vr(s)}var On=/\u0000/g,Ou=/[\u0001-\u0006]/g;function v0(t){for(var s="",a=t.length-1;a>=0;)s+=t.charAt(a--);return s}function il(t,s){var a=""+t;return a.length>=s?a:cr("0",s-a.length)+a}function Wb(t,s){var a=""+t;return a.length>=s?a:cr(" ",s-a.length)+a}function Cp(t,s){var a=""+t;return a.length>=s?a:a+cr(" ",s-a.length)}function VL(t,s){var a=""+Math.round(t);return a.length>=s?a:cr("0",s-a.length)+a}function YL(t,s){var a=""+t;return a.length>=s?a:cr("0",s-a.length)+a}var l1=Math.pow(2,32);function c0(t,s){if(t>l1||t<-l1)return VL(t,s);var a=Math.round(t);return YL(a,s)}function Sp(t,s){return s=s||0,t.length>=7+s&&(t.charCodeAt(s)|32)===103&&(t.charCodeAt(s+1)|32)===101&&(t.charCodeAt(s+2)|32)===110&&(t.charCodeAt(s+3)|32)===101&&(t.charCodeAt(s+4)|32)===114&&(t.charCodeAt(s+5)|32)===97&&(t.charCodeAt(s+6)|32)===108}var i1=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],qg=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function KL(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var As={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},c1={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},qL={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function kp(t,s,a){for(var r=t<0?-1:1,n=t*r,l=0,i=1,d=0,x=1,h=0,m=0,b=Math.floor(n);h<s&&(b=Math.floor(n),d=b*i+l,m=b*h+x,!(n-b<5e-8));)n=1/(n-b),l=i,i=d,x=h,h=m;if(m>s&&(h>s?(m=x,d=l):(m=h,d=i)),!a)return[0,r*d,m];var f=Math.floor(r*d/m);return[f,r*d-f*m,m]}function ed(t,s,a){if(t>2958465||t<0)return null;var r=t|0,n=Math.floor(86400*(t-r)),l=0,i=[],d={D:r,T:n,u:86400*(t-r)-n,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(d.u)<1e-6&&(d.u=0),s&&s.date1904&&(r+=1462),d.u>.9999&&(d.u=0,++n==86400&&(d.T=n=0,++r,++d.D)),r===60)i=a?[1317,10,29]:[1900,2,29],l=3;else if(r===0)i=a?[1317,8,29]:[1900,1,0],l=6;else{r>60&&--r;var x=new Date(1900,0,1);x.setDate(x.getDate()+r-1),i=[x.getFullYear(),x.getMonth()+1,x.getDate()],l=x.getDay(),r<60&&(l=(l+6)%7),a&&(l=tO(x,i))}return d.y=i[0],d.m=i[1],d.d=i[2],d.S=n%60,n=Math.floor(n/60),d.M=n%60,n=Math.floor(n/60),d.H=n,d.q=l,d}var yS=new Date(1899,11,31,0,0,0),XL=yS.getTime(),JL=new Date(1900,2,1,0,0,0);function bS(t,s){var a=t.getTime();return s?a-=1461*24*60*60*1e3:t>=JL&&(a+=1440*60*1e3),(a-(XL+(t.getTimezoneOffset()-yS.getTimezoneOffset())*6e4))/(1440*60*1e3)}function Gb(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function QL(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function ZL(t){var s=t<0?12:11,a=Gb(t.toFixed(12));return a.length<=s||(a=t.toPrecision(10),a.length<=s)?a:t.toExponential(5)}function eO(t){var s=Gb(t.toFixed(11));return s.length>(t<0?12:11)||s==="0"||s==="-0"?t.toPrecision(6):s}function Ju(t){var s=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),a;return s>=-4&&s<=-1?a=t.toPrecision(10+s):Math.abs(s)<=9?a=ZL(t):s===10?a=t.toFixed(10).substr(0,12):a=eO(t),Gb(QL(a.toUpperCase()))}function dd(t,s){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Ju(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return _o(14,bS(t,s&&s.date1904),s)}throw new Error("unsupported value in General format: "+t)}function tO(t,s){s[0]-=581;var a=t.getDay();return t<60&&(a=(a+6)%7),a}function sO(t,s,a,r){var n="",l=0,i=0,d=a.y,x,h=0;switch(t){case 98:d=a.y+543;case 121:switch(s.length){case 1:case 2:x=d%100,h=2;break;default:x=d%1e4,h=4;break}break;case 109:switch(s.length){case 1:case 2:x=a.m,h=s.length;break;case 3:return qg[a.m-1][1];case 5:return qg[a.m-1][0];default:return qg[a.m-1][2]}break;case 100:switch(s.length){case 1:case 2:x=a.d,h=s.length;break;case 3:return i1[a.q][0];default:return i1[a.q][1]}break;case 104:switch(s.length){case 1:case 2:x=1+(a.H+11)%12,h=s.length;break;default:throw"bad hour format: "+s}break;case 72:switch(s.length){case 1:case 2:x=a.H,h=s.length;break;default:throw"bad hour format: "+s}break;case 77:switch(s.length){case 1:case 2:x=a.M,h=s.length;break;default:throw"bad minute format: "+s}break;case 115:if(s!="s"&&s!="ss"&&s!=".0"&&s!=".00"&&s!=".000")throw"bad second format: "+s;return a.u===0&&(s=="s"||s=="ss")?il(a.S,s.length):(r>=2?i=r===3?1e3:100:i=r===1?10:1,l=Math.round(i*(a.S+a.u)),l>=60*i&&(l=0),s==="s"?l===0?"0":""+l/i:(n=il(l,2+r),s==="ss"?n.substr(0,2):"."+n.substr(2,s.length-1)));case 90:switch(s){case"[h]":case"[hh]":x=a.D*24+a.H;break;case"[m]":case"[mm]":x=(a.D*24+a.H)*60+a.M;break;case"[s]":case"[ss]":x=((a.D*24+a.H)*60+a.M)*60+Math.round(a.S+a.u);break;default:throw"bad abstime format: "+s}h=s.length===3?1:2;break;case 101:x=d,h=1;break}var m=h>0?il(x,h):"";return m}function nc(t){var s=3;if(t.length<=s)return t;for(var a=t.length%s,r=t.substr(0,a);a!=t.length;a+=s)r+=(r.length>0?",":"")+t.substr(a,s);return r}var vS=/%/g;function aO(t,s,a){var r=s.replace(vS,""),n=s.length-r.length;return gi(t,r,a*Math.pow(10,2*n))+cr("%",n)}function rO(t,s,a){for(var r=s.length-1;s.charCodeAt(r-1)===44;)--r;return gi(t,s.substr(0,r),a/Math.pow(10,3*(s.length-r)))}function wS(t,s){var a,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(s==0)return"0.0E+0";if(s<0)return"-"+wS(t,-s);var n=t.indexOf(".");n===-1&&(n=t.indexOf("E"));var l=Math.floor(Math.log(s)*Math.LOG10E)%n;if(l<0&&(l+=n),a=(s/Math.pow(10,l)).toPrecision(r+1+(n+l)%n),a.indexOf("e")===-1){var i=Math.floor(Math.log(s)*Math.LOG10E);for(a.indexOf(".")===-1?a=a.charAt(0)+"."+a.substr(1)+"E+"+(i-a.length+l):a+="E+"+(i-l);a.substr(0,2)==="0.";)a=a.charAt(0)+a.substr(2,n)+"."+a.substr(2+n),a=a.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");a=a.replace(/\+-/,"-")}a=a.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(d,x,h,m){return x+h+m.substr(0,(n+l)%n)+"."+m.substr(l)+"E"})}else a=s.toExponential(r);return t.match(/E\+00$/)&&a.match(/e[+-]\d$/)&&(a=a.substr(0,a.length-1)+"0"+a.charAt(a.length-1)),t.match(/E\-/)&&a.match(/e\+/)&&(a=a.replace(/e\+/,"e")),a.replace("e","E")}var NS=/# (\?+)( ?)\/( ?)(\d+)/;function nO(t,s,a){var r=parseInt(t[4],10),n=Math.round(s*r),l=Math.floor(n/r),i=n-l*r,d=r;return a+(l===0?"":""+l)+" "+(i===0?cr(" ",t[1].length+1+t[4].length):Wb(i,t[1].length)+t[2]+"/"+t[3]+il(d,t[4].length))}function oO(t,s,a){return a+(s===0?"":""+s)+cr(" ",t[1].length+2+t[4].length)}var jS=/^#*0*\.([0#]+)/,CS=/\).*[0#]/,SS=/\(###\) ###\\?-####/;function Pn(t){for(var s="",a,r=0;r!=t.length;++r)switch(a=t.charCodeAt(r)){case 35:break;case 63:s+=" ";break;case 48:s+="0";break;default:s+=String.fromCharCode(a)}return s}function d1(t,s){var a=Math.pow(10,s);return""+Math.round(t*a)/a}function u1(t,s){var a=t-Math.floor(t),r=Math.pow(10,s);return s<(""+Math.round(a*r)).length?0:Math.round(a*r)}function lO(t,s){return s<(""+Math.round((t-Math.floor(t))*Math.pow(10,s))).length?1:0}function iO(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Ao(t,s,a){if(t.charCodeAt(0)===40&&!s.match(CS)){var r=s.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return a>=0?Ao("n",r,a):"("+Ao("n",r,-a)+")"}if(s.charCodeAt(s.length-1)===44)return rO(t,s,a);if(s.indexOf("%")!==-1)return aO(t,s,a);if(s.indexOf("E")!==-1)return wS(s,a);if(s.charCodeAt(0)===36)return"$"+Ao(t,s.substr(s.charAt(1)==" "?2:1),a);var n,l,i,d,x=Math.abs(a),h=a<0?"-":"";if(s.match(/^00+$/))return h+c0(x,s.length);if(s.match(/^[#?]+$/))return n=c0(a,0),n==="0"&&(n=""),n.length>s.length?n:Pn(s.substr(0,s.length-n.length))+n;if(l=s.match(NS))return nO(l,x,h);if(s.match(/^#+0+$/))return h+c0(x,s.length-s.indexOf("0"));if(l=s.match(jS))return n=d1(a,l[1].length).replace(/^([^\.]+)$/,"$1."+Pn(l[1])).replace(/\.$/,"."+Pn(l[1])).replace(/\.(\d*)$/,function(p,v){return"."+v+cr("0",Pn(l[1]).length-v.length)}),s.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(s=s.replace(/^#+([0.])/,"$1"),l=s.match(/^(0*)\.(#*)$/))return h+d1(x,l[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,l[1].length?"0.":".");if(l=s.match(/^#{1,3},##0(\.?)$/))return h+nc(c0(x,0));if(l=s.match(/^#,##0\.([#0]*0)$/))return a<0?"-"+Ao(t,s,-a):nc(""+(Math.floor(a)+lO(a,l[1].length)))+"."+il(u1(a,l[1].length),l[1].length);if(l=s.match(/^#,#*,#0/))return Ao(t,s.replace(/^#,#*,/,""),a);if(l=s.match(/^([0#]+)(\\?-([0#]+))+$/))return n=v0(Ao(t,s.replace(/[\\-]/g,""),a)),i=0,v0(v0(s.replace(/\\/g,"")).replace(/[0#]/g,function(p){return i<n.length?n.charAt(i++):p==="0"?"0":""}));if(s.match(SS))return n=Ao(t,"##########",a),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var m="";if(l=s.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(l[4].length,7),d=kp(x,Math.pow(10,i)-1,!1),n=""+h,m=gi("n",l[1],d[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),n+=m+l[2]+"/"+l[3],m=Cp(d[2],i),m.length<l[4].length&&(m=Pn(l[4].substr(l[4].length-m.length))+m),n+=m,n;if(l=s.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(l[1].length,l[4].length),7),d=kp(x,Math.pow(10,i)-1,!0),h+(d[0]||(d[1]?"":"0"))+" "+(d[1]?Wb(d[1],i)+l[2]+"/"+l[3]+Cp(d[2],i):cr(" ",2*i+1+l[2].length+l[3].length));if(l=s.match(/^[#0?]+$/))return n=c0(a,0),s.length<=n.length?n:Pn(s.substr(0,s.length-n.length))+n;if(l=s.match(/^([#0?]+)\.([#0]+)$/)){n=""+a.toFixed(Math.min(l[2].length,10)).replace(/([^0])0+$/,"$1"),i=n.indexOf(".");var b=s.indexOf(".")-i,f=s.length-n.length-b;return Pn(s.substr(0,b)+n+s.substr(s.length-f))}if(l=s.match(/^00,000\.([#0]*0)$/))return i=u1(a,l[1].length),a<0?"-"+Ao(t,s,-a):nc(iO(a)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?il(0,3-p.length):"")+p})+"."+il(i,l[1].length);switch(s){case"###,##0.00":return Ao(t,"#,##0.00",a);case"###,###":case"##,###":case"#,###":var N=nc(c0(x,0));return N!=="0"?h+N:"";case"###,###.00":return Ao(t,"###,##0.00",a).replace(/^0\./,".");case"#,###.00":return Ao(t,"#,##0.00",a).replace(/^0\./,".")}throw new Error("unsupported format |"+s+"|")}function cO(t,s,a){for(var r=s.length-1;s.charCodeAt(r-1)===44;)--r;return gi(t,s.substr(0,r),a/Math.pow(10,3*(s.length-r)))}function dO(t,s,a){var r=s.replace(vS,""),n=s.length-r.length;return gi(t,r,a*Math.pow(10,2*n))+cr("%",n)}function kS(t,s){var a,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(s==0)return"0.0E+0";if(s<0)return"-"+kS(t,-s);var n=t.indexOf(".");n===-1&&(n=t.indexOf("E"));var l=Math.floor(Math.log(s)*Math.LOG10E)%n;if(l<0&&(l+=n),a=(s/Math.pow(10,l)).toPrecision(r+1+(n+l)%n),!a.match(/[Ee]/)){var i=Math.floor(Math.log(s)*Math.LOG10E);a.indexOf(".")===-1?a=a.charAt(0)+"."+a.substr(1)+"E+"+(i-a.length+l):a+="E+"+(i-l),a=a.replace(/\+-/,"-")}a=a.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(d,x,h,m){return x+h+m.substr(0,(n+l)%n)+"."+m.substr(l)+"E"})}else a=s.toExponential(r);return t.match(/E\+00$/)&&a.match(/e[+-]\d$/)&&(a=a.substr(0,a.length-1)+"0"+a.charAt(a.length-1)),t.match(/E\-/)&&a.match(/e\+/)&&(a=a.replace(/e\+/,"e")),a.replace("e","E")}function Il(t,s,a){if(t.charCodeAt(0)===40&&!s.match(CS)){var r=s.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return a>=0?Il("n",r,a):"("+Il("n",r,-a)+")"}if(s.charCodeAt(s.length-1)===44)return cO(t,s,a);if(s.indexOf("%")!==-1)return dO(t,s,a);if(s.indexOf("E")!==-1)return kS(s,a);if(s.charCodeAt(0)===36)return"$"+Il(t,s.substr(s.charAt(1)==" "?2:1),a);var n,l,i,d,x=Math.abs(a),h=a<0?"-":"";if(s.match(/^00+$/))return h+il(x,s.length);if(s.match(/^[#?]+$/))return n=""+a,a===0&&(n=""),n.length>s.length?n:Pn(s.substr(0,s.length-n.length))+n;if(l=s.match(NS))return oO(l,x,h);if(s.match(/^#+0+$/))return h+il(x,s.length-s.indexOf("0"));if(l=s.match(jS))return n=(""+a).replace(/^([^\.]+)$/,"$1."+Pn(l[1])).replace(/\.$/,"."+Pn(l[1])),n=n.replace(/\.(\d*)$/,function(p,v){return"."+v+cr("0",Pn(l[1]).length-v.length)}),s.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(s=s.replace(/^#+([0.])/,"$1"),l=s.match(/^(0*)\.(#*)$/))return h+(""+x).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,l[1].length?"0.":".");if(l=s.match(/^#{1,3},##0(\.?)$/))return h+nc(""+x);if(l=s.match(/^#,##0\.([#0]*0)$/))return a<0?"-"+Il(t,s,-a):nc(""+a)+"."+cr("0",l[1].length);if(l=s.match(/^#,#*,#0/))return Il(t,s.replace(/^#,#*,/,""),a);if(l=s.match(/^([0#]+)(\\?-([0#]+))+$/))return n=v0(Il(t,s.replace(/[\\-]/g,""),a)),i=0,v0(v0(s.replace(/\\/g,"")).replace(/[0#]/g,function(p){return i<n.length?n.charAt(i++):p==="0"?"0":""}));if(s.match(SS))return n=Il(t,"##########",a),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var m="";if(l=s.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(l[4].length,7),d=kp(x,Math.pow(10,i)-1,!1),n=""+h,m=gi("n",l[1],d[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),n+=m+l[2]+"/"+l[3],m=Cp(d[2],i),m.length<l[4].length&&(m=Pn(l[4].substr(l[4].length-m.length))+m),n+=m,n;if(l=s.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(l[1].length,l[4].length),7),d=kp(x,Math.pow(10,i)-1,!0),h+(d[0]||(d[1]?"":"0"))+" "+(d[1]?Wb(d[1],i)+l[2]+"/"+l[3]+Cp(d[2],i):cr(" ",2*i+1+l[2].length+l[3].length));if(l=s.match(/^[#0?]+$/))return n=""+a,s.length<=n.length?n:Pn(s.substr(0,s.length-n.length))+n;if(l=s.match(/^([#0]+)\.([#0]+)$/)){n=""+a.toFixed(Math.min(l[2].length,10)).replace(/([^0])0+$/,"$1"),i=n.indexOf(".");var b=s.indexOf(".")-i,f=s.length-n.length-b;return Pn(s.substr(0,b)+n+s.substr(s.length-f))}if(l=s.match(/^00,000\.([#0]*0)$/))return a<0?"-"+Il(t,s,-a):nc(""+a).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?il(0,3-p.length):"")+p})+"."+il(0,l[1].length);switch(s){case"###,###":case"##,###":case"#,###":var N=nc(""+x);return N!=="0"?h+N:"";default:if(s.match(/\.[0#?]*$/))return Il(t,s.slice(0,s.lastIndexOf(".")),a)+Pn(s.slice(s.lastIndexOf(".")))}throw new Error("unsupported format |"+s+"|")}function gi(t,s,a){return(a|0)===a?Il(t,s,a):Ao(t,s,a)}function uO(t){for(var s=[],a=!1,r=0,n=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:a=!a;break;case 95:case 42:case 92:++r;break;case 59:s[s.length]=t.substr(n,r-n),n=r+1}if(s[s.length]=t.substr(n),a===!0)throw new Error("Format |"+t+"| unterminated string ");return s}var DS=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function z0(t){for(var s=0,a="",r="";s<t.length;)switch(a=t.charAt(s)){case"G":Sp(t,s)&&(s+=6),s++;break;case'"':for(;t.charCodeAt(++s)!==34&&s<t.length;);++s;break;case"\\":s+=2;break;case"_":s+=2;break;case"@":++s;break;case"B":case"b":if(t.charAt(s+1)==="1"||t.charAt(s+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(s,3).toUpperCase()==="A/P"||t.substr(s,5).toUpperCase()==="AM/PM"||t.substr(s,5).toUpperCase()==="/")return!0;++s;break;case"[":for(r=a;t.charAt(s++)!=="]"&&s<t.length;)r+=t.charAt(s);if(r.match(DS))return!0;break;case".":case"0":case"#":for(;s<t.length&&("0#?.,E+-%".indexOf(a=t.charAt(++s))>-1||a=="\\"&&t.charAt(s+1)=="-"&&"0#".indexOf(t.charAt(s+2))>-1););break;case"?":for(;t.charAt(++s)===a;);break;case"*":++s,(t.charAt(s)==" "||t.charAt(s)=="*")&&++s;break;case"(":case")":++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;s<t.length&&"0123456789".indexOf(t.charAt(++s))>-1;);break;case" ":++s;break;default:++s;break}return!1}function xO(t,s,a,r){for(var n=[],l="",i=0,d="",x="t",h,m,b,f="H";i<t.length;)switch(d=t.charAt(i)){case"G":if(!Sp(t,i))throw new Error("unrecognized character "+d+" in "+t);n[n.length]={t:"G",v:"General"},i+=7;break;case'"':for(l="";(b=t.charCodeAt(++i))!==34&&i<t.length;)l+=String.fromCharCode(b);n[n.length]={t:"t",v:l},++i;break;case"\\":var N=t.charAt(++i),p=N==="("||N===")"?N:"t";n[n.length]={t:p,v:N},++i;break;case"_":n[n.length]={t:"t",v:" "},i+=2;break;case"@":n[n.length]={t:"T",v:s},++i;break;case"B":case"b":if(t.charAt(i+1)==="1"||t.charAt(i+1)==="2"){if(h==null&&(h=ed(s,a,t.charAt(i+1)==="2"),h==null))return"";n[n.length]={t:"X",v:t.substr(i,2)},x=d,i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":d=d.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(s<0||h==null&&(h=ed(s,a),h==null))return"";for(l=d;++i<t.length&&t.charAt(i).toLowerCase()===d;)l+=d;d==="m"&&x.toLowerCase()==="h"&&(d="M"),d==="h"&&(d=f),n[n.length]={t:d,v:l},x=d;break;case"A":case"a":case"":var v={t:d,v:d};if(h==null&&(h=ed(s,a)),t.substr(i,3).toUpperCase()==="A/P"?(h!=null&&(v.v=h.H>=12?"P":"A"),v.t="T",f="h",i+=3):t.substr(i,5).toUpperCase()==="AM/PM"?(h!=null&&(v.v=h.H>=12?"PM":"AM"),v.t="T",i+=5,f="h"):t.substr(i,5).toUpperCase()==="/"?(h!=null&&(v.v=h.H>=12?"":""),v.t="T",i+=5,f="h"):(v.t="t",++i),h==null&&v.t==="T")return"";n[n.length]=v,x=d;break;case"[":for(l=d;t.charAt(i++)!=="]"&&i<t.length;)l+=t.charAt(i);if(l.slice(-1)!=="]")throw'unterminated "[" block: |'+l+"|";if(l.match(DS)){if(h==null&&(h=ed(s,a),h==null))return"";n[n.length]={t:"Z",v:l.toLowerCase()},x=l.charAt(1)}else l.indexOf("$")>-1&&(l=(l.match(/\$([^-\[\]]*)/)||[])[1]||"$",z0(t)||(n[n.length]={t:"t",v:l}));break;case".":if(h!=null){for(l=d;++i<t.length&&(d=t.charAt(i))==="0";)l+=d;n[n.length]={t:"s",v:l};break}case"0":case"#":for(l=d;++i<t.length&&"0#?.,E+-%".indexOf(d=t.charAt(i))>-1;)l+=d;n[n.length]={t:"n",v:l};break;case"?":for(l=d;t.charAt(++i)===d;)l+=d;n[n.length]={t:d,v:l},x=d;break;case"*":++i,(t.charAt(i)==" "||t.charAt(i)=="*")&&++i;break;case"(":case")":n[n.length]={t:r===1?"t":d,v:d},++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(l=d;i<t.length&&"0123456789".indexOf(t.charAt(++i))>-1;)l+=t.charAt(i);n[n.length]={t:"D",v:l};break;case" ":n[n.length]={t:d,v:d},++i;break;case"$":n[n.length]={t:"t",v:"$"},++i;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(d)===-1)throw new Error("unrecognized character "+d+" in "+t);n[n.length]={t:"t",v:d},++i;break}var y=0,g=0,j;for(i=n.length-1,x="t";i>=0;--i)switch(n[i].t){case"h":case"H":n[i].t=f,x="h",y<1&&(y=1);break;case"s":(j=n[i].v.match(/\.0+$/))&&(g=Math.max(g,j[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":x=n[i].t;break;case"m":x==="s"&&(n[i].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&n[i].v.match(/[Hh]/)&&(y=1),y<2&&n[i].v.match(/[Mm]/)&&(y=2),y<3&&n[i].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M),h.M>=60&&(h.M=0,++h.H);break;case 2:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M);break}var C="",S;for(i=0;i<n.length;++i)switch(n[i].t){case"t":case"T":case" ":case"D":break;case"X":n[i].v="",n[i].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":n[i].v=sO(n[i].t.charCodeAt(0),n[i].v,h,g),n[i].t="t";break;case"n":case"?":for(S=i+1;n[S]!=null&&((d=n[S].t)==="?"||d==="D"||(d===" "||d==="t")&&n[S+1]!=null&&(n[S+1].t==="?"||n[S+1].t==="t"&&n[S+1].v==="/")||n[i].t==="("&&(d===" "||d==="n"||d===")")||d==="t"&&(n[S].v==="/"||n[S].v===" "&&n[S+1]!=null&&n[S+1].t=="?"));)n[i].v+=n[S].v,n[S]={v:"",t:";"},++S;C+=n[i].v,i=S-1;break;case"G":n[i].t="t",n[i].v=dd(s,a);break}var P="",k,E;if(C.length>0){C.charCodeAt(0)==40?(k=s<0&&C.charCodeAt(0)===45?-s:s,E=gi("n",C,k)):(k=s<0&&r>1?-s:s,E=gi("n",C,k),k<0&&n[0]&&n[0].t=="t"&&(E=E.substr(1),n[0].v="-"+n[0].v)),S=E.length-1;var M=n.length;for(i=0;i<n.length;++i)if(n[i]!=null&&n[i].t!="t"&&n[i].v.indexOf(".")>-1){M=i;break}var L=n.length;if(M===n.length&&E.indexOf("E")===-1){for(i=n.length-1;i>=0;--i)n[i]==null||"n?".indexOf(n[i].t)===-1||(S>=n[i].v.length-1?(S-=n[i].v.length,n[i].v=E.substr(S+1,n[i].v.length)):S<0?n[i].v="":(n[i].v=E.substr(0,S+1),S=-1),n[i].t="t",L=i);S>=0&&L<n.length&&(n[L].v=E.substr(0,S+1)+n[L].v)}else if(M!==n.length&&E.indexOf("E")===-1){for(S=E.indexOf(".")-1,i=M;i>=0;--i)if(!(n[i]==null||"n?".indexOf(n[i].t)===-1)){for(m=n[i].v.indexOf(".")>-1&&i===M?n[i].v.indexOf(".")-1:n[i].v.length-1,P=n[i].v.substr(m+1);m>=0;--m)S>=0&&(n[i].v.charAt(m)==="0"||n[i].v.charAt(m)==="#")&&(P=E.charAt(S--)+P);n[i].v=P,n[i].t="t",L=i}for(S>=0&&L<n.length&&(n[L].v=E.substr(0,S+1)+n[L].v),S=E.indexOf(".")+1,i=M;i<n.length;++i)if(!(n[i]==null||"n?(".indexOf(n[i].t)===-1&&i!==M)){for(m=n[i].v.indexOf(".")>-1&&i===M?n[i].v.indexOf(".")+1:0,P=n[i].v.substr(0,m);m<n[i].v.length;++m)S<E.length&&(P+=E.charAt(S++));n[i].v=P,n[i].t="t",L=i}}}for(i=0;i<n.length;++i)n[i]!=null&&"n?".indexOf(n[i].t)>-1&&(k=r>1&&s<0&&i>0&&n[i-1].v==="-"?-s:s,n[i].v=gi(n[i].t,n[i].v,k),n[i].t="t");var O="";for(i=0;i!==n.length;++i)n[i]!=null&&(O+=n[i].v);return O}var x1=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function h1(t,s){if(s==null)return!1;var a=parseFloat(s[2]);switch(s[1]){case"=":if(t==a)return!0;break;case">":if(t>a)return!0;break;case"<":if(t<a)return!0;break;case"<>":if(t!=a)return!0;break;case">=":if(t>=a)return!0;break;case"<=":if(t<=a)return!0;break}return!1}function hO(t,s){var a=uO(t),r=a.length,n=a[r-1].indexOf("@");if(r<4&&n>-1&&--r,a.length>4)throw new Error("cannot find right format for |"+a.join("|")+"|");if(typeof s!="number")return[4,a.length===4||n>-1?a[a.length-1]:"@"];switch(a.length){case 1:a=n>-1?["General","General","General",a[0]]:[a[0],a[0],a[0],"@"];break;case 2:a=n>-1?[a[0],a[0],a[0],a[1]]:[a[0],a[1],a[0],"@"];break;case 3:a=n>-1?[a[0],a[1],a[0],a[2]]:[a[0],a[1],a[2],"@"];break}var l=s>0?a[0]:s<0?a[1]:a[2];if(a[0].indexOf("[")===-1&&a[1].indexOf("[")===-1)return[r,l];if(a[0].match(/\[[=<>]/)!=null||a[1].match(/\[[=<>]/)!=null){var i=a[0].match(x1),d=a[1].match(x1);return h1(s,i)?[r,a[0]]:h1(s,d)?[r,a[1]]:[r,a[i!=null&&d!=null?2:1]]}return[r,l]}function _o(t,s,a){a==null&&(a={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&a.dateNF?r=a.dateNF:r=t;break;case"number":t==14&&a.dateNF?r=a.dateNF:r=(a.table!=null?a.table:As)[t],r==null&&(r=a.table&&a.table[c1[t]]||As[c1[t]]),r==null&&(r=qL[t]||"General");break}if(Sp(r,0))return dd(s,a);s instanceof Date&&(s=bS(s,a.date1904));var n=hO(r,s);if(Sp(n[1]))return dd(s,a);if(s===!0)s="TRUE";else if(s===!1)s="FALSE";else if(s===""||s==null)return"";return xO(n[1],s,a,n[0])}function yi(t,s){if(typeof s!="number"){s=+s||-1;for(var a=0;a<392;++a){if(As[a]==null){s<0&&(s=a);continue}if(As[a]==t){s=a;break}}s<0&&(s=391)}return As[s]=t,s}function rf(t){for(var s=0;s!=392;++s)t[s]!==void 0&&yi(t[s],s)}function V0(){As=KL()}var mO={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},ES=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function pO(t){var s=typeof t=="number"?As[t]:t;return s=s.replace(ES,"(\\d+)"),new RegExp("^"+s+"$")}function fO(t,s,a){var r=-1,n=-1,l=-1,i=-1,d=-1,x=-1;(s.match(ES)||[]).forEach(function(b,f){var N=parseInt(a[f+1],10);switch(b.toLowerCase().charAt(0)){case"y":r=N;break;case"d":l=N;break;case"h":i=N;break;case"s":x=N;break;case"m":i>=0?d=N:n=N;break}}),x>=0&&d==-1&&n>=0&&(d=n,n=-1);var h=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(n>=1?n:1)).slice(-2)+"-"+("00"+(l>=1?l:1)).slice(-2);h.length==7&&(h="0"+h),h.length==8&&(h="20"+h);var m=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2)+":"+("00"+(x>=0?x:0)).slice(-2);return i==-1&&d==-1&&x==-1?h:r==-1&&n==-1&&l==-1?m:h+"T"+m}var gO=(function(){var t={};t.version="1.2.0";function s(){for(var E=0,M=new Array(256),L=0;L!=256;++L)E=L,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,M[L]=E;return typeof Int32Array<"u"?new Int32Array(M):M}var a=s();function r(E){var M=0,L=0,O=0,q=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(O=0;O!=256;++O)q[O]=E[O];for(O=0;O!=256;++O)for(L=E[O],M=256+O;M<4096;M+=256)L=q[M]=L>>>8^E[L&255];var B=[];for(O=1;O!=16;++O)B[O-1]=typeof Int32Array<"u"?q.subarray(O*256,O*256+256):q.slice(O*256,O*256+256);return B}var n=r(a),l=n[0],i=n[1],d=n[2],x=n[3],h=n[4],m=n[5],b=n[6],f=n[7],N=n[8],p=n[9],v=n[10],y=n[11],g=n[12],j=n[13],C=n[14];function S(E,M){for(var L=M^-1,O=0,q=E.length;O<q;)L=L>>>8^a[(L^E.charCodeAt(O++))&255];return~L}function P(E,M){for(var L=M^-1,O=E.length-15,q=0;q<O;)L=C[E[q++]^L&255]^j[E[q++]^L>>8&255]^g[E[q++]^L>>16&255]^y[E[q++]^L>>>24]^v[E[q++]]^p[E[q++]]^N[E[q++]]^f[E[q++]]^b[E[q++]]^m[E[q++]]^h[E[q++]]^x[E[q++]]^d[E[q++]]^i[E[q++]]^l[E[q++]]^a[E[q++]];for(O+=15;q<O;)L=L>>>8^a[(L^E[q++])&255];return~L}function k(E,M){for(var L=M^-1,O=0,q=E.length,B=0,se=0;O<q;)B=E.charCodeAt(O++),B<128?L=L>>>8^a[(L^B)&255]:B<2048?(L=L>>>8^a[(L^(192|B>>6&31))&255],L=L>>>8^a[(L^(128|B&63))&255]):B>=55296&&B<57344?(B=(B&1023)+64,se=E.charCodeAt(O++)&1023,L=L>>>8^a[(L^(240|B>>8&7))&255],L=L>>>8^a[(L^(128|B>>2&63))&255],L=L>>>8^a[(L^(128|se>>6&15|(B&3)<<4))&255],L=L>>>8^a[(L^(128|se&63))&255]):(L=L>>>8^a[(L^(224|B>>12&15))&255],L=L>>>8^a[(L^(128|B>>6&63))&255],L=L>>>8^a[(L^(128|B&63))&255]);return~L}return t.table=a,t.bstr=S,t.buf=P,t.str=k,t})(),Ss=(function(){var s={};s.version="1.2.1";function a(ae,ce){for(var te=ae.split("/"),z=ce.split("/"),V=0,X=0,de=Math.min(te.length,z.length);V<de;++V){if(X=te[V].length-z[V].length)return X;if(te[V]!=z[V])return te[V]<z[V]?-1:1}return te.length-z.length}function r(ae){if(ae.charAt(ae.length-1)=="/")return ae.slice(0,-1).indexOf("/")===-1?ae:r(ae.slice(0,-1));var ce=ae.lastIndexOf("/");return ce===-1?ae:ae.slice(0,ce+1)}function n(ae){if(ae.charAt(ae.length-1)=="/")return n(ae.slice(0,-1));var ce=ae.lastIndexOf("/");return ce===-1?ae:ae.slice(ce+1)}function l(ae,ce){typeof ce=="string"&&(ce=new Date(ce));var te=ce.getHours();te=te<<6|ce.getMinutes(),te=te<<5|ce.getSeconds()>>>1,ae.write_shift(2,te);var z=ce.getFullYear()-1980;z=z<<4|ce.getMonth()+1,z=z<<5|ce.getDate(),ae.write_shift(2,z)}function i(ae){var ce=ae.read_shift(2)&65535,te=ae.read_shift(2)&65535,z=new Date,V=te&31;te>>>=5;var X=te&15;te>>>=4,z.setMilliseconds(0),z.setFullYear(te+1980),z.setMonth(X-1),z.setDate(V);var de=ce&31;ce>>>=5;var _e=ce&63;return ce>>>=6,z.setHours(ce),z.setMinutes(_e),z.setSeconds(de<<1),z}function d(ae){rn(ae,0);for(var ce={},te=0;ae.l<=ae.length-4;){var z=ae.read_shift(2),V=ae.read_shift(2),X=ae.l+V,de={};switch(z){case 21589:te=ae.read_shift(1),te&1&&(de.mtime=ae.read_shift(4)),V>5&&(te&2&&(de.atime=ae.read_shift(4)),te&4&&(de.ctime=ae.read_shift(4))),de.mtime&&(de.mt=new Date(de.mtime*1e3));break}ae.l=X,ce[z]=de}return ce}var x;function h(){return x||(x={})}function m(ae,ce){if(ae[0]==80&&ae[1]==75)return qe(ae,ce);if((ae[0]|32)==109&&(ae[1]|32)==105)return ke(ae,ce);if(ae.length<512)throw new Error("CFB file size "+ae.length+" < 512");var te=3,z=512,V=0,X=0,de=0,_e=0,Te=0,je=[],J=ae.slice(0,512);rn(J,0);var we=b(J);switch(te=we[0],te){case 3:z=512;break;case 4:z=4096;break;case 0:if(we[1]==0)return qe(ae,ce);default:throw new Error("Major Version: Expected 3 or 4 saw "+te)}z!==512&&(J=ae.slice(0,z),rn(J,28));var I=ae.slice(0,z);f(J,te);var Z=J.read_shift(4,"i");if(te===3&&Z!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Z);J.l+=4,de=J.read_shift(4,"i"),J.l+=4,J.chk("00100000","Mini Stream Cutoff Size: "),_e=J.read_shift(4,"i"),V=J.read_shift(4,"i"),Te=J.read_shift(4,"i"),X=J.read_shift(4,"i");for(var Q=-1,We=0;We<109&&(Q=J.read_shift(4,"i"),!(Q<0));++We)je[We]=Q;var ft=N(ae,z);y(Te,X,ft,z,je);var $t=j(ft,de,je,z);$t[de].name="!Directory",V>0&&_e!==se&&($t[_e].name="!MiniFAT"),$t[je[0]].name="!FAT",$t.fat_addrs=je,$t.ssz=z;var yt={},$e=[],bt=[],ts=[];C(de,$t,ft,$e,V,yt,bt,_e),p(bt,ts,$e),$e.shift();var Ts={FileIndex:bt,FullPaths:ts};return ce&&ce.raw&&(Ts.raw={header:I,sectors:ft}),Ts}function b(ae){if(ae[ae.l]==80&&ae[ae.l+1]==75)return[0,0];ae.chk(le,"Header Signature: "),ae.l+=16;var ce=ae.read_shift(2,"u");return[ae.read_shift(2,"u"),ce]}function f(ae,ce){var te=9;switch(ae.l+=2,te=ae.read_shift(2)){case 9:if(ce!=3)throw new Error("Sector Shift: Expected 9 saw "+te);break;case 12:if(ce!=4)throw new Error("Sector Shift: Expected 12 saw "+te);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+te)}ae.chk("0600","Mini Sector Shift: "),ae.chk("000000000000","Reserved: ")}function N(ae,ce){for(var te=Math.ceil(ae.length/ce)-1,z=[],V=1;V<te;++V)z[V-1]=ae.slice(V*ce,(V+1)*ce);return z[te-1]=ae.slice(te*ce),z}function p(ae,ce,te){for(var z=0,V=0,X=0,de=0,_e=0,Te=te.length,je=[],J=[];z<Te;++z)je[z]=J[z]=z,ce[z]=te[z];for(;_e<J.length;++_e)z=J[_e],V=ae[z].L,X=ae[z].R,de=ae[z].C,je[z]===z&&(V!==-1&&je[V]!==V&&(je[z]=je[V]),X!==-1&&je[X]!==X&&(je[z]=je[X])),de!==-1&&(je[de]=z),V!==-1&&z!=je[z]&&(je[V]=je[z],J.lastIndexOf(V)<_e&&J.push(V)),X!==-1&&z!=je[z]&&(je[X]=je[z],J.lastIndexOf(X)<_e&&J.push(X));for(z=1;z<Te;++z)je[z]===z&&(X!==-1&&je[X]!==X?je[z]=je[X]:V!==-1&&je[V]!==V&&(je[z]=je[V]));for(z=1;z<Te;++z)if(ae[z].type!==0){if(_e=z,_e!=je[_e])do _e=je[_e],ce[z]=ce[_e]+"/"+ce[z];while(_e!==0&&je[_e]!==-1&&_e!=je[_e]);je[z]=-1}for(ce[0]+="/",z=1;z<Te;++z)ae[z].type!==2&&(ce[z]+="/")}function v(ae,ce,te){for(var z=ae.start,V=ae.size,X=[],de=z;te&&V>0&&de>=0;)X.push(ce.slice(de*B,de*B+B)),V-=B,de=Qc(te,de*4);return X.length===0?Wt(0):Vr(X).slice(0,ae.size)}function y(ae,ce,te,z,V){var X=se;if(ae===se){if(ce!==0)throw new Error("DIFAT chain shorter than expected")}else if(ae!==-1){var de=te[ae],_e=(z>>>2)-1;if(!de)return;for(var Te=0;Te<_e&&(X=Qc(de,Te*4))!==se;++Te)V.push(X);y(Qc(de,z-4),ce-1,te,z,V)}}function g(ae,ce,te,z,V){var X=[],de=[];V||(V=[]);var _e=z-1,Te=0,je=0;for(Te=ce;Te>=0;){V[Te]=!0,X[X.length]=Te,de.push(ae[Te]);var J=te[Math.floor(Te*4/z)];if(je=Te*4&_e,z<4+je)throw new Error("FAT boundary crossed: "+Te+" 4 "+z);if(!ae[J])break;Te=Qc(ae[J],je)}return{nodes:X,data:S1([de])}}function j(ae,ce,te,z){var V=ae.length,X=[],de=[],_e=[],Te=[],je=z-1,J=0,we=0,I=0,Z=0;for(J=0;J<V;++J)if(_e=[],I=J+ce,I>=V&&(I-=V),!de[I]){Te=[];var Q=[];for(we=I;we>=0;){Q[we]=!0,de[we]=!0,_e[_e.length]=we,Te.push(ae[we]);var We=te[Math.floor(we*4/z)];if(Z=we*4&je,z<4+Z)throw new Error("FAT boundary crossed: "+we+" 4 "+z);if(!ae[We]||(we=Qc(ae[We],Z),Q[we]))break}X[I]={nodes:_e,data:S1([Te])}}return X}function C(ae,ce,te,z,V,X,de,_e){for(var Te=0,je=z.length?2:0,J=ce[ae].data,we=0,I=0,Z;we<J.length;we+=128){var Q=J.slice(we,we+128);rn(Q,64),I=Q.read_shift(2),Z=Xb(Q,0,I-je),z.push(Z);var We={name:Z,type:Q.read_shift(1),color:Q.read_shift(1),L:Q.read_shift(4,"i"),R:Q.read_shift(4,"i"),C:Q.read_shift(4,"i"),clsid:Q.read_shift(16),state:Q.read_shift(4,"i"),start:0,size:0},ft=Q.read_shift(2)+Q.read_shift(2)+Q.read_shift(2)+Q.read_shift(2);ft!==0&&(We.ct=S(Q,Q.l-8));var $t=Q.read_shift(2)+Q.read_shift(2)+Q.read_shift(2)+Q.read_shift(2);$t!==0&&(We.mt=S(Q,Q.l-8)),We.start=Q.read_shift(4,"i"),We.size=Q.read_shift(4,"i"),We.size<0&&We.start<0&&(We.size=We.type=0,We.start=se,We.name=""),We.type===5?(Te=We.start,V>0&&Te!==se&&(ce[Te].name="!StreamData")):We.size>=4096?(We.storage="fat",ce[We.start]===void 0&&(ce[We.start]=g(te,We.start,ce.fat_addrs,ce.ssz)),ce[We.start].name=We.name,We.content=ce[We.start].data.slice(0,We.size)):(We.storage="minifat",We.size<0?We.size=0:Te!==se&&We.start!==se&&ce[Te]&&(We.content=v(We,ce[Te].data,(ce[_e]||{}).data))),We.content&&rn(We.content,0),X[Z]=We,de.push(We)}}function S(ae,ce){return new Date((ho(ae,ce+4)/1e7*Math.pow(2,32)+ho(ae,ce)/1e7-11644473600)*1e3)}function P(ae,ce){return h(),m(x.readFileSync(ae),ce)}function k(ae,ce){var te=ce&&ce.type;switch(te||$s&&Buffer.isBuffer(ae)&&(te="buffer"),te||"base64"){case"file":return P(ae,ce);case"base64":return m(mo(yo(ae)),ce);case"binary":return m(mo(ae),ce)}return m(ae,ce)}function E(ae,ce){var te=ce||{},z=te.root||"Root Entry";if(ae.FullPaths||(ae.FullPaths=[]),ae.FileIndex||(ae.FileIndex=[]),ae.FullPaths.length!==ae.FileIndex.length)throw new Error("inconsistent CFB structure");ae.FullPaths.length===0&&(ae.FullPaths[0]=z+"/",ae.FileIndex[0]={name:z,type:5}),te.CLSID&&(ae.FileIndex[0].clsid=te.CLSID),M(ae)}function M(ae){var ce="Sh33tJ5";if(!Ss.find(ae,"/"+ce)){var te=Wt(4);te[0]=55,te[1]=te[3]=50,te[2]=54,ae.FileIndex.push({name:ce,type:2,content:te,size:4,L:69,R:69,C:69}),ae.FullPaths.push(ae.FullPaths[0]+ce),L(ae)}}function L(ae,ce){E(ae);for(var te=!1,z=!1,V=ae.FullPaths.length-1;V>=0;--V){var X=ae.FileIndex[V];switch(X.type){case 0:z?te=!0:(ae.FileIndex.pop(),ae.FullPaths.pop());break;case 1:case 2:case 5:z=!0,isNaN(X.R*X.L*X.C)&&(te=!0),X.R>-1&&X.L>-1&&X.R==X.L&&(te=!0);break;default:te=!0;break}}if(!(!te&&!ce)){var de=new Date(1987,1,19),_e=0,Te=Object.create?Object.create(null):{},je=[];for(V=0;V<ae.FullPaths.length;++V)Te[ae.FullPaths[V]]=!0,ae.FileIndex[V].type!==0&&je.push([ae.FullPaths[V],ae.FileIndex[V]]);for(V=0;V<je.length;++V){var J=r(je[V][0]);z=Te[J],z||(je.push([J,{name:n(J).replace("/",""),type:1,clsid:U,ct:de,mt:de,content:null}]),Te[J]=!0)}for(je.sort(function(Z,Q){return a(Z[0],Q[0])}),ae.FullPaths=[],ae.FileIndex=[],V=0;V<je.length;++V)ae.FullPaths[V]=je[V][0],ae.FileIndex[V]=je[V][1];for(V=0;V<je.length;++V){var we=ae.FileIndex[V],I=ae.FullPaths[V];if(we.name=n(I).replace("/",""),we.L=we.R=we.C=-(we.color=1),we.size=we.content?we.content.length:0,we.start=0,we.clsid=we.clsid||U,V===0)we.C=je.length>1?1:-1,we.size=0,we.type=5;else if(I.slice(-1)=="/"){for(_e=V+1;_e<je.length&&r(ae.FullPaths[_e])!=I;++_e);for(we.C=_e>=je.length?-1:_e,_e=V+1;_e<je.length&&r(ae.FullPaths[_e])!=r(I);++_e);we.R=_e>=je.length?-1:_e,we.type=1}else r(ae.FullPaths[V+1]||"")==r(I)&&(we.R=V+1),we.type=2}}}function O(ae,ce){var te=ce||{};if(te.fileType=="mad")return me(ae,te);switch(L(ae),te.fileType){case"zip":return gt(ae,te)}var z=(function(Z){for(var Q=0,We=0,ft=0;ft<Z.FileIndex.length;++ft){var $t=Z.FileIndex[ft];if($t.content){var yt=$t.content.length;yt>0&&(yt<4096?Q+=yt+63>>6:We+=yt+511>>9)}}for(var $e=Z.FullPaths.length+3>>2,bt=Q+7>>3,ts=Q+127>>7,Ts=bt+We+$e+ts,at=Ts+127>>7,Jt=at<=109?0:Math.ceil((at-109)/127);Ts+at+Jt+127>>7>at;)Jt=++at<=109?0:Math.ceil((at-109)/127);var jt=[1,Jt,at,ts,$e,We,Q,0];return Z.FileIndex[0].size=Q<<6,jt[7]=(Z.FileIndex[0].start=jt[0]+jt[1]+jt[2]+jt[3]+jt[4]+jt[5])+(jt[6]+7>>3),jt})(ae),V=Wt(z[7]<<9),X=0,de=0;{for(X=0;X<8;++X)V.write_shift(1,pe[X]);for(X=0;X<8;++X)V.write_shift(2,0);for(V.write_shift(2,62),V.write_shift(2,3),V.write_shift(2,65534),V.write_shift(2,9),V.write_shift(2,6),X=0;X<3;++X)V.write_shift(2,0);for(V.write_shift(4,0),V.write_shift(4,z[2]),V.write_shift(4,z[0]+z[1]+z[2]+z[3]-1),V.write_shift(4,0),V.write_shift(4,4096),V.write_shift(4,z[3]?z[0]+z[1]+z[2]-1:se),V.write_shift(4,z[3]),V.write_shift(-4,z[1]?z[0]-1:se),V.write_shift(4,z[1]),X=0;X<109;++X)V.write_shift(-4,X<z[2]?z[1]+X:-1)}if(z[1])for(de=0;de<z[1];++de){for(;X<236+de*127;++X)V.write_shift(-4,X<z[2]?z[1]+X:-1);V.write_shift(-4,de===z[1]-1?se:de+1)}var _e=function(Z){for(de+=Z;X<de-1;++X)V.write_shift(-4,X+1);Z&&(++X,V.write_shift(-4,se))};for(de=X=0,de+=z[1];X<de;++X)V.write_shift(-4,Y.DIFSECT);for(de+=z[2];X<de;++X)V.write_shift(-4,Y.FATSECT);_e(z[3]),_e(z[4]);for(var Te=0,je=0,J=ae.FileIndex[0];Te<ae.FileIndex.length;++Te)J=ae.FileIndex[Te],J.content&&(je=J.content.length,!(je<4096)&&(J.start=de,_e(je+511>>9)));for(_e(z[6]+7>>3);V.l&511;)V.write_shift(-4,Y.ENDOFCHAIN);for(de=X=0,Te=0;Te<ae.FileIndex.length;++Te)J=ae.FileIndex[Te],J.content&&(je=J.content.length,!(!je||je>=4096)&&(J.start=de,_e(je+63>>6)));for(;V.l&511;)V.write_shift(-4,Y.ENDOFCHAIN);for(X=0;X<z[4]<<2;++X){var we=ae.FullPaths[X];if(!we||we.length===0){for(Te=0;Te<17;++Te)V.write_shift(4,0);for(Te=0;Te<3;++Te)V.write_shift(4,-1);for(Te=0;Te<12;++Te)V.write_shift(4,0);continue}J=ae.FileIndex[X],X===0&&(J.start=J.size?J.start-1:se);var I=X===0&&te.root||J.name;if(je=2*(I.length+1),V.write_shift(64,I,"utf16le"),V.write_shift(2,je),V.write_shift(1,J.type),V.write_shift(1,J.color),V.write_shift(-4,J.L),V.write_shift(-4,J.R),V.write_shift(-4,J.C),J.clsid)V.write_shift(16,J.clsid,"hex");else for(Te=0;Te<4;++Te)V.write_shift(4,0);V.write_shift(4,J.state||0),V.write_shift(4,0),V.write_shift(4,0),V.write_shift(4,0),V.write_shift(4,0),V.write_shift(4,J.start),V.write_shift(4,J.size),V.write_shift(4,0)}for(X=1;X<ae.FileIndex.length;++X)if(J=ae.FileIndex[X],J.size>=4096)if(V.l=J.start+1<<9,$s&&Buffer.isBuffer(J.content))J.content.copy(V,V.l,0,J.size),V.l+=J.size+511&-512;else{for(Te=0;Te<J.size;++Te)V.write_shift(1,J.content[Te]);for(;Te&511;++Te)V.write_shift(1,0)}for(X=1;X<ae.FileIndex.length;++X)if(J=ae.FileIndex[X],J.size>0&&J.size<4096)if($s&&Buffer.isBuffer(J.content))J.content.copy(V,V.l,0,J.size),V.l+=J.size+63&-64;else{for(Te=0;Te<J.size;++Te)V.write_shift(1,J.content[Te]);for(;Te&63;++Te)V.write_shift(1,0)}if($s)V.l=V.length;else for(;V.l<V.length;)V.write_shift(1,0);return V}function q(ae,ce){var te=ae.FullPaths.map(function(Te){return Te.toUpperCase()}),z=te.map(function(Te){var je=Te.split("/");return je[je.length-(Te.slice(-1)=="/"?2:1)]}),V=!1;ce.charCodeAt(0)===47?(V=!0,ce=te[0].slice(0,-1)+ce):V=ce.indexOf("/")!==-1;var X=ce.toUpperCase(),de=V===!0?te.indexOf(X):z.indexOf(X);if(de!==-1)return ae.FileIndex[de];var _e=!X.match(Ou);for(X=X.replace(On,""),_e&&(X=X.replace(Ou,"!")),de=0;de<te.length;++de)if((_e?te[de].replace(Ou,"!"):te[de]).replace(On,"")==X||(_e?z[de].replace(Ou,"!"):z[de]).replace(On,"")==X)return ae.FileIndex[de];return null}var B=64,se=-2,le="d0cf11e0a1b11ae1",pe=[208,207,17,224,161,177,26,225],U="00000000000000000000000000000000",Y={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:se,FREESECT:-1,HEADER_SIGNATURE:le,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:U,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function W(ae,ce,te){h();var z=O(ae,te);x.writeFileSync(ce,z)}function re(ae){for(var ce=new Array(ae.length),te=0;te<ae.length;++te)ce[te]=String.fromCharCode(ae[te]);return ce.join("")}function G(ae,ce){var te=O(ae,ce);switch(ce&&ce.type||"buffer"){case"file":return h(),x.writeFileSync(ce.filename,te),te;case"binary":return typeof te=="string"?te:re(te);case"base64":return Xu(typeof te=="string"?te:re(te));case"buffer":if($s)return Buffer.isBuffer(te)?te:Si(te);case"array":return typeof te=="string"?mo(te):te}return te}var R;function F(ae){try{var ce=ae.InflateRaw,te=new ce;if(te._processChunk(new Uint8Array([3,0]),te._finishFlushFlag),te.bytesRead)R=ae;else throw new Error("zlib does not expose bytesRead")}catch(z){console.error("cannot use native zlib: "+(z.message||z))}}function A(ae,ce){if(!R)return Lt(ae,ce);var te=R.InflateRaw,z=new te,V=z._processChunk(ae.slice(ae.l),z._finishFlushFlag);return ae.l+=z.bytesRead,V}function H(ae){return R?R.deflateRawSync(ae):ut(ae)}var D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],_=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],xe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ge(ae){var ce=(ae<<1|ae<<11)&139536|(ae<<5|ae<<15)&558144;return(ce>>16|ce>>8|ce)&255}for(var Ne=typeof Uint8Array<"u",Ce=Ne?new Uint8Array(256):[],fe=0;fe<256;++fe)Ce[fe]=ge(fe);function ue(ae,ce){var te=Ce[ae&255];return ce<=8?te>>>8-ce:(te=te<<8|Ce[ae>>8&255],ce<=16?te>>>16-ce:(te=te<<8|Ce[ae>>16&255],te>>>24-ce))}function Oe(ae,ce){var te=ce&7,z=ce>>>3;return(ae[z]|(te<=6?0:ae[z+1]<<8))>>>te&3}function De(ae,ce){var te=ce&7,z=ce>>>3;return(ae[z]|(te<=5?0:ae[z+1]<<8))>>>te&7}function Ae(ae,ce){var te=ce&7,z=ce>>>3;return(ae[z]|(te<=4?0:ae[z+1]<<8))>>>te&15}function Ee(ae,ce){var te=ce&7,z=ce>>>3;return(ae[z]|(te<=3?0:ae[z+1]<<8))>>>te&31}function ze(ae,ce){var te=ce&7,z=ce>>>3;return(ae[z]|(te<=1?0:ae[z+1]<<8))>>>te&127}function ot(ae,ce,te){var z=ce&7,V=ce>>>3,X=(1<<te)-1,de=ae[V]>>>z;return te<8-z||(de|=ae[V+1]<<8-z,te<16-z)||(de|=ae[V+2]<<16-z,te<24-z)||(de|=ae[V+3]<<24-z),de&X}function wt(ae,ce,te){var z=ce&7,V=ce>>>3;return z<=5?ae[V]|=(te&7)<<z:(ae[V]|=te<<z&255,ae[V+1]=(te&7)>>8-z),ce+3}function Ie(ae,ce,te){var z=ce&7,V=ce>>>3;return te=(te&1)<<z,ae[V]|=te,ce+1}function ye(ae,ce,te){var z=ce&7,V=ce>>>3;return te<<=z,ae[V]|=te&255,te>>>=8,ae[V+1]=te,ce+8}function be(ae,ce,te){var z=ce&7,V=ce>>>3;return te<<=z,ae[V]|=te&255,te>>>=8,ae[V+1]=te&255,ae[V+2]=te>>>8,ce+16}function Me(ae,ce){var te=ae.length,z=2*te>ce?2*te:ce+5,V=0;if(te>=ce)return ae;if($s){var X=o1(z);if(ae.copy)ae.copy(X);else for(;V<ae.length;++V)X[V]=ae[V];return X}else if(Ne){var de=new Uint8Array(z);if(de.set)de.set(ae);else for(;V<te;++V)de[V]=ae[V];return de}return ae.length=z,ae}function Re(ae){for(var ce=new Array(ae),te=0;te<ae;++te)ce[te]=0;return ce}function st(ae,ce,te){var z=1,V=0,X=0,de=0,_e=0,Te=ae.length,je=Ne?new Uint16Array(32):Re(32);for(X=0;X<32;++X)je[X]=0;for(X=Te;X<te;++X)ae[X]=0;Te=ae.length;var J=Ne?new Uint16Array(Te):Re(Te);for(X=0;X<Te;++X)je[V=ae[X]]++,z<V&&(z=V),J[X]=0;for(je[0]=0,X=1;X<=z;++X)je[X+16]=_e=_e+je[X-1]<<1;for(X=0;X<Te;++X)_e=ae[X],_e!=0&&(J[X]=je[_e+16]++);var we=0;for(X=0;X<Te;++X)if(we=ae[X],we!=0)for(_e=ue(J[X],z)>>z-we,de=(1<<z+4-we)-1;de>=0;--de)ce[_e|de<<we]=we&15|X<<4;return z}var He=Ne?new Uint16Array(512):Re(512),Ue=Ne?new Uint16Array(32):Re(32);if(!Ne){for(var Ye=0;Ye<512;++Ye)He[Ye]=0;for(Ye=0;Ye<32;++Ye)Ue[Ye]=0}(function(){for(var ae=[],ce=0;ce<32;ce++)ae.push(5);st(ae,Ue,32);var te=[];for(ce=0;ce<=143;ce++)te.push(8);for(;ce<=255;ce++)te.push(9);for(;ce<=279;ce++)te.push(7);for(;ce<=287;ce++)te.push(8);st(te,He,288)})();var ht=(function(){for(var ce=Ne?new Uint8Array(32768):[],te=0,z=0;te<xe.length-1;++te)for(;z<xe[te+1];++z)ce[z]=te;for(;z<32768;++z)ce[z]=29;var V=Ne?new Uint8Array(259):[];for(te=0,z=0;te<_.length-1;++te)for(;z<_[te+1];++z)V[z]=te;function X(_e,Te){for(var je=0;je<_e.length;){var J=Math.min(65535,_e.length-je),we=je+J==_e.length;for(Te.write_shift(1,+we),Te.write_shift(2,J),Te.write_shift(2,~J&65535);J-- >0;)Te[Te.l++]=_e[je++]}return Te.l}function de(_e,Te){for(var je=0,J=0,we=Ne?new Uint16Array(32768):[];J<_e.length;){var I=Math.min(65535,_e.length-J);if(I<10){for(je=wt(Te,je,+(J+I==_e.length)),je&7&&(je+=8-(je&7)),Te.l=je/8|0,Te.write_shift(2,I),Te.write_shift(2,~I&65535);I-- >0;)Te[Te.l++]=_e[J++];je=Te.l*8;continue}je=wt(Te,je,+(J+I==_e.length)+2);for(var Z=0;I-- >0;){var Q=_e[J];Z=(Z<<5^Q)&32767;var We=-1,ft=0;if((We=we[Z])&&(We|=J&-32768,We>J&&(We-=32768),We<J))for(;_e[We+ft]==_e[J+ft]&&ft<250;)++ft;if(ft>2){Q=V[ft],Q<=22?je=ye(Te,je,Ce[Q+1]>>1)-1:(ye(Te,je,3),je+=5,ye(Te,je,Ce[Q-23]>>5),je+=3);var $t=Q<8?0:Q-4>>2;$t>0&&(be(Te,je,ft-_[Q]),je+=$t),Q=ce[J-We],je=ye(Te,je,Ce[Q]>>3),je-=3;var yt=Q<4?0:Q-2>>1;yt>0&&(be(Te,je,J-We-xe[Q]),je+=yt);for(var $e=0;$e<ft;++$e)we[Z]=J&32767,Z=(Z<<5^_e[J])&32767,++J;I-=ft-1}else Q<=143?Q=Q+48:je=Ie(Te,je,1),je=ye(Te,je,Ce[Q]),we[Z]=J&32767,++J}je=ye(Te,je,0)-1}return Te.l=(je+7)/8|0,Te.l}return function(Te,je){return Te.length<8?X(Te,je):de(Te,je)}})();function ut(ae){var ce=Wt(50+Math.floor(ae.length*1.1)),te=ht(ae,ce);return ce.slice(0,te)}var vt=Ne?new Uint16Array(32768):Re(32768),ve=Ne?new Uint16Array(32768):Re(32768),Le=Ne?new Uint16Array(128):Re(128),he=1,Ve=1;function xt(ae,ce){var te=Ee(ae,ce)+257;ce+=5;var z=Ee(ae,ce)+1;ce+=5;var V=Ae(ae,ce)+4;ce+=4;for(var X=0,de=Ne?new Uint8Array(19):Re(19),_e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Te=1,je=Ne?new Uint8Array(8):Re(8),J=Ne?new Uint8Array(8):Re(8),we=de.length,I=0;I<V;++I)de[D[I]]=X=De(ae,ce),Te<X&&(Te=X),je[X]++,ce+=3;var Z=0;for(je[0]=0,I=1;I<=Te;++I)J[I]=Z=Z+je[I-1]<<1;for(I=0;I<we;++I)(Z=de[I])!=0&&(_e[I]=J[Z]++);var Q=0;for(I=0;I<we;++I)if(Q=de[I],Q!=0){Z=Ce[_e[I]]>>8-Q;for(var We=(1<<7-Q)-1;We>=0;--We)Le[Z|We<<Q]=Q&7|I<<3}var ft=[];for(Te=1;ft.length<te+z;)switch(Z=Le[ze(ae,ce)],ce+=Z&7,Z>>>=3){case 16:for(X=3+Oe(ae,ce),ce+=2,Z=ft[ft.length-1];X-- >0;)ft.push(Z);break;case 17:for(X=3+De(ae,ce),ce+=3;X-- >0;)ft.push(0);break;case 18:for(X=11+ze(ae,ce),ce+=7;X-- >0;)ft.push(0);break;default:ft.push(Z),Te<Z&&(Te=Z);break}var $t=ft.slice(0,te),yt=ft.slice(te);for(I=te;I<286;++I)$t[I]=0;for(I=z;I<30;++I)yt[I]=0;return he=st($t,vt,286),Ve=st(yt,ve,30),ce}function Pt(ae,ce){if(ae[0]==3&&!(ae[1]&3))return[xc(ce),2];for(var te=0,z=0,V=o1(ce||1<<18),X=0,de=V.length>>>0,_e=0,Te=0;(z&1)==0;){if(z=De(ae,te),te+=3,z>>>1)z>>1==1?(_e=9,Te=5):(te=xt(ae,te),_e=he,Te=Ve);else{te&7&&(te+=8-(te&7));var je=ae[te>>>3]|ae[(te>>>3)+1]<<8;if(te+=32,je>0)for(!ce&&de<X+je&&(V=Me(V,X+je),de=V.length);je-- >0;)V[X++]=ae[te>>>3],te+=8;continue}for(;;){!ce&&de<X+32767&&(V=Me(V,X+32767),de=V.length);var J=ot(ae,te,_e),we=z>>>1==1?He[J]:vt[J];if(te+=we&15,we>>>=4,(we>>>8&255)===0)V[X++]=we;else{if(we==256)break;we-=257;var I=we<8?0:we-4>>2;I>5&&(I=0);var Z=X+_[we];I>0&&(Z+=ot(ae,te,I),te+=I),J=ot(ae,te,Te),we=z>>>1==1?Ue[J]:ve[J],te+=we&15,we>>>=4;var Q=we<4?0:we-2>>1,We=xe[we];for(Q>0&&(We+=ot(ae,te,Q),te+=Q),!ce&&de<Z&&(V=Me(V,Z+100),de=V.length);X<Z;)V[X]=V[X-We],++X}}}return ce?[V,te+7>>>3]:[V.slice(0,X),te+7>>>3]}function Lt(ae,ce){var te=ae.slice(ae.l||0),z=Pt(te,ce);return ae.l+=z[1],z[0]}function It(ae,ce){if(ae)typeof console<"u"&&console.error(ce);else throw new Error(ce)}function qe(ae,ce){var te=ae;rn(te,0);var z=[],V=[],X={FileIndex:z,FullPaths:V};E(X,{root:ce.root});for(var de=te.length-4;(te[de]!=80||te[de+1]!=75||te[de+2]!=5||te[de+3]!=6)&&de>=0;)--de;te.l=de+4,te.l+=4;var _e=te.read_shift(2);te.l+=6;var Te=te.read_shift(4);for(te.l=Te,de=0;de<_e;++de){te.l+=20;var je=te.read_shift(4),J=te.read_shift(4),we=te.read_shift(2),I=te.read_shift(2),Z=te.read_shift(2);te.l+=8;var Q=te.read_shift(4),We=d(te.slice(te.l+we,te.l+we+I));te.l+=we+I+Z;var ft=te.l;te.l=Q+4,Nt(te,je,J,X,We),te.l=ft}return X}function Nt(ae,ce,te,z,V){ae.l+=2;var X=ae.read_shift(2),de=ae.read_shift(2),_e=i(ae);if(X&8257)throw new Error("Unsupported ZIP encryption");for(var Te=ae.read_shift(4),je=ae.read_shift(4),J=ae.read_shift(4),we=ae.read_shift(2),I=ae.read_shift(2),Z="",Q=0;Q<we;++Q)Z+=String.fromCharCode(ae[ae.l++]);if(I){var We=d(ae.slice(ae.l,ae.l+I));(We[21589]||{}).mt&&(_e=We[21589].mt),((V||{})[21589]||{}).mt&&(_e=V[21589].mt)}ae.l+=I;var ft=ae.slice(ae.l,ae.l+je);switch(de){case 8:ft=A(ae,J);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+de)}var $t=!1;X&8&&(Te=ae.read_shift(4),Te==134695760&&(Te=ae.read_shift(4),$t=!0),je=ae.read_shift(4),J=ae.read_shift(4)),je!=ce&&It($t,"Bad compressed size: "+ce+" != "+je),J!=te&&It($t,"Bad uncompressed size: "+te+" != "+J),it(z,Z,ft,{unsafe:!0,mt:_e})}function gt(ae,ce){var te=ce||{},z=[],V=[],X=Wt(1),de=te.compression?8:0,_e=0,Te=0,je=0,J=0,we=0,I=ae.FullPaths[0],Z=I,Q=ae.FileIndex[0],We=[],ft=0;for(Te=1;Te<ae.FullPaths.length;++Te)if(Z=ae.FullPaths[Te].slice(I.length),Q=ae.FileIndex[Te],!(!Q.size||!Q.content||Z=="Sh33tJ5")){var $t=J,yt=Wt(Z.length);for(je=0;je<Z.length;++je)yt.write_shift(1,Z.charCodeAt(je)&127);yt=yt.slice(0,yt.l),We[we]=gO.buf(Q.content,0);var $e=Q.content;de==8&&($e=H($e)),X=Wt(30),X.write_shift(4,67324752),X.write_shift(2,20),X.write_shift(2,_e),X.write_shift(2,de),Q.mt?l(X,Q.mt):X.write_shift(4,0),X.write_shift(-4,We[we]),X.write_shift(4,$e.length),X.write_shift(4,Q.content.length),X.write_shift(2,yt.length),X.write_shift(2,0),J+=X.length,z.push(X),J+=yt.length,z.push(yt),J+=$e.length,z.push($e),X=Wt(46),X.write_shift(4,33639248),X.write_shift(2,0),X.write_shift(2,20),X.write_shift(2,_e),X.write_shift(2,de),X.write_shift(4,0),X.write_shift(-4,We[we]),X.write_shift(4,$e.length),X.write_shift(4,Q.content.length),X.write_shift(2,yt.length),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(4,0),X.write_shift(4,$t),ft+=X.l,V.push(X),ft+=yt.length,V.push(yt),++we}return X=Wt(22),X.write_shift(4,101010256),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(2,we),X.write_shift(2,we),X.write_shift(4,ft),X.write_shift(4,J),X.write_shift(2,0),Vr([Vr(z),Vr(V),X])}var dt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function kt(ae,ce){if(ae.ctype)return ae.ctype;var te=ae.name||"",z=te.match(/\.([^\.]+)$/);return z&&dt[z[1]]||ce&&(z=(te=ce).match(/[\.\\]([^\.\\])+$/),z&&dt[z[1]])?dt[z[1]]:"application/octet-stream"}function Dt(ae){for(var ce=Xu(ae),te=[],z=0;z<ce.length;z+=76)te.push(ce.slice(z,z+76));return te.join(`\r
`)+`\r
`}function Ge(ae){var ce=ae.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(je){var J=je.charCodeAt(0).toString(16).toUpperCase();return"="+(J.length==1?"0"+J:J)});ce=ce.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ce.charAt(0)==`
`&&(ce="=0D"+ce.slice(1)),ce=ce.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var te=[],z=ce.split(`\r
`),V=0;V<z.length;++V){var X=z[V];if(X.length==0){te.push("");continue}for(var de=0;de<X.length;){var _e=76,Te=X.slice(de,de+_e);Te.charAt(_e-1)=="="?_e--:Te.charAt(_e-2)=="="?_e-=2:Te.charAt(_e-3)=="="&&(_e-=3),Te=X.slice(de,de+_e),de+=_e,de<X.length&&(Te+="="),te.push(Te)}}return te.join(`\r
`)}function Ke(ae){for(var ce=[],te=0;te<ae.length;++te){for(var z=ae[te];te<=ae.length&&z.charAt(z.length-1)=="=";)z=z.slice(0,z.length-1)+ae[++te];ce.push(z)}for(var V=0;V<ce.length;++V)ce[V]=ce[V].replace(/[=][0-9A-Fa-f]{2}/g,function(X){return String.fromCharCode(parseInt(X.slice(1),16))});return mo(ce.join(`\r
`))}function ie(ae,ce,te){for(var z="",V="",X="",de,_e=0;_e<10;++_e){var Te=ce[_e];if(!Te||Te.match(/^\s*$/))break;var je=Te.match(/^(.*?):\s*([^\s].*)$/);if(je)switch(je[1].toLowerCase()){case"content-location":z=je[2].trim();break;case"content-type":X=je[2].trim();break;case"content-transfer-encoding":V=je[2].trim();break}}switch(++_e,V.toLowerCase()){case"base64":de=mo(yo(ce.slice(_e).join("")));break;case"quoted-printable":de=Ke(ce.slice(_e));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+V)}var J=it(ae,z.slice(te.length),de,{unsafe:!0});X&&(J.ctype=X)}function ke(ae,ce){if(re(ae.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var te=ce&&ce.root||"",z=($s&&Buffer.isBuffer(ae)?ae.toString("binary"):re(ae)).split(`\r
`),V=0,X="";for(V=0;V<z.length;++V)if(X=z[V],!!/^Content-Location:/i.test(X)&&(X=X.slice(X.indexOf("file")),te||(te=X.slice(0,X.lastIndexOf("/")+1)),X.slice(0,te.length)!=te))for(;te.length>0&&(te=te.slice(0,te.length-1),te=te.slice(0,te.lastIndexOf("/")+1),X.slice(0,te.length)!=te););var de=(z[1]||"").match(/boundary="(.*?)"/);if(!de)throw new Error("MAD cannot find boundary");var _e="--"+(de[1]||""),Te=[],je=[],J={FileIndex:Te,FullPaths:je};E(J);var we,I=0;for(V=0;V<z.length;++V){var Z=z[V];Z!==_e&&Z!==_e+"--"||(I++&&ie(J,z.slice(we,V),te),we=V)}return J}function me(ae,ce){var te=ce||{},z=te.boundary||"SheetJS";z="------="+z;for(var V=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+z.slice(2)+'"',"","",""],X=ae.FullPaths[0],de=X,_e=ae.FileIndex[0],Te=1;Te<ae.FullPaths.length;++Te)if(de=ae.FullPaths[Te].slice(X.length),_e=ae.FileIndex[Te],!(!_e.size||!_e.content||de=="Sh33tJ5")){de=de.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ft){return"_x"+ft.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ft){return"_u"+ft.charCodeAt(0).toString(16)+"_"});for(var je=_e.content,J=$s&&Buffer.isBuffer(je)?je.toString("binary"):re(je),we=0,I=Math.min(1024,J.length),Z=0,Q=0;Q<=I;++Q)(Z=J.charCodeAt(Q))>=32&&Z<128&&++we;var We=we>=I*4/5;V.push(z),V.push("Content-Location: "+(te.root||"file:///C:/SheetJS/")+de),V.push("Content-Transfer-Encoding: "+(We?"quoted-printable":"base64")),V.push("Content-Type: "+kt(_e,de)),V.push(""),V.push(We?Ge(J):Dt(J))}return V.push(z+`--\r
`),V.join(`\r
`)}function Ze(ae){var ce={};return E(ce,ae),ce}function it(ae,ce,te,z){var V=z&&z.unsafe;V||E(ae);var X=!V&&Ss.find(ae,ce);if(!X){var de=ae.FullPaths[0];ce.slice(0,de.length)==de?de=ce:(de.slice(-1)!="/"&&(de+="/"),de=(de+ce).replace("//","/")),X={name:n(ce),type:2},ae.FileIndex.push(X),ae.FullPaths.push(de),V||Ss.utils.cfb_gc(ae)}return X.content=te,X.size=te?te.length:0,z&&(z.CLSID&&(X.clsid=z.CLSID),z.mt&&(X.mt=z.mt),z.ct&&(X.ct=z.ct)),X}function _t(ae,ce){E(ae);var te=Ss.find(ae,ce);if(te){for(var z=0;z<ae.FileIndex.length;++z)if(ae.FileIndex[z]==te)return ae.FileIndex.splice(z,1),ae.FullPaths.splice(z,1),!0}return!1}function nt(ae,ce,te){E(ae);var z=Ss.find(ae,ce);if(z){for(var V=0;V<ae.FileIndex.length;++V)if(ae.FileIndex[V]==z)return ae.FileIndex[V].name=n(te),ae.FullPaths[V]=te,!0}return!1}function mt(ae){L(ae,!0)}return s.find=q,s.read=k,s.parse=m,s.write=G,s.writeFile=W,s.utils={cfb_new:Ze,cfb_add:it,cfb_del:_t,cfb_mov:nt,cfb_gc:mt,ReadShift:Bu,CheckField:XS,prep_blob:rn,bconcat:Vr,use_zlib:F,_deflateRaw:ut,_inflateRaw:Lt,consts:Y},s})();function yO(t){return typeof t=="string"?af(t):Array.isArray(t)?$L(t):t}function Ex(t,s,a){if(typeof Deno<"u"){if(a&&typeof s=="string")switch(a){case"utf8":s=new TextEncoder(a).encode(s);break;case"binary":s=af(s);break;default:throw new Error("Unsupported encoding "+a)}return Deno.writeFileSync(t,s)}var r=a=="utf8"?Rl(s):s;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,t);if(typeof Blob<"u"){var n=new Blob([yO(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(n,t);if(typeof saveAs<"u")return saveAs(n,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var l=URL.createObjectURL(n);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(l)},6e4),chrome.downloads.download({url:l,filename:t,saveAs:!0});var i=document.createElement("a");if(i.download!=null)return i.download=t,i.href=l,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(l)},6e4),l}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var d=File(t);return d.open("w"),d.encoding="binary",Array.isArray(s)&&(s=bc(s)),d.write(s),d.close(),s}catch(x){if(!x.message||!x.message.match(/onstruct/))throw x}throw new Error("cannot save file "+t)}function bO(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var s=File(t);s.open("r"),s.encoding="binary";var a=s.read();return s.close(),a}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+t)}function xr(t){for(var s=Object.keys(t),a=[],r=0;r<s.length;++r)Object.prototype.hasOwnProperty.call(t,s[r])&&a.push(s[r]);return a}function m1(t,s){for(var a=[],r=xr(t),n=0;n!==r.length;++n)a[t[r[n]][s]]==null&&(a[t[r[n]][s]]=r[n]);return a}function nf(t){for(var s=[],a=xr(t),r=0;r!==a.length;++r)s[t[a[r]]]=a[r];return s}function of(t){for(var s=[],a=xr(t),r=0;r!==a.length;++r)s[t[a[r]]]=parseInt(a[r],10);return s}function vO(t){for(var s=[],a=xr(t),r=0;r!==a.length;++r)s[t[a[r]]]==null&&(s[t[a[r]]]=[]),s[t[a[r]]].push(a[r]);return s}var Dp=new Date(1899,11,30,0,0,0);function Ir(t,s){var a=t.getTime(),r=Dp.getTime()+(t.getTimezoneOffset()-Dp.getTimezoneOffset())*6e4;return(a-r)/(1440*60*1e3)}var TS=new Date,wO=Dp.getTime()+(TS.getTimezoneOffset()-Dp.getTimezoneOffset())*6e4,p1=TS.getTimezoneOffset();function lf(t){var s=new Date;return s.setTime(t*24*60*60*1e3+wO),s.getTimezoneOffset()!==p1&&s.setTime(s.getTime()+(s.getTimezoneOffset()-p1)*6e4),s}function NO(t){var s=0,a=0,r=!1,n=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!n)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var l=1;l!=n.length;++l)if(n[l]){switch(a=1,l>3&&(r=!0),n[l].slice(n[l].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+n[l].slice(n[l].length-1));case"D":a*=24;case"H":a*=60;case"M":if(r)a*=60;else throw new Error("Unsupported ISO Duration Field: M")}s+=a*parseInt(n[l],10)}return s}var f1=new Date("2017-02-19T19:06:09.000Z"),AS=isNaN(f1.getFullYear())?new Date("2/19/17"):f1,jO=AS.getFullYear()==2017;function Ya(t,s){var a=new Date(t);if(jO)return s>0?a.setTime(a.getTime()+a.getTimezoneOffset()*60*1e3):s<0&&a.setTime(a.getTime()-a.getTimezoneOffset()*60*1e3),a;if(t instanceof Date)return t;if(AS.getFullYear()==1917&&!isNaN(a.getFullYear())){var r=a.getFullYear();return t.indexOf(""+r)>-1||a.setFullYear(a.getFullYear()+100),a}var n=t.match(/\d+/g)||["2017","2","19","0","0","0"],l=new Date(+n[0],+n[1]-1,+n[2],+n[3]||0,+n[4]||0,+n[5]||0);return t.indexOf("Z")>-1&&(l=new Date(l.getTime()-l.getTimezoneOffset()*60*1e3)),l}function ud(t,s){if($s&&Buffer.isBuffer(t)){if(s){if(t[0]==255&&t[1]==254)return Rl(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return Rl(gS(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(s){if(t[0]==255&&t[1]==254)return Rl(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return Rl(new TextDecoder("utf-16be").decode(t.slice(2)))}var a={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(l){return a[l]||l})}catch{}for(var r=[],n=0;n!=t.length;++n)r.push(String.fromCharCode(t[n]));return r.join("")}function Ka(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var s={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(s[a]=Ka(t[a]));return s}function cr(t,s){for(var a="";a.length<s;)a+=t;return a}function dl(t){var s=Number(t);if(!isNaN(s))return isFinite(s)?s:NaN;if(!/\d/.test(t))return s;var a=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return a*=100,""});return!isNaN(s=Number(r))||(r=r.replace(/[(](.*)[)]/,function(n,l){return a=-a,l}),!isNaN(s=Number(r)))?s/a:s}var CO=["january","february","march","april","may","june","july","august","september","october","november","december"];function F0(t){var s=new Date(t),a=new Date(NaN),r=s.getYear(),n=s.getMonth(),l=s.getDate();if(isNaN(l))return a;var i=t.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),i.length>3&&CO.indexOf(i)==-1)return a}else if(i.match(/[a-z]/))return a;return r<0||r>8099?a:(n>0||l>1)&&r!=101?s:t.match(/[^-0-9:,\/\\]/)?a:s}var SO=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(a,r,n){if(t||typeof r=="string")return a.split(r);for(var l=a.split(r),i=[l[0]],d=1;d<l.length;++d)i.push(n),i.push(l[d]);return i}})();function FS(t){return t?t.content&&t.type?ud(t.content,!0):t.data?Lu(t.data):t.asNodeBuffer&&$s?Lu(t.asNodeBuffer().toString("binary")):t.asBinary?Lu(t.asBinary()):t._data&&t._data.getContent?Lu(ud(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function PS(t){if(!t)return null;if(t.data)return r1(t.data);if(t.asNodeBuffer&&$s)return t.asNodeBuffer();if(t._data&&t._data.getContent){var s=t._data.getContent();return typeof s=="string"?r1(s):Array.prototype.slice.call(s)}return t.content&&t.type?t.content:null}function kO(t){return t&&t.name.slice(-4)===".bin"?PS(t):FS(t)}function Mo(t,s){for(var a=t.FullPaths||xr(t.files),r=s.toLowerCase().replace(/[\/]/g,"\\"),n=r.replace(/\\/g,"/"),l=0;l<a.length;++l){var i=a[l].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==i||n==i)return t.files?t.files[a[l]]:t.FileIndex[l]}return null}function $b(t,s){var a=Mo(t,s);if(a==null)throw new Error("Cannot find file "+s+" in zip");return a}function kr(t,s,a){if(!a)return kO($b(t,s));if(!s)return null;try{return kr(t,s)}catch{return null}}function po(t,s,a){if(!a)return FS($b(t,s));if(!s)return null;try{return po(t,s)}catch{return null}}function DO(t,s,a){return PS($b(t,s))}function g1(t){for(var s=t.FullPaths||xr(t.files),a=[],r=0;r<s.length;++r)s[r].slice(-1)!="/"&&a.push(s[r].replace(/^Root Entry[\/]/,""));return a.sort()}function Us(t,s,a){if(t.FullPaths){if(typeof a=="string"){var r;return $s?r=Si(a):r=zL(a),Ss.utils.cfb_add(t,s,r)}Ss.utils.cfb_add(t,s,a)}else t.file(s,a)}function zb(){return Ss.utils.cfb_new()}function MS(t,s){switch(s.type){case"base64":return Ss.read(t,{type:"base64"});case"binary":return Ss.read(t,{type:"binary"});case"buffer":case"array":return Ss.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+s.type)}function _u(t,s){if(t.charAt(0)=="/")return t.slice(1);var a=s.split("/");s.slice(-1)!="/"&&a.pop();for(var r=t.split("/");r.length!==0;){var n=r.shift();n===".."?a.pop():n!=="."&&a.push(n)}return a.join("/")}var Nr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,EO=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,y1=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,TO=/<[^>]*>/g,Dn=Nr.match(y1)?y1:TO,AO=/<\w*:/,FO=/<(\/?)\w+:/;function Ms(t,s,a){for(var r={},n=0,l=0;n!==t.length&&!((l=t.charCodeAt(n))===32||l===10||l===13);++n);if(s||(r[0]=t.slice(0,n)),n===t.length)return r;var i=t.match(EO),d=0,x="",h=0,m="",b="",f=1;if(i)for(h=0;h!=i.length;++h){for(b=i[h],l=0;l!=b.length&&b.charCodeAt(l)!==61;++l);for(m=b.slice(0,l).trim();b.charCodeAt(l+1)==32;)++l;for(f=(n=b.charCodeAt(l+1))==34||n==39?1:0,x=b.slice(l+1+f,b.length-f),d=0;d!=m.length&&m.charCodeAt(d)!==58;++d);if(d===m.length)m.indexOf("_")>0&&(m=m.slice(0,m.indexOf("_"))),r[m]=x,r[m.toLowerCase()]=x;else{var N=(d===5&&m.slice(0,5)==="xmlns"?"xmlns":"")+m.slice(d+1);if(r[N]&&m.slice(d-3,d)=="ext")continue;r[N]=x,r[N.toLowerCase()]=x}}return r}function Yl(t){return t.replace(FO,"<$1")}var IS={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Vb=nf(IS),ra=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,s=/_x([\da-fA-F]{4})_/ig;return function a(r){var n=r+"",l=n.indexOf("<![CDATA[");if(l==-1)return n.replace(t,function(d,x){return IS[d]||String.fromCharCode(parseInt(x,d.indexOf("x")>-1?16:10))||d}).replace(s,function(d,x){return String.fromCharCode(parseInt(x,16))});var i=n.indexOf("]]>");return a(n.slice(0,l))+n.slice(l+9,i)+a(n.slice(i+3))}})(),Yb=/[&<>'"]/g,PO=/[\u0000-\u0008\u000b-\u001f]/g;function Ta(t){var s=t+"";return s.replace(Yb,function(a){return Vb[a]}).replace(PO,function(a){return"_x"+("000"+a.charCodeAt(0).toString(16)).slice(-4)+"_"})}function b1(t){return Ta(t).replace(/ /g,"_x0020_")}var LS=/[\u0000-\u001f]/g;function Kb(t){var s=t+"";return s.replace(Yb,function(a){return Vb[a]}).replace(/\n/g,"<br/>").replace(LS,function(a){return"&#x"+("000"+a.charCodeAt(0).toString(16)).slice(-4)+";"})}function MO(t){var s=t+"";return s.replace(Yb,function(a){return Vb[a]}).replace(LS,function(a){return"&#x"+a.charCodeAt(0).toString(16).toUpperCase()+";"})}var v1=(function(){var t=/&#(\d+);/g;function s(a,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(t,s)}})();function IO(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function Va(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Xg(t){for(var s="",a=0,r=0,n=0,l=0,i=0,d=0;a<t.length;){if(r=t.charCodeAt(a++),r<128){s+=String.fromCharCode(r);continue}if(n=t.charCodeAt(a++),r>191&&r<224){i=(r&31)<<6,i|=n&63,s+=String.fromCharCode(i);continue}if(l=t.charCodeAt(a++),r<240){s+=String.fromCharCode((r&15)<<12|(n&63)<<6|l&63);continue}i=t.charCodeAt(a++),d=((r&7)<<18|(n&63)<<12|(l&63)<<6|i&63)-65536,s+=String.fromCharCode(55296+(d>>>10&1023)),s+=String.fromCharCode(56320+(d&1023))}return s}function w1(t){var s=xc(2*t.length),a,r,n=1,l=0,i=0,d;for(r=0;r<t.length;r+=n)n=1,(d=t.charCodeAt(r))<128?a=d:d<224?(a=(d&31)*64+(t.charCodeAt(r+1)&63),n=2):d<240?(a=(d&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),n=3):(n=4,a=(d&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),a-=65536,i=55296+(a>>>10&1023),a=56320+(a&1023)),i!==0&&(s[l++]=i&255,s[l++]=i>>>8,i=0),s[l++]=a%256,s[l++]=a>>>8;return s.slice(0,l).toString("ucs2")}function N1(t){return Si(t,"binary").toString("utf8")}var Yh="foo bar baz",Pa=$s&&(N1(Yh)==Xg(Yh)&&N1||w1(Yh)==Xg(Yh)&&w1)||Xg,Rl=$s?function(t){return Si(t,"utf8").toString("binary")}:function(t){for(var s=[],a=0,r=0,n=0;a<t.length;)switch(r=t.charCodeAt(a++),!0){case r<128:s.push(String.fromCharCode(r));break;case r<2048:s.push(String.fromCharCode(192+(r>>6))),s.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,n=t.charCodeAt(a++)-56320+(r<<10),s.push(String.fromCharCode(240+(n>>18&7))),s.push(String.fromCharCode(144+(n>>12&63))),s.push(String.fromCharCode(128+(n>>6&63))),s.push(String.fromCharCode(128+(n&63)));break;default:s.push(String.fromCharCode(224+(r>>12))),s.push(String.fromCharCode(128+(r>>6&63))),s.push(String.fromCharCode(128+(r&63)))}return s.join("")},Qu=(function(){var t={};return function(a,r){var n=a+"|"+(r||"");return t[n]?t[n]:t[n]=new RegExp("<(?:\\w+:)?"+a+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+a+">",r||"")}})(),OS=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(s){return[new RegExp("&"+s[0]+";","ig"),s[1]]});return function(a){for(var r=a.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),n=0;n<t.length;++n)r=r.replace(t[n][0],t[n][1]);return r}})(),LO=(function(){var t={};return function(a){return t[a]!==void 0?t[a]:t[a]=new RegExp("<(?:vt:)?"+a+">([\\s\\S]*?)</(?:vt:)?"+a+">","g")}})(),OO=/<\/?(?:vt:)?variant>/g,_O=/<(?:vt:)([^>]*)>([\s\S]*)</;function j1(t,s){var a=Ms(t),r=t.match(LO(a.baseType))||[],n=[];if(r.length!=a.size){if(s.WTF)throw new Error("unexpected vector length "+r.length+" != "+a.size);return n}return r.forEach(function(l){var i=l.replace(OO,"").match(_O);i&&n.push({v:Pa(i[2]),t:i[1]})}),n}var _S=/(^\s|\s$|\n)/;function nn(t,s){return"<"+t+(s.match(_S)?' xml:space="preserve"':"")+">"+s+"</"+t+">"}function Zu(t){return xr(t).map(function(s){return" "+s+'="'+t[s]+'"'}).join("")}function ss(t,s,a){return"<"+t+(a!=null?Zu(a):"")+(s!=null?(s.match(_S)?' xml:space="preserve"':"")+">"+s+"</"+t:"/")+">"}function Iy(t,s){try{return t.toISOString().replace(/\.\d*/,"")}catch(a){if(s)throw a}return""}function BO(t,s){switch(typeof t){case"string":var a=ss("vt:lpwstr",Ta(t));return a=a.replace(/&quot;/g,"_x0022_"),a;case"number":return ss((t|0)==t?"vt:i4":"vt:r8",Ta(String(t)));case"boolean":return ss("vt:bool",t?"true":"false")}if(t instanceof Date)return ss("vt:filetime",Iy(t));throw new Error("Unable to serialize "+t)}function qb(t){if($s&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return Pa(bc(Hb(t)));throw new Error("Bad input format: expected Buffer or string")}var ex=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Pr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},wd=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],xo={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function RO(t,s){for(var a=1-2*(t[s+7]>>>7),r=((t[s+7]&127)<<4)+(t[s+6]>>>4&15),n=t[s+6]&15,l=5;l>=0;--l)n=n*256+t[s+l];return r==2047?n==0?a*(1/0):NaN:(r==0?r=-1022:(r-=1023,n+=Math.pow(2,52)),a*Math.pow(2,r-52)*n)}function UO(t,s,a){var r=(s<0||1/s==-1/0?1:0)<<7,n=0,l=0,i=r?-s:s;isFinite(i)?i==0?n=l=0:(n=Math.floor(Math.log(i)/Math.LN2),l=i*Math.pow(2,52-n),n<=-1023&&(!isFinite(l)||l<Math.pow(2,52))?n=-1022:(l-=Math.pow(2,52),n+=1023)):(n=2047,l=isNaN(s)?26985:0);for(var d=0;d<=5;++d,l/=256)t[a+d]=l&255;t[a+6]=(n&15)<<4|l&15,t[a+7]=n>>4|r}var C1=function(t){for(var s=[],a=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var n=0,l=t[0][r].length;n<l;n+=a)s.push.apply(s,t[0][r].slice(n,n+a));return s},S1=$s?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(s){return Buffer.isBuffer(s)?s:Si(s)})):C1(t)}:C1,k1=function(t,s,a){for(var r=[],n=s;n<a;n+=2)r.push(String.fromCharCode(mi(t,n)));return r.join("").replace(On,"")},Xb=$s?function(t,s,a){return Buffer.isBuffer(t)?t.toString("utf16le",s,a).replace(On,""):k1(t,s,a)}:k1,D1=function(t,s,a){for(var r=[],n=s;n<s+a;++n)r.push(("0"+t[n].toString(16)).slice(-2));return r.join("")},BS=$s?function(t,s,a){return Buffer.isBuffer(t)?t.toString("hex",s,s+a):D1(t,s,a)}:D1,E1=function(t,s,a){for(var r=[],n=s;n<a;n++)r.push(String.fromCharCode(p0(t,n)));return r.join("")},Tx=$s?function(s,a,r){return Buffer.isBuffer(s)?s.toString("utf8",a,r):E1(s,a,r)}:E1,RS=function(t,s){var a=ho(t,s);return a>0?Tx(t,s+4,s+4+a-1):""},US=RS,HS=function(t,s){var a=ho(t,s);return a>0?Tx(t,s+4,s+4+a-1):""},WS=HS,GS=function(t,s){var a=2*ho(t,s);return a>0?Tx(t,s+4,s+4+a-1):""},$S=GS,zS=function(s,a){var r=ho(s,a);return r>0?Xb(s,a+4,a+4+r):""},VS=zS,YS=function(t,s){var a=ho(t,s);return a>0?Tx(t,s+4,s+4+a):""},KS=YS,qS=function(t,s){return RO(t,s)},Ep=qS,Jb=function(s){return Array.isArray(s)||typeof Uint8Array<"u"&&s instanceof Uint8Array};$s&&(US=function(s,a){if(!Buffer.isBuffer(s))return RS(s,a);var r=s.readUInt32LE(a);return r>0?s.toString("utf8",a+4,a+4+r-1):""},WS=function(s,a){if(!Buffer.isBuffer(s))return HS(s,a);var r=s.readUInt32LE(a);return r>0?s.toString("utf8",a+4,a+4+r-1):""},$S=function(s,a){if(!Buffer.isBuffer(s))return GS(s,a);var r=2*s.readUInt32LE(a);return s.toString("utf16le",a+4,a+4+r-1)},VS=function(s,a){if(!Buffer.isBuffer(s))return zS(s,a);var r=s.readUInt32LE(a);return s.toString("utf16le",a+4,a+4+r)},KS=function(s,a){if(!Buffer.isBuffer(s))return YS(s,a);var r=s.readUInt32LE(a);return s.toString("utf8",a+4,a+4+r)},Ep=function(s,a){return Buffer.isBuffer(s)?s.readDoubleLE(a):qS(s,a)},Jb=function(s){return Buffer.isBuffer(s)||Array.isArray(s)||typeof Uint8Array<"u"&&s instanceof Uint8Array});var p0=function(t,s){return t[s]},mi=function(t,s){return t[s+1]*256+t[s]},HO=function(t,s){var a=t[s+1]*256+t[s];return a<32768?a:(65535-a+1)*-1},ho=function(t,s){return t[s+3]*(1<<24)+(t[s+2]<<16)+(t[s+1]<<8)+t[s]},Qc=function(t,s){return t[s+3]<<24|t[s+2]<<16|t[s+1]<<8|t[s]},WO=function(t,s){return t[s]<<24|t[s+1]<<16|t[s+2]<<8|t[s+3]};function Bu(t,s){var a="",r,n,l=[],i,d,x,h;switch(s){case"dbcs":if(h=this.l,$s&&Buffer.isBuffer(this))a=this.slice(this.l,this.l+2*t).toString("utf16le");else for(x=0;x<t;++x)a+=String.fromCharCode(mi(this,h)),h+=2;t*=2;break;case"utf8":a=Tx(this,this.l,this.l+t);break;case"utf16le":t*=2,a=Xb(this,this.l,this.l+t);break;case"wstr":return Bu.call(this,t,"dbcs");case"lpstr-ansi":a=US(this,this.l),t=4+ho(this,this.l);break;case"lpstr-cp":a=WS(this,this.l),t=4+ho(this,this.l);break;case"lpwstr":a=$S(this,this.l),t=4+2*ho(this,this.l);break;case"lpp4":t=4+ho(this,this.l),a=VS(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+ho(this,this.l),a=KS(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,a="";(i=p0(this,this.l+t++))!==0;)l.push(Vh(i));a=l.join("");break;case"_wstr":for(t=0,a="";(i=mi(this,this.l+t))!==0;)l.push(Vh(i)),t+=2;t+=2,a=l.join("");break;case"dbcs-cont":for(a="",h=this.l,x=0;x<t;++x){if(this.lens&&this.lens.indexOf(h)!==-1)return i=p0(this,h),this.l=h+1,d=Bu.call(this,t-x,i?"dbcs-cont":"sbcs-cont"),l.join("")+d;l.push(Vh(mi(this,h))),h+=2}a=l.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(a="",h=this.l,x=0;x!=t;++x){if(this.lens&&this.lens.indexOf(h)!==-1)return i=p0(this,h),this.l=h+1,d=Bu.call(this,t-x,i?"dbcs-cont":"sbcs-cont"),l.join("")+d;l.push(Vh(p0(this,h))),h+=1}a=l.join("");break;default:switch(t){case 1:return r=p0(this,this.l),this.l++,r;case 2:return r=(s==="i"?HO:mi)(this,this.l),this.l+=2,r;case 4:case-4:return s==="i"||(this[this.l+3]&128)===0?(r=(t>0?Qc:WO)(this,this.l),this.l+=4,r):(n=ho(this,this.l),this.l+=4,n);case 8:case-8:if(s==="f")return t==8?n=Ep(this,this.l):n=Ep([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;t=8;case 16:a=BS(this,this.l,t);break}}return this.l+=t,a}var GO=function(t,s,a){t[a]=s&255,t[a+1]=s>>>8&255,t[a+2]=s>>>16&255,t[a+3]=s>>>24&255},$O=function(t,s,a){t[a]=s&255,t[a+1]=s>>8&255,t[a+2]=s>>16&255,t[a+3]=s>>24&255},zO=function(t,s,a){t[a]=s&255,t[a+1]=s>>>8&255};function VO(t,s,a){var r=0,n=0;if(a==="dbcs"){for(n=0;n!=s.length;++n)zO(this,s.charCodeAt(n),this.l+2*n);r=2*s.length}else if(a==="sbcs"){for(s=s.replace(/[^\x00-\x7F]/g,"_"),n=0;n!=s.length;++n)this[this.l+n]=s.charCodeAt(n)&255;r=s.length}else if(a==="hex"){for(;n<t;++n)this[this.l++]=parseInt(s.slice(2*n,2*n+2),16)||0;return this}else if(a==="utf16le"){var l=Math.min(this.l+t,this.length);for(n=0;n<Math.min(s.length,t);++n){var i=s.charCodeAt(n);this[this.l++]=i&255,this[this.l++]=i>>8}for(;this.l<l;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=s&255;break;case 2:r=2,this[this.l]=s&255,s>>>=8,this[this.l+1]=s&255;break;case 3:r=3,this[this.l]=s&255,s>>>=8,this[this.l+1]=s&255,s>>>=8,this[this.l+2]=s&255;break;case 4:r=4,GO(this,s,this.l);break;case 8:if(r=8,a==="f"){UO(this,s,this.l);break}case 16:break;case-4:r=4,$O(this,s,this.l);break}return this.l+=r,this}function XS(t,s){var a=BS(this,this.l,t.length>>1);if(a!==t)throw new Error(s+"Expected "+t+" saw "+a);this.l+=t.length>>1}function rn(t,s){t.l=s,t.read_shift=Bu,t.chk=XS,t.write_shift=VO}function kn(t,s){t.l+=s}function Wt(t){var s=xc(t);return rn(s,0),s}function ki(t,s,a){if(t){var r,n,l;rn(t,t.l||0);for(var i=t.length,d=0,x=0;t.l<i;){d=t.read_shift(1),d&128&&(d=(d&127)+((t.read_shift(1)&127)<<7));var h=ox[d]||ox[65535];for(r=t.read_shift(1),l=r&127,n=1;n<4&&r&128;++n)l+=((r=t.read_shift(1))&127)<<7*n;x=t.l+l;var m=h.f&&h.f(t,l,a);if(t.l=x,s(m,h,d))return}}}function Zn(){var t=[],s=$s?256:2048,a=function(h){var m=Wt(h);return rn(m,0),m},r=a(s),n=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},l=function(h){return r&&h<r.length-r.l?r:(n(),r=a(Math.max(h+1,s)))},i=function(){return n(),Vr(t)},d=function(h){n(),r=h,r.l==null&&(r.l=r.length),l(s)};return{next:l,push:d,end:i,_bufs:t}}function Yt(t,s,a,r){var n=+s,l;if(!isNaN(n)){r||(r=ox[n].p||(a||[]).length||0),l=1+(n>=128?1:0)+1,r>=128&&++l,r>=16384&&++l,r>=2097152&&++l;var i=t.next(l);n<=127?i.write_shift(1,n):(i.write_shift(1,(n&127)+128),i.write_shift(1,n>>7));for(var d=0;d!=4;++d)if(r>=128)i.write_shift(1,(r&127)+128),r>>=7;else{i.write_shift(1,r);break}r>0&&Jb(a)&&t.push(a)}}function Ru(t,s,a){var r=Ka(t);if(s.s?(r.cRel&&(r.c+=s.s.c),r.rRel&&(r.r+=s.s.r)):(r.cRel&&(r.c+=s.c),r.rRel&&(r.r+=s.r)),!a||a.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function T1(t,s,a){var r=Ka(t);return r.s=Ru(r.s,s.s,a),r.e=Ru(r.e,s.s,a),r}function Uu(t,s){if(t.cRel&&t.c<0)for(t=Ka(t);t.c<0;)t.c+=s>8?16384:256;if(t.rRel&&t.r<0)for(t=Ka(t);t.r<0;)t.r+=s>8?1048576:s>5?65536:16384;var a=Fs(t);return!t.cRel&&t.cRel!=null&&(a=qO(a)),!t.rRel&&t.rRel!=null&&(a=YO(a)),a}function Jg(t,s){return t.s.r==0&&!t.s.rRel&&t.e.r==(s.biff>=12?1048575:s.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+ar(t.s.c)+":"+(t.e.cRel?"":"$")+ar(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(s.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+yr(t.s.r)+":"+(t.e.rRel?"":"$")+yr(t.e.r):Uu(t.s,s.biff)+":"+Uu(t.e,s.biff)}function Qb(t){return parseInt(KO(t),10)-1}function yr(t){return""+(t+1)}function YO(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function KO(t){return t.replace(/\$(\d+)$/,"$1")}function Zb(t){for(var s=XO(t),a=0,r=0;r!==s.length;++r)a=26*a+s.charCodeAt(r)-64;return a-1}function ar(t){if(t<0)throw new Error("invalid column "+t);var s="";for(++t;t;t=Math.floor((t-1)/26))s=String.fromCharCode((t-1)%26+65)+s;return s}function qO(t){return t.replace(/^([A-Z])/,"$$$1")}function XO(t){return t.replace(/^\$([A-Z])/,"$1")}function JO(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function rr(t){for(var s=0,a=0,r=0;r<t.length;++r){var n=t.charCodeAt(r);n>=48&&n<=57?s=10*s+(n-48):n>=65&&n<=90&&(a=26*a+(n-64))}return{c:a-1,r:s-1}}function Fs(t){for(var s=t.c+1,a="";s;s=(s-1)/26|0)a=String.fromCharCode((s-1)%26+65)+a;return a+(t.r+1)}function so(t){var s=t.indexOf(":");return s==-1?{s:rr(t),e:rr(t)}:{s:rr(t.slice(0,s)),e:rr(t.slice(s+1))}}function Rs(t,s){return typeof s>"u"||typeof s=="number"?Rs(t.s,t.e):(typeof t!="string"&&(t=Fs(t)),typeof s!="string"&&(s=Fs(s)),t==s?t:t+":"+s)}function na(t){var s={s:{c:0,r:0},e:{c:0,r:0}},a=0,r=0,n=0,l=t.length;for(a=0;r<l&&!((n=t.charCodeAt(r)-64)<1||n>26);++r)a=26*a+n;for(s.s.c=--a,a=0;r<l&&!((n=t.charCodeAt(r)-48)<0||n>9);++r)a=10*a+n;if(s.s.r=--a,r===l||n!=10)return s.e.c=s.s.c,s.e.r=s.s.r,s;for(++r,a=0;r!=l&&!((n=t.charCodeAt(r)-64)<1||n>26);++r)a=26*a+n;for(s.e.c=--a,a=0;r!=l&&!((n=t.charCodeAt(r)-48)<0||n>9);++r)a=10*a+n;return s.e.r=--a,s}function A1(t,s){var a=t.t=="d"&&s instanceof Date;if(t.z!=null)try{return t.w=_o(t.z,a?Ir(s):s)}catch{}try{return t.w=_o((t.XF||{}).numFmtId||(a?14:0),a?Ir(s):s)}catch{return""+s}}function ji(t,s,a){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&a&&a.dateNF&&(t.z=a.dateNF),t.t=="e"?Di[t.v]||t.v:s==null?A1(t,t.v):A1(t,s))}function vc(t,s){var a=s&&s.sheet?s.sheet:"Sheet1",r={};return r[a]=t,{SheetNames:[a],Sheets:r}}function JS(t,s,a){var r=a||{},n=t?Array.isArray(t):r.dense,l=t||(n?[]:{}),i=0,d=0;if(l&&r.origin!=null){if(typeof r.origin=="number")i=r.origin;else{var x=typeof r.origin=="string"?rr(r.origin):r.origin;i=x.r,d=x.c}l["!ref"]||(l["!ref"]="A1:A1")}var h={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(l["!ref"]){var m=na(l["!ref"]);h.s.c=m.s.c,h.s.r=m.s.r,h.e.c=Math.max(h.e.c,m.e.c),h.e.r=Math.max(h.e.r,m.e.r),i==-1&&(h.e.r=i=m.e.r+1)}for(var b=0;b!=s.length;++b)if(s[b]){if(!Array.isArray(s[b]))throw new Error("aoa_to_sheet expects an array of arrays");for(var f=0;f!=s[b].length;++f)if(!(typeof s[b][f]>"u")){var N={v:s[b][f]},p=i+b,v=d+f;if(h.s.r>p&&(h.s.r=p),h.s.c>v&&(h.s.c=v),h.e.r<p&&(h.e.r=p),h.e.c<v&&(h.e.c=v),s[b][f]&&typeof s[b][f]=="object"&&!Array.isArray(s[b][f])&&!(s[b][f]instanceof Date))N=s[b][f];else if(Array.isArray(N.v)&&(N.f=s[b][f][1],N.v=N.v[0]),N.v===null)if(N.f)N.t="n";else if(r.nullError)N.t="e",N.v=0;else if(r.sheetStubs)N.t="z";else continue;else typeof N.v=="number"?N.t="n":typeof N.v=="boolean"?N.t="b":N.v instanceof Date?(N.z=r.dateNF||As[14],r.cellDates?(N.t="d",N.w=_o(N.z,Ir(N.v))):(N.t="n",N.v=Ir(N.v),N.w=_o(N.z,N.v))):N.t="s";if(n)l[p]||(l[p]=[]),l[p][v]&&l[p][v].z&&(N.z=l[p][v].z),l[p][v]=N;else{var y=Fs({c:v,r:p});l[y]&&l[y].z&&(N.z=l[y].z),l[y]=N}}}return h.s.c<1e7&&(l["!ref"]=Rs(h)),l}function Y0(t,s){return JS(null,t,s)}function QO(t){return t.read_shift(4,"i")}function ul(t,s){return s||(s=Wt(4)),s.write_shift(4,t),s}function Cn(t){var s=t.read_shift(4);return s===0?"":t.read_shift(s,"dbcs")}function Yr(t,s){var a=!1;return s==null&&(a=!0,s=Wt(4+2*t.length)),s.write_shift(4,t.length),t.length>0&&s.write_shift(0,t,"dbcs"),a?s.slice(0,s.l):s}function ZO(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function e8(t,s){return s||(s=Wt(4)),s.write_shift(2,0),s.write_shift(2,0),s}function ev(t,s){var a=t.l,r=t.read_shift(1),n=Cn(t),l=[],i={t:n,h:n};if((r&1)!==0){for(var d=t.read_shift(4),x=0;x!=d;++x)l.push(ZO(t));i.r=l}else i.r=[{ich:0,ifnt:0}];return t.l=a+s,i}function t8(t,s){var a=!1;return s==null&&(a=!0,s=Wt(15+4*t.t.length)),s.write_shift(1,0),Yr(t.t,s),a?s.slice(0,s.l):s}var s8=ev;function a8(t,s){var a=!1;return s==null&&(a=!0,s=Wt(23+4*t.t.length)),s.write_shift(1,1),Yr(t.t,s),s.write_shift(4,1),e8({},s),a?s.slice(0,s.l):s}function Bo(t){var s=t.read_shift(4),a=t.read_shift(2);return a+=t.read_shift(1)<<16,t.l++,{c:s,iStyleRef:a}}function Nd(t,s){return s==null&&(s=Wt(8)),s.write_shift(-4,t.c),s.write_shift(3,t.iStyleRef||t.s),s.write_shift(1,0),s}function jd(t){var s=t.read_shift(2);return s+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:s}}function Cd(t,s){return s==null&&(s=Wt(4)),s.write_shift(3,t.iStyleRef||t.s),s.write_shift(1,0),s}var r8=Cn,QS=Yr;function tv(t){var s=t.read_shift(4);return s===0||s===4294967295?"":t.read_shift(s,"dbcs")}function Tp(t,s){var a=!1;return s==null&&(a=!0,s=Wt(127)),s.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&s.write_shift(0,t,"dbcs"),a?s.slice(0,s.l):s}var n8=Cn,Ly=tv,sv=Tp;function av(t){var s=t.slice(t.l,t.l+4),a=s[0]&1,r=s[0]&2;t.l+=4;var n=r===0?Ep([0,0,0,0,s[0]&252,s[1],s[2],s[3]],0):Qc(s,0)>>2;return a?n/100:n}function ZS(t,s){s==null&&(s=Wt(4));var a=0,r=0,n=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?r=1:n==(n|0)&&n>=-536870912&&n<1<<29&&(r=1,a=1),r)s.write_shift(-4,((a?n:t)<<2)+(a+2));else throw new Error("unsupported RkNumber "+t)}function ek(t){var s={s:{},e:{}};return s.s.r=t.read_shift(4),s.e.r=t.read_shift(4),s.s.c=t.read_shift(4),s.e.c=t.read_shift(4),s}function o8(t,s){return s||(s=Wt(16)),s.write_shift(4,t.s.r),s.write_shift(4,t.e.r),s.write_shift(4,t.s.c),s.write_shift(4,t.e.c),s}var Sd=ek,K0=o8;function jn(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function xd(t,s){return(s||Wt(8)).write_shift(8,t,"f")}function l8(t){var s={},a=t.read_shift(1),r=a>>>1,n=t.read_shift(1),l=t.read_shift(2,"i"),i=t.read_shift(1),d=t.read_shift(1),x=t.read_shift(1);switch(t.l++,r){case 0:s.auto=1;break;case 1:s.index=n;var h=ad[n];h&&(s.rgb=sx(h));break;case 2:s.rgb=sx([i,d,x]);break;case 3:s.theme=n;break}return l!=0&&(s.tint=l>0?l/32767:l/32768),s}function Ap(t,s){if(s||(s=Wt(8)),!t||t.auto)return s.write_shift(4,0),s.write_shift(4,0),s;t.index!=null?(s.write_shift(1,2),s.write_shift(1,t.index)):t.theme!=null?(s.write_shift(1,6),s.write_shift(1,t.theme)):(s.write_shift(1,5),s.write_shift(1,0));var a=t.tint||0;if(a>0?a*=32767:a<0&&(a*=32768),s.write_shift(2,a),!t.rgb||t.theme!=null)s.write_shift(2,0),s.write_shift(1,0),s.write_shift(1,0);else{var r=t.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),s.write_shift(1,parseInt(r.slice(0,2),16)),s.write_shift(1,parseInt(r.slice(2,4),16)),s.write_shift(1,parseInt(r.slice(4,6),16)),s.write_shift(1,255)}return s}function i8(t){var s=t.read_shift(1);t.l++;var a={fBold:s&1,fItalic:s&2,fUnderline:s&4,fStrikeout:s&8,fOutline:s&16,fShadow:s&32,fCondense:s&64,fExtend:s&128};return a}function c8(t,s){s||(s=Wt(2));var a=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return s.write_shift(1,a),s.write_shift(1,0),s}function tk(t,s){var a={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=t.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return a[t.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return t.l-=4,t.read_shift(0,s==1?"lpstr":"lpwstr")}function d8(t){return tk(t,1)}function u8(t){return tk(t,2)}var rv=2,Kn=3,Kh=11,F1=12,Fp=19,qh=64,x8=65,h8=71,m8=4108,p8=4126,zr=80,sk=81,f8=[zr,sk],Oy={1:{n:"CodePage",t:rv},2:{n:"Category",t:zr},3:{n:"PresentationFormat",t:zr},4:{n:"ByteCount",t:Kn},5:{n:"LineCount",t:Kn},6:{n:"ParagraphCount",t:Kn},7:{n:"SlideCount",t:Kn},8:{n:"NoteCount",t:Kn},9:{n:"HiddenCount",t:Kn},10:{n:"MultimediaClipCount",t:Kn},11:{n:"ScaleCrop",t:Kh},12:{n:"HeadingPairs",t:m8},13:{n:"TitlesOfParts",t:p8},14:{n:"Manager",t:zr},15:{n:"Company",t:zr},16:{n:"LinksUpToDate",t:Kh},17:{n:"CharacterCount",t:Kn},19:{n:"SharedDoc",t:Kh},22:{n:"HyperlinksChanged",t:Kh},23:{n:"AppVersion",t:Kn,p:"version"},24:{n:"DigSig",t:x8},26:{n:"ContentType",t:zr},27:{n:"ContentStatus",t:zr},28:{n:"Language",t:zr},29:{n:"Version",t:zr},255:{},2147483648:{n:"Locale",t:Fp},2147483651:{n:"Behavior",t:Fp},1919054434:{}},_y={1:{n:"CodePage",t:rv},2:{n:"Title",t:zr},3:{n:"Subject",t:zr},4:{n:"Author",t:zr},5:{n:"Keywords",t:zr},6:{n:"Comments",t:zr},7:{n:"Template",t:zr},8:{n:"LastAuthor",t:zr},9:{n:"RevNumber",t:zr},10:{n:"EditTime",t:qh},11:{n:"LastPrinted",t:qh},12:{n:"CreatedDate",t:qh},13:{n:"ModifiedDate",t:qh},14:{n:"PageCount",t:Kn},15:{n:"WordCount",t:Kn},16:{n:"CharCount",t:Kn},17:{n:"Thumbnail",t:h8},18:{n:"Application",t:zr},19:{n:"DocSecurity",t:Kn},255:{},2147483648:{n:"Locale",t:Fp},2147483651:{n:"Behavior",t:Fp},1919054434:{}},P1={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},g8=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function y8(t){return t.map(function(s){return[s>>16&255,s>>8&255,s&255]})}var b8=y8([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),ad=Ka(b8),Di={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},ak={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},By={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Xh={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function nv(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function v8(t){var s=nv();if(!t||!t.match)return s;var a={};if((t.match(Dn)||[]).forEach(function(r){var n=Ms(r);switch(n[0].replace(AO,"<")){case"<?xml":break;case"<Types":s.xmlns=n["xmlns"+(n[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":a[n.Extension]=n.ContentType;break;case"<Override":s[By[n.ContentType]]!==void 0&&s[By[n.ContentType]].push(n.PartName);break}}),s.xmlns!==Pr.CT)throw new Error("Unknown Namespace: "+s.xmlns);return s.calcchain=s.calcchains.length>0?s.calcchains[0]:"",s.sst=s.strs.length>0?s.strs[0]:"",s.style=s.styles.length>0?s.styles[0]:"",s.defaults=a,delete s.calcchains,s}function rk(t,s){var a=vO(By),r=[],n;r[r.length]=Nr,r[r.length]=ss("Types",null,{xmlns:Pr.CT,"xmlns:xsd":Pr.xsd,"xmlns:xsi":Pr.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(x){return ss("Default",null,{Extension:x[0],ContentType:x[1]})}));var l=function(x){t[x]&&t[x].length>0&&(n=t[x][0],r[r.length]=ss("Override",null,{PartName:(n[0]=="/"?"":"/")+n,ContentType:Xh[x][s.bookType]||Xh[x].xlsx}))},i=function(x){(t[x]||[]).forEach(function(h){r[r.length]=ss("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:Xh[x][s.bookType]||Xh[x].xlsx})})},d=function(x){(t[x]||[]).forEach(function(h){r[r.length]=ss("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:a[x][0]})})};return l("workbooks"),i("sheets"),i("charts"),d("themes"),["strs","styles"].forEach(l),["coreprops","extprops","custprops"].forEach(d),d("vba"),d("comments"),d("threadedcomments"),d("drawings"),i("metadata"),d("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var Vs={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function tx(t){var s=t.lastIndexOf("/");return t.slice(0,s+1)+"_rels/"+t.slice(s+1)+".rels"}function Hu(t,s){var a={"!id":{}};if(!t)return a;s.charAt(0)!=="/"&&(s="/"+s);var r={};return(t.match(Dn)||[]).forEach(function(n){var l=Ms(n);if(l[0]==="<Relationship"){var i={};i.Type=l.Type,i.Target=l.Target,i.Id=l.Id,l.TargetMode&&(i.TargetMode=l.TargetMode);var d=l.TargetMode==="External"?l.Target:_u(l.Target,s);a[d]=i,r[l.Id]=i}}),a["!id"]=r,a}function w0(t){var s=[Nr,ss("Relationships",null,{xmlns:Pr.RELS})];return xr(t["!id"]).forEach(function(a){s[s.length]=ss("Relationship",null,t["!id"][a])}),s.length>2&&(s[s.length]="</Relationships>",s[1]=s[1].replace("/>",">")),s.join("")}function Da(t,s,a,r,n,l){if(n||(n={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),s<0)for(s=t["!idx"];t["!id"]["rId"+s];++s);if(t["!idx"]=s+1,n.Id="rId"+s,n.Type=r,n.Target=a,[Vs.HLINK,Vs.XPATH,Vs.XMISS].indexOf(n.Type)>-1&&(n.TargetMode="External"),t["!id"][n.Id])throw new Error("Cannot rewrite rId "+s);return t["!id"][n.Id]=n,t[("/"+n.Target).replace("//","/")]=n,s}var w8="application/vnd.oasis.opendocument.spreadsheet";function N8(t,s){for(var a=qb(t),r,n;r=ex.exec(a);)switch(r[3]){case"manifest":break;case"file-entry":if(n=Ms(r[0],!1),n.path=="/"&&n.type!==w8)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(s&&s.WTF)throw r}}function j8(t){var s=[Nr];s.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),s.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var a=0;a<t.length;++a)s.push('  <manifest:file-entry manifest:full-path="'+t[a][0]+'" manifest:media-type="'+t[a][1]+`"/>
`);return s.push("</manifest:manifest>"),s.join("")}function M1(t,s,a){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(a||"odf")+"#"+s+`"/>
`,`  </rdf:Description>
`].join("")}function C8(t,s){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+s+`"/>
`,`  </rdf:Description>
`].join("")}function S8(t){var s=[Nr];s.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var a=0;a!=t.length;++a)s.push(M1(t[a][0],t[a][1])),s.push(C8("",t[a][0]));return s.push(M1("","Document","pkg")),s.push("</rdf:RDF>"),s.join("")}function nk(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+jp.version+"</meta:generator></office:meta></office:document-meta>"}var Lo=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],k8=(function(){for(var t=new Array(Lo.length),s=0;s<Lo.length;++s){var a=Lo[s],r="(?:"+a[0].slice(0,a[0].indexOf(":"))+":)"+a[0].slice(a[0].indexOf(":")+1);t[s]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return t})();function ok(t){var s={};t=Pa(t);for(var a=0;a<Lo.length;++a){var r=Lo[a],n=t.match(k8[a]);n!=null&&n.length>0&&(s[r[1]]=ra(n[1])),r[2]==="date"&&s[r[1]]&&(s[r[1]]=Ya(s[r[1]]))}return s}function Qg(t,s,a,r,n){n[t]!=null||s==null||s===""||(n[t]=s,s=Ta(s),r[r.length]=a?ss(t,s,a):nn(t,s))}function lk(t,s){var a=s||{},r=[Nr,ss("cp:coreProperties",null,{"xmlns:cp":Pr.CORE_PROPS,"xmlns:dc":Pr.dc,"xmlns:dcterms":Pr.dcterms,"xmlns:dcmitype":Pr.dcmitype,"xmlns:xsi":Pr.xsi})],n={};if(!t&&!a.Props)return r.join("");t&&(t.CreatedDate!=null&&Qg("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:Iy(t.CreatedDate,a.WTF),{"xsi:type":"dcterms:W3CDTF"},r,n),t.ModifiedDate!=null&&Qg("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:Iy(t.ModifiedDate,a.WTF),{"xsi:type":"dcterms:W3CDTF"},r,n));for(var l=0;l!=Lo.length;++l){var i=Lo[l],d=a.Props&&a.Props[i[1]]!=null?a.Props[i[1]]:t?t[i[1]]:null;d===!0?d="1":d===!1?d="0":typeof d=="number"&&(d=String(d)),d!=null&&Qg(i[0],d,null,r,n)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var rd=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],ik=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function ck(t,s,a,r){var n=[];if(typeof t=="string")n=j1(t,r);else for(var l=0;l<t.length;++l)n=n.concat(t[l].map(function(m){return{v:m}}));var i=typeof s=="string"?j1(s,r).map(function(m){return m.v}):s,d=0,x=0;if(i.length>0)for(var h=0;h!==n.length;h+=2){switch(x=+n[h+1].v,n[h].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":a.Worksheets=x,a.SheetNames=i.slice(d,d+x);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":a.NamedRanges=x,a.DefinedNames=i.slice(d,d+x);break;case"Charts":case"Diagramme":a.Chartsheets=x,a.ChartNames=i.slice(d,d+x);break}d+=x}}function D8(t,s,a){var r={};return s||(s={}),t=Pa(t),rd.forEach(function(n){var l=(t.match(Qu(n[0]))||[])[1];switch(n[2]){case"string":l&&(s[n[1]]=ra(l));break;case"bool":s[n[1]]=l==="true";break;case"raw":var i=t.match(new RegExp("<"+n[0]+"[^>]*>([\\s\\S]*?)</"+n[0]+">"));i&&i.length>0&&(r[n[1]]=i[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&ck(r.HeadingPairs,r.TitlesOfParts,s,a),s}function dk(t){var s=[],a=ss;return t||(t={}),t.Application="SheetJS",s[s.length]=Nr,s[s.length]=ss("Properties",null,{xmlns:Pr.EXT_PROPS,"xmlns:vt":Pr.vt}),rd.forEach(function(r){if(t[r[1]]!==void 0){var n;switch(r[2]){case"string":n=Ta(String(t[r[1]]));break;case"bool":n=t[r[1]]?"true":"false";break}n!==void 0&&(s[s.length]=a(r[0],n))}}),s[s.length]=a("HeadingPairs",a("vt:vector",a("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+a("vt:variant",a("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),s[s.length]=a("TitlesOfParts",a("vt:vector",t.SheetNames.map(function(r){return"<vt:lpstr>"+Ta(r)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),s.length>2&&(s[s.length]="</Properties>",s[1]=s[1].replace("/>",">")),s.join("")}var E8=/<[^>]+>[^<]*/g;function T8(t,s){var a={},r="",n=t.match(E8);if(n)for(var l=0;l!=n.length;++l){var i=n[l],d=Ms(i);switch(d[0]){case"<?xml":break;case"<Properties":break;case"<property":r=ra(d.name);break;case"</property>":r=null;break;default:if(i.indexOf("<vt:")===0){var x=i.split(">"),h=x[0].slice(4),m=x[1];switch(h){case"lpstr":case"bstr":case"lpwstr":a[r]=ra(m);break;case"bool":a[r]=Va(m);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":a[r]=parseInt(m,10);break;case"r4":case"r8":case"decimal":a[r]=parseFloat(m);break;case"filetime":case"date":a[r]=Ya(m);break;case"cy":case"error":a[r]=ra(m);break;default:if(h.slice(-1)=="/")break;s.WTF&&typeof console<"u"&&console.warn("Unexpected",i,h,x)}}else if(i.slice(0,2)!=="</"){if(s.WTF)throw new Error(i)}}}return a}function uk(t){var s=[Nr,ss("Properties",null,{xmlns:Pr.CUST_PROPS,"xmlns:vt":Pr.vt})];if(!t)return s.join("");var a=1;return xr(t).forEach(function(n){++a,s[s.length]=ss("property",BO(t[n]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:a,name:Ta(n)})}),s.length>2&&(s[s.length]="</Properties>",s[1]=s[1].replace("/>",">")),s.join("")}var Ry={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Zg;function A8(t,s,a){Zg||(Zg=nf(Ry)),s=Zg[s]||s,t[s]=a}function F8(t,s){var a=[];return xr(Ry).map(function(r){for(var n=0;n<Lo.length;++n)if(Lo[n][1]==r)return Lo[n];for(n=0;n<rd.length;++n)if(rd[n][1]==r)return rd[n];throw r}).forEach(function(r){if(t[r[1]]!=null){var n=s&&s.Props&&s.Props[r[1]]!=null?s.Props[r[1]]:t[r[1]];switch(r[2]){case"date":n=new Date(n).toISOString().replace(/\.\d*Z/,"Z");break}typeof n=="number"?n=String(n):n===!0||n===!1?n=n?"1":"0":n instanceof Date&&(n=new Date(n).toISOString().replace(/\.\d*Z/,"")),a.push(nn(Ry[r[1]]||r[1],n))}}),ss("DocumentProperties",a.join(""),{xmlns:xo.o})}function P8(t,s){var a=["Worksheets","SheetNames"],r="CustomDocumentProperties",n=[];return t&&xr(t).forEach(function(l){if(Object.prototype.hasOwnProperty.call(t,l)){for(var i=0;i<Lo.length;++i)if(l==Lo[i][1])return;for(i=0;i<rd.length;++i)if(l==rd[i][1])return;for(i=0;i<a.length;++i)if(l==a[i])return;var d=t[l],x="string";typeof d=="number"?(x="float",d=String(d)):d===!0||d===!1?(x="boolean",d=d?"1":"0"):d=String(d),n.push(ss(b1(l),d,{"dt:dt":x}))}}),s&&xr(s).forEach(function(l){if(Object.prototype.hasOwnProperty.call(s,l)&&!(t&&Object.prototype.hasOwnProperty.call(t,l))){var i=s[l],d="string";typeof i=="number"?(d="float",i=String(i)):i===!0||i===!1?(d="boolean",i=i?"1":"0"):i instanceof Date?(d="dateTime.tz",i=i.toISOString()):i=String(i),n.push(ss(b1(l),i,{"dt:dt":d}))}}),"<"+r+' xmlns="'+xo.o+'">'+n.join("")+"</"+r+">"}function ov(t){var s=t.read_shift(4),a=t.read_shift(4);return new Date((a/1e7*Math.pow(2,32)+s/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function M8(t){var s=typeof t=="string"?new Date(Date.parse(t)):t,a=s.getTime()/1e3+11644473600,r=a%Math.pow(2,32),n=(a-r)/Math.pow(2,32);r*=1e7,n*=1e7;var l=r/Math.pow(2,32)|0;l>0&&(r=r%Math.pow(2,32),n+=l);var i=Wt(8);return i.write_shift(4,r),i.write_shift(4,n),i}function xk(t,s,a){var r=t.l,n=t.read_shift(0,"lpstr-cp");if(a)for(;t.l-r&3;)++t.l;return n}function hk(t,s,a){var r=t.read_shift(0,"lpwstr");return r}function mk(t,s,a){return s===31?hk(t):xk(t,s,a)}function Uy(t,s,a){return mk(t,s,a===!1?0:4)}function I8(t,s){if(!s)throw new Error("VtUnalignedString must have positive length");return mk(t,s,0)}function L8(t){for(var s=t.read_shift(4),a=[],r=0;r!=s;++r){var n=t.l;a[r]=t.read_shift(0,"lpwstr").replace(On,""),t.l-n&2&&(t.l+=2)}return a}function O8(t){for(var s=t.read_shift(4),a=[],r=0;r!=s;++r)a[r]=t.read_shift(0,"lpstr-cp").replace(On,"");return a}function _8(t){var s=t.l,a=Pp(t,sk);t[t.l]==0&&t[t.l+1]==0&&t.l-s&2&&(t.l+=2);var r=Pp(t,Kn);return[a,r]}function B8(t){for(var s=t.read_shift(4),a=[],r=0;r<s/2;++r)a.push(_8(t));return a}function I1(t,s){for(var a=t.read_shift(4),r={},n=0;n!=a;++n){var l=t.read_shift(4),i=t.read_shift(4);r[l]=t.read_shift(i,s===1200?"utf16le":"utf8").replace(On,"").replace(Ou,"!"),s===1200&&i%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),r}function pk(t){var s=t.read_shift(4),a=t.slice(t.l,t.l+s);return t.l+=s,(s&3)>0&&(t.l+=4-(s&3)&3),a}function R8(t){var s={};return s.Size=t.read_shift(4),t.l+=s.Size+3-(s.Size-1)%4,s}function Pp(t,s,a){var r=t.read_shift(2),n,l=a||{};if(t.l+=2,s!==F1&&r!==s&&f8.indexOf(s)===-1&&!((s&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+s+" saw "+r);switch(s===F1?r:s){case 2:return n=t.read_shift(2,"i"),l.raw||(t.l+=2),n;case 3:return n=t.read_shift(4,"i"),n;case 11:return t.read_shift(4)!==0;case 19:return n=t.read_shift(4),n;case 30:return xk(t,r,4).replace(On,"");case 31:return hk(t);case 64:return ov(t);case 65:return pk(t);case 71:return R8(t);case 80:return Uy(t,r,!l.raw).replace(On,"");case 81:return I8(t,r).replace(On,"");case 4108:return B8(t);case 4126:case 4127:return r==4127?L8(t):O8(t);default:throw new Error("TypedPropertyValue unrecognized type "+s+" "+r)}}function L1(t,s){var a=Wt(4),r=Wt(4);switch(a.write_shift(4,t==80?31:t),t){case 3:r.write_shift(-4,s);break;case 5:r=Wt(8),r.write_shift(8,s,"f");break;case 11:r.write_shift(4,s?1:0);break;case 64:r=M8(s);break;case 31:case 80:for(r=Wt(4+2*(s.length+1)+(s.length%2?0:2)),r.write_shift(4,s.length+1),r.write_shift(0,s,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+s)}return Vr([a,r])}function O1(t,s){var a=t.l,r=t.read_shift(4),n=t.read_shift(4),l=[],i=0,d=0,x=-1,h={};for(i=0;i!=n;++i){var m=t.read_shift(4),b=t.read_shift(4);l[i]=[m,b+a]}l.sort(function(j,C){return j[1]-C[1]});var f={};for(i=0;i!=n;++i){if(t.l!==l[i][1]){var N=!0;if(i>0&&s)switch(s[l[i-1][0]].t){case 2:t.l+2===l[i][1]&&(t.l+=2,N=!1);break;case 80:t.l<=l[i][1]&&(t.l=l[i][1],N=!1);break;case 4108:t.l<=l[i][1]&&(t.l=l[i][1],N=!1);break}if((!s||i==0)&&t.l<=l[i][1]&&(N=!1,t.l=l[i][1]),N)throw new Error("Read Error: Expected address "+l[i][1]+" at "+t.l+" :"+i)}if(s){var p=s[l[i][0]];if(f[p.n]=Pp(t,p.t,{raw:!0}),p.p==="version"&&(f[p.n]=String(f[p.n]>>16)+"."+("0000"+String(f[p.n]&65535)).slice(-4)),p.n=="CodePage")switch(f[p.n]){case 0:f[p.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:ll(d=f[p.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+f[p.n])}}else if(l[i][0]===1){if(d=f.CodePage=Pp(t,rv),ll(d),x!==-1){var v=t.l;t.l=l[x][1],h=I1(t,d),t.l=v}}else if(l[i][0]===0){if(d===0){x=i,t.l=l[i+1][1];continue}h=I1(t,d)}else{var y=h[l[i][0]],g;switch(t[t.l]){case 65:t.l+=4,g=pk(t);break;case 30:t.l+=4,g=Uy(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,g=Uy(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,g=t.read_shift(4,"i");break;case 19:t.l+=4,g=t.read_shift(4);break;case 5:t.l+=4,g=t.read_shift(8,"f");break;case 11:t.l+=4,g=fr(t,4);break;case 64:t.l+=4,g=Ya(ov(t));break;default:throw new Error("unparsed value: "+t[t.l])}f[y]=g}}return t.l=a+r,f}var fk=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function U8(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function _1(t,s,a){var r=Wt(8),n=[],l=[],i=8,d=0,x=Wt(8),h=Wt(8);if(x.write_shift(4,2),x.write_shift(4,1200),h.write_shift(4,1),l.push(x),n.push(h),i+=8+x.length,!s){h=Wt(8),h.write_shift(4,0),n.unshift(h);var m=[Wt(4)];for(m[0].write_shift(4,t.length),d=0;d<t.length;++d){var b=t[d][0];for(x=Wt(8+2*(b.length+1)+(b.length%2?0:2)),x.write_shift(4,d+2),x.write_shift(4,b.length+1),x.write_shift(0,b,"dbcs");x.l!=x.length;)x.write_shift(1,0);m.push(x)}x=Vr(m),l.unshift(x),i+=8+x.length}for(d=0;d<t.length;++d)if(!(s&&!s[t[d][0]])&&!(fk.indexOf(t[d][0])>-1||ik.indexOf(t[d][0])>-1)&&t[d][1]!=null){var f=t[d][1],N=0;if(s){N=+s[t[d][0]];var p=a[N];if(p.p=="version"&&typeof f=="string"){var v=f.split(".");f=(+v[0]<<16)+(+v[1]||0)}x=L1(p.t,f)}else{var y=U8(f);y==-1&&(y=31,f=String(f)),x=L1(y,f)}l.push(x),h=Wt(8),h.write_shift(4,s?N:2+d),n.push(h),i+=8+x.length}var g=8*(l.length+1);for(d=0;d<l.length;++d)n[d].write_shift(4,g),g+=l[d].length;return r.write_shift(4,i),r.write_shift(4,l.length),Vr([r].concat(n).concat(l))}function B1(t,s,a){var r=t.content;if(!r)return{};rn(r,0);var n,l,i,d,x=0;r.chk("feff","Byte Order: "),r.read_shift(2);var h=r.read_shift(4),m=r.read_shift(16);if(m!==Ss.utils.consts.HEADER_CLSID&&m!==a)throw new Error("Bad PropertySet CLSID "+m);if(n=r.read_shift(4),n!==1&&n!==2)throw new Error("Unrecognized #Sets: "+n);if(l=r.read_shift(16),d=r.read_shift(4),n===1&&d!==r.l)throw new Error("Length mismatch: "+d+" !== "+r.l);n===2&&(i=r.read_shift(16),x=r.read_shift(4));var b=O1(r,s),f={SystemIdentifier:h};for(var N in b)f[N]=b[N];if(f.FMTID=l,n===1)return f;if(x-r.l==2&&(r.l+=2),r.l!==x)throw new Error("Length mismatch 2: "+r.l+" !== "+x);var p;try{p=O1(r,null)}catch{}for(N in p)f[N]=p[N];return f.FMTID=[l,i],f}function R1(t,s,a,r,n,l){var i=Wt(n?68:48),d=[i];i.write_shift(2,65534),i.write_shift(2,0),i.write_shift(4,842412599),i.write_shift(16,Ss.utils.consts.HEADER_CLSID,"hex"),i.write_shift(4,n?2:1),i.write_shift(16,s,"hex"),i.write_shift(4,n?68:48);var x=_1(t,a,r);if(d.push(x),n){var h=_1(n,null,null);i.write_shift(16,l,"hex"),i.write_shift(4,68+x.length),d.push(h)}return Vr(d)}function Ji(t,s){return t.read_shift(s),null}function H8(t,s){s||(s=Wt(t));for(var a=0;a<t;++a)s.write_shift(1,0);return s}function W8(t,s,a){for(var r=[],n=t.l+s;t.l<n;)r.push(a(t,n-t.l));if(n!==t.l)throw new Error("Slurp error");return r}function fr(t,s){return t.read_shift(s)===1}function Mn(t,s){return s||(s=Wt(2)),s.write_shift(2,+!!t),s}function Dr(t){return t.read_shift(2,"u")}function Io(t,s){return s||(s=Wt(2)),s.write_shift(2,t),s}function gk(t,s){return W8(t,s,Dr)}function G8(t){var s=t.read_shift(1),a=t.read_shift(1);return a===1?s:s===1}function yk(t,s,a){return a||(a=Wt(2)),a.write_shift(1,s=="e"?+t:+!!t),a.write_shift(1,s=="e"?1:0),a}function Ax(t,s,a){var r=t.read_shift(a&&a.biff>=12?2:1),n="sbcs-cont";if(a&&a.biff>=8,!a||a.biff==8){var l=t.read_shift(1);l&&(n="dbcs-cont")}else a.biff==12&&(n="wstr");a.biff>=2&&a.biff<=5&&(n="cpstr");var i=r?t.read_shift(r,n):"";return i}function $8(t){var s=t.read_shift(2),a=t.read_shift(1),r=a&4,n=a&8,l=1+(a&1),i=0,d,x={};n&&(i=t.read_shift(2)),r&&(d=t.read_shift(4));var h=l==2?"dbcs-cont":"sbcs-cont",m=s===0?"":t.read_shift(s,h);return n&&(t.l+=4*i),r&&(t.l+=d),x.t=m,n||(x.raw="<t>"+x.t+"</t>",x.r=x.t),x}function z8(t){var s=t.t||"",a=Wt(3);a.write_shift(2,s.length),a.write_shift(1,1);var r=Wt(2*s.length);r.write_shift(2*s.length,s,"utf16le");var n=[a,r];return Vr(n)}function hd(t,s,a){var r;if(a){if(a.biff>=2&&a.biff<=5)return t.read_shift(s,"cpstr");if(a.biff>=12)return t.read_shift(s,"dbcs-cont")}var n=t.read_shift(1);return n===0?r=t.read_shift(s,"sbcs-cont"):r=t.read_shift(s,"dbcs-cont"),r}function Fx(t,s,a){var r=t.read_shift(a&&a.biff==2?1:2);return r===0?(t.l++,""):hd(t,r,a)}function kd(t,s,a){if(a.biff>5)return Fx(t,s,a);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,a.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function bk(t,s,a){return a||(a=Wt(3+2*t.length)),a.write_shift(2,t.length),a.write_shift(1,1),a.write_shift(31,t,"utf16le"),a}function V8(t){var s=t.read_shift(1);t.l++;var a=t.read_shift(2);return t.l+=2,[s,a]}function Y8(t){var s=t.read_shift(4),a=t.l,r=!1;s>24&&(t.l+=s-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),t.l=a);var n=t.read_shift((r?s-24:s)>>1,"utf16le").replace(On,"");return r&&(t.l+=24),n}function K8(t){for(var s=t.read_shift(2),a="";s-- >0;)a+="../";var r=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var n=t.read_shift(4);if(n===0)return a+r.replace(/\\/g,"/");var l=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var i=t.read_shift(l>>1,"utf16le").replace(On,"");return a+i}function q8(t,s){var a=t.read_shift(16);switch(a){case"e0c9ea79f9bace118c8200aa004ba90b":return Y8(t);case"0303000000000000c000000000000046":return K8(t);default:throw new Error("Unsupported Moniker "+a)}}function Jh(t){var s=t.read_shift(4),a=s>0?t.read_shift(s,"utf16le").replace(On,""):"";return a}function U1(t,s){s||(s=Wt(6+t.length*2)),s.write_shift(4,1+t.length);for(var a=0;a<t.length;++a)s.write_shift(2,t.charCodeAt(a));return s.write_shift(2,0),s}function X8(t,s){var a=t.l+s,r=t.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var n=t.read_shift(2);t.l+=2;var l,i,d,x,h="",m,b;n&16&&(l=Jh(t,a-t.l)),n&128&&(i=Jh(t,a-t.l)),(n&257)===257&&(d=Jh(t,a-t.l)),(n&257)===1&&(x=q8(t,a-t.l)),n&8&&(h=Jh(t,a-t.l)),n&32&&(m=t.read_shift(16)),n&64&&(b=ov(t)),t.l=a;var f=i||d||x||"";f&&h&&(f+="#"+h),f||(f="#"+h),n&2&&f.charAt(0)=="/"&&f.charAt(1)!="/"&&(f="file://"+f);var N={Target:f};return m&&(N.guid=m),b&&(N.time=b),l&&(N.Tooltip=l),N}function J8(t){var s=Wt(512),a=0,r=t.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var n=r.indexOf("#"),l=n>-1?31:23;switch(r.charAt(0)){case"#":l=28;break;case".":l&=-3;break}s.write_shift(4,2),s.write_shift(4,l);var i=[8,6815827,6619237,4849780,83];for(a=0;a<i.length;++a)s.write_shift(4,i[a]);if(l==28)r=r.slice(1),U1(r,s);else if(l&2){for(i="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<i.length;++a)s.write_shift(1,parseInt(i[a],16));var d=n>-1?r.slice(0,n):r;for(s.write_shift(4,2*(d.length+1)),a=0;a<d.length;++a)s.write_shift(2,d.charCodeAt(a));s.write_shift(2,0),l&8&&U1(n>-1?r.slice(n+1):"",s)}else{for(i="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),a=0;a<i.length;++a)s.write_shift(1,parseInt(i[a],16));for(var x=0;r.slice(x*3,x*3+3)=="../"||r.slice(x*3,x*3+3)=="..\\";)++x;for(s.write_shift(2,x),s.write_shift(4,r.length-3*x+1),a=0;a<r.length-3*x;++a)s.write_shift(1,r.charCodeAt(a+3*x)&255);for(s.write_shift(1,0),s.write_shift(2,65535),s.write_shift(2,57005),a=0;a<6;++a)s.write_shift(4,0)}return s.slice(0,s.l)}function vk(t){var s=t.read_shift(1),a=t.read_shift(1),r=t.read_shift(1),n=t.read_shift(1);return[s,a,r,n]}function wk(t,s){var a=vk(t);return a[3]=0,a}function Kl(t){var s=t.read_shift(2),a=t.read_shift(2),r=t.read_shift(2);return{r:s,c:a,ixfe:r}}function md(t,s,a,r){return r||(r=Wt(6)),r.write_shift(2,t),r.write_shift(2,s),r.write_shift(2,a||0),r}function Q8(t){var s=t.read_shift(2),a=t.read_shift(2);return t.l+=8,{type:s,flags:a}}function Z8(t,s,a){return s===0?"":kd(t,s,a)}function e_(t,s,a){var r=a.biff>8?4:2,n=t.read_shift(r),l=t.read_shift(r,"i"),i=t.read_shift(r,"i");return[n,l,i]}function Nk(t){var s=t.read_shift(2),a=av(t);return[s,a]}function t_(t,s,a){t.l+=4,s-=4;var r=t.l+s,n=Ax(t,s,a),l=t.read_shift(2);if(r-=t.l,l!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+l);return t.l+=l,n}function cf(t){var s=t.read_shift(2),a=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return{s:{c:r,r:s},e:{c:n,r:a}}}function jk(t,s){return s||(s=Wt(8)),s.write_shift(2,t.s.r),s.write_shift(2,t.e.r),s.write_shift(2,t.s.c),s.write_shift(2,t.e.c),s}function Ck(t){var s=t.read_shift(2),a=t.read_shift(2),r=t.read_shift(1),n=t.read_shift(1);return{s:{c:r,r:s},e:{c:n,r:a}}}var s_=Ck;function Sk(t){t.l+=4;var s=t.read_shift(2),a=t.read_shift(2),r=t.read_shift(2);return t.l+=12,[a,s,r]}function a_(t){var s={};return t.l+=4,t.l+=16,s.fSharedNote=t.read_shift(2),t.l+=4,s}function r_(t){var s={};return t.l+=4,t.cf=t.read_shift(2),s}function yn(t){t.l+=2,t.l+=t.read_shift(2)}var n_={0:yn,4:yn,5:yn,6:yn,7:r_,8:yn,9:yn,10:yn,11:yn,12:yn,13:a_,14:yn,15:yn,16:yn,17:yn,18:yn,19:yn,20:yn,21:Sk};function o_(t,s){for(var a=t.l+s,r=[];t.l<a;){var n=t.read_shift(2);t.l-=2;try{r.push(n_[n](t,a-t.l))}catch{return t.l=a,r}}return t.l!=a&&(t.l=a),r}function Qh(t,s){var a={BIFFVer:0,dt:0};switch(a.BIFFVer=t.read_shift(2),s-=2,s>=2&&(a.dt=t.read_shift(2),t.l-=2),a.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(s>6)throw new Error("Unexpected BIFF Ver "+a.BIFFVer)}return t.read_shift(s),a}function lv(t,s,a){var r=1536,n=16;switch(a.bookType){case"biff8":break;case"biff5":r=1280,n=8;break;case"biff4":r=4,n=6;break;case"biff3":r=3,n=6;break;case"biff2":r=2,n=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var l=Wt(n);return l.write_shift(2,r),l.write_shift(2,s),n>4&&l.write_shift(2,29282),n>6&&l.write_shift(2,1997),n>8&&(l.write_shift(2,49161),l.write_shift(2,1),l.write_shift(2,1798),l.write_shift(2,0)),l}function l_(t,s){return s===0||t.read_shift(2),1200}function i_(t,s,a){if(a.enc)return t.l+=s,"";var r=t.l,n=kd(t,0,a);return t.read_shift(s+r-t.l),n}function c_(t,s){var a=!s||s.biff==8,r=Wt(a?112:54);for(r.write_shift(s.biff==8?2:1,7),a&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(a?0:536870912));r.l<r.length;)r.write_shift(1,a?0:32);return r}function d_(t,s,a){var r=a&&a.biff==8||s==2?t.read_shift(2):(t.l+=s,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function u_(t,s,a){var r=t.read_shift(4),n=t.read_shift(1)&3,l=t.read_shift(1);switch(l){case 0:l="Worksheet";break;case 1:l="Macrosheet";break;case 2:l="Chartsheet";break;case 6:l="VBAModule";break}var i=Ax(t,0,a);return i.length===0&&(i="Sheet1"),{pos:r,hs:n,dt:l,name:i}}function x_(t,s){var a=!s||s.biff>=8?2:1,r=Wt(8+a*t.name.length);r.write_shift(4,t.pos),r.write_shift(1,t.hs||0),r.write_shift(1,t.dt),r.write_shift(1,t.name.length),s.biff>=8&&r.write_shift(1,1),r.write_shift(a*t.name.length,t.name,s.biff<8?"sbcs":"utf16le");var n=r.slice(0,r.l);return n.l=r.l,n}function h_(t,s){for(var a=t.l+s,r=t.read_shift(4),n=t.read_shift(4),l=[],i=0;i!=n&&t.l<a;++i)l.push($8(t));return l.Count=r,l.Unique=n,l}function m_(t,s){var a=Wt(8);a.write_shift(4,t.Count),a.write_shift(4,t.Unique);for(var r=[],n=0;n<t.length;++n)r[n]=z8(t[n]);var l=Vr([a].concat(r));return l.parts=[a.length].concat(r.map(function(i){return i.length})),l}function p_(t,s){var a={};return a.dsst=t.read_shift(2),t.l+=s-2,a}function f_(t){var s={};s.r=t.read_shift(2),s.c=t.read_shift(2),s.cnt=t.read_shift(2)-s.c;var a=t.read_shift(2);t.l+=4;var r=t.read_shift(1);return t.l+=3,r&7&&(s.level=r&7),r&32&&(s.hidden=!0),r&64&&(s.hpt=a/20),s}function g_(t){var s=Q8(t);if(s.type!=2211)throw new Error("Invalid Future Record "+s.type);var a=t.read_shift(4);return a!==0}function y_(t){return t.read_shift(2),t.read_shift(4)}function H1(t,s,a){var r=0;a&&a.biff==2||(r=t.read_shift(2));var n=t.read_shift(2);a&&a.biff==2&&(r=1-(n>>15),n&=32767);var l={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[l,n]}function b_(t){var s=t.read_shift(2),a=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),l=t.read_shift(2),i=t.read_shift(2),d=t.read_shift(2),x=t.read_shift(2),h=t.read_shift(2);return{Pos:[s,a],Dim:[r,n],Flags:l,CurTab:i,FirstTab:d,Selected:x,TabRatio:h}}function v_(){var t=Wt(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function w_(t,s,a){if(a&&a.biff>=2&&a.biff<5)return{};var r=t.read_shift(2);return{RTL:r&64}}function N_(t){var s=Wt(18),a=1718;return t&&t.RTL&&(a|=64),s.write_shift(2,a),s.write_shift(4,0),s.write_shift(4,64),s.write_shift(4,0),s.write_shift(4,0),s}function j_(){}function C_(t,s,a){var r={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(a&&a.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return r.name=Ax(t,0,a),r}function S_(t,s){var a=t.name||"Arial",r=s&&s.biff==5,n=r?15+a.length:16+2*a.length,l=Wt(n);return l.write_shift(2,t.sz*20),l.write_shift(4,0),l.write_shift(2,400),l.write_shift(4,0),l.write_shift(2,0),l.write_shift(1,a.length),r||l.write_shift(1,1),l.write_shift((r?1:2)*a.length,a,r?"sbcs":"utf16le"),l}function k_(t){var s=Kl(t);return s.isst=t.read_shift(4),s}function D_(t,s,a,r){var n=Wt(10);return md(t,s,r,n),n.write_shift(4,a),n}function E_(t,s,a){a.biffguess&&a.biff==2&&(a.biff=5);var r=t.l+s,n=Kl(t);a.biff==2&&t.l++;var l=Fx(t,r-t.l,a);return n.val=l,n}function T_(t,s,a,r,n){var l=!n||n.biff==8,i=Wt(8+ +l+(1+l)*a.length);return md(t,s,r,i),i.write_shift(2,a.length),l&&i.write_shift(1,1),i.write_shift((1+l)*a.length,a,l?"utf16le":"sbcs"),i}function A_(t,s,a){var r=t.read_shift(2),n=kd(t,0,a);return[r,n]}function F_(t,s,a,r){var n=a&&a.biff==5;r||(r=Wt(n?3+s.length:5+2*s.length)),r.write_shift(2,t),r.write_shift(n?1:2,s.length),n||r.write_shift(1,1),r.write_shift((n?1:2)*s.length,s,n?"sbcs":"utf16le");var l=r.length>r.l?r.slice(0,r.l):r;return l.l==null&&(l.l=l.length),l}var P_=kd;function W1(t,s,a){var r=t.l+s,n=a.biff==8||!a.biff?4:2,l=t.read_shift(n),i=t.read_shift(n),d=t.read_shift(2),x=t.read_shift(2);return t.l=r,{s:{r:l,c:d},e:{r:i,c:x}}}function M_(t,s){var a=s.biff==8||!s.biff?4:2,r=Wt(2*a+6);return r.write_shift(a,t.s.r),r.write_shift(a,t.e.r+1),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c+1),r.write_shift(2,0),r}function I_(t){var s=t.read_shift(2),a=t.read_shift(2),r=Nk(t);return{r:s,c:a,ixfe:r[0],rknum:r[1]}}function L_(t,s){for(var a=t.l+s-2,r=t.read_shift(2),n=t.read_shift(2),l=[];t.l<a;)l.push(Nk(t));if(t.l!==a)throw new Error("MulRK read error");var i=t.read_shift(2);if(l.length!=i-n+1)throw new Error("MulRK length mismatch");return{r,c:n,C:i,rkrec:l}}function O_(t,s){for(var a=t.l+s-2,r=t.read_shift(2),n=t.read_shift(2),l=[];t.l<a;)l.push(t.read_shift(2));if(t.l!==a)throw new Error("MulBlank read error");var i=t.read_shift(2);if(l.length!=i-n+1)throw new Error("MulBlank length mismatch");return{r,c:n,C:i,ixfe:l}}function __(t,s,a,r){var n={},l=t.read_shift(4),i=t.read_shift(4),d=t.read_shift(4),x=t.read_shift(2);return n.patternType=g8[d>>26],r.cellStyles&&(n.alc=l&7,n.fWrap=l>>3&1,n.alcV=l>>4&7,n.fJustLast=l>>7&1,n.trot=l>>8&255,n.cIndent=l>>16&15,n.fShrinkToFit=l>>20&1,n.iReadOrder=l>>22&2,n.fAtrNum=l>>26&1,n.fAtrFnt=l>>27&1,n.fAtrAlc=l>>28&1,n.fAtrBdr=l>>29&1,n.fAtrPat=l>>30&1,n.fAtrProt=l>>31&1,n.dgLeft=i&15,n.dgRight=i>>4&15,n.dgTop=i>>8&15,n.dgBottom=i>>12&15,n.icvLeft=i>>16&127,n.icvRight=i>>23&127,n.grbitDiag=i>>30&3,n.icvTop=d&127,n.icvBottom=d>>7&127,n.icvDiag=d>>14&127,n.dgDiag=d>>21&15,n.icvFore=x&127,n.icvBack=x>>7&127,n.fsxButton=x>>14&1),n}function B_(t,s,a){var r={};return r.ifnt=t.read_shift(2),r.numFmtId=t.read_shift(2),r.flags=t.read_shift(2),r.fStyle=r.flags>>2&1,s-=6,r.data=__(t,s,r.fStyle,a),r}function G1(t,s,a,r){var n=a&&a.biff==5;r||(r=Wt(n?16:20)),r.write_shift(2,0),t.style?(r.write_shift(2,t.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,t.numFmtId||0),r.write_shift(2,s<<4));var l=0;return t.numFmtId>0&&n&&(l|=1024),r.write_shift(4,l),r.write_shift(4,0),n||r.write_shift(4,0),r.write_shift(2,0),r}function R_(t){t.l+=4;var s=[t.read_shift(2),t.read_shift(2)];if(s[0]!==0&&s[0]--,s[1]!==0&&s[1]--,s[0]>7||s[1]>7)throw new Error("Bad Gutters: "+s.join("|"));return s}function U_(t){var s=Wt(8);return s.write_shift(4,0),s.write_shift(2,0),s.write_shift(2,0),s}function $1(t,s,a){var r=Kl(t);(a.biff==2||s==9)&&++t.l;var n=G8(t);return r.val=n,r.t=n===!0||n===!1?"b":"e",r}function H_(t,s,a,r,n,l){var i=Wt(8);return md(t,s,r,i),yk(a,l,i),i}function W_(t,s,a){a.biffguess&&a.biff==2&&(a.biff=5);var r=Kl(t),n=jn(t);return r.val=n,r}function G_(t,s,a,r){var n=Wt(14);return md(t,s,r,n),xd(a,n),n}var z1=Z8;function $_(t,s,a){var r=t.l+s,n=t.read_shift(2),l=t.read_shift(2);if(a.sbcch=l,l==1025||l==14849)return[l,n];if(l<1||l>255)throw new Error("Unexpected SupBook type: "+l);for(var i=hd(t,l),d=[];r>t.l;)d.push(Fx(t));return[l,n,i,d]}function V1(t,s,a){var r=t.read_shift(2),n,l={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return a.sbcch===14849&&(n=t_(t,s-2,a)),l.body=n||t.read_shift(s-2),typeof n=="string"&&(l.Name=n),l}var z_=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function Y1(t,s,a){var r=t.l+s,n=t.read_shift(2),l=t.read_shift(1),i=t.read_shift(1),d=t.read_shift(a&&a.biff==2?1:2),x=0;(!a||a.biff>=5)&&(a.biff!=5&&(t.l+=2),x=t.read_shift(2),a.biff==5&&(t.l+=2),t.l+=4);var h=hd(t,i,a);n&32&&(h=z_[h.charCodeAt(0)]);var m=r-t.l;a&&a.biff==2&&--m;var b=r==t.l||d===0||!(m>0)?[]:oH(t,m,a,d);return{chKey:l,Name:h,itab:x,rgce:b}}function kk(t,s,a){if(a.biff<8)return V_(t,s,a);for(var r=[],n=t.l+s,l=t.read_shift(a.biff>8?4:2);l--!==0;)r.push(e_(t,a.biff>8?12:6,a));if(t.l!=n)throw new Error("Bad ExternSheet: "+t.l+" != "+n);return r}function V_(t,s,a){t[t.l+1]==3&&t[t.l]++;var r=Ax(t,s,a);return r.charCodeAt(0)==3?r.slice(1):r}function Y_(t,s,a){if(a.biff<8){t.l+=s;return}var r=t.read_shift(2),n=t.read_shift(2),l=hd(t,r,a),i=hd(t,n,a);return[l,i]}function K_(t,s,a){var r=Ck(t);t.l++;var n=t.read_shift(1);return s-=8,[lH(t,s,a),n,r]}function K1(t,s,a){var r=s_(t);switch(a.biff){case 2:t.l++,s-=7;break;case 3:case 4:t.l+=2,s-=8;break;default:t.l+=6,s-=12}return[r,rH(t,s,a)]}function q_(t){var s=t.read_shift(4)!==0,a=t.read_shift(4)!==0,r=t.read_shift(4);return[s,a,r]}function X_(t,s,a){if(!(a.biff<8)){var r=t.read_shift(2),n=t.read_shift(2),l=t.read_shift(2),i=t.read_shift(2),d=kd(t,0,a);return a.biff<8&&t.read_shift(1),[{r,c:n},d,i,l]}}function J_(t,s,a){return X_(t,s,a)}function Q_(t,s){for(var a=[],r=t.read_shift(2);r--;)a.push(cf(t));return a}function Z_(t){var s=Wt(2+t.length*8);s.write_shift(2,t.length);for(var a=0;a<t.length;++a)jk(t[a],s);return s}function eB(t,s,a){if(a&&a.biff<8)return sB(t,s,a);var r=Sk(t),n=o_(t,s-22,r[1]);return{cmo:r,ft:n}}var tB={8:function(t,s){var a=t.l+s;t.l+=10;var r=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var n=t.read_shift(1);return t.l+=n,t.l=a,{fmt:r}}};function sB(t,s,a){t.l+=4;var r=t.read_shift(2),n=t.read_shift(2),l=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,s-=36;var i=[];return i.push((tB[r]||kn)(t,s,a)),{cmo:[n,r,l],ft:i}}function aB(t,s,a){var r=t.l,n="";try{t.l+=4;var l=(a.lastobj||{cmo:[0,0]}).cmo[1],i;[0,5,7,11,12,14].indexOf(l)==-1?t.l+=6:i=V8(t,6,a);var d=t.read_shift(2);t.read_shift(2),Dr(t,2);var x=t.read_shift(2);t.l+=x;for(var h=1;h<t.lens.length-1;++h){if(t.l-r!=t.lens[h])throw new Error("TxO: bad continue record");var m=t[t.l],b=hd(t,t.lens[h+1]-t.lens[h]-1);if(n+=b,n.length>=(m?d:2*d))break}if(n.length!==d&&n.length!==d*2)throw new Error("cchText: "+d+" != "+n.length);return t.l=r+s,{t:n}}catch{return t.l=r+s,{t:n}}}function rB(t,s){var a=cf(t);t.l+=16;var r=X8(t,s-24);return[a,r]}function nB(t){var s=Wt(24),a=rr(t[0]);s.write_shift(2,a.r),s.write_shift(2,a.r),s.write_shift(2,a.c),s.write_shift(2,a.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<16;++n)s.write_shift(1,parseInt(r[n],16));return Vr([s,J8(t[1])])}function oB(t,s){t.read_shift(2);var a=cf(t),r=t.read_shift((s-10)/2,"dbcs-cont");return r=r.replace(On,""),[a,r]}function lB(t){var s=t[1].Tooltip,a=Wt(10+2*(s.length+1));a.write_shift(2,2048);var r=rr(t[0]);a.write_shift(2,r.r),a.write_shift(2,r.r),a.write_shift(2,r.c),a.write_shift(2,r.c);for(var n=0;n<s.length;++n)a.write_shift(2,s.charCodeAt(n));return a.write_shift(2,0),a}function iB(t){var s=[0,0],a;return a=t.read_shift(2),s[0]=P1[a]||a,a=t.read_shift(2),s[1]=P1[a]||a,s}function cB(t){return t||(t=Wt(4)),t.write_shift(2,1),t.write_shift(2,1),t}function dB(t){for(var s=t.read_shift(2),a=[];s-- >0;)a.push(wk(t));return a}function uB(t){for(var s=t.read_shift(2),a=[];s-- >0;)a.push(wk(t));return a}function xB(t){t.l+=2;var s={cxfs:0,crc:0};return s.cxfs=t.read_shift(2),s.crc=t.read_shift(4),s}function Dk(t,s,a){if(!a.cellStyles)return kn(t,s);var r=a&&a.biff>=12?4:2,n=t.read_shift(r),l=t.read_shift(r),i=t.read_shift(r),d=t.read_shift(r),x=t.read_shift(2);r==2&&(t.l+=2);var h={s:n,e:l,w:i,ixfe:d,flags:x};return(a.biff>=5||!a.biff)&&(h.level=x>>8&7),h}function hB(t,s){var a=Wt(12);a.write_shift(2,s),a.write_shift(2,s),a.write_shift(2,t.width*256),a.write_shift(2,0);var r=0;return t.hidden&&(r|=1),a.write_shift(1,r),r=t.level||0,a.write_shift(1,r),a.write_shift(2,0),a}function mB(t,s){var a={};return s<32||(t.l+=16,a.header=jn(t),a.footer=jn(t),t.l+=2),a}function pB(t,s,a){var r={area:!1};if(a.biff!=5)return t.l+=s,r;var n=t.read_shift(1);return t.l+=3,n&16&&(r.area=!0),r}function fB(t){for(var s=Wt(2*t),a=0;a<t;++a)s.write_shift(2,a+1);return s}var gB=Kl,yB=gk,bB=Fx;function vB(t){var s=t.read_shift(2),a=t.read_shift(2),r=t.read_shift(4),n={fmt:s,env:a,len:r,data:t.slice(t.l,t.l+r)};return t.l+=r,n}function wB(t,s,a){a.biffguess&&a.biff==5&&(a.biff=2);var r=Kl(t);++t.l;var n=kd(t,s-7,a);return r.t="str",r.val=n,r}function NB(t){var s=Kl(t);++t.l;var a=jn(t);return s.t="n",s.val=a,s}function jB(t,s,a){var r=Wt(15);return Lx(r,t,s),r.write_shift(8,a,"f"),r}function CB(t){var s=Kl(t);++t.l;var a=t.read_shift(2);return s.t="n",s.val=a,s}function SB(t,s,a){var r=Wt(9);return Lx(r,t,s),r.write_shift(2,a),r}function kB(t){var s=t.read_shift(1);return s===0?(t.l++,""):t.read_shift(s,"sbcs-cont")}function DB(t,s){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=s-13}function EB(t,s,a){var r=t.l+s,n=Kl(t),l=t.read_shift(2),i=hd(t,l,a);return t.l=r,n.t="str",n.val=i,n}var TB=[2,3,48,49,131,139,140,245],Hy=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},s=nf({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function a(d,x){var h=[],m=xc(1);switch(x.type){case"base64":m=mo(yo(d));break;case"binary":m=mo(d);break;case"buffer":case"array":m=d;break}rn(m,0);var b=m.read_shift(1),f=!!(b&136),N=!1,p=!1;switch(b){case 2:break;case 3:break;case 48:N=!0,f=!0;break;case 49:N=!0,f=!0;break;case 131:break;case 139:break;case 140:p=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+b.toString(16))}var v=0,y=521;b==2&&(v=m.read_shift(2)),m.l+=3,b!=2&&(v=m.read_shift(4)),v>1048576&&(v=1e6),b!=2&&(y=m.read_shift(2));var g=m.read_shift(2),j=x.codepage||1252;b!=2&&(m.l+=16,m.read_shift(1),m[m.l]!==0&&(j=t[m[m.l]]),m.l+=1,m.l+=2),p&&(m.l+=36);for(var C=[],S={},P=Math.min(m.length,b==2?521:y-10-(N?264:0)),k=p?32:11;m.l<P&&m[m.l]!=13;)switch(S={},S.name=qu.utils.decode(j,m.slice(m.l,m.l+k)).replace(/[\u0000\r\n].*$/g,""),m.l+=k,S.type=String.fromCharCode(m.read_shift(1)),b!=2&&!p&&(S.offset=m.read_shift(4)),S.len=m.read_shift(1),b==2&&(S.offset=m.read_shift(2)),S.dec=m.read_shift(1),S.name.length&&C.push(S),b!=2&&(m.l+=p?13:14),S.type){case"B":(!N||S.len!=8)&&x.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"G":case"P":x.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+S.type)}if(m[m.l]!==13&&(m.l=y-1),m.read_shift(1)!==13)throw new Error("DBF Terminator not found "+m.l+" "+m[m.l]);m.l=y;var E=0,M=0;for(h[0]=[],M=0;M!=C.length;++M)h[0][M]=C[M].name;for(;v-- >0;){if(m[m.l]===42){m.l+=g;continue}for(++m.l,h[++E]=[],M=0,M=0;M!=C.length;++M){var L=m.slice(m.l,m.l+C[M].len);m.l+=C[M].len,rn(L,0);var O=qu.utils.decode(j,L);switch(C[M].type){case"C":O.trim().length&&(h[E][M]=O.replace(/\s+$/,""));break;case"D":O.length===8?h[E][M]=new Date(+O.slice(0,4),+O.slice(4,6)-1,+O.slice(6,8)):h[E][M]=O;break;case"F":h[E][M]=parseFloat(O.trim());break;case"+":case"I":h[E][M]=p?L.read_shift(-4,"i")^2147483648:L.read_shift(4,"i");break;case"L":switch(O.trim().toUpperCase()){case"Y":case"T":h[E][M]=!0;break;case"N":case"F":h[E][M]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+O+"|")}break;case"M":if(!f)throw new Error("DBF Unexpected MEMO for type "+b.toString(16));h[E][M]="##MEMO##"+(p?parseInt(O.trim(),10):L.read_shift(4));break;case"N":O=O.replace(/\u0000/g,"").trim(),O&&O!="."&&(h[E][M]=+O||0);break;case"@":h[E][M]=new Date(L.read_shift(-8,"f")-621356832e5);break;case"T":h[E][M]=new Date((L.read_shift(4)-2440588)*864e5+L.read_shift(4));break;case"Y":h[E][M]=L.read_shift(4,"i")/1e4+L.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":h[E][M]=-L.read_shift(-8,"f");break;case"B":if(N&&C[M].len==8){h[E][M]=L.read_shift(8,"f");break}case"G":case"P":L.l+=C[M].len;break;case"0":if(C[M].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+C[M].type)}}}if(b!=2&&m.l<m.length&&m[m.l++]!=26)throw new Error("DBF EOF Marker missing "+(m.l-1)+" of "+m.length+" "+m[m.l-1].toString(16));return x&&x.sheetRows&&(h=h.slice(0,x.sheetRows)),x.DBF=C,h}function r(d,x){var h=x||{};h.dateNF||(h.dateNF="yyyymmdd");var m=Y0(a(d,h),h);return m["!cols"]=h.DBF.map(function(b){return{wch:b.len,DBF:b}}),delete h.DBF,m}function n(d,x){try{return vc(r(d,x),x)}catch(h){if(x&&x.WTF)throw h}return{SheetNames:[],Sheets:{}}}var l={B:8,C:250,L:1,D:8,"?":0,"":0};function i(d,x){var h=x||{};if(+h.codepage>=0&&ll(+h.codepage),h.type=="string")throw new Error("Cannot write DBF to JS string");var m=Zn(),b=Lp(d,{header:1,raw:!0,cellDates:!0}),f=b[0],N=b.slice(1),p=d["!cols"]||[],v=0,y=0,g=0,j=1;for(v=0;v<f.length;++v){if(((p[v]||{}).DBF||{}).name){f[v]=p[v].DBF.name,++g;continue}if(f[v]!=null){if(++g,typeof f[v]=="number"&&(f[v]=f[v].toString(10)),typeof f[v]!="string")throw new Error("DBF Invalid column name "+f[v]+" |"+typeof f[v]+"|");if(f.indexOf(f[v])!==v){for(y=0;y<1024;++y)if(f.indexOf(f[v]+"_"+y)==-1){f[v]+="_"+y;break}}}}var C=na(d["!ref"]),S=[],P=[],k=[];for(v=0;v<=C.e.c-C.s.c;++v){var E="",M="",L=0,O=[];for(y=0;y<N.length;++y)N[y][v]!=null&&O.push(N[y][v]);if(O.length==0||f[v]==null){S[v]="?";continue}for(y=0;y<O.length;++y){switch(typeof O[y]){case"number":M="B";break;case"string":M="C";break;case"boolean":M="L";break;case"object":M=O[y]instanceof Date?"D":"C";break;default:M="C"}L=Math.max(L,String(O[y]).length),E=E&&E!=M?"C":M}L>250&&(L=250),M=((p[v]||{}).DBF||{}).type,M=="C"&&p[v].DBF.len>L&&(L=p[v].DBF.len),E=="B"&&M=="N"&&(E="N",k[v]=p[v].DBF.dec,L=p[v].DBF.len),P[v]=E=="C"||M=="N"?L:l[E]||0,j+=P[v],S[v]=E}var q=m.next(32);for(q.write_shift(4,318902576),q.write_shift(4,N.length),q.write_shift(2,296+32*g),q.write_shift(2,j),v=0;v<4;++v)q.write_shift(4,0);for(q.write_shift(4,0|(+s[fS]||3)<<8),v=0,y=0;v<f.length;++v)if(f[v]!=null){var B=m.next(32),se=(f[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);B.write_shift(1,se,"sbcs"),B.write_shift(1,S[v]=="?"?"C":S[v],"sbcs"),B.write_shift(4,y),B.write_shift(1,P[v]||l[S[v]]||0),B.write_shift(1,k[v]||0),B.write_shift(1,2),B.write_shift(4,0),B.write_shift(1,0),B.write_shift(4,0),B.write_shift(4,0),y+=P[v]||l[S[v]]||0}var le=m.next(264);for(le.write_shift(4,13),v=0;v<65;++v)le.write_shift(4,0);for(v=0;v<N.length;++v){var pe=m.next(j);for(pe.write_shift(1,0),y=0;y<f.length;++y)if(f[y]!=null)switch(S[y]){case"L":pe.write_shift(1,N[v][y]==null?63:N[v][y]?84:70);break;case"B":pe.write_shift(8,N[v][y]||0,"f");break;case"N":var U="0";for(typeof N[v][y]=="number"&&(U=N[v][y].toFixed(k[y]||0)),g=0;g<P[y]-U.length;++g)pe.write_shift(1,32);pe.write_shift(1,U,"sbcs");break;case"D":N[v][y]?(pe.write_shift(4,("0000"+N[v][y].getFullYear()).slice(-4),"sbcs"),pe.write_shift(2,("00"+(N[v][y].getMonth()+1)).slice(-2),"sbcs"),pe.write_shift(2,("00"+N[v][y].getDate()).slice(-2),"sbcs")):pe.write_shift(8,"00000000","sbcs");break;case"C":var Y=String(N[v][y]!=null?N[v][y]:"").slice(0,P[y]);for(pe.write_shift(1,Y,"sbcs"),g=0;g<P[y]-Y.length;++g)pe.write_shift(1,32);break}}return m.next(1).write_shift(1,26),m.end()}return{to_workbook:n,to_sheet:r,from_sheet:i}})(),Ek=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},s=new RegExp("\x1BN("+xr(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),a=function(f,N){var p=t[N];return typeof p=="number"?n1(p):p},r=function(f,N,p){var v=N.charCodeAt(0)-32<<4|p.charCodeAt(0)-48;return v==59?f:n1(v)};t["|"]=254;function n(f,N){switch(N.type){case"base64":return l(yo(f),N);case"binary":return l(f,N);case"buffer":return l($s&&Buffer.isBuffer(f)?f.toString("binary"):bc(f),N);case"array":return l(ud(f),N)}throw new Error("Unrecognized type "+N.type)}function l(f,N){var p=f.split(/[\n\r]+/),v=-1,y=-1,g=0,j=0,C=[],S=[],P=null,k={},E=[],M=[],L=[],O=0,q;for(+N.codepage>=0&&ll(+N.codepage);g!==p.length;++g){O=0;var B=p[g].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(s,a),se=B.replace(/;;/g,"\0").split(";").map(function(D){return D.replace(/\u0000/g,";")}),le=se[0],pe;if(B.length>0)switch(le){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":se[1].charAt(0)=="P"&&S.push(B.slice(3).replace(/;;/g,";"));break;case"C":var U=!1,Y=!1,W=!1,re=!1,G=-1,R=-1;for(j=1;j<se.length;++j)switch(se[j].charAt(0)){case"A":break;case"X":y=parseInt(se[j].slice(1))-1,Y=!0;break;case"Y":for(v=parseInt(se[j].slice(1))-1,Y||(y=0),q=C.length;q<=v;++q)C[q]=[];break;case"K":pe=se[j].slice(1),pe.charAt(0)==='"'?pe=pe.slice(1,pe.length-1):pe==="TRUE"?pe=!0:pe==="FALSE"?pe=!1:isNaN(dl(pe))?isNaN(F0(pe).getDate())||(pe=Ya(pe)):(pe=dl(pe),P!==null&&z0(P)&&(pe=lf(pe))),U=!0;break;case"E":re=!0;var F=N0(se[j].slice(1),{r:v,c:y});C[v][y]=[C[v][y],F];break;case"S":W=!0,C[v][y]=[C[v][y],"S5S"];break;case"G":break;case"R":G=parseInt(se[j].slice(1))-1;break;case"C":R=parseInt(se[j].slice(1))-1;break;default:if(N&&N.WTF)throw new Error("SYLK bad record "+B)}if(U&&(C[v][y]&&C[v][y].length==2?C[v][y][0]=pe:C[v][y]=pe,P=null),W){if(re)throw new Error("SYLK shared formula cannot have own formula");var A=G>-1&&C[G][R];if(!A||!A[1])throw new Error("SYLK shared formula cannot find base");C[v][y][1]=Vk(A[1],{r:v-G,c:y-R})}break;case"F":var H=0;for(j=1;j<se.length;++j)switch(se[j].charAt(0)){case"X":y=parseInt(se[j].slice(1))-1,++H;break;case"Y":for(v=parseInt(se[j].slice(1))-1,q=C.length;q<=v;++q)C[q]=[];break;case"M":O=parseInt(se[j].slice(1))/20;break;case"F":break;case"G":break;case"P":P=S[parseInt(se[j].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(L=se[j].slice(1).split(" "),q=parseInt(L[0],10);q<=parseInt(L[1],10);++q)O=parseInt(L[2],10),M[q-1]=O===0?{hidden:!0}:{wch:O},hc(M[q-1]);break;case"C":y=parseInt(se[j].slice(1))-1,M[y]||(M[y]={});break;case"R":v=parseInt(se[j].slice(1))-1,E[v]||(E[v]={}),O>0?(E[v].hpt=O,E[v].hpx=M0(O)):O===0&&(E[v].hidden=!0);break;default:if(N&&N.WTF)throw new Error("SYLK bad record "+B)}H<1&&(P=null);break;default:if(N&&N.WTF)throw new Error("SYLK bad record "+B)}}return E.length>0&&(k["!rows"]=E),M.length>0&&(k["!cols"]=M),N&&N.sheetRows&&(C=C.slice(0,N.sheetRows)),[C,k]}function i(f,N){var p=n(f,N),v=p[0],y=p[1],g=Y0(v,N);return xr(y).forEach(function(j){g[j]=y[j]}),g}function d(f,N){return vc(i(f,N),N)}function x(f,N,p,v){var y="C;Y"+(p+1)+";X"+(v+1)+";K";switch(f.t){case"n":y+=f.v||0,f.f&&!f.F&&(y+=";E"+hv(f.f,{r:p,c:v}));break;case"b":y+=f.v?"TRUE":"FALSE";break;case"e":y+=f.w||f.v;break;case"d":y+='"'+(f.w||f.v)+'"';break;case"s":y+='"'+f.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function h(f,N){N.forEach(function(p,v){var y="F;W"+(v+1)+" "+(v+1)+" ";p.hidden?y+="0":(typeof p.width=="number"&&!p.wpx&&(p.wpx=ax(p.width)),typeof p.wpx=="number"&&!p.wch&&(p.wch=rx(p.wpx)),typeof p.wch=="number"&&(y+=Math.round(p.wch))),y.charAt(y.length-1)!=" "&&f.push(y)})}function m(f,N){N.forEach(function(p,v){var y="F;";p.hidden?y+="M0;":p.hpt?y+="M"+20*p.hpt+";":p.hpx&&(y+="M"+20*nx(p.hpx)+";"),y.length>2&&f.push(y+"R"+(v+1))})}function b(f,N){var p=["ID;PWXL;N;E"],v=[],y=na(f["!ref"]),g,j=Array.isArray(f),C=`\r
`;p.push("P;PGeneral"),p.push("F;P0;DG0G8;M255"),f["!cols"]&&h(p,f["!cols"]),f["!rows"]&&m(p,f["!rows"]),p.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var S=y.s.r;S<=y.e.r;++S)for(var P=y.s.c;P<=y.e.c;++P){var k=Fs({r:S,c:P});g=j?(f[S]||[])[P]:f[k],!(!g||g.v==null&&(!g.f||g.F))&&v.push(x(g,f,S,P))}return p.join(C)+C+v.join(C)+C+"E"+C}return{to_workbook:d,to_sheet:i,from_sheet:b}})(),Tk=(function(){function t(l,i){switch(i.type){case"base64":return s(yo(l),i);case"binary":return s(l,i);case"buffer":return s($s&&Buffer.isBuffer(l)?l.toString("binary"):bc(l),i);case"array":return s(ud(l),i)}throw new Error("Unrecognized type "+i.type)}function s(l,i){for(var d=l.split(`
`),x=-1,h=-1,m=0,b=[];m!==d.length;++m){if(d[m].trim()==="BOT"){b[++x]=[],h=0;continue}if(!(x<0)){var f=d[m].trim().split(","),N=f[0],p=f[1];++m;for(var v=d[m]||"";(v.match(/["]/g)||[]).length&1&&m<d.length-1;)v+=`
`+d[++m];switch(v=v.trim(),+N){case-1:if(v==="BOT"){b[++x]=[],h=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?b[x][h]=!0:v==="FALSE"?b[x][h]=!1:isNaN(dl(p))?isNaN(F0(p).getDate())?b[x][h]=p:b[x][h]=Ya(p):b[x][h]=dl(p),++h;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),b[x][h++]=v!==""?v:null;break}if(v==="EOD")break}}return i&&i.sheetRows&&(b=b.slice(0,i.sheetRows)),b}function a(l,i){return Y0(t(l,i),i)}function r(l,i){return vc(a(l,i),i)}var n=(function(){var l=function(x,h,m,b,f){x.push(h),x.push(m+","+b),x.push('"'+f.replace(/"/g,'""')+'"')},i=function(x,h,m,b){x.push(h+","+m),x.push(h==1?'"'+b.replace(/"/g,'""')+'"':b)};return function(x){var h=[],m=na(x["!ref"]),b,f=Array.isArray(x);l(h,"TABLE",0,1,"sheetjs"),l(h,"VECTORS",0,m.e.r-m.s.r+1,""),l(h,"TUPLES",0,m.e.c-m.s.c+1,""),l(h,"DATA",0,0,"");for(var N=m.s.r;N<=m.e.r;++N){i(h,-1,0,"BOT");for(var p=m.s.c;p<=m.e.c;++p){var v=Fs({r:N,c:p});if(b=f?(x[N]||[])[p]:x[v],!b){i(h,1,0,"");continue}switch(b.t){case"n":var y=b.w;!y&&b.v!=null&&(y=b.v),y==null?b.f&&!b.F?i(h,1,0,"="+b.f):i(h,1,0,""):i(h,0,y,"V");break;case"b":i(h,0,b.v?1:0,b.v?"TRUE":"FALSE");break;case"s":i(h,1,0,isNaN(b.v)?b.v:'="'+b.v+'"');break;case"d":b.w||(b.w=_o(b.z||As[14],Ir(Ya(b.v)))),i(h,0,b.w,"V");break;default:i(h,1,0,"")}}}i(h,-1,0,"EOD");var g=`\r
`,j=h.join(g);return j}})();return{to_workbook:r,to_sheet:a,from_sheet:n}})(),Ak=(function(){function t(b){return b.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function s(b){return b.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function a(b,f){for(var N=b.split(`
`),p=-1,v=-1,y=0,g=[];y!==N.length;++y){var j=N[y].trim().split(":");if(j[0]==="cell"){var C=rr(j[1]);if(g.length<=C.r)for(p=g.length;p<=C.r;++p)g[p]||(g[p]=[]);switch(p=C.r,v=C.c,j[2]){case"t":g[p][v]=t(j[3]);break;case"v":g[p][v]=+j[3];break;case"vtf":var S=j[j.length-1];case"vtc":switch(j[3]){case"nl":g[p][v]=!!+j[4];break;default:g[p][v]=+j[4];break}j[2]=="vtf"&&(g[p][v]=[g[p][v],S])}}}return f&&f.sheetRows&&(g=g.slice(0,f.sheetRows)),g}function r(b,f){return Y0(a(b,f),f)}function n(b,f){return vc(r(b,f),f)}var l=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,d=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),x="--SocialCalcSpreadsheetControlSave--";function h(b){if(!b||!b["!ref"])return"";for(var f=[],N=[],p,v="",y=so(b["!ref"]),g=Array.isArray(b),j=y.s.r;j<=y.e.r;++j)for(var C=y.s.c;C<=y.e.c;++C)if(v=Fs({r:j,c:C}),p=g?(b[j]||[])[C]:b[v],!(!p||p.v==null||p.t==="z")){switch(N=["cell",v,"t"],p.t){case"s":case"str":N.push(s(p.v));break;case"n":p.f?(N[2]="vtf",N[3]="n",N[4]=p.v,N[5]=s(p.f)):(N[2]="v",N[3]=p.v);break;case"b":N[2]="vt"+(p.f?"f":"c"),N[3]="nl",N[4]=p.v?"1":"0",N[5]=s(p.f||(p.v?"TRUE":"FALSE"));break;case"d":var S=Ir(Ya(p.v));N[2]="vtc",N[3]="nd",N[4]=""+S,N[5]=p.w||_o(p.z||As[14],S);break;case"e":continue}f.push(N.join(":"))}return f.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),f.push("valueformat:1:text-wiki"),f.join(`
`)}function m(b){return[l,i,d,i,h(b),x].join(`
`)}return{to_workbook:n,to_sheet:r,from_sheet:m}})(),P0=(function(){function t(m,b,f,N,p){p.raw?b[f][N]=m:m===""||(m==="TRUE"?b[f][N]=!0:m==="FALSE"?b[f][N]=!1:isNaN(dl(m))?isNaN(F0(m).getDate())?b[f][N]=m:b[f][N]=Ya(m):b[f][N]=dl(m))}function s(m,b){var f=b||{},N=[];if(!m||m.length===0)return N;for(var p=m.split(/[\r\n]/),v=p.length-1;v>=0&&p[v].length===0;)--v;for(var y=10,g=0,j=0;j<=v;++j)g=p[j].indexOf(" "),g==-1?g=p[j].length:g++,y=Math.max(y,g);for(j=0;j<=v;++j){N[j]=[];var C=0;for(t(p[j].slice(0,y).trim(),N,j,C,f),C=1;C<=(p[j].length-y)/10+1;++C)t(p[j].slice(y+(C-1)*10,y+C*10).trim(),N,j,C,f)}return f.sheetRows&&(N=N.slice(0,f.sheetRows)),N}var a={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function n(m){for(var b={},f=!1,N=0,p=0;N<m.length;++N)(p=m.charCodeAt(N))==34?f=!f:!f&&p in a&&(b[p]=(b[p]||0)+1);p=[];for(N in b)Object.prototype.hasOwnProperty.call(b,N)&&p.push([b[N],N]);if(!p.length){b=r;for(N in b)Object.prototype.hasOwnProperty.call(b,N)&&p.push([b[N],N])}return p.sort(function(v,y){return v[0]-y[0]||r[v[1]]-r[y[1]]}),a[p.pop()[1]]||44}function l(m,b){var f=b||{},N="",p=f.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};m.slice(0,4)=="sep="?m.charCodeAt(5)==13&&m.charCodeAt(6)==10?(N=m.charAt(4),m=m.slice(7)):m.charCodeAt(5)==13||m.charCodeAt(5)==10?(N=m.charAt(4),m=m.slice(6)):N=n(m.slice(0,1024)):f&&f.FS?N=f.FS:N=n(m.slice(0,1024));var y=0,g=0,j=0,C=0,S=0,P=N.charCodeAt(0),k=!1,E=0,M=m.charCodeAt(0);m=m.replace(/\r\n/mg,`
`);var L=f.dateNF!=null?pO(f.dateNF):null;function O(){var q=m.slice(C,S),B={};if(q.charAt(0)=='"'&&q.charAt(q.length-1)=='"'&&(q=q.slice(1,-1).replace(/""/g,'"')),q.length===0)B.t="z";else if(f.raw)B.t="s",B.v=q;else if(q.trim().length===0)B.t="s",B.v=q;else if(q.charCodeAt(0)==61)q.charCodeAt(1)==34&&q.charCodeAt(q.length-1)==34?(B.t="s",B.v=q.slice(2,-1).replace(/""/g,'"')):$9(q)?(B.t="n",B.f=q.slice(1)):(B.t="s",B.v=q);else if(q=="TRUE")B.t="b",B.v=!0;else if(q=="FALSE")B.t="b",B.v=!1;else if(!isNaN(j=dl(q)))B.t="n",f.cellText!==!1&&(B.w=q),B.v=j;else if(!isNaN(F0(q).getDate())||L&&q.match(L)){B.z=f.dateNF||As[14];var se=0;L&&q.match(L)&&(q=fO(q,f.dateNF,q.match(L)||[]),se=1),f.cellDates?(B.t="d",B.v=Ya(q,se)):(B.t="n",B.v=Ir(Ya(q,se))),f.cellText!==!1&&(B.w=_o(B.z,B.v instanceof Date?Ir(B.v):B.v)),f.cellNF||delete B.z}else B.t="s",B.v=q;if(B.t=="z"||(f.dense?(p[y]||(p[y]=[]),p[y][g]=B):p[Fs({c:g,r:y})]=B),C=S+1,M=m.charCodeAt(C),v.e.c<g&&(v.e.c=g),v.e.r<y&&(v.e.r=y),E==P)++g;else if(g=0,++y,f.sheetRows&&f.sheetRows<=y)return!0}e:for(;S<m.length;++S)switch(E=m.charCodeAt(S)){case 34:M===34&&(k=!k);break;case P:case 10:case 13:if(!k&&O())break e;break}return S-C>0&&O(),p["!ref"]=Rs(v),p}function i(m,b){return!(b&&b.PRN)||b.FS||m.slice(0,4)=="sep="||m.indexOf("	")>=0||m.indexOf(",")>=0||m.indexOf(";")>=0?l(m,b):Y0(s(m,b),b)}function d(m,b){var f="",N=b.type=="string"?[0,0,0,0]:wv(m,b);switch(b.type){case"base64":f=yo(m);break;case"binary":f=m;break;case"buffer":b.codepage==65001?f=m.toString("utf8"):b.codepage&&typeof qu<"u"||(f=$s&&Buffer.isBuffer(m)?m.toString("binary"):bc(m));break;case"array":f=ud(m);break;case"string":f=m;break;default:throw new Error("Unrecognized type "+b.type)}return N[0]==239&&N[1]==187&&N[2]==191?f=Pa(f.slice(3)):b.type!="string"&&b.type!="buffer"&&b.codepage==65001?f=Pa(f):b.type=="binary"&&typeof qu<"u",f.slice(0,19)=="socialcalc:version:"?Ak.to_sheet(b.type=="string"?f:Pa(f),b):i(f,b)}function x(m,b){return vc(d(m,b),b)}function h(m){for(var b=[],f=na(m["!ref"]),N,p=Array.isArray(m),v=f.s.r;v<=f.e.r;++v){for(var y=[],g=f.s.c;g<=f.e.c;++g){var j=Fs({r:v,c:g});if(N=p?(m[v]||[])[g]:m[j],!N||N.v==null){y.push("          ");continue}for(var C=(N.w||(ji(N),N.w)||"").slice(0,10);C.length<10;)C+=" ";y.push(C+(g===0?" ":""))}b.push(y.join(""))}return b.join(`
`)}return{to_workbook:x,to_sheet:d,from_sheet:h}})();function AB(t,s){var a=s||{},r=!!a.WTF;a.WTF=!0;try{var n=Ek.to_workbook(t,a);return a.WTF=r,n}catch(l){if(a.WTF=r,!l.message.match(/SYLK bad record ID/)&&r)throw l;return P0.to_workbook(t,s)}}var nd=(function(){function t(F,A,H){if(F){rn(F,F.l||0);for(var D=H.Enum||G;F.l<F.length;){var _=F.read_shift(2),xe=D[_]||D[65535],ge=F.read_shift(2),Ne=F.l+ge,Ce=xe.f&&xe.f(F,ge,H);if(F.l=Ne,A(Ce,xe,_))return}}}function s(F,A){switch(A.type){case"base64":return a(mo(yo(F)),A);case"binary":return a(mo(F),A);case"buffer":case"array":return a(F,A)}throw"Unsupported type "+A.type}function a(F,A){if(!F)return F;var H=A||{},D=H.dense?[]:{},_="Sheet1",xe="",ge=0,Ne={},Ce=[],fe=[],ue={s:{r:0,c:0},e:{r:0,c:0}},Oe=H.sheetRows||0;if(F[2]==0&&(F[3]==8||F[3]==9)&&F.length>=16&&F[14]==5&&F[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(F[2]==2)H.Enum=G,t(F,function(ze,ot,wt){switch(wt){case 0:H.vers=ze,ze>=4096&&(H.qpro=!0);break;case 6:ue=ze;break;case 204:ze&&(xe=ze);break;case 222:xe=ze;break;case 15:case 51:H.qpro||(ze[1].v=ze[1].v.slice(1));case 13:case 14:case 16:wt==14&&(ze[2]&112)==112&&(ze[2]&15)>1&&(ze[2]&15)<15&&(ze[1].z=H.dateNF||As[14],H.cellDates&&(ze[1].t="d",ze[1].v=lf(ze[1].v))),H.qpro&&ze[3]>ge&&(D["!ref"]=Rs(ue),Ne[_]=D,Ce.push(_),D=H.dense?[]:{},ue={s:{r:0,c:0},e:{r:0,c:0}},ge=ze[3],_=xe||"Sheet"+(ge+1),xe="");var Ie=H.dense?(D[ze[0].r]||[])[ze[0].c]:D[Fs(ze[0])];if(Ie){Ie.t=ze[1].t,Ie.v=ze[1].v,ze[1].z!=null&&(Ie.z=ze[1].z),ze[1].f!=null&&(Ie.f=ze[1].f);break}H.dense?(D[ze[0].r]||(D[ze[0].r]=[]),D[ze[0].r][ze[0].c]=ze[1]):D[Fs(ze[0])]=ze[1];break}},H);else if(F[2]==26||F[2]==14)H.Enum=R,F[2]==14&&(H.qpro=!0,F.l=0),t(F,function(ze,ot,wt){switch(wt){case 204:_=ze;break;case 22:ze[1].v=ze[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ze[3]>ge&&(D["!ref"]=Rs(ue),Ne[_]=D,Ce.push(_),D=H.dense?[]:{},ue={s:{r:0,c:0},e:{r:0,c:0}},ge=ze[3],_="Sheet"+(ge+1)),Oe>0&&ze[0].r>=Oe)break;H.dense?(D[ze[0].r]||(D[ze[0].r]=[]),D[ze[0].r][ze[0].c]=ze[1]):D[Fs(ze[0])]=ze[1],ue.e.c<ze[0].c&&(ue.e.c=ze[0].c),ue.e.r<ze[0].r&&(ue.e.r=ze[0].r);break;case 27:ze[14e3]&&(fe[ze[14e3][0]]=ze[14e3][1]);break;case 1537:fe[ze[0]]=ze[1],ze[0]==ge&&(_=ze[1]);break}},H);else throw new Error("Unrecognized LOTUS BOF "+F[2]);if(D["!ref"]=Rs(ue),Ne[xe||_]=D,Ce.push(xe||_),!fe.length)return{SheetNames:Ce,Sheets:Ne};for(var De={},Ae=[],Ee=0;Ee<fe.length;++Ee)Ne[Ce[Ee]]?(Ae.push(fe[Ee]||Ce[Ee]),De[fe[Ee]]=Ne[fe[Ee]]||Ne[Ce[Ee]]):(Ae.push(fe[Ee]),De[fe[Ee]]={"!ref":"A1"});return{SheetNames:Ae,Sheets:De}}function r(F,A){var H=A||{};if(+H.codepage>=0&&ll(+H.codepage),H.type=="string")throw new Error("Cannot write WK1 to JS string");var D=Zn(),_=na(F["!ref"]),xe=Array.isArray(F),ge=[];as(D,0,l(1030)),as(D,6,x(_));for(var Ne=Math.min(_.e.r,8191),Ce=_.s.r;Ce<=Ne;++Ce)for(var fe=yr(Ce),ue=_.s.c;ue<=_.e.c;++ue){Ce===_.s.r&&(ge[ue]=ar(ue));var Oe=ge[ue]+fe,De=xe?(F[Ce]||[])[ue]:F[Oe];if(!(!De||De.t=="z"))if(De.t=="n")(De.v|0)==De.v&&De.v>=-32768&&De.v<=32767?as(D,13,N(Ce,ue,De.v)):as(D,14,v(Ce,ue,De.v));else{var Ae=ji(De);as(D,15,b(Ce,ue,Ae.slice(0,239)))}}return as(D,1),D.end()}function n(F,A){var H=A||{};if(+H.codepage>=0&&ll(+H.codepage),H.type=="string")throw new Error("Cannot write WK3 to JS string");var D=Zn();as(D,0,i(F));for(var _=0,xe=0;_<F.SheetNames.length;++_)(F.Sheets[F.SheetNames[_]]||{})["!ref"]&&as(D,27,re(F.SheetNames[_],xe++));var ge=0;for(_=0;_<F.SheetNames.length;++_){var Ne=F.Sheets[F.SheetNames[_]];if(!(!Ne||!Ne["!ref"])){for(var Ce=na(Ne["!ref"]),fe=Array.isArray(Ne),ue=[],Oe=Math.min(Ce.e.r,8191),De=Ce.s.r;De<=Oe;++De)for(var Ae=yr(De),Ee=Ce.s.c;Ee<=Ce.e.c;++Ee){De===Ce.s.r&&(ue[Ee]=ar(Ee));var ze=ue[Ee]+Ae,ot=fe?(Ne[De]||[])[Ee]:Ne[ze];if(!(!ot||ot.t=="z"))if(ot.t=="n")as(D,23,O(De,Ee,ge,ot.v));else{var wt=ji(ot);as(D,22,E(De,Ee,ge,wt.slice(0,239)))}}++ge}}return as(D,1),D.end()}function l(F){var A=Wt(2);return A.write_shift(2,F),A}function i(F){var A=Wt(26);A.write_shift(2,4096),A.write_shift(2,4),A.write_shift(4,0);for(var H=0,D=0,_=0,xe=0;xe<F.SheetNames.length;++xe){var ge=F.SheetNames[xe],Ne=F.Sheets[ge];if(!(!Ne||!Ne["!ref"])){++_;var Ce=so(Ne["!ref"]);H<Ce.e.r&&(H=Ce.e.r),D<Ce.e.c&&(D=Ce.e.c)}}return H>8191&&(H=8191),A.write_shift(2,H),A.write_shift(1,_),A.write_shift(1,D),A.write_shift(2,0),A.write_shift(2,0),A.write_shift(1,1),A.write_shift(1,2),A.write_shift(4,0),A.write_shift(4,0),A}function d(F,A,H){var D={s:{c:0,r:0},e:{c:0,r:0}};return A==8&&H.qpro?(D.s.c=F.read_shift(1),F.l++,D.s.r=F.read_shift(2),D.e.c=F.read_shift(1),F.l++,D.e.r=F.read_shift(2),D):(D.s.c=F.read_shift(2),D.s.r=F.read_shift(2),A==12&&H.qpro&&(F.l+=2),D.e.c=F.read_shift(2),D.e.r=F.read_shift(2),A==12&&H.qpro&&(F.l+=2),D.s.c==65535&&(D.s.c=D.e.c=D.s.r=D.e.r=0),D)}function x(F){var A=Wt(8);return A.write_shift(2,F.s.c),A.write_shift(2,F.s.r),A.write_shift(2,F.e.c),A.write_shift(2,F.e.r),A}function h(F,A,H){var D=[{c:0,r:0},{t:"n",v:0},0,0];return H.qpro&&H.vers!=20768?(D[0].c=F.read_shift(1),D[3]=F.read_shift(1),D[0].r=F.read_shift(2),F.l+=2):(D[2]=F.read_shift(1),D[0].c=F.read_shift(2),D[0].r=F.read_shift(2)),D}function m(F,A,H){var D=F.l+A,_=h(F,A,H);if(_[1].t="s",H.vers==20768){F.l++;var xe=F.read_shift(1);return _[1].v=F.read_shift(xe,"utf8"),_}return H.qpro&&F.l++,_[1].v=F.read_shift(D-F.l,"cstr"),_}function b(F,A,H){var D=Wt(7+H.length);D.write_shift(1,255),D.write_shift(2,A),D.write_shift(2,F),D.write_shift(1,39);for(var _=0;_<D.length;++_){var xe=H.charCodeAt(_);D.write_shift(1,xe>=128?95:xe)}return D.write_shift(1,0),D}function f(F,A,H){var D=h(F,A,H);return D[1].v=F.read_shift(2,"i"),D}function N(F,A,H){var D=Wt(7);return D.write_shift(1,255),D.write_shift(2,A),D.write_shift(2,F),D.write_shift(2,H,"i"),D}function p(F,A,H){var D=h(F,A,H);return D[1].v=F.read_shift(8,"f"),D}function v(F,A,H){var D=Wt(13);return D.write_shift(1,255),D.write_shift(2,A),D.write_shift(2,F),D.write_shift(8,H,"f"),D}function y(F,A,H){var D=F.l+A,_=h(F,A,H);if(_[1].v=F.read_shift(8,"f"),H.qpro)F.l=D;else{var xe=F.read_shift(2);S(F.slice(F.l,F.l+xe),_),F.l+=xe}return _}function g(F,A,H){var D=A&32768;return A&=-32769,A=(D?F:0)+(A>=8192?A-16384:A),(D?"":"$")+(H?ar(A):yr(A))}var j={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},C=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function S(F,A){rn(F,0);for(var H=[],D=0,_="",xe="",ge="",Ne="";F.l<F.length;){var Ce=F[F.l++];switch(Ce){case 0:H.push(F.read_shift(8,"f"));break;case 1:xe=g(A[0].c,F.read_shift(2),!0),_=g(A[0].r,F.read_shift(2),!1),H.push(xe+_);break;case 2:{var fe=g(A[0].c,F.read_shift(2),!0),ue=g(A[0].r,F.read_shift(2),!1);xe=g(A[0].c,F.read_shift(2),!0),_=g(A[0].r,F.read_shift(2),!1),H.push(fe+ue+":"+xe+_)}break;case 3:if(F.l<F.length){console.error("WK1 premature formula end");return}break;case 4:H.push("("+H.pop()+")");break;case 5:H.push(F.read_shift(2));break;case 6:{for(var Oe="";Ce=F[F.l++];)Oe+=String.fromCharCode(Ce);H.push('"'+Oe.replace(/"/g,'""')+'"')}break;case 8:H.push("-"+H.pop());break;case 23:H.push("+"+H.pop());break;case 22:H.push("NOT("+H.pop()+")");break;case 20:case 21:Ne=H.pop(),ge=H.pop(),H.push(["AND","OR"][Ce-20]+"("+ge+","+Ne+")");break;default:if(Ce<32&&C[Ce])Ne=H.pop(),ge=H.pop(),H.push(ge+C[Ce]+Ne);else if(j[Ce]){if(D=j[Ce][1],D==69&&(D=F[F.l++]),D>H.length){console.error("WK1 bad formula parse 0x"+Ce.toString(16)+":|"+H.join("|")+"|");return}var De=H.slice(-D);H.length-=D,H.push(j[Ce][0]+"("+De.join(",")+")")}else return Ce<=7?console.error("WK1 invalid opcode "+Ce.toString(16)):Ce<=24?console.error("WK1 unsupported op "+Ce.toString(16)):Ce<=30?console.error("WK1 invalid opcode "+Ce.toString(16)):Ce<=115?console.error("WK1 unsupported function opcode "+Ce.toString(16)):console.error("WK1 unrecognized opcode "+Ce.toString(16))}}H.length==1?A[1].f=""+H[0]:console.error("WK1 bad formula parse |"+H.join("|")+"|")}function P(F){var A=[{c:0,r:0},{t:"n",v:0},0];return A[0].r=F.read_shift(2),A[3]=F[F.l++],A[0].c=F[F.l++],A}function k(F,A){var H=P(F);return H[1].t="s",H[1].v=F.read_shift(A-4,"cstr"),H}function E(F,A,H,D){var _=Wt(6+D.length);_.write_shift(2,F),_.write_shift(1,H),_.write_shift(1,A),_.write_shift(1,39);for(var xe=0;xe<D.length;++xe){var ge=D.charCodeAt(xe);_.write_shift(1,ge>=128?95:ge)}return _.write_shift(1,0),_}function M(F,A){var H=P(F);H[1].v=F.read_shift(2);var D=H[1].v>>1;if(H[1].v&1)switch(D&7){case 0:D=(D>>3)*5e3;break;case 1:D=(D>>3)*500;break;case 2:D=(D>>3)/20;break;case 3:D=(D>>3)/200;break;case 4:D=(D>>3)/2e3;break;case 5:D=(D>>3)/2e4;break;case 6:D=(D>>3)/16;break;case 7:D=(D>>3)/64;break}return H[1].v=D,H}function L(F,A){var H=P(F),D=F.read_shift(4),_=F.read_shift(4),xe=F.read_shift(2);if(xe==65535)return D===0&&_===3221225472?(H[1].t="e",H[1].v=15):D===0&&_===3489660928?(H[1].t="e",H[1].v=42):H[1].v=0,H;var ge=xe&32768;return xe=(xe&32767)-16446,H[1].v=(1-ge*2)*(_*Math.pow(2,xe+32)+D*Math.pow(2,xe)),H}function O(F,A,H,D){var _=Wt(14);if(_.write_shift(2,F),_.write_shift(1,H),_.write_shift(1,A),D==0)return _.write_shift(4,0),_.write_shift(4,0),_.write_shift(2,65535),_;var xe=0,ge=0,Ne=0,Ce=0;return D<0&&(xe=1,D=-D),ge=Math.log2(D)|0,D/=Math.pow(2,ge-31),Ce=D>>>0,(Ce&2147483648)==0&&(D/=2,++ge,Ce=D>>>0),D-=Ce,Ce|=2147483648,Ce>>>=0,D*=Math.pow(2,32),Ne=D>>>0,_.write_shift(4,Ne),_.write_shift(4,Ce),ge+=16383+(xe?32768:0),_.write_shift(2,ge),_}function q(F,A){var H=L(F);return F.l+=A-14,H}function B(F,A){var H=P(F),D=F.read_shift(4);return H[1].v=D>>6,H}function se(F,A){var H=P(F),D=F.read_shift(8,"f");return H[1].v=D,H}function le(F,A){var H=se(F);return F.l+=A-10,H}function pe(F,A){return F[F.l+A-1]==0?F.read_shift(A,"cstr"):""}function U(F,A){var H=F[F.l++];H>A-1&&(H=A-1);for(var D="";D.length<H;)D+=String.fromCharCode(F[F.l++]);return D}function Y(F,A,H){if(!(!H.qpro||A<21)){var D=F.read_shift(1);F.l+=17,F.l+=1,F.l+=2;var _=F.read_shift(A-21,"cstr");return[D,_]}}function W(F,A){for(var H={},D=F.l+A;F.l<D;){var _=F.read_shift(2);if(_==14e3){for(H[_]=[0,""],H[_][0]=F.read_shift(2);F[F.l];)H[_][1]+=String.fromCharCode(F[F.l]),F.l++;F.l++}}return H}function re(F,A){var H=Wt(5+F.length);H.write_shift(2,14e3),H.write_shift(2,A);for(var D=0;D<F.length;++D){var _=F.charCodeAt(D);H[H.l++]=_>127?95:_}return H[H.l++]=0,H}var G={0:{n:"BOF",f:Dr},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:d},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f},14:{n:"NUMBER",f:p},15:{n:"LABEL",f:m},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:m},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:pe},222:{n:"SHEETNAMELP",f:U},65535:{n:""}},R={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:k},23:{n:"NUMBER17",f:L},24:{n:"NUMBER18",f:M},25:{n:"FORMULA19",f:q},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:W},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:B},38:{n:"??"},39:{n:"NUMBER27",f:se},40:{n:"FORMULA28",f:le},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:pe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Y},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:n,to_workbook:s}})();function FB(t){var s={},a=t.match(Dn),r=0,n=!1;if(a)for(;r!=a.length;++r){var l=Ms(a[r]);switch(l[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!l.val)break;case"<shadow>":case"<shadow/>":s.shadow=1;break;case"</shadow>":break;case"<charset":if(l.val=="1")break;s.cp=Bb[parseInt(l.val,10)];break;case"<outline":if(!l.val)break;case"<outline>":case"<outline/>":s.outline=1;break;case"</outline>":break;case"<rFont":s.name=l.val;break;case"<sz":s.sz=l.val;break;case"<strike":if(!l.val)break;case"<strike>":case"<strike/>":s.strike=1;break;case"</strike>":break;case"<u":if(!l.val)break;switch(l.val){case"double":s.uval="double";break;case"singleAccounting":s.uval="single-accounting";break;case"doubleAccounting":s.uval="double-accounting";break}case"<u>":case"<u/>":s.u=1;break;case"</u>":break;case"<b":if(l.val=="0")break;case"<b>":case"<b/>":s.b=1;break;case"</b>":break;case"<i":if(l.val=="0")break;case"<i>":case"<i/>":s.i=1;break;case"</i>":break;case"<color":l.rgb&&(s.color=l.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":s.family=l.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":s.valign=l.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(l[0].charCodeAt(1)!==47&&!n)throw new Error("Unrecognized rich format "+l[0])}}return s}var PB=(function(){var t=Qu("t"),s=Qu("rPr");function a(l){var i=l.match(t);if(!i)return{t:"s",v:""};var d={t:"s",v:ra(i[1])},x=l.match(s);return x&&(d.s=FB(x[1])),d}var r=/<(?:\w+:)?r>/g,n=/<\/(?:\w+:)?r>/;return function(i){return i.replace(r,"").split(n).map(a).filter(function(d){return d.v})}})(),MB=(function(){var s=/(\r\n|\n)/g;function a(n,l,i){var d=[];n.u&&d.push("text-decoration: underline;"),n.uval&&d.push("text-underline-style:"+n.uval+";"),n.sz&&d.push("font-size:"+n.sz+"pt;"),n.outline&&d.push("text-effect: outline;"),n.shadow&&d.push("text-shadow: auto;"),l.push('<span style="'+d.join("")+'">'),n.b&&(l.push("<b>"),i.push("</b>")),n.i&&(l.push("<i>"),i.push("</i>")),n.strike&&(l.push("<s>"),i.push("</s>"));var x=n.valign||"";return x=="superscript"||x=="super"?x="sup":x=="subscript"&&(x="sub"),x!=""&&(l.push("<"+x+">"),i.push("</"+x+">")),i.push("</span>"),n}function r(n){var l=[[],n.v,[]];return n.v?(n.s&&a(n.s,l[0],l[2]),l[0].join("")+l[1].replace(s,"<br/>")+l[2].join("")):""}return function(l){return l.map(r).join("")}})(),IB=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,LB=/<(?:\w+:)?r>/,OB=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function iv(t,s){var a=s?s.cellHTML:!0,r={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=ra(Pa(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=Pa(t),a&&(r.h=Kb(r.t))):t.match(LB)&&(r.r=Pa(t),r.t=ra(Pa((t.replace(OB,"").match(IB)||[]).join("").replace(Dn,""))),a&&(r.h=MB(PB(r.r)))),r):{t:""}}var _B=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,BB=/<(?:\w+:)?(?:si|sstItem)>/g,RB=/<\/(?:\w+:)?(?:si|sstItem)>/;function UB(t,s){var a=[],r="";if(!t)return a;var n=t.match(_B);if(n){r=n[2].replace(BB,"").split(RB);for(var l=0;l!=r.length;++l){var i=iv(r[l].trim(),s);i!=null&&(a[a.length]=i)}n=Ms(n[1]),a.Count=n.count,a.Unique=n.uniqueCount}return a}var HB=/^\s|\s$|[\t\n\r]/;function Fk(t,s){if(!s.bookSST)return"";var a=[Nr];a[a.length]=ss("sst",null,{xmlns:wd[0],count:t.Count,uniqueCount:t.Unique});for(var r=0;r!=t.length;++r)if(t[r]!=null){var n=t[r],l="<si>";n.r?l+=n.r:(l+="<t",n.t||(n.t=""),n.t.match(HB)&&(l+=' xml:space="preserve"'),l+=">"+Ta(n.t)+"</t>"),l+="</si>",a[a.length]=l}return a.length>2&&(a[a.length]="</sst>",a[1]=a[1].replace("/>",">")),a.join("")}function WB(t){return[t.read_shift(4),t.read_shift(4)]}function GB(t,s){var a=[],r=!1;return ki(t,function(l,i,d){switch(d){case 159:a.Count=l[0],a.Unique=l[1];break;case 19:a.push(l);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(i.T,!r||s.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}),a}function $B(t,s){return s||(s=Wt(8)),s.write_shift(4,t.Count),s.write_shift(4,t.Unique),s}var zB=t8;function VB(t){var s=Zn();Yt(s,159,$B(t));for(var a=0;a<t.length;++a)Yt(s,19,zB(t[a]));return Yt(s,160),s.end()}function Pk(t){for(var s=[],a=t.split(""),r=0;r<a.length;++r)s[r]=a[r].charCodeAt(0);return s}function bi(t,s){var a={};return a.Major=t.read_shift(2),a.Minor=t.read_shift(2),s>=4&&(t.l+=s-4),a}function YB(t){var s={};return s.id=t.read_shift(0,"lpp4"),s.R=bi(t,4),s.U=bi(t,4),s.W=bi(t,4),s}function KB(t){for(var s=t.read_shift(4),a=t.l+s-4,r={},n=t.read_shift(4),l=[];n-- >0;)l.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(r.name=t.read_shift(0,"lpp4"),r.comps=l,t.l!=a)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+a);return r}function qB(t){var s=[];t.l+=4;for(var a=t.read_shift(4);a-- >0;)s.push(KB(t));return s}function XB(t){var s=[];t.l+=4;for(var a=t.read_shift(4);a-- >0;)s.push(t.read_shift(0,"lpp4"));return s}function JB(t){var s={};return t.read_shift(4),t.l+=4,s.id=t.read_shift(0,"lpp4"),s.name=t.read_shift(0,"lpp4"),s.R=bi(t,4),s.U=bi(t,4),s.W=bi(t,4),s}function QB(t){var s=JB(t);if(s.ename=t.read_shift(0,"8lpp4"),s.blksz=t.read_shift(4),s.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return s}function Mk(t,s){var a=t.l+s,r={};r.Flags=t.read_shift(4)&63,t.l+=4,r.AlgID=t.read_shift(4);var n=!1;switch(r.AlgID){case 26126:case 26127:case 26128:n=r.Flags==36;break;case 26625:n=r.Flags==4;break;case 0:n=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!n)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=t.read_shift(4),r.KeySize=t.read_shift(4),r.ProviderType=t.read_shift(4),t.l+=8,r.CSPName=t.read_shift(a-t.l>>1,"utf16le"),t.l=a,r}function Ik(t,s){var a={},r=t.l+s;return t.l+=4,a.Salt=t.slice(t.l,t.l+16),t.l+=16,a.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),a.VerifierHash=t.slice(t.l,r),t.l=r,a}function ZB(t){var s=bi(t);switch(s.Minor){case 2:return[s.Minor,eR(t)];case 3:return[s.Minor,tR()];case 4:return[s.Minor,sR(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+s.Minor)}function eR(t){var s=t.read_shift(4);if((s&63)!=36)throw new Error("EncryptionInfo mismatch");var a=t.read_shift(4),r=Mk(t,a),n=Ik(t,t.length-t.l);return{t:"Std",h:r,v:n}}function tR(){throw new Error("File is password-protected: ECMA-376 Extensible")}function sR(t){var s=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var a=t.read_shift(t.length-t.l,"utf8"),r={};return a.replace(Dn,function(l){var i=Ms(l);switch(Yl(i[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":s.forEach(function(d){r[d]=i[d]});break;case"<dataIntegrity":r.encryptedHmacKey=i.encryptedHmacKey,r.encryptedHmacValue=i.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=i.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(i);break;default:throw i[0]}}),r}function aR(t,s){var a={},r=a.EncryptionVersionInfo=bi(t,4);if(s-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);a.Flags=t.read_shift(4),s-=4;var n=t.read_shift(4);return s-=4,a.EncryptionHeader=Mk(t,n),s-=n,a.EncryptionVerifier=Ik(t,s),a}function rR(t){var s={},a=s.EncryptionVersionInfo=bi(t,4);if(a.Major!=1||a.Minor!=1)throw"unrecognized version code "+a.Major+" : "+a.Minor;return s.Salt=t.read_shift(16),s.EncryptedVerifier=t.read_shift(16),s.EncryptedVerifierHash=t.read_shift(16),s}function cv(t){var s=0,a,r=Pk(t),n=r.length+1,l,i,d,x,h;for(a=xc(n),a[0]=r.length,l=1;l!=n;++l)a[l]=r[l-1];for(l=n-1;l>=0;--l)i=a[l],d=(s&16384)===0?0:1,x=s<<1&32767,h=d|x,s=h^i;return s^52811}var Lk=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],s=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],a=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(i){return(i/2|i*128)&255},n=function(i,d){return r(i^d)},l=function(i){for(var d=s[i.length-1],x=104,h=i.length-1;h>=0;--h)for(var m=i[h],b=0;b!=7;++b)m&64&&(d^=a[x]),m*=2,--x;return d};return function(i){for(var d=Pk(i),x=l(d),h=d.length,m=xc(16),b=0;b!=16;++b)m[b]=0;var f,N,p;for((h&1)===1&&(f=x>>8,m[h]=n(t[0],f),--h,f=x&255,N=d[d.length-1],m[h]=n(N,f));h>0;)--h,f=x>>8,m[h]=n(d[h],f),--h,f=x&255,m[h]=n(d[h],f);for(h=15,p=15-d.length;p>0;)f=x>>8,m[h]=n(t[p],f),--h,--p,f=x&255,m[h]=n(d[h],f),--h,--p;return m}})(),nR=function(t,s,a,r,n){n||(n=s),r||(r=Lk(t));var l,i;for(l=0;l!=s.length;++l)i=s[l],i^=r[a],i=(i>>5|i<<3)&255,n[l]=i,++a;return[n,a,r]},oR=function(t){var s=0,a=Lk(t);return function(r){var n=nR("",r,s,a);return s=n[1],n[0]}};function lR(t,s,a,r){var n={key:Dr(t),verificationBytes:Dr(t)};return a.password&&(n.verifier=cv(a.password)),r.valid=n.verificationBytes===n.verifier,r.valid&&(r.insitu=oR(a.password)),n}function iR(t,s,a){var r=a||{};return r.Info=t.read_shift(2),t.l-=2,r.Info===1?r.Data=rR(t):r.Data=aR(t,s),r}function cR(t,s,a){var r={Type:a.biff>=8?t.read_shift(2):0};return r.Type?iR(t,s-2,r):lR(t,a.biff>=8?s:s-2,a,r),r}var Ok=(function(){function t(n,l){switch(l.type){case"base64":return s(yo(n),l);case"binary":return s(n,l);case"buffer":return s($s&&Buffer.isBuffer(n)?n.toString("binary"):bc(n),l);case"array":return s(ud(n),l)}throw new Error("Unrecognized type "+l.type)}function s(n,l){var i=l||{},d=i.dense?[]:{},x=n.match(/\\trowd.*?\\row\b/g);if(!x.length)throw new Error("RTF missing table");var h={s:{c:0,r:0},e:{c:0,r:x.length-1}};return x.forEach(function(m,b){Array.isArray(d)&&(d[b]=[]);for(var f=/\\\w+\b/g,N=0,p,v=-1;p=f.exec(m);){switch(p[0]){case"\\cell":var y=m.slice(N,f.lastIndex-p[0].length);if(y[0]==" "&&(y=y.slice(1)),++v,y.length){var g={v:y,t:"s"};Array.isArray(d)?d[b][v]=g:d[Fs({r:b,c:v})]=g}break}N=f.lastIndex}v>h.e.c&&(h.e.c=v)}),d["!ref"]=Rs(h),d}function a(n,l){return vc(t(n,l),l)}function r(n){for(var l=["{\\rtf1\\ansi"],i=na(n["!ref"]),d,x=Array.isArray(n),h=i.s.r;h<=i.e.r;++h){l.push("\\trowd\\trautofit1");for(var m=i.s.c;m<=i.e.c;++m)l.push("\\cellx"+(m+1));for(l.push("\\pard\\intbl"),m=i.s.c;m<=i.e.c;++m){var b=Fs({r:h,c:m});d=x?(n[h]||[])[m]:n[b],!(!d||d.v==null&&(!d.f||d.F))&&(l.push(" "+(d.w||(ji(d),d.w))),l.push("\\cell"))}l.push("\\pard\\intbl\\row")}return l.join("")+"}"}return{to_workbook:a,to_sheet:t,from_sheet:r}})();function dR(t){var s=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(s.slice(0,2),16),parseInt(s.slice(2,4),16),parseInt(s.slice(4,6),16)]}function sx(t){for(var s=0,a=1;s!=3;++s)a=a*256+(t[s]>255?255:t[s]<0?0:t[s]);return a.toString(16).toUpperCase().slice(1)}function uR(t){var s=t[0]/255,a=t[1]/255,r=t[2]/255,n=Math.max(s,a,r),l=Math.min(s,a,r),i=n-l;if(i===0)return[0,0,s];var d=0,x=0,h=n+l;switch(x=i/(h>1?2-h:h),n){case s:d=((a-r)/i+6)%6;break;case a:d=(r-s)/i+2;break;case r:d=(s-a)/i+4;break}return[d/6,x,h/2]}function xR(t){var s=t[0],a=t[1],r=t[2],n=a*2*(r<.5?r:1-r),l=r-n/2,i=[l,l,l],d=6*s,x;if(a!==0)switch(d|0){case 0:case 6:x=n*d,i[0]+=n,i[1]+=x;break;case 1:x=n*(2-d),i[0]+=x,i[1]+=n;break;case 2:x=n*(d-2),i[1]+=n,i[2]+=x;break;case 3:x=n*(4-d),i[1]+=x,i[2]+=n;break;case 4:x=n*(d-4),i[2]+=n,i[0]+=x;break;case 5:x=n*(6-d),i[2]+=x,i[0]+=n;break}for(var h=0;h!=3;++h)i[h]=Math.round(i[h]*255);return i}function Mp(t,s){if(s===0)return t;var a=uR(dR(t));return s<0?a[2]=a[2]*(1+s):a[2]=1-(1-a[2])*(1-s),sx(xR(a))}var _k=6,hR=15,mR=1,wn=_k;function ax(t){return Math.floor((t+Math.round(128/wn)/256)*wn)}function rx(t){return Math.floor((t-5)/wn*100+.5)/100}function Ip(t){return Math.round((t*wn+5)/wn*256)/256}function ey(t){return Ip(rx(ax(t)))}function dv(t){var s=Math.abs(t-ey(t)),a=wn;if(s>.005)for(wn=mR;wn<hR;++wn)Math.abs(t-ey(t))<=s&&(s=Math.abs(t-ey(t)),a=wn);wn=a}function hc(t){t.width?(t.wpx=ax(t.width),t.wch=rx(t.wpx),t.MDW=wn):t.wpx?(t.wch=rx(t.wpx),t.width=Ip(t.wch),t.MDW=wn):typeof t.wch=="number"&&(t.width=Ip(t.wch),t.wpx=ax(t.width),t.MDW=wn),t.customWidth&&delete t.customWidth}var pR=96,Bk=pR;function nx(t){return t*96/Bk}function M0(t){return t*Bk/96}var fR={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function gR(t,s,a,r){s.Borders=[];var n={},l=!1;(t[0].match(Dn)||[]).forEach(function(i){var d=Ms(i);switch(Yl(d[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":n={},d.diagonalUp&&(n.diagonalUp=Va(d.diagonalUp)),d.diagonalDown&&(n.diagonalDown=Va(d.diagonalDown)),s.Borders.push(n);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":l=!0;break;case"</ext>":l=!1;break;default:if(r&&r.WTF&&!l)throw new Error("unrecognized "+d[0]+" in borders")}})}function yR(t,s,a,r){s.Fills=[];var n={},l=!1;(t[0].match(Dn)||[]).forEach(function(i){var d=Ms(i);switch(Yl(d[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":n={},s.Fills.push(n);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":s.Fills.push(n),n={};break;case"<patternFill":case"<patternFill>":d.patternType&&(n.patternType=d.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":n.bgColor||(n.bgColor={}),d.indexed&&(n.bgColor.indexed=parseInt(d.indexed,10)),d.theme&&(n.bgColor.theme=parseInt(d.theme,10)),d.tint&&(n.bgColor.tint=parseFloat(d.tint)),d.rgb&&(n.bgColor.rgb=d.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":n.fgColor||(n.fgColor={}),d.theme&&(n.fgColor.theme=parseInt(d.theme,10)),d.tint&&(n.fgColor.tint=parseFloat(d.tint)),d.rgb!=null&&(n.fgColor.rgb=d.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":l=!0;break;case"</ext>":l=!1;break;default:if(r&&r.WTF&&!l)throw new Error("unrecognized "+d[0]+" in fills")}})}function bR(t,s,a,r){s.Fonts=[];var n={},l=!1;(t[0].match(Dn)||[]).forEach(function(i){var d=Ms(i);switch(Yl(d[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":s.Fonts.push(n),n={};break;case"<name":d.val&&(n.name=Pa(d.val));break;case"<name/>":case"</name>":break;case"<b":n.bold=d.val?Va(d.val):1;break;case"<b/>":n.bold=1;break;case"<i":n.italic=d.val?Va(d.val):1;break;case"<i/>":n.italic=1;break;case"<u":switch(d.val){case"none":n.underline=0;break;case"single":n.underline=1;break;case"double":n.underline=2;break;case"singleAccounting":n.underline=33;break;case"doubleAccounting":n.underline=34;break}break;case"<u/>":n.underline=1;break;case"<strike":n.strike=d.val?Va(d.val):1;break;case"<strike/>":n.strike=1;break;case"<outline":n.outline=d.val?Va(d.val):1;break;case"<outline/>":n.outline=1;break;case"<shadow":n.shadow=d.val?Va(d.val):1;break;case"<shadow/>":n.shadow=1;break;case"<condense":n.condense=d.val?Va(d.val):1;break;case"<condense/>":n.condense=1;break;case"<extend":n.extend=d.val?Va(d.val):1;break;case"<extend/>":n.extend=1;break;case"<sz":d.val&&(n.sz=+d.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":d.val&&(n.vertAlign=d.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":d.val&&(n.family=parseInt(d.val,10));break;case"<family/>":case"</family>":break;case"<scheme":d.val&&(n.scheme=d.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(d.val=="1")break;d.codepage=Bb[parseInt(d.val,10)];break;case"<color":if(n.color||(n.color={}),d.auto&&(n.color.auto=Va(d.auto)),d.rgb)n.color.rgb=d.rgb.slice(-6);else if(d.indexed){n.color.index=parseInt(d.indexed,10);var x=ad[n.color.index];n.color.index==81&&(x=ad[1]),x||(x=ad[1]),n.color.rgb=x[0].toString(16)+x[1].toString(16)+x[2].toString(16)}else d.theme&&(n.color.theme=parseInt(d.theme,10),d.tint&&(n.color.tint=parseFloat(d.tint)),d.theme&&a.themeElements&&a.themeElements.clrScheme&&(n.color.rgb=Mp(a.themeElements.clrScheme[n.color.theme].rgb,n.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":l=!0;break;case"</AlternateContent>":l=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":l=!0;break;case"</ext>":l=!1;break;default:if(r&&r.WTF&&!l)throw new Error("unrecognized "+d[0]+" in fonts")}})}function vR(t,s,a){s.NumberFmt=[];for(var r=xr(As),n=0;n<r.length;++n)s.NumberFmt[r[n]]=As[r[n]];var l=t[0].match(Dn);if(l)for(n=0;n<l.length;++n){var i=Ms(l[n]);switch(Yl(i[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var d=ra(Pa(i.formatCode)),x=parseInt(i.numFmtId,10);if(s.NumberFmt[x]=d,x>0){if(x>392){for(x=392;x>60&&s.NumberFmt[x]!=null;--x);s.NumberFmt[x]=d}yi(d,x)}}break;case"</numFmt>":break;default:if(a.WTF)throw new Error("unrecognized "+i[0]+" in numFmts")}}}function wR(t){var s=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var r=a[0];r<=a[1];++r)t[r]!=null&&(s[s.length]=ss("numFmt",null,{numFmtId:r,formatCode:Ta(t[r])}))}),s.length===1?"":(s[s.length]="</numFmts>",s[0]=ss("numFmts",null,{count:s.length-2}).replace("/>",">"),s.join(""))}var Zh=["numFmtId","fillId","fontId","borderId","xfId"],em=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function NR(t,s,a){s.CellXf=[];var r,n=!1;(t[0].match(Dn)||[]).forEach(function(l){var i=Ms(l),d=0;switch(Yl(i[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=i,delete r[0],d=0;d<Zh.length;++d)r[Zh[d]]&&(r[Zh[d]]=parseInt(r[Zh[d]],10));for(d=0;d<em.length;++d)r[em[d]]&&(r[em[d]]=Va(r[em[d]]));if(s.NumberFmt&&r.numFmtId>392){for(d=392;d>60;--d)if(s.NumberFmt[r.numFmtId]==s.NumberFmt[d]){r.numFmtId=d;break}}s.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var x={};i.vertical&&(x.vertical=i.vertical),i.horizontal&&(x.horizontal=i.horizontal),i.textRotation!=null&&(x.textRotation=i.textRotation),i.indent&&(x.indent=i.indent),i.wrapText&&(x.wrapText=Va(i.wrapText)),r.alignment=x;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":n=!0;break;case"</AlternateContent>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(a&&a.WTF&&!n)throw new Error("unrecognized "+i[0]+" in cellXfs")}})}function jR(t){var s=[];return s[s.length]=ss("cellXfs",null),t.forEach(function(a){s[s.length]=ss("xf",null,a)}),s[s.length]="</cellXfs>",s.length===2?"":(s[0]=ss("cellXfs",null,{count:s.length-2}).replace("/>",">"),s.join(""))}var CR=(function(){var s=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,a=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,n=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,l=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(d,x,h){var m={};if(!d)return m;d=d.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var b;return(b=d.match(s))&&vR(b,m,h),(b=d.match(n))&&bR(b,m,x,h),(b=d.match(r))&&yR(b,m,x,h),(b=d.match(l))&&gR(b,m,x,h),(b=d.match(a))&&NR(b,m,h),m}})();function Rk(t,s){var a=[Nr,ss("styleSheet",null,{xmlns:wd[0],"xmlns:vt":Pr.vt})],r;return t.SSF&&(r=wR(t.SSF))!=null&&(a[a.length]=r),a[a.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',a[a.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',a[a.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',a[a.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=jR(s.cellXfs))&&(a[a.length]=r),a[a.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',a[a.length]='<dxfs count="0"/>',a[a.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',a.length>2&&(a[a.length]="</styleSheet>",a[1]=a[1].replace("/>",">")),a.join("")}function SR(t,s){var a=t.read_shift(2),r=Cn(t);return[a,r]}function kR(t,s,a){a||(a=Wt(6+4*s.length)),a.write_shift(2,t),Yr(s,a);var r=a.length>a.l?a.slice(0,a.l):a;return a.l==null&&(a.l=a.length),r}function DR(t,s,a){var r={};r.sz=t.read_shift(2)/20;var n=i8(t);n.fItalic&&(r.italic=1),n.fCondense&&(r.condense=1),n.fExtend&&(r.extend=1),n.fShadow&&(r.shadow=1),n.fOutline&&(r.outline=1),n.fStrikeout&&(r.strike=1);var l=t.read_shift(2);switch(l===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var i=t.read_shift(1);i!=0&&(r.underline=i);var d=t.read_shift(1);d>0&&(r.family=d);var x=t.read_shift(1);switch(x>0&&(r.charset=x),t.l++,r.color=l8(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Cn(t),r}function ER(t,s){s||(s=Wt(153)),s.write_shift(2,t.sz*20),c8(t,s),s.write_shift(2,t.bold?700:400);var a=0;t.vertAlign=="superscript"?a=1:t.vertAlign=="subscript"&&(a=2),s.write_shift(2,a),s.write_shift(1,t.underline||0),s.write_shift(1,t.family||0),s.write_shift(1,t.charset||0),s.write_shift(1,0),Ap(t.color,s);var r=0;return r=2,s.write_shift(1,r),Yr(t.name,s),s.length>s.l?s.slice(0,s.l):s}var TR=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],ty,AR=kn;function q1(t,s){s||(s=Wt(84)),ty||(ty=nf(TR));var a=ty[t.patternType];a==null&&(a=40),s.write_shift(4,a);var r=0;if(a!=40)for(Ap({auto:1},s),Ap({auto:1},s);r<12;++r)s.write_shift(4,0);else{for(;r<4;++r)s.write_shift(4,0);for(;r<12;++r)s.write_shift(4,0)}return s.length>s.l?s.slice(0,s.l):s}function FR(t,s){var a=t.l+s,r=t.read_shift(2),n=t.read_shift(2);return t.l=a,{ixfe:r,numFmtId:n}}function Uk(t,s,a){a||(a=Wt(16)),a.write_shift(2,s||0),a.write_shift(2,t.numFmtId||0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(1,0),a.write_shift(1,0);var r=0;return a.write_shift(1,r),a.write_shift(1,0),a.write_shift(1,0),a.write_shift(1,0),a}function Au(t,s){return s||(s=Wt(10)),s.write_shift(1,0),s.write_shift(1,0),s.write_shift(4,0),s.write_shift(4,0),s}var PR=kn;function MR(t,s){return s||(s=Wt(51)),s.write_shift(1,0),Au(null,s),Au(null,s),Au(null,s),Au(null,s),Au(null,s),s.length>s.l?s.slice(0,s.l):s}function IR(t,s){return s||(s=Wt(52)),s.write_shift(4,t.xfId),s.write_shift(2,1),s.write_shift(1,0),s.write_shift(1,0),Tp(t.name||"",s),s.length>s.l?s.slice(0,s.l):s}function LR(t,s,a){var r=Wt(2052);return r.write_shift(4,t),Tp(s,r),Tp(a,r),r.length>r.l?r.slice(0,r.l):r}function OR(t,s,a){var r={};r.NumberFmt=[];for(var n in As)r.NumberFmt[n]=As[n];r.CellXf=[],r.Fonts=[];var l=[],i=!1;return ki(t,function(x,h,m){switch(m){case 44:r.NumberFmt[x[0]]=x[1],yi(x[1],x[0]);break;case 43:r.Fonts.push(x),x.color.theme!=null&&s&&s.themeElements&&s.themeElements.clrScheme&&(x.color.rgb=Mp(s.themeElements.clrScheme[x.color.theme].rgb,x.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:l[l.length-1]==617&&r.CellXf.push(x);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:l.push(m),i=!0;break;case 38:l.pop(),i=!1;break;default:if(h.T>0)l.push(m);else if(h.T<0)l.pop();else if(!i||a.WTF&&l[l.length-1]!=37)throw new Error("Unexpected record 0x"+m.toString(16))}}),r}function _R(t,s){if(s){var a=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)s[n]!=null&&++a}),a!=0&&(Yt(t,615,ul(a)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)s[n]!=null&&Yt(t,44,kR(n,s[n]))}),Yt(t,616))}}function BR(t){var s=1;Yt(t,611,ul(s)),Yt(t,43,ER({sz:12,color:{theme:1},name:"Calibri",family:2})),Yt(t,612)}function RR(t){var s=2;Yt(t,603,ul(s)),Yt(t,45,q1({patternType:"none"})),Yt(t,45,q1({patternType:"gray125"})),Yt(t,604)}function UR(t){var s=1;Yt(t,613,ul(s)),Yt(t,46,MR()),Yt(t,614)}function HR(t){var s=1;Yt(t,626,ul(s)),Yt(t,47,Uk({numFmtId:0},65535)),Yt(t,627)}function WR(t,s){Yt(t,617,ul(s.length)),s.forEach(function(a){Yt(t,47,Uk(a,0))}),Yt(t,618)}function GR(t){var s=1;Yt(t,619,ul(s)),Yt(t,48,IR({xfId:0,name:"Normal"})),Yt(t,620)}function $R(t){var s=0;Yt(t,505,ul(s)),Yt(t,506)}function zR(t){var s=0;Yt(t,508,LR(s,"TableStyleMedium9","PivotStyleMedium4")),Yt(t,509)}function VR(t,s){var a=Zn();return Yt(a,278),_R(a,t.SSF),BR(a),RR(a),UR(a),HR(a),WR(a,s.cellXfs),GR(a),$R(a),zR(a),Yt(a,279),a.end()}var YR=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function KR(t,s,a){s.themeElements.clrScheme=[];var r={};(t[0].match(Dn)||[]).forEach(function(n){var l=Ms(n);switch(l[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=l.val;break;case"<a:sysClr":r.rgb=l.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":l[0].charAt(1)==="/"?(s.themeElements.clrScheme[YR.indexOf(l[0])]=r,r={}):r.name=l[0].slice(3,l[0].length-1);break;default:if(a&&a.WTF)throw new Error("Unrecognized "+l[0]+" in clrScheme")}})}function qR(){}function XR(){}var JR=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,QR=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,ZR=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function e9(t,s,a){s.themeElements={};var r;[["clrScheme",JR,KR],["fontScheme",QR,qR],["fmtScheme",ZR,XR]].forEach(function(n){if(!(r=t.match(n[1])))throw new Error(n[0]+" not found in themeElements");n[2](r,s,a)})}var t9=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function Hk(t,s){(!t||t.length===0)&&(t=uv());var a,r={};if(!(a=t.match(t9)))throw new Error("themeElements not found in theme");return e9(a[0],r,s),r.raw=t,r}function uv(t,s){if(s&&s.themeXLSX)return s.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var a=[Nr];return a[a.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',a[a.length]="<a:themeElements>",a[a.length]='<a:clrScheme name="Office">',a[a.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',a[a.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',a[a.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',a[a.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',a[a.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',a[a.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',a[a.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',a[a.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',a[a.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',a[a.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',a[a.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',a[a.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',a[a.length]="</a:clrScheme>",a[a.length]='<a:fontScheme name="Office">',a[a.length]="<a:majorFont>",a[a.length]='<a:latin typeface="Cambria"/>',a[a.length]='<a:ea typeface=""/>',a[a.length]='<a:cs typeface=""/>',a[a.length]='<a:font script="Jpan" typeface=" "/>',a[a.length]='<a:font script="Hang" typeface=" "/>',a[a.length]='<a:font script="Hans" typeface=""/>',a[a.length]='<a:font script="Hant" typeface=""/>',a[a.length]='<a:font script="Arab" typeface="Times New Roman"/>',a[a.length]='<a:font script="Hebr" typeface="Times New Roman"/>',a[a.length]='<a:font script="Thai" typeface="Tahoma"/>',a[a.length]='<a:font script="Ethi" typeface="Nyala"/>',a[a.length]='<a:font script="Beng" typeface="Vrinda"/>',a[a.length]='<a:font script="Gujr" typeface="Shruti"/>',a[a.length]='<a:font script="Khmr" typeface="MoolBoran"/>',a[a.length]='<a:font script="Knda" typeface="Tunga"/>',a[a.length]='<a:font script="Guru" typeface="Raavi"/>',a[a.length]='<a:font script="Cans" typeface="Euphemia"/>',a[a.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',a[a.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',a[a.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',a[a.length]='<a:font script="Thaa" typeface="MV Boli"/>',a[a.length]='<a:font script="Deva" typeface="Mangal"/>',a[a.length]='<a:font script="Telu" typeface="Gautami"/>',a[a.length]='<a:font script="Taml" typeface="Latha"/>',a[a.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',a[a.length]='<a:font script="Orya" typeface="Kalinga"/>',a[a.length]='<a:font script="Mlym" typeface="Kartika"/>',a[a.length]='<a:font script="Laoo" typeface="DokChampa"/>',a[a.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',a[a.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',a[a.length]='<a:font script="Viet" typeface="Times New Roman"/>',a[a.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',a[a.length]='<a:font script="Geor" typeface="Sylfaen"/>',a[a.length]="</a:majorFont>",a[a.length]="<a:minorFont>",a[a.length]='<a:latin typeface="Calibri"/>',a[a.length]='<a:ea typeface=""/>',a[a.length]='<a:cs typeface=""/>',a[a.length]='<a:font script="Jpan" typeface=" "/>',a[a.length]='<a:font script="Hang" typeface=" "/>',a[a.length]='<a:font script="Hans" typeface=""/>',a[a.length]='<a:font script="Hant" typeface=""/>',a[a.length]='<a:font script="Arab" typeface="Arial"/>',a[a.length]='<a:font script="Hebr" typeface="Arial"/>',a[a.length]='<a:font script="Thai" typeface="Tahoma"/>',a[a.length]='<a:font script="Ethi" typeface="Nyala"/>',a[a.length]='<a:font script="Beng" typeface="Vrinda"/>',a[a.length]='<a:font script="Gujr" typeface="Shruti"/>',a[a.length]='<a:font script="Khmr" typeface="DaunPenh"/>',a[a.length]='<a:font script="Knda" typeface="Tunga"/>',a[a.length]='<a:font script="Guru" typeface="Raavi"/>',a[a.length]='<a:font script="Cans" typeface="Euphemia"/>',a[a.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',a[a.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',a[a.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',a[a.length]='<a:font script="Thaa" typeface="MV Boli"/>',a[a.length]='<a:font script="Deva" typeface="Mangal"/>',a[a.length]='<a:font script="Telu" typeface="Gautami"/>',a[a.length]='<a:font script="Taml" typeface="Latha"/>',a[a.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',a[a.length]='<a:font script="Orya" typeface="Kalinga"/>',a[a.length]='<a:font script="Mlym" typeface="Kartika"/>',a[a.length]='<a:font script="Laoo" typeface="DokChampa"/>',a[a.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',a[a.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',a[a.length]='<a:font script="Viet" typeface="Arial"/>',a[a.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',a[a.length]='<a:font script="Geor" typeface="Sylfaen"/>',a[a.length]="</a:minorFont>",a[a.length]="</a:fontScheme>",a[a.length]='<a:fmtScheme name="Office">',a[a.length]="<a:fillStyleLst>",a[a.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:lin ang="16200000" scaled="1"/>',a[a.length]="</a:gradFill>",a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:lin ang="16200000" scaled="0"/>',a[a.length]="</a:gradFill>",a[a.length]="</a:fillStyleLst>",a[a.length]="<a:lnStyleLst>",a[a.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',a[a.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',a[a.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',a[a.length]="</a:lnStyleLst>",a[a.length]="<a:effectStyleLst>",a[a.length]="<a:effectStyle>",a[a.length]="<a:effectLst>",a[a.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',a[a.length]="</a:effectLst>",a[a.length]="</a:effectStyle>",a[a.length]="<a:effectStyle>",a[a.length]="<a:effectLst>",a[a.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',a[a.length]="</a:effectLst>",a[a.length]="</a:effectStyle>",a[a.length]="<a:effectStyle>",a[a.length]="<a:effectLst>",a[a.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',a[a.length]="</a:effectLst>",a[a.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',a[a.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',a[a.length]="</a:effectStyle>",a[a.length]="</a:effectStyleLst>",a[a.length]="<a:bgFillStyleLst>",a[a.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',a[a.length]="</a:gradFill>",a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',a[a.length]="</a:gradFill>",a[a.length]="</a:bgFillStyleLst>",a[a.length]="</a:fmtScheme>",a[a.length]="</a:themeElements>",a[a.length]="<a:objectDefaults>",a[a.length]="<a:spDef>",a[a.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',a[a.length]="</a:spDef>",a[a.length]="<a:lnDef>",a[a.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',a[a.length]="</a:lnDef>",a[a.length]="</a:objectDefaults>",a[a.length]="<a:extraClrSchemeLst/>",a[a.length]="</a:theme>",a.join("")}function s9(t,s,a){var r=t.l+s,n=t.read_shift(4);if(n!==124226){if(!a.cellStyles){t.l=r;return}var l=t.slice(t.l);t.l=r;var i;try{i=MS(l,{type:"array"})}catch{return}var d=po(i,"theme/theme/theme1.xml",!0);if(d)return Hk(d,a)}}function a9(t){return t.read_shift(4)}function r9(t){var s={};switch(s.xclrType=t.read_shift(2),s.nTintShade=t.read_shift(2),s.xclrType){case 0:t.l+=4;break;case 1:s.xclrValue=n9(t,4);break;case 2:s.xclrValue=vk(t);break;case 3:s.xclrValue=a9(t);break;case 4:t.l+=4;break}return t.l+=8,s}function n9(t,s){return kn(t,s)}function o9(t,s){return kn(t,s)}function l9(t){var s=t.read_shift(2),a=t.read_shift(2)-4,r=[s];switch(s){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=r9(t);break;case 6:r[1]=o9(t,a);break;case 14:case 15:r[1]=t.read_shift(a===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+s+" "+a)}return r}function i9(t,s){var a=t.l+s;t.l+=2;var r=t.read_shift(2);t.l+=2;for(var n=t.read_shift(2),l=[];n-- >0;)l.push(l9(t,a-t.l));return{ixfe:r,ext:l}}function c9(t,s){s.forEach(function(a){a[0]})}function d9(t,s){return{flags:t.read_shift(4),version:t.read_shift(4),name:Cn(t)}}function u9(t){var s=Wt(12+2*t.name.length);return s.write_shift(4,t.flags),s.write_shift(4,t.version),Yr(t.name,s),s.slice(0,s.l)}function x9(t){for(var s=[],a=t.read_shift(4);a-- >0;)s.push([t.read_shift(4),t.read_shift(4)]);return s}function h9(t){var s=Wt(4+8*t.length);s.write_shift(4,t.length);for(var a=0;a<t.length;++a)s.write_shift(4,t[a][0]),s.write_shift(4,t[a][1]);return s}function m9(t,s){var a=Wt(8+2*s.length);return a.write_shift(4,t),Yr(s,a),a.slice(0,a.l)}function p9(t){return t.l+=4,t.read_shift(4)!=0}function f9(t,s){var a=Wt(8);return a.write_shift(4,t),a.write_shift(4,1),a}function g9(t,s,a){var r={Types:[],Cell:[],Value:[]},n=a||{},l=[],i=!1,d=2;return ki(t,function(x,h,m){switch(m){case 335:r.Types.push({name:x.name});break;case 51:x.forEach(function(b){d==1?r.Cell.push({type:r.Types[b[0]-1].name,index:b[1]}):d==0&&r.Value.push({type:r.Types[b[0]-1].name,index:b[1]})});break;case 337:d=x?1:0;break;case 338:d=2;break;case 35:l.push(m),i=!0;break;case 36:l.pop(),i=!1;break;default:if(!h.T){if(!i||n.WTF&&l[l.length-1]!=35)throw new Error("Unexpected record 0x"+m.toString(16))}}}),r}function y9(){var t=Zn();return Yt(t,332),Yt(t,334,ul(1)),Yt(t,335,u9({name:"XLDAPR",version:12e4,flags:3496657072})),Yt(t,336),Yt(t,339,m9(1,"XLDAPR")),Yt(t,52),Yt(t,35,ul(514)),Yt(t,4096,ul(0)),Yt(t,4097,Io(1)),Yt(t,36),Yt(t,53),Yt(t,340),Yt(t,337,f9(1)),Yt(t,51,h9([[1,0]])),Yt(t,338),Yt(t,333),t.end()}function b9(t,s,a){var r={Types:[],Cell:[],Value:[]};if(!t)return r;var n=!1,l=2,i;return t.replace(Dn,function(d){var x=Ms(d);switch(Yl(x[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:x.name});break;case"</metadataType>":break;case"<futureMetadata":for(var h=0;h<r.Types.length;++h)r.Types[h].name==x.name&&(i=r.Types[h]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":l==1?r.Cell.push({type:r.Types[x.t-1].name,index:+x.v}):l==0&&r.Value.push({type:r.Types[x.t-1].name,index:+x.v});break;case"</rc>":break;case"<cellMetadata":l=1;break;case"</cellMetadata>":l=2;break;case"<valueMetadata":l=0;break;case"</valueMetadata>":l=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<rvb":if(!i)break;i.offsets||(i.offsets=[]),i.offsets.push(+x.i);break;default:if(!n&&a.WTF)throw new Error("unrecognized "+x[0]+" in metadata")}return d}),r}function Wk(){var t=[Nr];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function v9(t){var s=[];if(!t)return s;var a=1;return(t.match(Dn)||[]).forEach(function(r){var n=Ms(r);switch(n[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete n[0],n.i?a=n.i:n.i=a,s.push(n);break}}),s}function w9(t){var s={};s.i=t.read_shift(4);var a={};a.r=t.read_shift(4),a.c=t.read_shift(4),s.r=Fs(a);var r=t.read_shift(1);return r&2&&(s.l="1"),r&8&&(s.a="1"),s}function N9(t,s,a){var r=[];return ki(t,function(l,i,d){switch(d){case 63:r.push(l);break;default:if(!i.T)throw new Error("Unexpected record 0x"+d.toString(16))}}),r}function j9(t,s,a,r){if(!t)return t;var n=r||{},l=!1;ki(t,function(d,x,h){switch(h){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:l=!0;break;case 36:l=!1;break;default:if(!x.T){if(!l||n.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}},n)}function C9(t,s){if(!t)return"??";var a=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return s["!id"][a].Target}var f0=1024;function Gk(t,s){for(var a=[21600,21600],r=["m0,0l0",a[1],a[0],a[1],a[0],"0xe"].join(","),n=[ss("xml",null,{"xmlns:v":xo.v,"xmlns:o":xo.o,"xmlns:x":xo.x,"xmlns:mv":xo.mv}).replace(/\/>/,">"),ss("o:shapelayout",ss("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),ss("v:shapetype",[ss("v:stroke",null,{joinstyle:"miter"}),ss("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:a.join(","),path:r})];f0<t*1e3;)f0+=1e3;return s.forEach(function(l){var i=rr(l[0]),d={color2:"#BEFF82",type:"gradient"};d.type=="gradient"&&(d.angle="-180");var x=d.type=="gradient"?ss("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,h=ss("v:fill",x,d),m={on:"t",obscured:"t"};++f0,n=n.concat(["<v:shape"+Zu({id:"_x0000_s"+f0,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(l[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",h,ss("v:shadow",null,m),ss("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",nn("x:Anchor",[i.c+1,0,i.r+1,0,i.c+3,20,i.r+5,20].join(",")),nn("x:AutoFill","False"),nn("x:Row",String(i.r)),nn("x:Column",String(i.c)),l[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),n.push("</xml>"),n.join("")}function X1(t,s,a,r){var n=Array.isArray(t),l;s.forEach(function(i){var d=rr(i.ref);if(n?(t[d.r]||(t[d.r]=[]),l=t[d.r][d.c]):l=t[i.ref],!l){l={t:"z"},n?t[d.r][d.c]=l:t[i.ref]=l;var x=na(t["!ref"]||"BDWGO1000001:A1");x.s.r>d.r&&(x.s.r=d.r),x.e.r<d.r&&(x.e.r=d.r),x.s.c>d.c&&(x.s.c=d.c),x.e.c<d.c&&(x.e.c=d.c);var h=Rs(x);h!==t["!ref"]&&(t["!ref"]=h)}l.c||(l.c=[]);var m={a:i.author,t:i.t,r:i.r,T:a};i.h&&(m.h=i.h);for(var b=l.c.length-1;b>=0;--b){if(!a&&l.c[b].T)return;a&&!l.c[b].T&&l.c.splice(b,1)}if(a&&r){for(b=0;b<r.length;++b)if(m.a==r[b].id){m.a=r[b].name||m.a;break}}l.c.push(m)})}function S9(t,s){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var a=[],r=[],n=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);n&&n[1]&&n[1].split(/<\/\w*:?author>/).forEach(function(i){if(!(i===""||i.trim()==="")){var d=i.match(/<(?:\w+:)?author[^>]*>(.*)/);d&&a.push(d[1])}});var l=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return l&&l[1]&&l[1].split(/<\/\w*:?comment>/).forEach(function(i){if(!(i===""||i.trim()==="")){var d=i.match(/<(?:\w+:)?comment[^>]*>/);if(d){var x=Ms(d[0]),h={author:x.authorId&&a[x.authorId]||"sheetjsghost",ref:x.ref,guid:x.guid},m=rr(x.ref);if(!(s.sheetRows&&s.sheetRows<=m.r)){var b=i.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),f=!!b&&!!b[1]&&iv(b[1])||{r:"",t:"",h:""};h.r=f.r,f.r=="<t></t>"&&(f.t=f.h=""),h.t=(f.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),s.cellHTML&&(h.h=f.h),r.push(h)}}}}),r}function $k(t){var s=[Nr,ss("comments",null,{xmlns:wd[0]})],a=[];return s.push("<authors>"),t.forEach(function(r){r[1].forEach(function(n){var l=Ta(n.a);a.indexOf(l)==-1&&(a.push(l),s.push("<author>"+l+"</author>")),n.T&&n.ID&&a.indexOf("tc="+n.ID)==-1&&(a.push("tc="+n.ID),s.push("<author>tc="+n.ID+"</author>"))})}),a.length==0&&(a.push("SheetJ5"),s.push("<author>SheetJ5</author>")),s.push("</authors>"),s.push("<commentList>"),t.forEach(function(r){var n=0,l=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?n=a.indexOf("tc="+r[1][0].ID):r[1].forEach(function(x){x.a&&(n=a.indexOf(Ta(x.a))),l.push(x.t||"")}),s.push('<comment ref="'+r[0]+'" authorId="'+n+'"><text>'),l.length<=1)s.push(nn("t",Ta(l[0]||"")));else{for(var i=`Comment:
    `+l[0]+`
`,d=1;d<l.length;++d)i+=`Reply:
    `+l[d]+`
`;s.push(nn("t",Ta(i)))}s.push("</text></comment>")}),s.push("</commentList>"),s.length>2&&(s[s.length]="</comments>",s[1]=s[1].replace("/>",">")),s.join("")}function k9(t,s){var a=[],r=!1,n={},l=0;return t.replace(Dn,function(d,x){var h=Ms(d);switch(Yl(h[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":n={author:h.personId,guid:h.id,ref:h.ref,T:1};break;case"</threadedComment>":n.t!=null&&a.push(n);break;case"<text>":case"<text":l=x+d.length;break;case"</text>":n.t=t.slice(l,x).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&s.WTF)throw new Error("unrecognized "+h[0]+" in threaded comments")}return d}),a}function D9(t,s,a){var r=[Nr,ss("ThreadedComments",null,{xmlns:Pr.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(n){var l="";(n[1]||[]).forEach(function(i,d){if(!i.T){delete i.ID;return}i.a&&s.indexOf(i.a)==-1&&s.push(i.a);var x={ref:n[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+a.tcid++).slice(-12)+"}"};d==0?l=x.id:x.parentId=l,i.ID=x.id,i.a&&(x.personId="{54EE7950-7262-4200-6969-"+("000000000000"+s.indexOf(i.a)).slice(-12)+"}"),r.push(ss("threadedComment",nn("text",i.t||""),x))})}),r.push("</ThreadedComments>"),r.join("")}function E9(t,s){var a=[],r=!1;return t.replace(Dn,function(l){var i=Ms(l);switch(Yl(i[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":a.push({name:i.displayname,id:i.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&s.WTF)throw new Error("unrecognized "+i[0]+" in threaded comments")}return l}),a}function T9(t){var s=[Nr,ss("personList",null,{xmlns:Pr.TCMNT,"xmlns:x":wd[0]}).replace(/[\/]>/,">")];return t.forEach(function(a,r){s.push(ss("person",null,{displayName:a,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:a,providerId:"None"}))}),s.push("</personList>"),s.join("")}function A9(t){var s={};s.iauthor=t.read_shift(4);var a=Sd(t);return s.rfx=a.s,s.ref=Fs(a.s),t.l+=16,s}function F9(t,s){return s==null&&(s=Wt(36)),s.write_shift(4,t[1].iauthor),K0(t[0],s),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,0),s}var P9=Cn;function M9(t){return Yr(t.slice(0,54))}function I9(t,s){var a=[],r=[],n={},l=!1;return ki(t,function(d,x,h){switch(h){case 632:r.push(d);break;case 635:n=d;break;case 637:n.t=d.t,n.h=d.h,n.r=d.r;break;case 636:if(n.author=r[n.iauthor],delete n.iauthor,s.sheetRows&&n.rfx&&s.sheetRows<=n.rfx.r)break;n.t||(n.t=""),delete n.rfx,a.push(n);break;case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:break;case 38:break;default:if(!x.T){if(!l||s.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}}),a}function L9(t){var s=Zn(),a=[];return Yt(s,628),Yt(s,630),t.forEach(function(r){r[1].forEach(function(n){a.indexOf(n.a)>-1||(a.push(n.a.slice(0,54)),Yt(s,632,M9(n.a)))})}),Yt(s,631),Yt(s,633),t.forEach(function(r){r[1].forEach(function(n){n.iauthor=a.indexOf(n.a);var l={s:rr(r[0]),e:rr(r[0])};Yt(s,635,F9([l,n])),n.t&&n.t.length>0&&Yt(s,637,a8(n)),Yt(s,636),delete n.iauthor})}),Yt(s,634),Yt(s,629),s.end()}var O9="application/vnd.ms-office.vbaProject";function _9(t){var s=Ss.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(a,r){if(!(a.slice(-1)==="/"||!a.match(/_VBA_PROJECT_CUR/))){var n=a.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Ss.utils.cfb_add(s,n,t.FileIndex[r].content)}}),Ss.write(s)}function B9(t,s){s.FullPaths.forEach(function(a,r){if(r!=0){var n=a.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");n.slice(-1)!=="/"&&Ss.utils.cfb_add(t,n,s.FileIndex[r].content)}})}var zk=["xlsb","xlsm","xlam","biff8","xla"];function R9(){return{"!type":"dialog"}}function U9(){return{"!type":"dialog"}}function H9(){return{"!type":"macro"}}function W9(){return{"!type":"macro"}}var N0=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,s={r:0,c:0};function a(r,n,l,i){var d=!1,x=!1;l.length==0?x=!0:l.charAt(0)=="["&&(x=!0,l=l.slice(1,-1)),i.length==0?d=!0:i.charAt(0)=="["&&(d=!0,i=i.slice(1,-1));var h=l.length>0?parseInt(l,10)|0:0,m=i.length>0?parseInt(i,10)|0:0;return d?m+=s.c:--m,x?h+=s.r:--h,n+(d?"":"$")+ar(m)+(x?"":"$")+yr(h)}return function(n,l){return s=l,n.replace(t,a)}})(),xv=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,hv=(function(){return function(s,a){return s.replace(xv,function(r,n,l,i,d,x){var h=Zb(i)-(l?0:a.c),m=Qb(x)-(d?0:a.r),b=m==0?"":d?m+1:"["+m+"]",f=h==0?"":l?h+1:"["+h+"]";return n+"R"+b+"C"+f})}})();function Vk(t,s){return t.replace(xv,function(a,r,n,l,i,d){return r+(n=="$"?n+l:ar(Zb(l)+s.c))+(i=="$"?i+d:yr(Qb(d)+s.r))})}function G9(t,s,a){var r=so(s),n=r.s,l=rr(a),i={r:l.r-n.r,c:l.c-n.c};return Vk(t,i)}function $9(t){return t.length!=1}function J1(t){return t.replace(/_xlfn\./g,"")}function Sr(t){t.l+=1}function mc(t,s){var a=t.read_shift(2);return[a&16383,a>>14&1,a>>15&1]}function Yk(t,s,a){var r=2;if(a){if(a.biff>=2&&a.biff<=5)return Kk(t);a.biff==12&&(r=4)}var n=t.read_shift(r),l=t.read_shift(r),i=mc(t),d=mc(t);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:l,c:d[0],cRel:d[1],rRel:d[2]}}}function Kk(t){var s=mc(t),a=mc(t),r=t.read_shift(1),n=t.read_shift(1);return{s:{r:s[0],c:r,cRel:s[1],rRel:s[2]},e:{r:a[0],c:n,cRel:a[1],rRel:a[2]}}}function z9(t,s,a){if(a.biff<8)return Kk(t);var r=t.read_shift(a.biff==12?4:2),n=t.read_shift(a.biff==12?4:2),l=mc(t),i=mc(t);return{s:{r,c:l[0],cRel:l[1],rRel:l[2]},e:{r:n,c:i[0],cRel:i[1],rRel:i[2]}}}function qk(t,s,a){if(a&&a.biff>=2&&a.biff<=5)return V9(t);var r=t.read_shift(a&&a.biff==12?4:2),n=mc(t);return{r,c:n[0],cRel:n[1],rRel:n[2]}}function V9(t){var s=mc(t),a=t.read_shift(1);return{r:s[0],c:a,cRel:s[1],rRel:s[2]}}function Y9(t){var s=t.read_shift(2),a=t.read_shift(2);return{r:s,c:a&255,fQuoted:!!(a&16384),cRel:a>>15,rRel:a>>15}}function K9(t,s,a){var r=a&&a.biff?a.biff:8;if(r>=2&&r<=5)return q9(t);var n=t.read_shift(r>=12?4:2),l=t.read_shift(2),i=(l&16384)>>14,d=(l&32768)>>15;if(l&=16383,d==1)for(;n>524287;)n-=1048576;if(i==1)for(;l>8191;)l=l-16384;return{r:n,c:l,cRel:i,rRel:d}}function q9(t){var s=t.read_shift(2),a=t.read_shift(1),r=(s&32768)>>15,n=(s&16384)>>14;return s&=16383,r==1&&s>=8192&&(s=s-16384),n==1&&a>=128&&(a=a-256),{r:s,c:a,cRel:n,rRel:r}}function X9(t,s,a){var r=(t[t.l++]&96)>>5,n=Yk(t,a.biff>=2&&a.biff<=5?6:8,a);return[r,n]}function J9(t,s,a){var r=(t[t.l++]&96)>>5,n=t.read_shift(2,"i"),l=8;if(a)switch(a.biff){case 5:t.l+=12,l=6;break;case 12:l=12;break}var i=Yk(t,l,a);return[r,n,i]}function Q9(t,s,a){var r=(t[t.l++]&96)>>5;return t.l+=a&&a.biff>8?12:a.biff<8?6:8,[r]}function Z9(t,s,a){var r=(t[t.l++]&96)>>5,n=t.read_shift(2),l=8;if(a)switch(a.biff){case 5:t.l+=12,l=6;break;case 12:l=12;break}return t.l+=l,[r,n]}function eU(t,s,a){var r=(t[t.l++]&96)>>5,n=z9(t,s-1,a);return[r,n]}function tU(t,s,a){var r=(t[t.l++]&96)>>5;return t.l+=a.biff==2?6:a.biff==12?14:7,[r]}function Q1(t){var s=t[t.l+1]&1,a=1;return t.l+=4,[s,a]}function sU(t,s,a){t.l+=2;for(var r=t.read_shift(a&&a.biff==2?1:2),n=[],l=0;l<=r;++l)n.push(t.read_shift(a&&a.biff==2?1:2));return n}function aU(t,s,a){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(a&&a.biff==2?1:2)]}function rU(t,s,a){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(a&&a.biff==2?1:2)]}function nU(t){var s=t[t.l+1]&255?1:0;return t.l+=2,[s,t.read_shift(2)]}function oU(t,s,a){var r=t[t.l+1]&255?1:0;return t.l+=a&&a.biff==2?3:4,[r]}function Xk(t){var s=t.read_shift(1),a=t.read_shift(1);return[s,a]}function lU(t){return t.read_shift(2),Xk(t)}function iU(t){return t.read_shift(2),Xk(t)}function cU(t,s,a){var r=(t[t.l]&96)>>5;t.l+=1;var n=qk(t,0,a);return[r,n]}function dU(t,s,a){var r=(t[t.l]&96)>>5;t.l+=1;var n=K9(t,0,a);return[r,n]}function uU(t,s,a){var r=(t[t.l]&96)>>5;t.l+=1;var n=t.read_shift(2);a&&a.biff==5&&(t.l+=12);var l=qk(t,0,a);return[r,n,l]}function xU(t,s,a){var r=(t[t.l]&96)>>5;t.l+=1;var n=t.read_shift(a&&a.biff<=3?1:2);return[pH[n],Zk[n],r]}function hU(t,s,a){var r=t[t.l++],n=t.read_shift(1),l=a&&a.biff<=3?[r==88?-1:0,t.read_shift(1)]:mU(t);return[n,(l[0]===0?Zk:mH)[l[1]]]}function mU(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function pU(t,s,a){t.l+=a&&a.biff==2?3:4}function fU(t,s,a){if(t.l++,a&&a.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),n=t.read_shift(a&&a.biff==2?1:2);return[r,n]}function gU(t){return t.l++,Di[t.read_shift(1)]}function yU(t){return t.l++,t.read_shift(2)}function bU(t){return t.l++,t.read_shift(1)!==0}function vU(t){return t.l++,jn(t)}function wU(t,s,a){return t.l++,Ax(t,s-1,a)}function NU(t,s){var a=[t.read_shift(1)];if(s==12)switch(a[0]){case 2:a[0]=4;break;case 4:a[0]=16;break;case 0:a[0]=1;break;case 1:a[0]=2;break}switch(a[0]){case 4:a[1]=fr(t,1)?"TRUE":"FALSE",s!=12&&(t.l+=7);break;case 37:case 16:a[1]=Di[t[t.l]],t.l+=s==12?4:8;break;case 0:t.l+=8;break;case 1:a[1]=jn(t);break;case 2:a[1]=kd(t,0,{biff:s>0&&s<8?2:s});break;default:throw new Error("Bad SerAr: "+a[0])}return a}function jU(t,s,a){for(var r=t.read_shift(a.biff==12?4:2),n=[],l=0;l!=r;++l)n.push((a.biff==12?Sd:cf)(t));return n}function CU(t,s,a){var r=0,n=0;a.biff==12?(r=t.read_shift(4),n=t.read_shift(4)):(n=1+t.read_shift(1),r=1+t.read_shift(2)),a.biff>=2&&a.biff<8&&(--r,--n==0&&(n=256));for(var l=0,i=[];l!=r&&(i[l]=[]);++l)for(var d=0;d!=n;++d)i[l][d]=NU(t,a.biff);return i}function SU(t,s,a){var r=t.read_shift(1)>>>5&3,n=!a||a.biff>=8?4:2,l=t.read_shift(n);switch(a.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,l]}function kU(t,s,a){if(a.biff==5)return DU(t);var r=t.read_shift(1)>>>5&3,n=t.read_shift(2),l=t.read_shift(4);return[r,n,l]}function DU(t){var s=t.read_shift(1)>>>5&3,a=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[s,a,r]}function EU(t,s,a){var r=t.read_shift(1)>>>5&3;t.l+=a&&a.biff==2?3:4;var n=t.read_shift(a&&a.biff==2?1:2);return[r,n]}function TU(t,s,a){var r=t.read_shift(1)>>>5&3,n=t.read_shift(a&&a.biff==2?1:2);return[r,n]}function AU(t,s,a){var r=t.read_shift(1)>>>5&3;return t.l+=4,a.biff<8&&t.l--,a.biff==12&&(t.l+=2),[r]}function FU(t,s,a){var r=(t[t.l++]&96)>>5,n=t.read_shift(2),l=4;if(a)switch(a.biff){case 5:l=15;break;case 12:l=6;break}return t.l+=l,[r,n]}var PU=kn,MU=kn,IU=kn;function Px(t,s,a){return t.l+=2,[Y9(t)]}function mv(t){return t.l+=6,[]}var LU=Px,OU=mv,_U=mv,BU=Px;function Jk(t){return t.l+=2,[Dr(t),t.read_shift(2)&1]}var RU=Px,UU=Jk,HU=mv,WU=Px,GU=Px,$U=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function zU(t){t.l+=2;var s=t.read_shift(2),a=t.read_shift(2),r=t.read_shift(4),n=t.read_shift(2),l=t.read_shift(2),i=$U[a>>2&31];return{ixti:s,coltype:a&3,rt:i,idx:r,c:n,C:l}}function VU(t){return t.l+=2,[t.read_shift(4)]}function YU(t,s,a){return t.l+=5,t.l+=2,t.l+=a.biff==2?1:4,["PTGSHEET"]}function KU(t,s,a){return t.l+=a.biff==2?4:5,["PTGENDSHEET"]}function qU(t){var s=t.read_shift(1)>>>5&3,a=t.read_shift(2);return[s,a]}function XU(t){var s=t.read_shift(1)>>>5&3,a=t.read_shift(2);return[s,a]}function JU(t){return t.l+=4,[0,0]}var Z1={1:{n:"PtgExp",f:fU},2:{n:"PtgTbl",f:IU},3:{n:"PtgAdd",f:Sr},4:{n:"PtgSub",f:Sr},5:{n:"PtgMul",f:Sr},6:{n:"PtgDiv",f:Sr},7:{n:"PtgPower",f:Sr},8:{n:"PtgConcat",f:Sr},9:{n:"PtgLt",f:Sr},10:{n:"PtgLe",f:Sr},11:{n:"PtgEq",f:Sr},12:{n:"PtgGe",f:Sr},13:{n:"PtgGt",f:Sr},14:{n:"PtgNe",f:Sr},15:{n:"PtgIsect",f:Sr},16:{n:"PtgUnion",f:Sr},17:{n:"PtgRange",f:Sr},18:{n:"PtgUplus",f:Sr},19:{n:"PtgUminus",f:Sr},20:{n:"PtgPercent",f:Sr},21:{n:"PtgParen",f:Sr},22:{n:"PtgMissArg",f:Sr},23:{n:"PtgStr",f:wU},26:{n:"PtgSheet",f:YU},27:{n:"PtgEndSheet",f:KU},28:{n:"PtgErr",f:gU},29:{n:"PtgBool",f:bU},30:{n:"PtgInt",f:yU},31:{n:"PtgNum",f:vU},32:{n:"PtgArray",f:tU},33:{n:"PtgFunc",f:xU},34:{n:"PtgFuncVar",f:hU},35:{n:"PtgName",f:SU},36:{n:"PtgRef",f:cU},37:{n:"PtgArea",f:X9},38:{n:"PtgMemArea",f:EU},39:{n:"PtgMemErr",f:PU},40:{n:"PtgMemNoMem",f:MU},41:{n:"PtgMemFunc",f:TU},42:{n:"PtgRefErr",f:AU},43:{n:"PtgAreaErr",f:Q9},44:{n:"PtgRefN",f:dU},45:{n:"PtgAreaN",f:eU},46:{n:"PtgMemAreaN",f:qU},47:{n:"PtgMemNoMemN",f:XU},57:{n:"PtgNameX",f:kU},58:{n:"PtgRef3d",f:uU},59:{n:"PtgArea3d",f:J9},60:{n:"PtgRefErr3d",f:FU},61:{n:"PtgAreaErr3d",f:Z9},255:{}},QU={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},ZU={1:{n:"PtgElfLel",f:Jk},2:{n:"PtgElfRw",f:WU},3:{n:"PtgElfCol",f:LU},6:{n:"PtgElfRwV",f:GU},7:{n:"PtgElfColV",f:BU},10:{n:"PtgElfRadical",f:RU},11:{n:"PtgElfRadicalS",f:HU},13:{n:"PtgElfColS",f:OU},15:{n:"PtgElfColSV",f:_U},16:{n:"PtgElfRadicalLel",f:UU},25:{n:"PtgList",f:zU},29:{n:"PtgSxName",f:VU},255:{}},eH={0:{n:"PtgAttrNoop",f:JU},1:{n:"PtgAttrSemi",f:oU},2:{n:"PtgAttrIf",f:rU},4:{n:"PtgAttrChoose",f:sU},8:{n:"PtgAttrGoto",f:aU},16:{n:"PtgAttrSum",f:pU},32:{n:"PtgAttrBaxcel",f:Q1},33:{n:"PtgAttrBaxcel",f:Q1},64:{n:"PtgAttrSpace",f:lU},65:{n:"PtgAttrSpaceSemi",f:iU},128:{n:"PtgAttrIfError",f:nU},255:{}};function Mx(t,s,a,r){if(r.biff<8)return kn(t,s);for(var n=t.l+s,l=[],i=0;i!==a.length;++i)switch(a[i][0]){case"PtgArray":a[i][1]=CU(t,0,r),l.push(a[i][1]);break;case"PtgMemArea":a[i][2]=jU(t,a[i][1],r),l.push(a[i][2]);break;case"PtgExp":r&&r.biff==12&&(a[i][1][1]=t.read_shift(4),l.push(a[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+a[i][0]}return s=n-t.l,s!==0&&l.push(kn(t,s)),l}function Ix(t,s,a){for(var r=t.l+s,n,l,i=[];r!=t.l;)s=r-t.l,l=t[t.l],n=Z1[l]||Z1[QU[l]],(l===24||l===25)&&(n=(l===24?ZU:eH)[t[t.l+1]]),!n||!n.f?kn(t,s):i.push([n.n,n.f(t,s,a)]);return i}function tH(t){for(var s=[],a=0;a<t.length;++a){for(var r=t[a],n=[],l=0;l<r.length;++l){var i=r[l];if(i)switch(i[0]){case 2:n.push('"'+i[1].replace(/"/g,'""')+'"');break;default:n.push(i[1])}else n.push("")}s.push(n.join(","))}return s.join(";")}var sH={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function aH(t,s){if(!t&&!(s&&s.biff<=5&&s.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function Qk(t,s,a){if(!t)return"SH33TJSERR0";if(a.biff>8&&(!t.XTI||!t.XTI[s]))return t.SheetNames[s];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[s];if(a.biff<8)return s>1e4&&(s-=65536),s<0&&(s=-s),s==0?"":t.XTI[s-1];if(!r)return"SH33TJSERR1";var n="";if(a.biff>8)switch(t[r[0]][0]){case 357:return n=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?n:n+":"+t.SheetNames[r[2]];case 358:return a.SID!=null?t.SheetNames[a.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return n=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?n:n+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(l){return l.Name}).join(";;");default:return t[r[0]][0][3]?(n=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?n:n+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function e2(t,s,a){var r=Qk(t,s,a);return r=="#REF"?r:aH(r,a)}function vn(t,s,a,r,n){var l=n&&n.biff||8,i={s:{c:0,r:0}},d=[],x,h,m,b=0,f=0,N,p="";if(!t[0]||!t[0][0])return"";for(var v=-1,y="",g=0,j=t[0].length;g<j;++g){var C=t[0][g];switch(C[0]){case"PtgUminus":d.push("-"+d.pop());break;case"PtgUplus":d.push("+"+d.pop());break;case"PtgPercent":d.push(d.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(x=d.pop(),h=d.pop(),v>=0){switch(t[0][v][1][0]){case 0:y=cr(" ",t[0][v][1][1]);break;case 1:y=cr("\r",t[0][v][1][1]);break;default:if(y="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][v][1][0])}h=h+y,v=-1}d.push(h+sH[C[0]]+x);break;case"PtgIsect":x=d.pop(),h=d.pop(),d.push(h+" "+x);break;case"PtgUnion":x=d.pop(),h=d.pop(),d.push(h+","+x);break;case"PtgRange":x=d.pop(),h=d.pop(),d.push(h+":"+x);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":m=Ru(C[1][1],i,n),d.push(Uu(m,l));break;case"PtgRefN":m=a?Ru(C[1][1],a,n):C[1][1],d.push(Uu(m,l));break;case"PtgRef3d":b=C[1][1],m=Ru(C[1][2],i,n),p=e2(r,b,n),d.push(p+"!"+Uu(m,l));break;case"PtgFunc":case"PtgFuncVar":var S=C[1][0],P=C[1][1];S||(S=0),S&=127;var k=S==0?[]:d.slice(-S);d.length-=S,P==="User"&&(P=k.shift()),d.push(P+"("+k.join(",")+")");break;case"PtgBool":d.push(C[1]?"TRUE":"FALSE");break;case"PtgInt":d.push(C[1]);break;case"PtgNum":d.push(String(C[1]));break;case"PtgStr":d.push('"'+C[1].replace(/"/g,'""')+'"');break;case"PtgErr":d.push(C[1]);break;case"PtgAreaN":N=T1(C[1][1],a?{s:a}:i,n),d.push(Jg(N,n));break;case"PtgArea":N=T1(C[1][1],i,n),d.push(Jg(N,n));break;case"PtgArea3d":b=C[1][1],N=C[1][2],p=e2(r,b,n),d.push(p+"!"+Jg(N,n));break;case"PtgAttrSum":d.push("SUM("+d.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":f=C[1][2];var E=(r.names||[])[f-1]||(r[0]||[])[f],M=E?E.Name:"SH33TJSNAME"+String(f);M&&M.slice(0,6)=="_xlfn."&&!n.xlfn&&(M=M.slice(6)),d.push(M);break;case"PtgNameX":var L=C[1][1];f=C[1][2];var O;if(n.biff<=5)L<0&&(L=-L),r[L]&&(O=r[L][f]);else{var q="";if(((r[L]||[])[0]||[])[0]==14849||(((r[L]||[])[0]||[])[0]==1025?r[L][f]&&r[L][f].itab>0&&(q=r.SheetNames[r[L][f].itab-1]+"!"):q=r.SheetNames[f-1]+"!"),r[L]&&r[L][f])q+=r[L][f].Name;else if(r[0]&&r[0][f])q+=r[0][f].Name;else{var B=(Qk(r,L,n)||"").split(";;");B[f-1]?q=B[f-1]:q+="SH33TJSERRX"}d.push(q);break}O||(O={Name:"SH33TJSERRY"}),d.push(O.Name);break;case"PtgParen":var se="(",le=")";if(v>=0){switch(y="",t[0][v][1][0]){case 2:se=cr(" ",t[0][v][1][1])+se;break;case 3:se=cr("\r",t[0][v][1][1])+se;break;case 4:le=cr(" ",t[0][v][1][1])+le;break;case 5:le=cr("\r",t[0][v][1][1])+le;break;default:if(n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][v][1][0])}v=-1}d.push(se+d.pop()+le);break;case"PtgRefErr":d.push("#REF!");break;case"PtgRefErr3d":d.push("#REF!");break;case"PtgExp":m={c:C[1][1],r:C[1][0]};var pe={c:a.c,r:a.r};if(r.sharedf[Fs(m)]){var U=r.sharedf[Fs(m)];d.push(vn(U,i,pe,r,n))}else{var Y=!1;for(x=0;x!=r.arrayf.length;++x)if(h=r.arrayf[x],!(m.c<h[0].s.c||m.c>h[0].e.c)&&!(m.r<h[0].s.r||m.r>h[0].e.r)){d.push(vn(h[1],i,pe,r,n)),Y=!0;break}Y||d.push(C[1])}break;case"PtgArray":d.push("{"+tH(C[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=g;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":d.push("");break;case"PtgAreaErr":d.push("#REF!");break;case"PtgAreaErr3d":d.push("#REF!");break;case"PtgList":d.push("Table"+C[1].idx+"[#"+C[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(C));default:throw new Error("Unrecognized Formula Token: "+String(C))}var W=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(n.biff!=3&&v>=0&&W.indexOf(t[0][g][0])==-1){C=t[0][v];var re=!0;switch(C[1][0]){case 4:re=!1;case 0:y=cr(" ",C[1][1]);break;case 5:re=!1;case 1:y=cr("\r",C[1][1]);break;default:if(y="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+C[1][0])}d.push((re?y:"")+d.pop()+(re?"":y)),v=-1}}if(d.length>1&&n.WTF)throw new Error("bad formula stack");return d[0]}function rH(t,s,a){var r=t.l+s,n=a.biff==2?1:2,l,i=t.read_shift(n);if(i==65535)return[[],kn(t,s-2)];var d=Ix(t,i,a);return s!==i+n&&(l=Mx(t,s-i-n,d,a)),t.l=r,[d,l]}function nH(t,s,a){var r=t.l+s,n=a.biff==2?1:2,l,i=t.read_shift(n);if(i==65535)return[[],kn(t,s-2)];var d=Ix(t,i,a);return s!==i+n&&(l=Mx(t,s-i-n,d,a)),t.l=r,[d,l]}function oH(t,s,a,r){var n=t.l+s,l=Ix(t,r,a),i;return n!==t.l&&(i=Mx(t,n-t.l,l,a)),[l,i]}function lH(t,s,a){var r=t.l+s,n,l=t.read_shift(2),i=Ix(t,l,a);return l==65535?[[],kn(t,s-2)]:(s!==l+2&&(n=Mx(t,r-l-2,i,a)),[i,n])}function iH(t){var s;if(mi(t,t.l+6)!==65535)return[jn(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return s=t[t.l+2]===1,t.l+=8,[s,"b"];case 2:return s=t[t.l+2],t.l+=8,[s,"e"];case 3:return t.l+=8,["","s"]}return[]}function cH(t){if(t==null){var s=Wt(8);return s.write_shift(1,3),s.write_shift(1,0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,65535),s}else if(typeof t=="number")return xd(t);return xd(0)}function sy(t,s,a){var r=t.l+s,n=Kl(t);a.biff==2&&++t.l;var l=iH(t),i=t.read_shift(1);a.biff!=2&&(t.read_shift(1),a.biff>=5&&t.read_shift(4));var d=nH(t,r-t.l,a);return{cell:n,val:l[0],formula:d,shared:i>>3&1,tt:l[1]}}function dH(t,s,a,r,n){var l=md(s,a,n),i=cH(t.v),d=Wt(6),x=33;d.write_shift(2,x),d.write_shift(4,0);for(var h=Wt(t.bf.length),m=0;m<t.bf.length;++m)h[m]=t.bf[m];var b=Vr([l,i,d,h]);return b}function df(t,s,a){var r=t.read_shift(4),n=Ix(t,r,a),l=t.read_shift(4),i=l>0?Mx(t,l,n,a):null;return[n,i]}var uH=df,uf=df,xH=df,hH=df,mH={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Zk={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},pH={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function t2(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(s,a){return a.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function fH(t){var s="of:="+t.replace(xv,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return s.replace(/;/g,"|").replace(/,/g,";")}function ay(t){var s=t.split(":"),a=s[0].split(".")[0];return[a,s[0].split(".")[1]+(s.length>1?":"+(s[1].split(".")[1]||s[1].split(".")[0]):"")]}function gH(t){return t.replace(/\./,"!")}var Wu={},j0={},Gu=typeof Map<"u";function pv(t,s,a){var r=0,n=t.length;if(a){if(Gu?a.has(s):Object.prototype.hasOwnProperty.call(a,s)){for(var l=Gu?a.get(s):a[s];r<l.length;++r)if(t[l[r]].t===s)return t.Count++,l[r]}}else for(;r<n;++r)if(t[r].t===s)return t.Count++,r;return t[n]={t:s},t.Count++,t.Unique++,a&&(Gu?(a.has(s)||a.set(s,[]),a.get(s).push(n)):(Object.prototype.hasOwnProperty.call(a,s)||(a[s]=[]),a[s].push(n))),n}function xf(t,s){var a={min:t+1,max:t+1},r=-1;return s.MDW&&(wn=s.MDW),s.width!=null?a.customWidth=1:s.wpx!=null?r=rx(s.wpx):s.wch!=null&&(r=s.wch),r>-1?(a.width=Ip(r),a.customWidth=1):s.width!=null&&(a.width=s.width),s.hidden&&(a.hidden=!0),s.level!=null&&(a.outlineLevel=a.level=s.level),a}function od(t,s){if(t){var a=[.7,.7,.75,.75,.3,.3];s=="xlml"&&(a=[1,1,1,1,.5,.5]),t.left==null&&(t.left=a[0]),t.right==null&&(t.right=a[1]),t.top==null&&(t.top=a[2]),t.bottom==null&&(t.bottom=a[3]),t.header==null&&(t.header=a[4]),t.footer==null&&(t.footer=a[5])}}function wc(t,s,a){var r=a.revssf[s.z!=null?s.z:"General"],n=60,l=t.length;if(r==null&&a.ssf){for(;n<392;++n)if(a.ssf[n]==null){yi(s.z,n),a.ssf[n]=s.z,a.revssf[s.z]=r=n;break}}for(n=0;n!=l;++n)if(t[n].numFmtId===r)return n;return t[l]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},l}function e3(t,s,a,r,n,l){try{r.cellNF&&(t.z=As[s])}catch(d){if(r.WTF)throw d}if(!(t.t==="z"&&!r.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=Ya(t.v)),(!r||r.cellText!==!1)&&t.t!=="z")try{if(As[s]==null&&yi(mO[s]||"General",s),t.t==="e")t.w=t.w||Di[t.v];else if(s===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Ju(t.v);else if(t.t==="d"){var i=Ir(t.v);(i|0)===i?t.w=i.toString(10):t.w=Ju(i)}else{if(t.v===void 0)return"";t.w=dd(t.v,j0)}else t.t==="d"?t.w=_o(s,Ir(t.v),j0):t.w=_o(s,t.v,j0)}catch(d){if(r.WTF)throw d}if(r.cellStyles&&a!=null)try{t.s=l.Fills[a],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=Mp(n.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),r.WTF&&(t.s.fgColor.raw_rgb=n.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=Mp(n.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),r.WTF&&(t.s.bgColor.raw_rgb=n.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(d){if(r.WTF&&l.Fills)throw d}}}function yH(t,s,a){if(t&&t["!ref"]){var r=na(t["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+a+"): "+t["!ref"])}}function bH(t,s){var a=na(s);a.s.r<=a.e.r&&a.s.c<=a.e.c&&a.s.r>=0&&a.s.c>=0&&(t["!ref"]=Rs(a))}var vH=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,wH=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,NH=/<(?:\w:)?hyperlink [^>]*>/mg,jH=/"(\w*:\w*)"/,CH=/<(?:\w:)?col\b[^>]*[\/]?>/g,SH=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,kH=/<(?:\w:)?pageMargins[^>]*\/>/g,t3=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,DH=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,EH=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function TH(t,s,a,r,n,l,i){if(!t)return t;r||(r={"!id":{}});var d=s.dense?[]:{},x={s:{r:2e6,c:2e6},e:{r:0,c:0}},h="",m="",b=t.match(wH);b?(h=t.slice(0,b.index),m=t.slice(b.index+b[0].length)):h=m=t;var f=h.match(t3);f?fv(f[0],d,n,a):(f=h.match(DH))&&FH(f[0],f[1]||"",d,n,a);var N=(h.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(N>0){var p=h.slice(N,N+50).match(jH);p&&bH(d,p[1])}var v=h.match(EH);v&&v[1]&&$H(v[1],n);var y=[];if(s.cellStyles){var g=h.match(CH);g&&RH(y,g)}b&&YH(b[1],d,s,x,l,i);var j=m.match(SH);j&&(d["!autofilter"]=HH(j[0]));var C=[],S=m.match(vH);if(S)for(N=0;N!=S.length;++N)C[N]=na(S[N].slice(S[N].indexOf('"')+1));var P=m.match(NH);P&&OH(d,P,r);var k=m.match(kH);if(k&&(d["!margins"]=_H(Ms(k[0]))),!d["!ref"]&&x.e.c>=x.s.c&&x.e.r>=x.s.r&&(d["!ref"]=Rs(x)),s.sheetRows>0&&d["!ref"]){var E=na(d["!ref"]);s.sheetRows<=+E.e.r&&(E.e.r=s.sheetRows-1,E.e.r>x.e.r&&(E.e.r=x.e.r),E.e.r<E.s.r&&(E.s.r=E.e.r),E.e.c>x.e.c&&(E.e.c=x.e.c),E.e.c<E.s.c&&(E.s.c=E.e.c),d["!fullref"]=d["!ref"],d["!ref"]=Rs(E))}return y.length>0&&(d["!cols"]=y),C.length>0&&(d["!merges"]=C),d}function AH(t){if(t.length===0)return"";for(var s='<mergeCells count="'+t.length+'">',a=0;a!=t.length;++a)s+='<mergeCell ref="'+Rs(t[a])+'"/>';return s+"</mergeCells>"}function fv(t,s,a,r){var n=Ms(t);a.Sheets[r]||(a.Sheets[r]={}),n.codeName&&(a.Sheets[r].CodeName=ra(Pa(n.codeName)))}function FH(t,s,a,r,n){fv(t.slice(0,t.indexOf(">")),a,r,n)}function PH(t,s,a,r,n){var l=!1,i={},d=null;if(r.bookType!=="xlsx"&&s.vbaraw){var x=s.SheetNames[a];try{s.Workbook&&(x=s.Workbook.Sheets[a].CodeName||x)}catch{}l=!0,i.codeName=Rl(Ta(x))}if(t&&t["!outline"]){var h={summaryBelow:1,summaryRight:1};t["!outline"].above&&(h.summaryBelow=0),t["!outline"].left&&(h.summaryRight=0),d=(d||"")+ss("outlinePr",null,h)}!l&&!d||(n[n.length]=ss("sheetPr",d,i))}var MH=["objects","scenarios","selectLockedCells","selectUnlockedCells"],IH=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function LH(t){var s={sheet:1};return MH.forEach(function(a){t[a]!=null&&t[a]&&(s[a]="1")}),IH.forEach(function(a){t[a]!=null&&!t[a]&&(s[a]="0")}),t.password&&(s.password=cv(t.password).toString(16).toUpperCase()),ss("sheetProtection",null,s)}function OH(t,s,a){for(var r=Array.isArray(t),n=0;n!=s.length;++n){var l=Ms(Pa(s[n]),!0);if(!l.ref)return;var i=((a||{})["!id"]||[])[l.id];i?(l.Target=i.Target,l.location&&(l.Target+="#"+ra(l.location))):(l.Target="#"+ra(l.location),i={Target:l.Target,TargetMode:"Internal"}),l.Rel=i,l.tooltip&&(l.Tooltip=l.tooltip,delete l.tooltip);for(var d=na(l.ref),x=d.s.r;x<=d.e.r;++x)for(var h=d.s.c;h<=d.e.c;++h){var m=Fs({c:h,r:x});r?(t[x]||(t[x]=[]),t[x][h]||(t[x][h]={t:"z",v:void 0}),t[x][h].l=l):(t[m]||(t[m]={t:"z",v:void 0}),t[m].l=l)}}}function _H(t){var s={};return["left","right","top","bottom","header","footer"].forEach(function(a){t[a]&&(s[a]=parseFloat(t[a]))}),s}function BH(t){return od(t),ss("pageMargins",null,t)}function RH(t,s){for(var a=!1,r=0;r!=s.length;++r){var n=Ms(s[r],!0);n.hidden&&(n.hidden=Va(n.hidden));var l=parseInt(n.min,10)-1,i=parseInt(n.max,10)-1;for(n.outlineLevel&&(n.level=+n.outlineLevel||0),delete n.min,delete n.max,n.width=+n.width,!a&&n.width&&(a=!0,dv(n.width)),hc(n);l<=i;)t[l++]=Ka(n)}}function UH(t,s){for(var a=["<cols>"],r,n=0;n!=s.length;++n)(r=s[n])&&(a[a.length]=ss("col",null,xf(n,r)));return a[a.length]="</cols>",a.join("")}function HH(t){var s={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return s}function WH(t,s,a,r){var n=typeof t.ref=="string"?t.ref:Rs(t.ref);a.Workbook||(a.Workbook={Sheets:[]}),a.Workbook.Names||(a.Workbook.Names=[]);var l=a.Workbook.Names,i=so(n);i.s.r==i.e.r&&(i.e.r=so(s["!ref"]).e.r,n=Rs(i));for(var d=0;d<l.length;++d){var x=l[d];if(x.Name=="_xlnm._FilterDatabase"&&x.Sheet==r){x.Ref="'"+a.SheetNames[r]+"'!"+n;break}}return d==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+a.SheetNames[r]+"'!"+n}),ss("autoFilter",null,{ref:n})}var GH=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function $H(t,s){s.Views||(s.Views=[{}]),(t.match(GH)||[]).forEach(function(a,r){var n=Ms(a);s.Views[r]||(s.Views[r]={}),+n.zoomScale&&(s.Views[r].zoom=+n.zoomScale),Va(n.rightToLeft)&&(s.Views[r].RTL=!0)})}function zH(t,s,a,r){var n={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(n.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),ss("sheetViews",ss("sheetView",null,n),{})}function VH(t,s,a,r){if(t.c&&a["!comments"].push([s,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var n="",l=t.t,i=t.v;if(t.t!=="z")switch(t.t){case"b":n=t.v?"1":"0";break;case"n":n=""+t.v;break;case"e":n=Di[t.v];break;case"d":r&&r.cellDates?n=Ya(t.v,-1).toISOString():(t=Ka(t),t.t="n",n=""+(t.v=Ir(Ya(t.v)))),typeof t.z>"u"&&(t.z=As[14]);break;default:n=t.v;break}var d=nn("v",Ta(n)),x={r:s},h=wc(r.cellXfs,t,r);switch(h!==0&&(x.s=h),t.t){case"n":break;case"d":x.t="d";break;case"b":x.t="b";break;case"e":x.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){d=nn("v",""+pv(r.Strings,t.v,r.revStrings)),x.t="s";break}x.t="str";break}if(t.t!=l&&(t.t=l,t.v=i),typeof t.f=="string"&&t.f){var m=t.F&&t.F.slice(0,s.length)==s?{t:"array",ref:t.F}:null;d=ss("f",Ta(t.f),m)+(t.v!=null?d:"")}return t.l&&a["!links"].push([s,t.l]),t.D&&(x.cm=1),ss("c",d,x)}var YH=(function(){var t=/<(?:\w+:)?c[ \/>]/,s=/<\/(?:\w+:)?row>/,a=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,n=/ref=["']([^"']*)["']/,l=Qu("v"),i=Qu("f");return function(x,h,m,b,f,N){for(var p=0,v="",y=[],g=[],j=0,C=0,S=0,P="",k,E,M=0,L=0,O,q,B=0,se=0,le=Array.isArray(N.CellXf),pe,U=[],Y=[],W=Array.isArray(h),re=[],G={},R=!1,F=!!m.sheetStubs,A=x.split(s),H=0,D=A.length;H!=D;++H){v=A[H].trim();var _=v.length;if(_!==0){var xe=0;e:for(p=0;p<_;++p)switch(v[p]){case">":if(v[p-1]!="/"){++p;break e}if(m&&m.cellStyles){if(E=Ms(v.slice(xe,p),!0),M=E.r!=null?parseInt(E.r,10):M+1,L=-1,m.sheetRows&&m.sheetRows<M)continue;G={},R=!1,E.ht&&(R=!0,G.hpt=parseFloat(E.ht),G.hpx=M0(G.hpt)),E.hidden=="1"&&(R=!0,G.hidden=!0),E.outlineLevel!=null&&(R=!0,G.level=+E.outlineLevel),R&&(re[M-1]=G)}break;case"<":xe=p;break}if(xe>=p)break;if(E=Ms(v.slice(xe,p),!0),M=E.r!=null?parseInt(E.r,10):M+1,L=-1,!(m.sheetRows&&m.sheetRows<M)){b.s.r>M-1&&(b.s.r=M-1),b.e.r<M-1&&(b.e.r=M-1),m&&m.cellStyles&&(G={},R=!1,E.ht&&(R=!0,G.hpt=parseFloat(E.ht),G.hpx=M0(G.hpt)),E.hidden=="1"&&(R=!0,G.hidden=!0),E.outlineLevel!=null&&(R=!0,G.level=+E.outlineLevel),R&&(re[M-1]=G)),y=v.slice(p).split(t);for(var ge=0;ge!=y.length&&y[ge].trim().charAt(0)=="<";++ge);for(y=y.slice(ge),p=0;p!=y.length;++p)if(v=y[p].trim(),v.length!==0){if(g=v.match(a),j=p,C=0,S=0,v="<c "+(v.slice(0,1)=="<"?">":"")+v,g!=null&&g.length===2){for(j=0,P=g[1],C=0;C!=P.length&&!((S=P.charCodeAt(C)-64)<1||S>26);++C)j=26*j+S;--j,L=j}else++L;for(C=0;C!=v.length&&v.charCodeAt(C)!==62;++C);if(++C,E=Ms(v.slice(0,C),!0),E.r||(E.r=Fs({r:M-1,c:L})),P=v.slice(C),k={t:""},(g=P.match(l))!=null&&g[1]!==""&&(k.v=ra(g[1])),m.cellFormula){if((g=P.match(i))!=null&&g[1]!==""){if(k.f=ra(Pa(g[1])).replace(/\r\n/g,`
`),m.xlfn||(k.f=J1(k.f)),g[0].indexOf('t="array"')>-1)k.F=(P.match(n)||[])[1],k.F.indexOf(":")>-1&&U.push([na(k.F),k.F]);else if(g[0].indexOf('t="shared"')>-1){q=Ms(g[0]);var Ne=ra(Pa(g[1]));m.xlfn||(Ne=J1(Ne)),Y[parseInt(q.si,10)]=[q,Ne,E.r]}}else(g=P.match(/<f[^>]*\/>/))&&(q=Ms(g[0]),Y[q.si]&&(k.f=G9(Y[q.si][1],Y[q.si][2],E.r)));var Ce=rr(E.r);for(C=0;C<U.length;++C)Ce.r>=U[C][0].s.r&&Ce.r<=U[C][0].e.r&&Ce.c>=U[C][0].s.c&&Ce.c<=U[C][0].e.c&&(k.F=U[C][1])}if(E.t==null&&k.v===void 0)if(k.f||k.F)k.v=0,k.t="n";else if(F)k.t="z";else continue;else k.t=E.t||"n";switch(b.s.c>L&&(b.s.c=L),b.e.c<L&&(b.e.c=L),k.t){case"n":if(k.v==""||k.v==null){if(!F)continue;k.t="z"}else k.v=parseFloat(k.v);break;case"s":if(typeof k.v>"u"){if(!F)continue;k.t="z"}else O=Wu[parseInt(k.v,10)],k.v=O.t,k.r=O.r,m.cellHTML&&(k.h=O.h);break;case"str":k.t="s",k.v=k.v!=null?Pa(k.v):"",m.cellHTML&&(k.h=Kb(k.v));break;case"inlineStr":g=P.match(r),k.t="s",g!=null&&(O=iv(g[1]))?(k.v=O.t,m.cellHTML&&(k.h=O.h)):k.v="";break;case"b":k.v=Va(k.v);break;case"d":m.cellDates?k.v=Ya(k.v,1):(k.v=Ir(Ya(k.v,1)),k.t="n");break;case"e":(!m||m.cellText!==!1)&&(k.w=k.v),k.v=ak[k.v];break}if(B=se=0,pe=null,le&&E.s!==void 0&&(pe=N.CellXf[E.s],pe!=null&&(pe.numFmtId!=null&&(B=pe.numFmtId),m.cellStyles&&pe.fillId!=null&&(se=pe.fillId))),e3(k,B,se,m,f,N),m.cellDates&&le&&k.t=="n"&&z0(As[B])&&(k.t="d",k.v=lf(k.v)),E.cm&&m.xlmeta){var fe=(m.xlmeta.Cell||[])[+E.cm-1];fe&&fe.type=="XLDAPR"&&(k.D=!0)}if(W){var ue=rr(E.r);h[ue.r]||(h[ue.r]=[]),h[ue.r][ue.c]=k}else h[E.r]=k}}}}re.length>0&&(h["!rows"]=re)}})();function KH(t,s,a,r){var n=[],l=[],i=na(t["!ref"]),d="",x,h="",m=[],b=0,f=0,N=t["!rows"],p=Array.isArray(t),v={r:h},y,g=-1;for(f=i.s.c;f<=i.e.c;++f)m[f]=ar(f);for(b=i.s.r;b<=i.e.r;++b){for(l=[],h=yr(b),f=i.s.c;f<=i.e.c;++f){x=m[f]+h;var j=p?(t[b]||[])[f]:t[x];j!==void 0&&(d=VH(j,x,t,s))!=null&&l.push(d)}(l.length>0||N&&N[b])&&(v={r:h},N&&N[b]&&(y=N[b],y.hidden&&(v.hidden=1),g=-1,y.hpx?g=nx(y.hpx):y.hpt&&(g=y.hpt),g>-1&&(v.ht=g,v.customHeight=1),y.level&&(v.outlineLevel=y.level)),n[n.length]=ss("row",l.join(""),v))}if(N)for(;b<N.length;++b)N&&N[b]&&(v={r:b+1},y=N[b],y.hidden&&(v.hidden=1),g=-1,y.hpx?g=nx(y.hpx):y.hpt&&(g=y.hpt),g>-1&&(v.ht=g,v.customHeight=1),y.level&&(v.outlineLevel=y.level),n[n.length]=ss("row","",v));return n.join("")}function s3(t,s,a,r){var n=[Nr,ss("worksheet",null,{xmlns:wd[0],"xmlns:r":Pr.r})],l=a.SheetNames[t],i=0,d="",x=a.Sheets[l];x==null&&(x={});var h=x["!ref"]||"A1",m=na(h);if(m.e.c>16383||m.e.r>1048575){if(s.WTF)throw new Error("Range "+h+" exceeds format limit A1:XFD1048576");m.e.c=Math.min(m.e.c,16383),m.e.r=Math.min(m.e.c,1048575),h=Rs(m)}r||(r={}),x["!comments"]=[];var b=[];PH(x,a,t,s,n),n[n.length]=ss("dimension",null,{ref:h}),n[n.length]=zH(x,s,t,a),s.sheetFormat&&(n[n.length]=ss("sheetFormatPr",null,{defaultRowHeight:s.sheetFormat.defaultRowHeight||"16",baseColWidth:s.sheetFormat.baseColWidth||"10",outlineLevelRow:s.sheetFormat.outlineLevelRow||"7"})),x["!cols"]!=null&&x["!cols"].length>0&&(n[n.length]=UH(x,x["!cols"])),n[i=n.length]="<sheetData/>",x["!links"]=[],x["!ref"]!=null&&(d=KH(x,s),d.length>0&&(n[n.length]=d)),n.length>i+1&&(n[n.length]="</sheetData>",n[i]=n[i].replace("/>",">")),x["!protect"]&&(n[n.length]=LH(x["!protect"])),x["!autofilter"]!=null&&(n[n.length]=WH(x["!autofilter"],x,a,t)),x["!merges"]!=null&&x["!merges"].length>0&&(n[n.length]=AH(x["!merges"]));var f=-1,N,p=-1;return x["!links"].length>0&&(n[n.length]="<hyperlinks>",x["!links"].forEach(function(v){v[1].Target&&(N={ref:v[0]},v[1].Target.charAt(0)!="#"&&(p=Da(r,-1,Ta(v[1].Target).replace(/#.*$/,""),Vs.HLINK),N["r:id"]="rId"+p),(f=v[1].Target.indexOf("#"))>-1&&(N.location=Ta(v[1].Target.slice(f+1))),v[1].Tooltip&&(N.tooltip=Ta(v[1].Tooltip)),n[n.length]=ss("hyperlink",null,N))}),n[n.length]="</hyperlinks>"),delete x["!links"],x["!margins"]!=null&&(n[n.length]=BH(x["!margins"])),(!s||s.ignoreEC||s.ignoreEC==null)&&(n[n.length]=nn("ignoredErrors",ss("ignoredError",null,{numberStoredAsText:1,sqref:h}))),b.length>0&&(p=Da(r,-1,"../drawings/drawing"+(t+1)+".xml",Vs.DRAW),n[n.length]=ss("drawing",null,{"r:id":"rId"+p}),x["!drawing"]=b),x["!comments"].length>0&&(p=Da(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Vs.VML),n[n.length]=ss("legacyDrawing",null,{"r:id":"rId"+p}),x["!legacy"]=p),n.length>1&&(n[n.length]="</worksheet>",n[1]=n[1].replace("/>",">")),n.join("")}function qH(t,s){var a={},r=t.l+s;a.r=t.read_shift(4),t.l+=4;var n=t.read_shift(2);t.l+=1;var l=t.read_shift(1);return t.l=r,l&7&&(a.level=l&7),l&16&&(a.hidden=!0),l&32&&(a.hpt=n/20),a}function XH(t,s,a){var r=Wt(145),n=(a["!rows"]||[])[t]||{};r.write_shift(4,t),r.write_shift(4,0);var l=320;n.hpx?l=nx(n.hpx)*20:n.hpt&&(l=n.hpt*20),r.write_shift(2,l),r.write_shift(1,0);var i=0;n.level&&(i|=n.level),n.hidden&&(i|=16),(n.hpx||n.hpt)&&(i|=32),r.write_shift(1,i),r.write_shift(1,0);var d=0,x=r.l;r.l+=4;for(var h={r:t,c:0},m=0;m<16;++m)if(!(s.s.c>m+1<<10||s.e.c<m<<10)){for(var b=-1,f=-1,N=m<<10;N<m+1<<10;++N){h.c=N;var p=Array.isArray(a)?(a[h.r]||[])[h.c]:a[Fs(h)];p&&(b<0&&(b=N),f=N)}b<0||(++d,r.write_shift(4,b),r.write_shift(4,f))}var v=r.l;return r.l=x,r.write_shift(4,d),r.l=v,r.length>r.l?r.slice(0,r.l):r}function JH(t,s,a,r){var n=XH(r,a,s);(n.length>17||(s["!rows"]||[])[r])&&Yt(t,0,n)}var QH=Sd,ZH=K0;function eW(){}function tW(t,s){var a={},r=t[t.l];return++t.l,a.above=!(r&64),a.left=!(r&128),t.l+=18,a.name=r8(t),a}function sW(t,s,a){a==null&&(a=Wt(84+4*t.length));var r=192;s&&(s.above&&(r&=-65),s.left&&(r&=-129)),a.write_shift(1,r);for(var n=1;n<3;++n)a.write_shift(1,0);return Ap({auto:1},a),a.write_shift(-4,-1),a.write_shift(-4,-1),QS(t,a),a.slice(0,a.l)}function aW(t){var s=Bo(t);return[s]}function rW(t,s,a){return a==null&&(a=Wt(8)),Nd(s,a)}function nW(t){var s=jd(t);return[s]}function oW(t,s,a){return a==null&&(a=Wt(4)),Cd(s,a)}function lW(t){var s=Bo(t),a=t.read_shift(1);return[s,a,"b"]}function iW(t,s,a){return a==null&&(a=Wt(9)),Nd(s,a),a.write_shift(1,t.v?1:0),a}function cW(t){var s=jd(t),a=t.read_shift(1);return[s,a,"b"]}function dW(t,s,a){return a==null&&(a=Wt(5)),Cd(s,a),a.write_shift(1,t.v?1:0),a}function uW(t){var s=Bo(t),a=t.read_shift(1);return[s,a,"e"]}function xW(t,s,a){return a==null&&(a=Wt(9)),Nd(s,a),a.write_shift(1,t.v),a}function hW(t){var s=jd(t),a=t.read_shift(1);return[s,a,"e"]}function mW(t,s,a){return a==null&&(a=Wt(8)),Cd(s,a),a.write_shift(1,t.v),a.write_shift(2,0),a.write_shift(1,0),a}function pW(t){var s=Bo(t),a=t.read_shift(4);return[s,a,"s"]}function fW(t,s,a){return a==null&&(a=Wt(12)),Nd(s,a),a.write_shift(4,s.v),a}function gW(t){var s=jd(t),a=t.read_shift(4);return[s,a,"s"]}function yW(t,s,a){return a==null&&(a=Wt(8)),Cd(s,a),a.write_shift(4,s.v),a}function bW(t){var s=Bo(t),a=jn(t);return[s,a,"n"]}function vW(t,s,a){return a==null&&(a=Wt(16)),Nd(s,a),xd(t.v,a),a}function a3(t){var s=jd(t),a=jn(t);return[s,a,"n"]}function wW(t,s,a){return a==null&&(a=Wt(12)),Cd(s,a),xd(t.v,a),a}function NW(t){var s=Bo(t),a=av(t);return[s,a,"n"]}function jW(t,s,a){return a==null&&(a=Wt(12)),Nd(s,a),ZS(t.v,a),a}function CW(t){var s=jd(t),a=av(t);return[s,a,"n"]}function SW(t,s,a){return a==null&&(a=Wt(8)),Cd(s,a),ZS(t.v,a),a}function kW(t){var s=Bo(t),a=ev(t);return[s,a,"is"]}function DW(t){var s=Bo(t),a=Cn(t);return[s,a,"str"]}function EW(t,s,a){return a==null&&(a=Wt(12+4*t.v.length)),Nd(s,a),Yr(t.v,a),a.length>a.l?a.slice(0,a.l):a}function TW(t){var s=jd(t),a=Cn(t);return[s,a,"str"]}function AW(t,s,a){return a==null&&(a=Wt(8+4*t.v.length)),Cd(s,a),Yr(t.v,a),a.length>a.l?a.slice(0,a.l):a}function FW(t,s,a){var r=t.l+s,n=Bo(t);n.r=a["!row"];var l=t.read_shift(1),i=[n,l,"b"];if(a.cellFormula){t.l+=2;var d=uf(t,r-t.l,a);i[3]=vn(d,null,n,a.supbooks,a)}else t.l=r;return i}function PW(t,s,a){var r=t.l+s,n=Bo(t);n.r=a["!row"];var l=t.read_shift(1),i=[n,l,"e"];if(a.cellFormula){t.l+=2;var d=uf(t,r-t.l,a);i[3]=vn(d,null,n,a.supbooks,a)}else t.l=r;return i}function MW(t,s,a){var r=t.l+s,n=Bo(t);n.r=a["!row"];var l=jn(t),i=[n,l,"n"];if(a.cellFormula){t.l+=2;var d=uf(t,r-t.l,a);i[3]=vn(d,null,n,a.supbooks,a)}else t.l=r;return i}function IW(t,s,a){var r=t.l+s,n=Bo(t);n.r=a["!row"];var l=Cn(t),i=[n,l,"str"];if(a.cellFormula){t.l+=2;var d=uf(t,r-t.l,a);i[3]=vn(d,null,n,a.supbooks,a)}else t.l=r;return i}var LW=Sd,OW=K0;function _W(t,s){return s==null&&(s=Wt(4)),s.write_shift(4,t),s}function BW(t,s){var a=t.l+s,r=Sd(t),n=tv(t),l=Cn(t),i=Cn(t),d=Cn(t);t.l=a;var x={rfx:r,relId:n,loc:l,display:d};return i&&(x.Tooltip=i),x}function RW(t,s){var a=Wt(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));K0({s:rr(t[0]),e:rr(t[0])},a),sv("rId"+s,a);var r=t[1].Target.indexOf("#"),n=r==-1?"":t[1].Target.slice(r+1);return Yr(n||"",a),Yr(t[1].Tooltip||"",a),Yr("",a),a.slice(0,a.l)}function UW(){}function HW(t,s,a){var r=t.l+s,n=ek(t),l=t.read_shift(1),i=[n];if(i[2]=l,a.cellFormula){var d=uH(t,r-t.l,a);i[1]=d}else t.l=r;return i}function WW(t,s,a){var r=t.l+s,n=Sd(t),l=[n];if(a.cellFormula){var i=hH(t,r-t.l,a);l[1]=i,t.l=r}else t.l=r;return l}function GW(t,s,a){a==null&&(a=Wt(18));var r=xf(t,s);a.write_shift(-4,t),a.write_shift(-4,t),a.write_shift(4,(r.width||10)*256),a.write_shift(4,0);var n=0;return s.hidden&&(n|=1),typeof r.width=="number"&&(n|=2),s.level&&(n|=s.level<<8),a.write_shift(2,n),a}var r3=["left","right","top","bottom","header","footer"];function $W(t){var s={};return r3.forEach(function(a){s[a]=jn(t)}),s}function zW(t,s){return s==null&&(s=Wt(48)),od(t),r3.forEach(function(a){xd(t[a],s)}),s}function VW(t){var s=t.read_shift(2);return t.l+=28,{RTL:s&32}}function YW(t,s,a){a==null&&(a=Wt(30));var r=924;return(((s||{}).Views||[])[0]||{}).RTL&&(r|=32),a.write_shift(2,r),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(1,0),a.write_shift(1,0),a.write_shift(2,0),a.write_shift(2,100),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(4,0),a}function KW(t){var s=Wt(24);return s.write_shift(4,4),s.write_shift(4,1),K0(t,s),s}function qW(t,s){return s==null&&(s=Wt(66)),s.write_shift(2,t.password?cv(t.password):0),s.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(a){a[1]?s.write_shift(4,t[a[0]]!=null&&!t[a[0]]?1:0):s.write_shift(4,t[a[0]]!=null&&t[a[0]]?0:1)}),s}function XW(){}function JW(){}function QW(t,s,a,r,n,l,i){if(!t)return t;var d=s||{};r||(r={"!id":{}});var x=d.dense?[]:{},h,m={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=!1,f=!1,N,p,v,y,g,j,C,S,P,k=[];d.biff=12,d["!row"]=0;var E=0,M=!1,L=[],O={},q=d.supbooks||n.supbooks||[[]];if(q.sharedf=O,q.arrayf=L,q.SheetNames=n.SheetNames||n.Sheets.map(function(W){return W.name}),!d.supbooks&&(d.supbooks=q,n.Names))for(var B=0;B<n.Names.length;++B)q[0][B+1]=n.Names[B];var se=[],le=[],pe=!1;ox[16]={n:"BrtShortReal",f:a3};var U;if(ki(t,function(re,G,R){if(!f)switch(R){case 148:h=re;break;case 0:N=re,d.sheetRows&&d.sheetRows<=N.r&&(f=!0),S=yr(y=N.r),d["!row"]=N.r,(re.hidden||re.hpt||re.level!=null)&&(re.hpt&&(re.hpx=M0(re.hpt)),le[re.r]=re);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(p={t:re[2]},re[2]){case"n":p.v=re[1];break;case"s":C=Wu[re[1]],p.v=C.t,p.r=C.r;break;case"b":p.v=!!re[1];break;case"e":p.v=re[1],d.cellText!==!1&&(p.w=Di[p.v]);break;case"str":p.t="s",p.v=re[1];break;case"is":p.t="s",p.v=re[1].t;break}if((v=i.CellXf[re[0].iStyleRef])&&e3(p,v.numFmtId,null,d,l,i),g=re[0].c==-1?g+1:re[0].c,d.dense?(x[y]||(x[y]=[]),x[y][g]=p):x[ar(g)+S]=p,d.cellFormula){for(M=!1,E=0;E<L.length;++E){var F=L[E];N.r>=F[0].s.r&&N.r<=F[0].e.r&&g>=F[0].s.c&&g<=F[0].e.c&&(p.F=Rs(F[0]),M=!0)}!M&&re.length>3&&(p.f=re[3])}if(m.s.r>N.r&&(m.s.r=N.r),m.s.c>g&&(m.s.c=g),m.e.r<N.r&&(m.e.r=N.r),m.e.c<g&&(m.e.c=g),d.cellDates&&v&&p.t=="n"&&z0(As[v.numFmtId])){var A=ed(p.v);A&&(p.t="d",p.v=new Date(A.y,A.m-1,A.d,A.H,A.M,A.S,A.u))}U&&(U.type=="XLDAPR"&&(p.D=!0),U=void 0);break;case 1:case 12:if(!d.sheetStubs||b)break;p={t:"z",v:void 0},g=re[0].c==-1?g+1:re[0].c,d.dense?(x[y]||(x[y]=[]),x[y][g]=p):x[ar(g)+S]=p,m.s.r>N.r&&(m.s.r=N.r),m.s.c>g&&(m.s.c=g),m.e.r<N.r&&(m.e.r=N.r),m.e.c<g&&(m.e.c=g),U&&(U.type=="XLDAPR"&&(p.D=!0),U=void 0);break;case 176:k.push(re);break;case 49:U=((d.xlmeta||{}).Cell||[])[re-1];break;case 494:var H=r["!id"][re.relId];for(H?(re.Target=H.Target,re.loc&&(re.Target+="#"+re.loc),re.Rel=H):re.relId==""&&(re.Target="#"+re.loc),y=re.rfx.s.r;y<=re.rfx.e.r;++y)for(g=re.rfx.s.c;g<=re.rfx.e.c;++g)d.dense?(x[y]||(x[y]=[]),x[y][g]||(x[y][g]={t:"z",v:void 0}),x[y][g].l=re):(j=Fs({c:g,r:y}),x[j]||(x[j]={t:"z",v:void 0}),x[j].l=re);break;case 426:if(!d.cellFormula)break;L.push(re),P=d.dense?x[y][g]:x[ar(g)+S],P.f=vn(re[1],m,{r:N.r,c:g},q,d),P.F=Rs(re[0]);break;case 427:if(!d.cellFormula)break;O[Fs(re[0].s)]=re[1],P=d.dense?x[y][g]:x[ar(g)+S],P.f=vn(re[1],m,{r:N.r,c:g},q,d);break;case 60:if(!d.cellStyles)break;for(;re.e>=re.s;)se[re.e--]={width:re.w/256,hidden:!!(re.flags&1),level:re.level},pe||(pe=!0,dv(re.w/256)),hc(se[re.e+1]);break;case 161:x["!autofilter"]={ref:Rs(re)};break;case 476:x["!margins"]=re;break;case 147:n.Sheets[a]||(n.Sheets[a]={}),re.name&&(n.Sheets[a].CodeName=re.name),(re.above||re.left)&&(x["!outline"]={above:re.above,left:re.left});break;case 137:n.Views||(n.Views=[{}]),n.Views[0]||(n.Views[0]={}),re.RTL&&(n.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:b=!0;break;case 36:b=!1;break;case 37:b=!0;break;case 38:b=!1;break;default:if(!G.T){if(!b||d.WTF)throw new Error("Unexpected record 0x"+R.toString(16))}}},d),delete d.supbooks,delete d["!row"],!x["!ref"]&&(m.s.r<2e6||h&&(h.e.r>0||h.e.c>0||h.s.r>0||h.s.c>0))&&(x["!ref"]=Rs(h||m)),d.sheetRows&&x["!ref"]){var Y=na(x["!ref"]);d.sheetRows<=+Y.e.r&&(Y.e.r=d.sheetRows-1,Y.e.r>m.e.r&&(Y.e.r=m.e.r),Y.e.r<Y.s.r&&(Y.s.r=Y.e.r),Y.e.c>m.e.c&&(Y.e.c=m.e.c),Y.e.c<Y.s.c&&(Y.s.c=Y.e.c),x["!fullref"]=x["!ref"],x["!ref"]=Rs(Y))}return k.length>0&&(x["!merges"]=k),se.length>0&&(x["!cols"]=se),le.length>0&&(x["!rows"]=le),x}function ZW(t,s,a,r,n,l,i){if(s.v===void 0)return!1;var d="";switch(s.t){case"b":d=s.v?"1":"0";break;case"d":s=Ka(s),s.z=s.z||As[14],s.v=Ir(Ya(s.v)),s.t="n";break;case"n":case"e":d=""+s.v;break;default:d=s.v;break}var x={r:a,c:r};switch(x.s=wc(n.cellXfs,s,n),s.l&&l["!links"].push([Fs(x),s.l]),s.c&&l["!comments"].push([Fs(x),s.c]),s.t){case"s":case"str":return n.bookSST?(d=pv(n.Strings,s.v,n.revStrings),x.t="s",x.v=d,i?Yt(t,18,yW(s,x)):Yt(t,7,fW(s,x))):(x.t="str",i?Yt(t,17,AW(s,x)):Yt(t,6,EW(s,x))),!0;case"n":return s.v==(s.v|0)&&s.v>-1e3&&s.v<1e3?i?Yt(t,13,SW(s,x)):Yt(t,2,jW(s,x)):i?Yt(t,16,wW(s,x)):Yt(t,5,vW(s,x)),!0;case"b":return x.t="b",i?Yt(t,15,dW(s,x)):Yt(t,4,iW(s,x)),!0;case"e":return x.t="e",i?Yt(t,14,mW(s,x)):Yt(t,3,xW(s,x)),!0}return i?Yt(t,12,oW(s,x)):Yt(t,1,rW(s,x)),!0}function eG(t,s,a,r){var n=na(s["!ref"]||"A1"),l,i="",d=[];Yt(t,145);var x=Array.isArray(s),h=n.e.r;s["!rows"]&&(h=Math.max(n.e.r,s["!rows"].length-1));for(var m=n.s.r;m<=h;++m){i=yr(m),JH(t,s,n,m);var b=!1;if(m<=n.e.r)for(var f=n.s.c;f<=n.e.c;++f){m===n.s.r&&(d[f]=ar(f)),l=d[f]+i;var N=x?(s[m]||[])[f]:s[l];if(!N){b=!1;continue}b=ZW(t,N,m,f,r,s,b)}}Yt(t,146)}function tG(t,s){!s||!s["!merges"]||(Yt(t,177,_W(s["!merges"].length)),s["!merges"].forEach(function(a){Yt(t,176,OW(a))}),Yt(t,178))}function sG(t,s){!s||!s["!cols"]||(Yt(t,390),s["!cols"].forEach(function(a,r){a&&Yt(t,60,GW(r,a))}),Yt(t,391))}function aG(t,s){!s||!s["!ref"]||(Yt(t,648),Yt(t,649,KW(na(s["!ref"]))),Yt(t,650))}function rG(t,s,a){s["!links"].forEach(function(r){if(r[1].Target){var n=Da(a,-1,r[1].Target.replace(/#.*$/,""),Vs.HLINK);Yt(t,494,RW(r,n))}}),delete s["!links"]}function nG(t,s,a,r){if(s["!comments"].length>0){var n=Da(r,-1,"../drawings/vmlDrawing"+(a+1)+".vml",Vs.VML);Yt(t,551,sv("rId"+n)),s["!legacy"]=n}}function oG(t,s,a,r){if(s["!autofilter"]){var n=s["!autofilter"],l=typeof n.ref=="string"?n.ref:Rs(n.ref);a.Workbook||(a.Workbook={Sheets:[]}),a.Workbook.Names||(a.Workbook.Names=[]);var i=a.Workbook.Names,d=so(l);d.s.r==d.e.r&&(d.e.r=so(s["!ref"]).e.r,l=Rs(d));for(var x=0;x<i.length;++x){var h=i[x];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==r){h.Ref="'"+a.SheetNames[r]+"'!"+l;break}}x==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+a.SheetNames[r]+"'!"+l}),Yt(t,161,K0(na(l))),Yt(t,162)}}function lG(t,s,a){Yt(t,133),Yt(t,137,YW(s,a)),Yt(t,138),Yt(t,134)}function iG(t,s){s["!protect"]&&Yt(t,535,qW(s["!protect"]))}function cG(t,s,a,r){var n=Zn(),l=a.SheetNames[t],i=a.Sheets[l]||{},d=l;try{a&&a.Workbook&&(d=a.Workbook.Sheets[t].CodeName||d)}catch{}var x=na(i["!ref"]||"A1");if(x.e.c>16383||x.e.r>1048575){if(s.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");x.e.c=Math.min(x.e.c,16383),x.e.r=Math.min(x.e.c,1048575)}return i["!links"]=[],i["!comments"]=[],Yt(n,129),(a.vbaraw||i["!outline"])&&Yt(n,147,sW(d,i["!outline"])),Yt(n,148,ZH(x)),lG(n,i,a.Workbook),sG(n,i),eG(n,i,t,s),iG(n,i),oG(n,i,a,t),tG(n,i),rG(n,i,r),i["!margins"]&&Yt(n,476,zW(i["!margins"])),(!s||s.ignoreEC||s.ignoreEC==null)&&aG(n,i),nG(n,i,t,r),Yt(n,130),n.end()}function dG(t){var s=[],a=t.match(/^<c:numCache>/),r;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(l){var i=l.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);i&&(s[+i[1]]=a?+i[2]:i[2])});var n=ra((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(l){r=l.replace(/<.*?>/g,"")}),[s,n,r]}function uG(t,s,a,r,n,l){var i=l||{"!type":"chart"};if(!t)return l;var d=0,x=0,h="A",m={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(b){var f=dG(b);m.s.r=m.s.c=0,m.e.c=d,h=ar(d),f[0].forEach(function(N,p){i[h+yr(p)]={t:"n",v:N,z:f[1]},x=p}),m.e.r<x&&(m.e.r=x),++d}),d>0&&(i["!ref"]=Rs(m)),i}function xG(t,s,a,r,n){if(!t)return t;r||(r={"!id":{}});var l={"!type":"chart","!drawel":null,"!rel":""},i,d=t.match(t3);return d&&fv(d[0],l,n,a),(i=t.match(/drawing r:id="(.*?)"/))&&(l["!rel"]=i[1]),r["!id"][l["!rel"]]&&(l["!drawel"]=r["!id"][l["!rel"]]),l}function hG(t,s){t.l+=10;var a=Cn(t);return{name:a}}function mG(t,s,a,r,n){if(!t)return t;r||(r={"!id":{}});var l={"!type":"chart","!drawel":null,"!rel":""},i=!1;return ki(t,function(x,h,m){switch(m){case 550:l["!rel"]=x;break;case 651:n.Sheets[a]||(n.Sheets[a]={}),x.name&&(n.Sheets[a].CodeName=x.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!(h.T>0)){if(!(h.T<0)){if(!i||s.WTF)throw new Error("Unexpected record 0x"+m.toString(16))}}}},s),r["!id"][l["!rel"]]&&(l["!drawel"]=r["!id"][l["!rel"]]),l}var gv=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],pG=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],fG=[],gG=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function s2(t,s){for(var a=0;a!=t.length;++a)for(var r=t[a],n=0;n!=s.length;++n){var l=s[n];if(r[l[0]]==null)r[l[0]]=l[1];else switch(l[2]){case"bool":typeof r[l[0]]=="string"&&(r[l[0]]=Va(r[l[0]]));break;case"int":typeof r[l[0]]=="string"&&(r[l[0]]=parseInt(r[l[0]],10));break}}}function a2(t,s){for(var a=0;a!=s.length;++a){var r=s[a];if(t[r[0]]==null)t[r[0]]=r[1];else switch(r[2]){case"bool":typeof t[r[0]]=="string"&&(t[r[0]]=Va(t[r[0]]));break;case"int":typeof t[r[0]]=="string"&&(t[r[0]]=parseInt(t[r[0]],10));break}}}function n3(t){a2(t.WBProps,gv),a2(t.CalcPr,gG),s2(t.WBView,pG),s2(t.Sheets,fG),j0.date1904=Va(t.WBProps.date1904)}function yG(t){return!t.Workbook||!t.Workbook.WBProps?"false":Va(t.Workbook.WBProps.date1904)?"true":"false"}var bG="][*?/\\".split("");function o3(t,s){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var a=!0;return bG.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),a}function vG(t,s,a){t.forEach(function(r,n){o3(r);for(var l=0;l<n;++l)if(r==t[l])throw new Error("Duplicate Sheet Name: "+r);if(a){var i=s&&s[n]&&s[n].CodeName||r;if(i.charCodeAt(0)==95&&i.length>22)throw new Error("Bad Code Name: Worksheet"+i)}})}function wG(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var s=t.Workbook&&t.Workbook.Sheets||[];vG(t.SheetNames,s,!!t.vbaraw);for(var a=0;a<t.SheetNames.length;++a)yH(t.Sheets[t.SheetNames[a]],t.SheetNames[a],a)}var NG=/<\w+:workbook/;function jG(t,s){if(!t)throw new Error("Could not find file");var a={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,n="xmlns",l={},i=0;if(t.replace(Dn,function(x,h){var m=Ms(x);switch(Yl(m[0])){case"<?xml":break;case"<workbook":x.match(NG)&&(n="xmlns"+x.match(/<(\w+):/)[1]),a.xmlns=m[n];break;case"</workbook>":break;case"<fileVersion":delete m[0],a.AppVersion=m;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":gv.forEach(function(b){if(m[b[0]]!=null)switch(b[2]){case"bool":a.WBProps[b[0]]=Va(m[b[0]]);break;case"int":a.WBProps[b[0]]=parseInt(m[b[0]],10);break;default:a.WBProps[b[0]]=m[b[0]]}}),m.codeName&&(a.WBProps.CodeName=Pa(m.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete m[0],a.WBView.push(m);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(m.state){case"hidden":m.Hidden=1;break;case"veryHidden":m.Hidden=2;break;default:m.Hidden=0}delete m.state,m.name=ra(Pa(m.name)),delete m[0],a.Sheets.push(m);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":l={},l.Name=Pa(m.name),m.comment&&(l.Comment=m.comment),m.localSheetId&&(l.Sheet=+m.localSheetId),Va(m.hidden||"0")&&(l.Hidden=!0),i=h+x.length;break;case"</definedName>":l.Ref=ra(Pa(t.slice(i,h))),a.Names.push(l);break;case"<definedName/>":break;case"<calcPr":delete m[0],a.CalcPr=m;break;case"<calcPr/>":delete m[0],a.CalcPr=m;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&s.WTF)throw new Error("unrecognized "+m[0]+" in workbook")}return x}),wd.indexOf(a.xmlns)===-1)throw new Error("Unknown Namespace: "+a.xmlns);return n3(a),a}function l3(t){var s=[Nr];s[s.length]=ss("workbook",null,{xmlns:wd[0],"xmlns:r":Pr.r});var a=t.Workbook&&(t.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(gv.forEach(function(d){t.Workbook.WBProps[d[0]]!=null&&t.Workbook.WBProps[d[0]]!=d[1]&&(r[d[0]]=t.Workbook.WBProps[d[0]])}),t.Workbook.WBProps.CodeName&&(r.codeName=t.Workbook.WBProps.CodeName,delete r.CodeName)),s[s.length]=ss("workbookPr",null,r);var n=t.Workbook&&t.Workbook.Sheets||[],l=0;if(n&&n[0]&&n[0].Hidden){for(s[s.length]="<bookViews>",l=0;l!=t.SheetNames.length&&!(!n[l]||!n[l].Hidden);++l);l==t.SheetNames.length&&(l=0),s[s.length]='<workbookView firstSheet="'+l+'" activeTab="'+l+'"/>',s[s.length]="</bookViews>"}for(s[s.length]="<sheets>",l=0;l!=t.SheetNames.length;++l){var i={name:Ta(t.SheetNames[l].slice(0,31))};if(i.sheetId=""+(l+1),i["r:id"]="rId"+(l+1),n[l])switch(n[l].Hidden){case 1:i.state="hidden";break;case 2:i.state="veryHidden";break}s[s.length]=ss("sheet",null,i)}return s[s.length]="</sheets>",a&&(s[s.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(d){var x={name:d.Name};d.Comment&&(x.comment=d.Comment),d.Sheet!=null&&(x.localSheetId=""+d.Sheet),d.Hidden&&(x.hidden="1"),d.Ref&&(s[s.length]=ss("definedName",Ta(d.Ref),x))}),s[s.length]="</definedNames>"),s.length>2&&(s[s.length]="</workbook>",s[1]=s[1].replace("/>",">")),s.join("")}function CG(t,s){var a={};return a.Hidden=t.read_shift(4),a.iTabID=t.read_shift(4),a.strRelID=Ly(t),a.name=Cn(t),a}function SG(t,s){return s||(s=Wt(127)),s.write_shift(4,t.Hidden),s.write_shift(4,t.iTabID),sv(t.strRelID,s),Yr(t.name.slice(0,31),s),s.length>s.l?s.slice(0,s.l):s}function kG(t,s){var a={},r=t.read_shift(4);a.defaultThemeVersion=t.read_shift(4);var n=s>8?Cn(t):"";return n.length>0&&(a.CodeName=n),a.autoCompressPictures=!!(r&65536),a.backupFile=!!(r&64),a.checkCompatibility=!!(r&4096),a.date1904=!!(r&1),a.filterPrivacy=!!(r&8),a.hidePivotFieldList=!!(r&1024),a.promptedSolutions=!!(r&16),a.publishItems=!!(r&2048),a.refreshAllConnections=!!(r&262144),a.saveExternalLinkValues=!!(r&128),a.showBorderUnselectedTables=!!(r&4),a.showInkAnnotation=!!(r&32),a.showObjects=["all","placeholders","none"][r>>13&3],a.showPivotChartFilter=!!(r&32768),a.updateLinks=["userSet","never","always"][r>>8&3],a}function DG(t,s){s||(s=Wt(72));var a=0;return t&&t.filterPrivacy&&(a|=8),s.write_shift(4,a),s.write_shift(4,0),QS(t&&t.CodeName||"ThisWorkbook",s),s.slice(0,s.l)}function EG(t,s){var a={};return t.read_shift(4),a.ArchID=t.read_shift(4),t.l+=s-8,a}function TG(t,s,a){var r=t.l+s;t.l+=4,t.l+=1;var n=t.read_shift(4),l=n8(t),i=xH(t,0,a),d=tv(t);t.l=r;var x={Name:l,Ptg:i};return n<268435455&&(x.Sheet=n),d&&(x.Comment=d),x}function AG(t,s){var a={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],n=!1;s||(s={}),s.biff=12;var l=[],i=[[]];return i.SheetNames=[],i.XTI=[],ox[16]={n:"BrtFRTArchID$",f:EG},ki(t,function(x,h,m){switch(m){case 156:i.SheetNames.push(x.name),a.Sheets.push(x);break;case 153:a.WBProps=x;break;case 39:x.Sheet!=null&&(s.SID=x.Sheet),x.Ref=vn(x.Ptg,null,null,i,s),delete s.SID,delete x.Ptg,l.push(x);break;case 1036:break;case 357:case 358:case 355:case 667:i[0].length?i.push([m,x]):i[0]=[m,x],i[i.length-1].XTI=[];break;case 362:i.length===0&&(i[0]=[],i[0].XTI=[]),i[i.length-1].XTI=i[i.length-1].XTI.concat(x),i.XTI=i.XTI.concat(x);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(m),n=!0;break;case 36:r.pop(),n=!1;break;case 37:r.push(m),n=!0;break;case 38:r.pop(),n=!1;break;case 16:break;default:if(!h.T){if(!n||s.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+m.toString(16))}}},s),n3(a),a.Names=l,a.supbooks=i,a}function FG(t,s){Yt(t,143);for(var a=0;a!=s.SheetNames.length;++a){var r=s.Workbook&&s.Workbook.Sheets&&s.Workbook.Sheets[a]&&s.Workbook.Sheets[a].Hidden||0,n={Hidden:r,iTabID:a+1,strRelID:"rId"+(a+1),name:s.SheetNames[a]};Yt(t,156,SG(n))}Yt(t,144)}function PG(t,s){s||(s=Wt(127));for(var a=0;a!=4;++a)s.write_shift(4,0);return Yr("SheetJS",s),Yr(jp.version,s),Yr(jp.version,s),Yr("7262",s),s.length>s.l?s.slice(0,s.l):s}function MG(t,s){s||(s=Wt(29)),s.write_shift(-4,0),s.write_shift(-4,460),s.write_shift(4,28800),s.write_shift(4,17600),s.write_shift(4,500),s.write_shift(4,t),s.write_shift(4,t);var a=120;return s.write_shift(1,a),s.length>s.l?s.slice(0,s.l):s}function IG(t,s){if(!(!s.Workbook||!s.Workbook.Sheets)){for(var a=s.Workbook.Sheets,r=0,n=-1,l=-1;r<a.length;++r)!a[r]||!a[r].Hidden&&n==-1?n=r:a[r].Hidden==1&&l==-1&&(l=r);l>n||(Yt(t,135),Yt(t,158,MG(n)),Yt(t,136))}}function LG(t,s){var a=Zn();return Yt(a,131),Yt(a,128,PG()),Yt(a,153,DG(t.Workbook&&t.Workbook.WBProps||null)),IG(a,t),FG(a,t),Yt(a,132),a.end()}function OG(t,s,a){return s.slice(-4)===".bin"?AG(t,a):jG(t,a)}function _G(t,s,a,r,n,l,i,d){return s.slice(-4)===".bin"?QW(t,r,a,n,l,i,d):TH(t,r,a,n,l,i,d)}function BG(t,s,a,r,n,l,i,d){return s.slice(-4)===".bin"?mG(t,r,a,n,l):xG(t,r,a,n,l)}function RG(t,s,a,r,n,l,i,d){return s.slice(-4)===".bin"?H9():W9()}function UG(t,s,a,r,n,l,i,d){return s.slice(-4)===".bin"?R9():U9()}function HG(t,s,a,r){return s.slice(-4)===".bin"?OR(t,a,r):CR(t,a,r)}function WG(t,s,a){return Hk(t,a)}function GG(t,s,a){return s.slice(-4)===".bin"?GB(t,a):UB(t,a)}function $G(t,s,a){return s.slice(-4)===".bin"?I9(t,a):S9(t,a)}function zG(t,s,a){return s.slice(-4)===".bin"?N9(t):v9(t)}function VG(t,s,a,r){return a.slice(-4)===".bin"?j9(t,s,a,r):void 0}function YG(t,s,a){return s.slice(-4)===".bin"?g9(t,s,a):b9(t,s,a)}function KG(t,s,a){return(s.slice(-4)===".bin"?LG:l3)(t)}function qG(t,s,a,r,n){return(s.slice(-4)===".bin"?cG:s3)(t,a,r,n)}function XG(t,s,a){return(s.slice(-4)===".bin"?VR:Rk)(t,a)}function JG(t,s,a){return(s.slice(-4)===".bin"?VB:Fk)(t,a)}function QG(t,s,a){return(s.slice(-4)===".bin"?L9:$k)(t)}function ZG(t){return(t.slice(-4)===".bin"?y9:Wk)()}var i3=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,c3=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function ol(t,s){var a=t.split(/\s+/),r=[];if(r[0]=a[0],a.length===1)return r;var n=t.match(i3),l,i,d,x;if(n)for(x=0;x!=n.length;++x)l=n[x].match(c3),(i=l[1].indexOf(":"))===-1?r[l[1]]=l[2].slice(1,l[2].length-1):(l[1].slice(0,6)==="xmlns:"?d="xmlns"+l[1].slice(6):d=l[1].slice(i+1),r[d]=l[2].slice(1,l[2].length-1));return r}function e$(t){var s=t.split(/\s+/),a={};if(s.length===1)return a;var r=t.match(i3),n,l,i,d;if(r)for(d=0;d!=r.length;++d)n=r[d].match(c3),(l=n[1].indexOf(":"))===-1?a[n[1]]=n[2].slice(1,n[2].length-1):(n[1].slice(0,6)==="xmlns:"?i="xmlns"+n[1].slice(6):i=n[1].slice(l+1),a[i]=n[2].slice(1,n[2].length-1));return a}var $u;function t$(t,s){var a=$u[t]||ra(t);return a==="General"?dd(s):_o(a,s)}function s$(t,s,a,r){var n=r;switch((a[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":n=Va(r);break;case"i2":case"int":n=parseInt(r,10);break;case"r4":case"float":n=parseFloat(r);break;case"date":case"dateTime.tz":n=Ya(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+a[0])}t[ra(s)]=n}function a$(t,s,a){if(t.t!=="z"){if(!a||a.cellText!==!1)try{t.t==="e"?t.w=t.w||Di[t.v]:s==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Ju(t.v):t.w=dd(t.v):t.w=t$(s||"General",t.v)}catch(l){if(a.WTF)throw l}try{var r=$u[s]||s||"General";if(a.cellNF&&(t.z=r),a.cellDates&&t.t=="n"&&z0(r)){var n=ed(t.v);n&&(t.t="d",t.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}catch(l){if(a.WTF)throw l}}}function r$(t,s,a){if(a.cellStyles&&s.Interior){var r=s.Interior;r.Pattern&&(r.patternType=fR[r.Pattern]||r.Pattern)}t[s.ID]=s}function n$(t,s,a,r,n,l,i,d,x,h){var m="General",b=r.StyleID,f={};h=h||{};var N=[],p=0;for(b===void 0&&d&&(b=d.StyleID),b===void 0&&i&&(b=i.StyleID);l[b]!==void 0&&(l[b].nf&&(m=l[b].nf),l[b].Interior&&N.push(l[b].Interior),!!l[b].Parent);)b=l[b].Parent;switch(a.Type){case"Boolean":r.t="b",r.v=Va(t);break;case"String":r.t="s",r.r=v1(ra(t)),r.v=t.indexOf("<")>-1?ra(s||t).replace(/<.*?>/g,""):r.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),r.v=(Ya(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=ra(t):r.v<60&&(r.v=r.v-1),(!m||m=="General")&&(m="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+t),r.t||(r.t="n");break;case"Error":r.t="e",r.v=ak[t],h.cellText!==!1&&(r.w=t);break;default:t==""&&s==""?r.t="z":(r.t="s",r.v=v1(s||t));break}if(a$(r,m,h),h.cellFormula!==!1)if(r.Formula){var v=ra(r.Formula);v.charCodeAt(0)==61&&(v=v.slice(1)),r.f=N0(v,n),delete r.Formula,r.ArrayRange=="RC"?r.F=N0("RC:RC",n):r.ArrayRange&&(r.F=N0(r.ArrayRange,n),x.push([na(r.F),r.F]))}else for(p=0;p<x.length;++p)n.r>=x[p][0].s.r&&n.r<=x[p][0].e.r&&n.c>=x[p][0].s.c&&n.c<=x[p][0].e.c&&(r.F=x[p][1]);h.cellStyles&&(N.forEach(function(y){!f.patternType&&y.patternType&&(f.patternType=y.patternType)}),r.s=f),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function o$(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function ry(t,s){var a=s||{};V0();var r=Lu(qb(t));(a.type=="binary"||a.type=="array"||a.type=="base64")&&(r=Pa(r));var n=r.slice(0,1024).toLowerCase(),l=!1;if(n=n.replace(/".*?"/g,""),(n.indexOf(">")&1023)>Math.min(n.indexOf(",")&1023,n.indexOf(";")&1023)){var i=Ka(a);return i.type="string",P0.to_workbook(r,i)}if(n.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(ot){n.indexOf("<"+ot)>=0&&(l=!0)}),l)return z$(r,a);$u={"General Number":"General","General Date":As[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":As[15],"Short Date":As[14],"Long Time":As[19],"Medium Time":As[18],"Short Time":As[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:As[2],Standard:As[4],Percent:As[10],Scientific:As[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var d,x=[],h,m={},b=[],f=a.dense?[]:{},N="",p={},v={},y=ol('<Data ss:Type="String">'),g=0,j=0,C=0,S={s:{r:2e6,c:2e6},e:{r:0,c:0}},P={},k={},E="",M=0,L=[],O={},q={},B=0,se=[],le=[],pe={},U=[],Y,W=!1,re=[],G=[],R={},F=0,A=0,H={Sheets:[],WBProps:{date1904:!1}},D={};ex.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var _="";d=ex.exec(r);)switch(d[3]=(_=d[3]).toLowerCase()){case"data":if(_=="data"){if(d[1]==="/"){if((h=x.pop())[0]!==d[3])throw new Error("Bad state: "+h.join("|"))}else d[0].charAt(d[0].length-2)!=="/"&&x.push([d[3],!0]);break}if(x[x.length-1][1])break;d[1]==="/"?n$(r.slice(g,d.index),E,y,x[x.length-1][0]=="comment"?pe:p,{c:j,r:C},P,U[j],v,re,a):(E="",y=ol(d[0]),g=d.index+d[0].length);break;case"cell":if(d[1]==="/")if(le.length>0&&(p.c=le),(!a.sheetRows||a.sheetRows>C)&&p.v!==void 0&&(a.dense?(f[C]||(f[C]=[]),f[C][j]=p):f[ar(j)+yr(C)]=p),p.HRef&&(p.l={Target:ra(p.HRef)},p.HRefScreenTip&&(p.l.Tooltip=p.HRefScreenTip),delete p.HRef,delete p.HRefScreenTip),(p.MergeAcross||p.MergeDown)&&(F=j+(parseInt(p.MergeAcross,10)|0),A=C+(parseInt(p.MergeDown,10)|0),L.push({s:{c:j,r:C},e:{c:F,r:A}})),!a.sheetStubs)p.MergeAcross?j=F+1:++j;else if(p.MergeAcross||p.MergeDown){for(var xe=j;xe<=F;++xe)for(var ge=C;ge<=A;++ge)(xe>j||ge>C)&&(a.dense?(f[ge]||(f[ge]=[]),f[ge][xe]={t:"z"}):f[ar(xe)+yr(ge)]={t:"z"});j=F+1}else++j;else p=e$(d[0]),p.Index&&(j=+p.Index-1),j<S.s.c&&(S.s.c=j),j>S.e.c&&(S.e.c=j),d[0].slice(-2)==="/>"&&++j,le=[];break;case"row":d[1]==="/"||d[0].slice(-2)==="/>"?(C<S.s.r&&(S.s.r=C),C>S.e.r&&(S.e.r=C),d[0].slice(-2)==="/>"&&(v=ol(d[0]),v.Index&&(C=+v.Index-1)),j=0,++C):(v=ol(d[0]),v.Index&&(C=+v.Index-1),R={},(v.AutoFitHeight=="0"||v.Height)&&(R.hpx=parseInt(v.Height,10),R.hpt=nx(R.hpx),G[C]=R),v.Hidden=="1"&&(R.hidden=!0,G[C]=R));break;case"worksheet":if(d[1]==="/"){if((h=x.pop())[0]!==d[3])throw new Error("Bad state: "+h.join("|"));b.push(N),S.s.r<=S.e.r&&S.s.c<=S.e.c&&(f["!ref"]=Rs(S),a.sheetRows&&a.sheetRows<=S.e.r&&(f["!fullref"]=f["!ref"],S.e.r=a.sheetRows-1,f["!ref"]=Rs(S))),L.length&&(f["!merges"]=L),U.length>0&&(f["!cols"]=U),G.length>0&&(f["!rows"]=G),m[N]=f}else S={s:{r:2e6,c:2e6},e:{r:0,c:0}},C=j=0,x.push([d[3],!1]),h=ol(d[0]),N=ra(h.Name),f=a.dense?[]:{},L=[],re=[],G=[],D={name:N,Hidden:0},H.Sheets.push(D);break;case"table":if(d[1]==="/"){if((h=x.pop())[0]!==d[3])throw new Error("Bad state: "+h.join("|"))}else{if(d[0].slice(-2)=="/>")break;x.push([d[3],!1]),U=[],W=!1}break;case"style":d[1]==="/"?r$(P,k,a):k=ol(d[0]);break;case"numberformat":k.nf=ra(ol(d[0]).Format||"General"),$u[k.nf]&&(k.nf=$u[k.nf]);for(var Ne=0;Ne!=392&&As[Ne]!=k.nf;++Ne);if(Ne==392){for(Ne=57;Ne!=392;++Ne)if(As[Ne]==null){yi(k.nf,Ne);break}}break;case"column":if(x[x.length-1][0]!=="table")break;if(Y=ol(d[0]),Y.Hidden&&(Y.hidden=!0,delete Y.Hidden),Y.Width&&(Y.wpx=parseInt(Y.Width,10)),!W&&Y.wpx>10){W=!0,wn=_k;for(var Ce=0;Ce<U.length;++Ce)U[Ce]&&hc(U[Ce])}W&&hc(Y),U[Y.Index-1||U.length]=Y;for(var fe=0;fe<+Y.Span;++fe)U[U.length]=Ka(Y);break;case"namedrange":if(d[1]==="/")break;H.Names||(H.Names=[]);var ue=Ms(d[0]),Oe={Name:ue.Name,Ref:N0(ue.RefersTo.slice(1),{r:0,c:0})};H.Sheets.length>0&&(Oe.Sheet=H.Sheets.length-1),H.Names.push(Oe);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(d[0].slice(-2)==="/>")break;d[1]==="/"?E+=r.slice(M,d.index):M=d.index+d[0].length;break;case"interior":if(!a.cellStyles)break;k.Interior=ol(d[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(d[0].slice(-2)==="/>")break;d[1]==="/"?A8(O,_,r.slice(B,d.index)):B=d.index+d[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(d[1]==="/"){if((h=x.pop())[0]!==d[3])throw new Error("Bad state: "+h.join("|"))}else x.push([d[3],!1]);break;case"comment":if(d[1]==="/"){if((h=x.pop())[0]!==d[3])throw new Error("Bad state: "+h.join("|"));o$(pe),le.push(pe)}else x.push([d[3],!1]),h=ol(d[0]),pe={a:h.Author};break;case"autofilter":if(d[1]==="/"){if((h=x.pop())[0]!==d[3])throw new Error("Bad state: "+h.join("|"))}else if(d[0].charAt(d[0].length-2)!=="/"){var De=ol(d[0]);f["!autofilter"]={ref:N0(De.Range).replace(/\$/g,"")},x.push([d[3],!0])}break;case"name":break;case"datavalidation":if(d[1]==="/"){if((h=x.pop())[0]!==d[3])throw new Error("Bad state: "+h.join("|"))}else d[0].charAt(d[0].length-2)!=="/"&&x.push([d[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(d[1]==="/"){if((h=x.pop())[0]!==d[3])throw new Error("Bad state: "+h.join("|"))}else d[0].charAt(d[0].length-2)!=="/"&&x.push([d[3],!0]);break;case"null":break;default:if(x.length==0&&d[3]=="document"||x.length==0&&d[3]=="uof")return i2(r,a);var Ae=!0;switch(x[x.length-1][0]){case"officedocumentsettings":switch(d[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ae=!1}break;case"componentoptions":switch(d[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ae=!1}break;case"excelworkbook":switch(d[3]){case"date1904":H.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ae=!1}break;case"workbookoptions":switch(d[3]){case"owcversion":break;case"height":break;case"width":break;default:Ae=!1}break;case"worksheetoptions":switch(d[3]){case"visible":if(d[0].slice(-2)!=="/>")if(d[1]==="/")switch(r.slice(B,d.index)){case"SheetHidden":D.Hidden=1;break;case"SheetVeryHidden":D.Hidden=2;break}else B=d.index+d[0].length;break;case"header":f["!margins"]||od(f["!margins"]={},"xlml"),isNaN(+Ms(d[0]).Margin)||(f["!margins"].header=+Ms(d[0]).Margin);break;case"footer":f["!margins"]||od(f["!margins"]={},"xlml"),isNaN(+Ms(d[0]).Margin)||(f["!margins"].footer=+Ms(d[0]).Margin);break;case"pagemargins":var Ee=Ms(d[0]);f["!margins"]||od(f["!margins"]={},"xlml"),isNaN(+Ee.Top)||(f["!margins"].top=+Ee.Top),isNaN(+Ee.Left)||(f["!margins"].left=+Ee.Left),isNaN(+Ee.Right)||(f["!margins"].right=+Ee.Right),isNaN(+Ee.Bottom)||(f["!margins"].bottom=+Ee.Bottom);break;case"displayrighttoleft":H.Views||(H.Views=[]),H.Views[0]||(H.Views[0]={}),H.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":f["!outline"]||(f["!outline"]={}),f["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":f["!outline"]||(f["!outline"]={}),f["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ae=!1}break;case"pivottable":case"pivotcache":switch(d[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ae=!1}break;case"pagebreaks":switch(d[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ae=!1}break;case"autofilter":switch(d[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ae=!1}break;case"querytable":switch(d[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ae=!1}break;case"datavalidation":switch(d[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ae=!1}break;case"sorting":case"conditionalformatting":switch(d[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ae=!1}break;case"mapinfo":case"schema":case"data":switch(d[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ae=!1}break;case"smarttags":break;default:Ae=!1;break}if(Ae||d[3].match(/!\[CDATA/))break;if(!x[x.length-1][1])throw"Unrecognized tag: "+d[3]+"|"+x.join("|");if(x[x.length-1][0]==="customdocumentproperties"){if(d[0].slice(-2)==="/>")break;d[1]==="/"?s$(q,_,se,r.slice(B,d.index)):(se=d,B=d.index+d[0].length);break}if(a.WTF)throw"Unrecognized tag: "+d[3]+"|"+x.join("|")}var ze={};return!a.bookSheets&&!a.bookProps&&(ze.Sheets=m),ze.SheetNames=b,ze.Workbook=H,ze.SSF=Ka(As),ze.Props=O,ze.Custprops=q,ze}function Wy(t,s){switch(bv(s=s||{}),s.type||"base64"){case"base64":return ry(yo(t),s);case"binary":case"buffer":case"file":return ry(t,s);case"array":return ry(bc(t),s)}}function l$(t,s){var a=[];return t.Props&&a.push(F8(t.Props,s)),t.Custprops&&a.push(P8(t.Props,t.Custprops)),a.join("")}function i$(){return""}function c$(t,s){var a=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return s.cellXfs.forEach(function(r,n){var l=[];l.push(ss("NumberFormat",null,{"ss:Format":Ta(As[r.numFmtId])}));var i={"ss:ID":"s"+(21+n)};a.push(ss("Style",l.join(""),i))}),ss("Styles",a.join(""))}function d3(t){return ss("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+hv(t.Ref,{r:0,c:0})})}function d$(t){if(!((t||{}).Workbook||{}).Names)return"";for(var s=t.Workbook.Names,a=[],r=0;r<s.length;++r){var n=s[r];n.Sheet==null&&(n.Name.match(/^_xlfn\./)||a.push(d3(n)))}return ss("Names",a.join(""))}function u$(t,s,a,r){if(!t||!((r||{}).Workbook||{}).Names)return"";for(var n=r.Workbook.Names,l=[],i=0;i<n.length;++i){var d=n[i];d.Sheet==a&&(d.Name.match(/^_xlfn\./)||l.push(d3(d)))}return l.join("")}function x$(t,s,a,r){if(!t)return"";var n=[];if(t["!margins"]&&(n.push("<PageSetup>"),t["!margins"].header&&n.push(ss("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&n.push(ss("Footer",null,{"x:Margin":t["!margins"].footer})),n.push(ss("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),n.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[a])if(r.Workbook.Sheets[a].Hidden)n.push(ss("Visible",r.Workbook.Sheets[a].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var l=0;l<a&&!(r.Workbook.Sheets[l]&&!r.Workbook.Sheets[l].Hidden);++l);l==a&&n.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&n.push("<DisplayRightToLeft/>"),t["!protect"]&&(n.push(nn("ProtectContents","True")),t["!protect"].objects&&n.push(nn("ProtectObjects","True")),t["!protect"].scenarios&&n.push(nn("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?n.push(nn("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&n.push(nn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(i){t["!protect"][i[0]]&&n.push("<"+i[1]+"/>")})),n.length==0?"":ss("WorksheetOptions",n.join(""),{xmlns:xo.x})}function h$(t){return t.map(function(s){var a=IO(s.t||""),r=ss("ss:Data",a,{xmlns:"http://www.w3.org/TR/REC-html40"});return ss("Comment",r,{"ss:Author":s.a})}).join("")}function m$(t,s,a,r,n,l,i){if(!t||t.v==null&&t.f==null)return"";var d={};if(t.f&&(d["ss:Formula"]="="+Ta(hv(t.f,i))),t.F&&t.F.slice(0,s.length)==s){var x=rr(t.F.slice(s.length+1));d["ss:ArrayRange"]="RC:R"+(x.r==i.r?"":"["+(x.r-i.r)+"]")+"C"+(x.c==i.c?"":"["+(x.c-i.c)+"]")}if(t.l&&t.l.Target&&(d["ss:HRef"]=Ta(t.l.Target),t.l.Tooltip&&(d["x:HRefScreenTip"]=Ta(t.l.Tooltip))),a["!merges"])for(var h=a["!merges"],m=0;m!=h.length;++m)h[m].s.c!=i.c||h[m].s.r!=i.r||(h[m].e.c>h[m].s.c&&(d["ss:MergeAcross"]=h[m].e.c-h[m].s.c),h[m].e.r>h[m].s.r&&(d["ss:MergeDown"]=h[m].e.r-h[m].s.r));var b="",f="";switch(t.t){case"z":if(!r.sheetStubs)return"";break;case"n":b="Number",f=String(t.v);break;case"b":b="Boolean",f=t.v?"1":"0";break;case"e":b="Error",f=Di[t.v];break;case"d":b="DateTime",f=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||As[14]);break;case"s":b="String",f=MO(t.v||"");break}var N=wc(r.cellXfs,t,r);d["ss:StyleID"]="s"+(21+N),d["ss:Index"]=i.c+1;var p=t.v!=null?f:"",v=t.t=="z"?"":'<Data ss:Type="'+b+'">'+p+"</Data>";return(t.c||[]).length>0&&(v+=h$(t.c)),ss("Cell",v,d)}function p$(t,s){var a='<Row ss:Index="'+(t+1)+'"';return s&&(s.hpt&&!s.hpx&&(s.hpx=M0(s.hpt)),s.hpx&&(a+=' ss:AutoFitHeight="0" ss:Height="'+s.hpx+'"'),s.hidden&&(a+=' ss:Hidden="1"')),a+">"}function f$(t,s,a,r){if(!t["!ref"])return"";var n=na(t["!ref"]),l=t["!merges"]||[],i=0,d=[];t["!cols"]&&t["!cols"].forEach(function(y,g){hc(y);var j=!!y.width,C=xf(g,y),S={"ss:Index":g+1};j&&(S["ss:Width"]=ax(C.width)),y.hidden&&(S["ss:Hidden"]="1"),d.push(ss("Column",null,S))});for(var x=Array.isArray(t),h=n.s.r;h<=n.e.r;++h){for(var m=[p$(h,(t["!rows"]||[])[h])],b=n.s.c;b<=n.e.c;++b){var f=!1;for(i=0;i!=l.length;++i)if(!(l[i].s.c>b)&&!(l[i].s.r>h)&&!(l[i].e.c<b)&&!(l[i].e.r<h)){(l[i].s.c!=b||l[i].s.r!=h)&&(f=!0);break}if(!f){var N={r:h,c:b},p=Fs(N),v=x?(t[h]||[])[b]:t[p];m.push(m$(v,p,t,s,a,r,N))}}m.push("</Row>"),m.length>2&&d.push(m.join(""))}return d.join("")}function g$(t,s,a){var r=[],n=a.SheetNames[t],l=a.Sheets[n],i=l?u$(l,s,t,a):"";return i.length>0&&r.push("<Names>"+i+"</Names>"),i=l?f$(l,s,t,a):"",i.length>0&&r.push("<Table>"+i+"</Table>"),r.push(x$(l,s,t,a)),r.join("")}function y$(t,s){s||(s={}),t.SSF||(t.SSF=Ka(As)),t.SSF&&(V0(),rf(t.SSF),s.revssf=of(t.SSF),s.revssf[t.SSF[65535]]=0,s.ssf=t.SSF,s.cellXfs=[],wc(s.cellXfs,{},{revssf:{General:0}}));var a=[];a.push(l$(t,s)),a.push(i$()),a.push(""),a.push("");for(var r=0;r<t.SheetNames.length;++r)a.push(ss("Worksheet",g$(r,s,t),{"ss:Name":Ta(t.SheetNames[r])}));return a[2]=c$(t,s),a[3]=d$(t),Nr+ss("Workbook",a.join(""),{xmlns:xo.ss,"xmlns:o":xo.o,"xmlns:x":xo.x,"xmlns:ss":xo.ss,"xmlns:dt":xo.dt,"xmlns:html":xo.html})}function b$(t){var s={},a=t.content;if(a.l=28,s.AnsiUserType=a.read_shift(0,"lpstr-ansi"),s.AnsiClipboardFormat=d8(a),a.length-a.l<=4)return s;var r=a.read_shift(4);if(r==0||r>40||(a.l-=4,s.Reserved1=a.read_shift(0,"lpstr-ansi"),a.length-a.l<=4)||(r=a.read_shift(4),r!==1907505652)||(s.UnicodeClipboardFormat=u8(a),r=a.read_shift(4),r==0||r>40))return s;a.l-=4,s.Reserved2=a.read_shift(0,"lpwstr")}var v$=[60,1084,2066,2165,2175];function w$(t,s,a,r,n){var l=r,i=[],d=a.slice(a.l,a.l+l);if(n&&n.enc&&n.enc.insitu&&d.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:n.enc.insitu(d)}i.push(d),a.l+=l;for(var x=mi(a,a.l),h=Gy[x],m=0;h!=null&&v$.indexOf(x)>-1;)l=mi(a,a.l+2),m=a.l+4,x==2066?m+=4:(x==2165||x==2175)&&(m+=12),d=a.slice(m,a.l+4+l),i.push(d),a.l+=4+l,h=Gy[x=mi(a,a.l)];var b=Vr(i);rn(b,0);var f=0;b.lens=[];for(var N=0;N<i.length;++N)b.lens.push(f),f+=i[N].length;if(b.length<r)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+b.length+" < "+r;return s.f(b,b.length,n)}function Pl(t,s,a){if(t.t!=="z"&&t.XF){var r=0;try{r=t.z||t.XF.numFmtId||0,s.cellNF&&(t.z=As[r])}catch(l){if(s.WTF)throw l}if(!s||s.cellText!==!1)try{t.t==="e"?t.w=t.w||Di[t.v]:r===0||r=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Ju(t.v):t.w=dd(t.v):t.w=_o(r,t.v,{date1904:!!a,dateNF:s&&s.dateNF})}catch(l){if(s.WTF)throw l}if(s.cellDates&&r&&t.t=="n"&&z0(As[r]||String(r))){var n=ed(t.v);n&&(t.t="d",t.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}}function tm(t,s,a){return{v:t,ixfe:s,t:a}}function N$(t,s){var a={opts:{}},r={},n=s.dense?[]:{},l={},i={},d=null,x=[],h="",m={},b,f="",N,p,v,y,g={},j=[],C,S,P=[],k=[],E={Sheets:[],WBProps:{date1904:!1},Views:[{}]},M={},L=function(ut){return ut<8?ad[ut]:ut<64&&k[ut-8]||ad[ut]},O=function(ut,vt,ve){var Le=vt.XF.data;if(!(!Le||!Le.patternType||!ve||!ve.cellStyles)){vt.s={},vt.s.patternType=Le.patternType;var he;(he=sx(L(Le.icvFore)))&&(vt.s.fgColor={rgb:he}),(he=sx(L(Le.icvBack)))&&(vt.s.bgColor={rgb:he})}},q=function(ut,vt,ve){if(!(R>1)&&!(ve.sheetRows&&ut.r>=ve.sheetRows)){if(ve.cellStyles&&vt.XF&&vt.XF.data&&O(ut,vt,ve),delete vt.ixfe,delete vt.XF,b=ut,f=Fs(ut),(!i||!i.s||!i.e)&&(i={s:{r:0,c:0},e:{r:0,c:0}}),ut.r<i.s.r&&(i.s.r=ut.r),ut.c<i.s.c&&(i.s.c=ut.c),ut.r+1>i.e.r&&(i.e.r=ut.r+1),ut.c+1>i.e.c&&(i.e.c=ut.c+1),ve.cellFormula&&vt.f){for(var Le=0;Le<j.length;++Le)if(!(j[Le][0].s.c>ut.c||j[Le][0].s.r>ut.r)&&!(j[Le][0].e.c<ut.c||j[Le][0].e.r<ut.r)){vt.F=Rs(j[Le][0]),(j[Le][0].s.c!=ut.c||j[Le][0].s.r!=ut.r)&&delete vt.f,vt.f&&(vt.f=""+vn(j[Le][1],i,ut,re,B));break}}ve.dense?(n[ut.r]||(n[ut.r]=[]),n[ut.r][ut.c]=vt):n[f]=vt}},B={enc:!1,sbcch:0,snames:[],sharedf:g,arrayf:j,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!s&&!!s.cellStyles,WTF:!!s&&!!s.wtf};s.password&&(B.password=s.password);var se,le=[],pe=[],U=[],Y=[],W=!1,re=[];re.SheetNames=B.snames,re.sharedf=B.sharedf,re.arrayf=B.arrayf,re.names=[],re.XTI=[];var G=0,R=0,F=0,A=[],H=[],D;B.codepage=1200,ll(1200);for(var _=!1;t.l<t.length-1;){var xe=t.l,ge=t.read_shift(2);if(ge===0&&G===10)break;var Ne=t.l===t.length?0:t.read_shift(2),Ce=Gy[ge];if(Ce&&Ce.f){if(s.bookSheets&&G===133&&ge!==133)break;if(G=ge,Ce.r===2||Ce.r==12){var fe=t.read_shift(2);if(Ne-=2,!B.enc&&fe!==ge&&((fe&255)<<8|fe>>8)!==ge)throw new Error("rt mismatch: "+fe+"!="+ge);Ce.r==12&&(t.l+=10,Ne-=10)}var ue={};if(ge===10?ue=Ce.f(t,Ne,B):ue=w$(ge,Ce,t,Ne,B),R==0&&[9,521,1033,2057].indexOf(G)===-1)continue;switch(ge){case 34:a.opts.Date1904=E.WBProps.date1904=ue;break;case 134:a.opts.WriteProtect=!0;break;case 47:if(B.enc||(t.l=0),B.enc=ue,!s.password)throw new Error("File is password-protected");if(ue.valid==null)throw new Error("Encryption scheme unsupported");if(!ue.valid)throw new Error("Password is incorrect");break;case 92:B.lastuser=ue;break;case 66:var Oe=Number(ue);switch(Oe){case 21010:Oe=1200;break;case 32768:Oe=1e4;break;case 32769:Oe=1252;break}ll(B.codepage=Oe),_=!0;break;case 317:B.rrtabid=ue;break;case 25:B.winlocked=ue;break;case 439:a.opts.RefreshAll=ue;break;case 12:a.opts.CalcCount=ue;break;case 16:a.opts.CalcDelta=ue;break;case 17:a.opts.CalcIter=ue;break;case 13:a.opts.CalcMode=ue;break;case 14:a.opts.CalcPrecision=ue;break;case 95:a.opts.CalcSaveRecalc=ue;break;case 15:B.CalcRefMode=ue;break;case 2211:a.opts.FullCalc=ue;break;case 129:ue.fDialog&&(n["!type"]="dialog"),ue.fBelow||((n["!outline"]||(n["!outline"]={})).above=!0),ue.fRight||((n["!outline"]||(n["!outline"]={})).left=!0);break;case 224:P.push(ue);break;case 430:re.push([ue]),re[re.length-1].XTI=[];break;case 35:case 547:re[re.length-1].push(ue);break;case 24:case 536:D={Name:ue.Name,Ref:vn(ue.rgce,i,null,re,B)},ue.itab>0&&(D.Sheet=ue.itab-1),re.names.push(D),re[0]||(re[0]=[],re[0].XTI=[]),re[re.length-1].push(ue),ue.Name=="_xlnm._FilterDatabase"&&ue.itab>0&&ue.rgce&&ue.rgce[0]&&ue.rgce[0][0]&&ue.rgce[0][0][0]=="PtgArea3d"&&(H[ue.itab-1]={ref:Rs(ue.rgce[0][0][1][2])});break;case 22:B.ExternCount=ue;break;case 23:re.length==0&&(re[0]=[],re[0].XTI=[]),re[re.length-1].XTI=re[re.length-1].XTI.concat(ue),re.XTI=re.XTI.concat(ue);break;case 2196:if(B.biff<8)break;D!=null&&(D.Comment=ue[1]);break;case 18:n["!protect"]=ue;break;case 19:ue!==0&&B.WTF&&console.error("Password verifier: "+ue);break;case 133:l[ue.pos]=ue,B.snames.push(ue.name);break;case 10:{if(--R)break;if(i.e){if(i.e.r>0&&i.e.c>0){if(i.e.r--,i.e.c--,n["!ref"]=Rs(i),s.sheetRows&&s.sheetRows<=i.e.r){var De=i.e.r;i.e.r=s.sheetRows-1,n["!fullref"]=n["!ref"],n["!ref"]=Rs(i),i.e.r=De}i.e.r++,i.e.c++}le.length>0&&(n["!merges"]=le),pe.length>0&&(n["!objects"]=pe),U.length>0&&(n["!cols"]=U),Y.length>0&&(n["!rows"]=Y),E.Sheets.push(M)}h===""?m=n:r[h]=n,n=s.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(B.biff===8&&(B.biff={9:2,521:3,1033:4}[ge]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[ue.BIFFVer]||8),B.biffguess=ue.BIFFVer==0,ue.BIFFVer==0&&ue.dt==4096&&(B.biff=5,_=!0,ll(B.codepage=28591)),B.biff==8&&ue.BIFFVer==0&&ue.dt==16&&(B.biff=2),R++)break;if(n=s.dense?[]:{},B.biff<8&&!_&&(_=!0,ll(B.codepage=s.codepage||1252)),B.biff<5||ue.BIFFVer==0&&ue.dt==4096){h===""&&(h="Sheet1"),i={s:{r:0,c:0},e:{r:0,c:0}};var Ae={pos:t.l-Ne,name:h};l[Ae.pos]=Ae,B.snames.push(h)}else h=(l[xe]||{name:""}).name;ue.dt==32&&(n["!type"]="chart"),ue.dt==64&&(n["!type"]="macro"),le=[],pe=[],B.arrayf=j=[],U=[],Y=[],W=!1,M={Hidden:(l[xe]||{hs:0}).hs,name:h}}break;case 515:case 3:case 2:n["!type"]=="chart"&&(s.dense?(n[ue.r]||[])[ue.c]:n[Fs({c:ue.c,r:ue.r})])&&++ue.c,C={ixfe:ue.ixfe,XF:P[ue.ixfe]||{},v:ue.val,t:"n"},F>0&&(C.z=A[C.ixfe>>8&63]),Pl(C,s,a.opts.Date1904),q({c:ue.c,r:ue.r},C,s);break;case 5:case 517:C={ixfe:ue.ixfe,XF:P[ue.ixfe],v:ue.val,t:ue.t},F>0&&(C.z=A[C.ixfe>>8&63]),Pl(C,s,a.opts.Date1904),q({c:ue.c,r:ue.r},C,s);break;case 638:C={ixfe:ue.ixfe,XF:P[ue.ixfe],v:ue.rknum,t:"n"},F>0&&(C.z=A[C.ixfe>>8&63]),Pl(C,s,a.opts.Date1904),q({c:ue.c,r:ue.r},C,s);break;case 189:for(var Ee=ue.c;Ee<=ue.C;++Ee){var ze=ue.rkrec[Ee-ue.c][0];C={ixfe:ze,XF:P[ze],v:ue.rkrec[Ee-ue.c][1],t:"n"},F>0&&(C.z=A[C.ixfe>>8&63]),Pl(C,s,a.opts.Date1904),q({c:Ee,r:ue.r},C,s)}break;case 6:case 518:case 1030:{if(ue.val=="String"){d=ue;break}if(C=tm(ue.val,ue.cell.ixfe,ue.tt),C.XF=P[C.ixfe],s.cellFormula){var ot=ue.formula;if(ot&&ot[0]&&ot[0][0]&&ot[0][0][0]=="PtgExp"){var wt=ot[0][0][1][0],Ie=ot[0][0][1][1],ye=Fs({r:wt,c:Ie});g[ye]?C.f=""+vn(ue.formula,i,ue.cell,re,B):C.F=((s.dense?(n[wt]||[])[Ie]:n[ye])||{}).F}else C.f=""+vn(ue.formula,i,ue.cell,re,B)}F>0&&(C.z=A[C.ixfe>>8&63]),Pl(C,s,a.opts.Date1904),q(ue.cell,C,s),d=ue}break;case 7:case 519:if(d)d.val=ue,C=tm(ue,d.cell.ixfe,"s"),C.XF=P[C.ixfe],s.cellFormula&&(C.f=""+vn(d.formula,i,d.cell,re,B)),F>0&&(C.z=A[C.ixfe>>8&63]),Pl(C,s,a.opts.Date1904),q(d.cell,C,s),d=null;else throw new Error("String record expects Formula");break;case 33:case 545:{j.push(ue);var be=Fs(ue[0].s);if(N=s.dense?(n[ue[0].s.r]||[])[ue[0].s.c]:n[be],s.cellFormula&&N){if(!d||!be||!N)break;N.f=""+vn(ue[1],i,ue[0],re,B),N.F=Rs(ue[0])}}break;case 1212:{if(!s.cellFormula)break;if(f){if(!d)break;g[Fs(d.cell)]=ue[0],N=s.dense?(n[d.cell.r]||[])[d.cell.c]:n[Fs(d.cell)],(N||{}).f=""+vn(ue[0],i,b,re,B)}}break;case 253:C=tm(x[ue.isst].t,ue.ixfe,"s"),x[ue.isst].h&&(C.h=x[ue.isst].h),C.XF=P[C.ixfe],F>0&&(C.z=A[C.ixfe>>8&63]),Pl(C,s,a.opts.Date1904),q({c:ue.c,r:ue.r},C,s);break;case 513:s.sheetStubs&&(C={ixfe:ue.ixfe,XF:P[ue.ixfe],t:"z"},F>0&&(C.z=A[C.ixfe>>8&63]),Pl(C,s,a.opts.Date1904),q({c:ue.c,r:ue.r},C,s));break;case 190:if(s.sheetStubs)for(var Me=ue.c;Me<=ue.C;++Me){var Re=ue.ixfe[Me-ue.c];C={ixfe:Re,XF:P[Re],t:"z"},F>0&&(C.z=A[C.ixfe>>8&63]),Pl(C,s,a.opts.Date1904),q({c:Me,r:ue.r},C,s)}break;case 214:case 516:case 4:C=tm(ue.val,ue.ixfe,"s"),C.XF=P[C.ixfe],F>0&&(C.z=A[C.ixfe>>8&63]),Pl(C,s,a.opts.Date1904),q({c:ue.c,r:ue.r},C,s);break;case 0:case 512:R===1&&(i=ue);break;case 252:x=ue;break;case 1054:if(B.biff==4){A[F++]=ue[1];for(var st=0;st<F+163&&As[st]!=ue[1];++st);st>=163&&yi(ue[1],F+163)}else yi(ue[1],ue[0]);break;case 30:{A[F++]=ue;for(var He=0;He<F+163&&As[He]!=ue;++He);He>=163&&yi(ue,F+163)}break;case 229:le=le.concat(ue);break;case 93:pe[ue.cmo[0]]=B.lastobj=ue;break;case 438:B.lastobj.TxO=ue;break;case 127:B.lastobj.ImData=ue;break;case 440:for(y=ue[0].s.r;y<=ue[0].e.r;++y)for(v=ue[0].s.c;v<=ue[0].e.c;++v)N=s.dense?(n[y]||[])[v]:n[Fs({c:v,r:y})],N&&(N.l=ue[1]);break;case 2048:for(y=ue[0].s.r;y<=ue[0].e.r;++y)for(v=ue[0].s.c;v<=ue[0].e.c;++v)N=s.dense?(n[y]||[])[v]:n[Fs({c:v,r:y})],N&&N.l&&(N.l.Tooltip=ue[1]);break;case 28:{if(B.biff<=5&&B.biff>=2)break;N=s.dense?(n[ue[0].r]||[])[ue[0].c]:n[Fs(ue[0])];var Ue=pe[ue[2]];N||(s.dense?(n[ue[0].r]||(n[ue[0].r]=[]),N=n[ue[0].r][ue[0].c]={t:"z"}):N=n[Fs(ue[0])]={t:"z"},i.e.r=Math.max(i.e.r,ue[0].r),i.s.r=Math.min(i.s.r,ue[0].r),i.e.c=Math.max(i.e.c,ue[0].c),i.s.c=Math.min(i.s.c,ue[0].c)),N.c||(N.c=[]),p={a:ue[1],t:Ue.TxO.t},N.c.push(p)}break;case 2173:c9(P[ue.ixfe],ue.ext);break;case 125:{if(!B.cellStyles)break;for(;ue.e>=ue.s;)U[ue.e--]={width:ue.w/256,level:ue.level||0,hidden:!!(ue.flags&1)},W||(W=!0,dv(ue.w/256)),hc(U[ue.e+1])}break;case 520:{var Ye={};ue.level!=null&&(Y[ue.r]=Ye,Ye.level=ue.level),ue.hidden&&(Y[ue.r]=Ye,Ye.hidden=!0),ue.hpt&&(Y[ue.r]=Ye,Ye.hpt=ue.hpt,Ye.hpx=M0(ue.hpt))}break;case 38:case 39:case 40:case 41:n["!margins"]||od(n["!margins"]={}),n["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ge]]=ue;break;case 161:n["!margins"]||od(n["!margins"]={}),n["!margins"].header=ue.header,n["!margins"].footer=ue.footer;break;case 574:ue.RTL&&(E.Views[0].RTL=!0);break;case 146:k=ue;break;case 2198:se=ue;break;case 140:S=ue;break;case 442:h?M.CodeName=ue||M.name:E.WBProps.CodeName=ue||"ThisWorkbook";break}}else Ce||console.error("Missing Info for XLS Record 0x"+ge.toString(16)),t.l+=Ne}return a.SheetNames=xr(l).sort(function(ht,ut){return Number(ht)-Number(ut)}).map(function(ht){return l[ht].name}),s.bookSheets||(a.Sheets=r),!a.SheetNames.length&&m["!ref"]?(a.SheetNames.push("Sheet1"),a.Sheets&&(a.Sheets.Sheet1=m)):a.Preamble=m,a.Sheets&&H.forEach(function(ht,ut){a.Sheets[a.SheetNames[ut]]["!autofilter"]=ht}),a.Strings=x,a.SSF=Ka(As),B.enc&&(a.Encryption=B.enc),se&&(a.Themes=se),a.Metadata={},S!==void 0&&(a.Metadata.Country=S),re.names.length>0&&(E.Names=re.names),a.Workbook=E,a}var zu={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function j$(t,s,a){var r=Ss.find(t,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var n=B1(r,Oy,zu.DSI);for(var l in n)s[l]=n[l]}catch(h){if(a.WTF)throw h}var i=Ss.find(t,"/!SummaryInformation");if(i&&i.size>0)try{var d=B1(i,_y,zu.SI);for(var x in d)s[x]==null&&(s[x]=d[x])}catch(h){if(a.WTF)throw h}s.HeadingPairs&&s.TitlesOfParts&&(ck(s.HeadingPairs,s.TitlesOfParts,s,a),delete s.HeadingPairs,delete s.TitlesOfParts)}function C$(t,s){var a=[],r=[],n=[],l=0,i,d=m1(Oy,"n"),x=m1(_y,"n");if(t.Props)for(i=xr(t.Props),l=0;l<i.length;++l)(Object.prototype.hasOwnProperty.call(d,i[l])?a:Object.prototype.hasOwnProperty.call(x,i[l])?r:n).push([i[l],t.Props[i[l]]]);if(t.Custprops)for(i=xr(t.Custprops),l=0;l<i.length;++l)Object.prototype.hasOwnProperty.call(t.Props||{},i[l])||(Object.prototype.hasOwnProperty.call(d,i[l])?a:Object.prototype.hasOwnProperty.call(x,i[l])?r:n).push([i[l],t.Custprops[i[l]]]);var h=[];for(l=0;l<n.length;++l)fk.indexOf(n[l][0])>-1||ik.indexOf(n[l][0])>-1||n[l][1]!=null&&h.push(n[l]);r.length&&Ss.utils.cfb_add(s,"/SummaryInformation",R1(r,zu.SI,x,_y)),(a.length||h.length)&&Ss.utils.cfb_add(s,"/DocumentSummaryInformation",R1(a,zu.DSI,d,Oy,h.length?h:null,zu.UDI))}function u3(t,s){s||(s={}),bv(s),Ub(),s.codepage&&Rb(s.codepage);var a,r;if(t.FullPaths){if(Ss.find(t,"/encryption"))throw new Error("File is password-protected");a=Ss.find(t,"!CompObj"),r=Ss.find(t,"/Workbook")||Ss.find(t,"/Book")}else{switch(s.type){case"base64":t=mo(yo(t));break;case"binary":t=mo(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}rn(t,0),r={content:t}}var n,l;if(a&&b$(a),s.bookProps&&!s.bookSheets)n={};else{var i=$s?"buffer":"array";if(r&&r.content)n=N$(r.content,s);else if((l=Ss.find(t,"PerfectOffice_MAIN"))&&l.content)n=nd.to_workbook(l.content,(s.type=i,s));else if((l=Ss.find(t,"NativeContent_MAIN"))&&l.content)n=nd.to_workbook(l.content,(s.type=i,s));else throw(l=Ss.find(t,"MN0"))&&l.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");s.bookVBA&&t.FullPaths&&Ss.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(n.vbaraw=_9(t))}var d={};return t.FullPaths&&j$(t,d,s),n.Props=n.Custprops=d,s.bookFiles&&(n.cfb=t),n}function S$(t,s){var a=s||{},r=Ss.utils.cfb_new({root:"R"}),n="/Workbook";switch(a.bookType||"xls"){case"xls":a.bookType="biff8";case"xla":a.bookType||(a.bookType="xla");case"biff8":n="/Workbook",a.biff=8;break;case"biff5":n="/Book",a.biff=5;break;default:throw new Error("invalid type "+a.bookType+" for XLS CFB")}return Ss.utils.cfb_add(r,n,x3(t,a)),a.biff==8&&(t.Props||t.Custprops)&&C$(t,r),a.biff==8&&t.vbaraw&&B9(r,Ss.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),r}var ox={0:{f:qH},1:{f:aW},2:{f:NW},3:{f:uW},4:{f:lW},5:{f:bW},6:{f:DW},7:{f:pW},8:{f:IW},9:{f:MW},10:{f:FW},11:{f:PW},12:{f:nW},13:{f:CW},14:{f:hW},15:{f:cW},16:{f:a3},17:{f:TW},18:{f:gW},19:{f:ev},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:TG},40:{},42:{},43:{f:DR},44:{f:SR},45:{f:AR},46:{f:PR},47:{f:FR},48:{},49:{f:QO},50:{},51:{f:x9},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Dk},62:{f:kW},63:{f:w9},64:{f:XW},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:kn,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:VW},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:tW},148:{f:QH,p:16},151:{f:UW},152:{},153:{f:kG},154:{},155:{},156:{f:CG},157:{},158:{},159:{T:1,f:WB},160:{T:-1},161:{T:1,f:Sd},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:LW},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:d9},336:{T:-1},337:{f:p9,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Ly},357:{},358:{},359:{},360:{T:1},361:{},362:{f:kk},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:HW},427:{f:WW},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:$W},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:eW},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:BW},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Ly},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:P9},633:{T:1},634:{T:-1},635:{T:1,f:A9},636:{T:-1},637:{f:s8},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:hG},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:JW},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},Gy={6:{f:sy},10:{f:Ji},12:{f:Dr},13:{f:Dr},14:{f:fr},15:{f:fr},16:{f:jn},17:{f:fr},18:{f:fr},19:{f:Dr},20:{f:z1},21:{f:z1},23:{f:kk},24:{f:Y1},25:{f:fr},26:{},27:{},28:{f:J_},29:{},34:{f:fr},35:{f:V1},38:{f:jn},39:{f:jn},40:{f:jn},41:{f:jn},42:{f:fr},43:{f:fr},47:{f:cR},49:{f:C_},51:{f:Dr},60:{},61:{f:b_},64:{f:fr},65:{f:j_},66:{f:Dr},77:{},80:{},81:{},82:{},85:{f:Dr},89:{},90:{},91:{},92:{f:i_},93:{f:eB},94:{},95:{f:fr},96:{},97:{},99:{f:fr},125:{f:Dk},128:{f:R_},129:{f:d_},130:{f:Dr},131:{f:fr},132:{f:fr},133:{f:u_},134:{},140:{f:iB},141:{f:Dr},144:{},146:{f:uB},151:{},152:{},153:{},154:{},155:{},156:{f:Dr},157:{},158:{},160:{f:yB},161:{f:mB},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:L_},190:{f:O_},193:{f:Ji},197:{},198:{},199:{},200:{},201:{},202:{f:fr},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Dr},220:{},221:{f:fr},222:{},224:{f:B_},225:{f:l_},226:{f:Ji},227:{},229:{f:Q_},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:h_},253:{f:k_},255:{f:p_},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:gk},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:fr},353:{f:Ji},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:$_},431:{f:fr},432:{},433:{},434:{},437:{},438:{f:aB},439:{f:fr},440:{f:rB},441:{},442:{f:Fx},443:{},444:{f:Dr},445:{},446:{},448:{f:Ji},449:{f:y_,r:2},450:{f:Ji},512:{f:W1},513:{f:gB},515:{f:W_},516:{f:E_},517:{f:$1},519:{f:bB},520:{f:f_},523:{},545:{f:K1},549:{f:H1},566:{},574:{f:w_},638:{f:I_},659:{},1048:{},1054:{f:A_},1084:{},1212:{f:K_},2048:{f:oB},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Qh},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Ji},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:xB,r:12},2173:{f:i9,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:fr,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Y_,r:12},2197:{},2198:{f:s9,r:12},2199:{},2200:{},2201:{},2202:{f:q_,r:12},2203:{f:Ji},2204:{},2205:{},2206:{},2207:{},2211:{f:g_},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Dr},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:pB},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:dB},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:W1},1:{},2:{f:CB},3:{f:NB},4:{f:wB},5:{f:$1},7:{f:kB},8:{},9:{f:Qh},11:{},22:{f:Dr},30:{f:P_},31:{},32:{},33:{f:K1},36:{},37:{f:H1},50:{f:DB},62:{},52:{},67:{},68:{f:Dr},69:{},86:{},126:{},127:{f:vB},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:EB},223:{},234:{},354:{},421:{},518:{f:sy},521:{f:Qh},536:{f:Y1},547:{f:V1},561:{},579:{},1030:{f:sy},1033:{f:Qh},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function as(t,s,a,r){var n=s;if(!isNaN(n)){var l=r||(a||[]).length||0,i=t.next(4);i.write_shift(2,n),i.write_shift(2,l),l>0&&Jb(a)&&t.push(a)}}function k$(t,s,a,r){var n=(a||[]).length||0;if(n<=8224)return as(t,s,a,n);var l=s;if(!isNaN(l)){for(var i=a.parts||[],d=0,x=0,h=0;h+(i[d]||8224)<=8224;)h+=i[d]||8224,d++;var m=t.next(4);for(m.write_shift(2,l),m.write_shift(2,h),t.push(a.slice(x,x+h)),x+=h;x<n;){for(m=t.next(4),m.write_shift(2,60),h=0;h+(i[d]||8224)<=8224;)h+=i[d]||8224,d++;m.write_shift(2,h),t.push(a.slice(x,x+h)),x+=h}}}function Lx(t,s,a){return t||(t=Wt(7)),t.write_shift(2,s),t.write_shift(2,a),t.write_shift(2,0),t.write_shift(1,0),t}function D$(t,s,a,r){var n=Wt(9);return Lx(n,t,s),yk(a,r||"b",n),n}function E$(t,s,a){var r=Wt(8+2*a.length);return Lx(r,t,s),r.write_shift(1,a.length),r.write_shift(a.length,a,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function T$(t,s,a,r){if(s.v!=null)switch(s.t){case"d":case"n":var n=s.t=="d"?Ir(Ya(s.v)):s.v;n==(n|0)&&n>=0&&n<65536?as(t,2,SB(a,r,n)):as(t,3,jB(a,r,n));return;case"b":case"e":as(t,5,D$(a,r,s.v,s.t));return;case"s":case"str":as(t,4,E$(a,r,(s.v||"").slice(0,255)));return}as(t,1,Lx(null,a,r))}function A$(t,s,a,r){var n=Array.isArray(s),l=na(s["!ref"]||"A1"),i,d="",x=[];if(l.e.c>255||l.e.r>16383){if(r.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");l.e.c=Math.min(l.e.c,255),l.e.r=Math.min(l.e.c,16383),i=Rs(l)}for(var h=l.s.r;h<=l.e.r;++h){d=yr(h);for(var m=l.s.c;m<=l.e.c;++m){h===l.s.r&&(x[m]=ar(m)),i=x[m]+d;var b=n?(s[h]||[])[m]:s[i];b&&T$(t,b,h,m)}}}function F$(t,s){for(var a=s||{},r=Zn(),n=0,l=0;l<t.SheetNames.length;++l)t.SheetNames[l]==a.sheet&&(n=l);if(n==0&&a.sheet&&t.SheetNames[0]!=a.sheet)throw new Error("Sheet not found: "+a.sheet);return as(r,a.biff==4?1033:a.biff==3?521:9,lv(t,16,a)),A$(r,t.Sheets[t.SheetNames[n]],n,a),as(r,10),r.end()}function P$(t,s,a){as(t,49,S_({sz:12,name:"Arial"},a))}function M$(t,s,a){s&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)s[n]!=null&&as(t,1054,F_(n,s[n],a))})}function I$(t,s){var a=Wt(19);a.write_shift(4,2151),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(2,3),a.write_shift(1,1),a.write_shift(4,0),as(t,2151,a),a=Wt(39),a.write_shift(4,2152),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(2,3),a.write_shift(1,0),a.write_shift(4,0),a.write_shift(2,1),a.write_shift(4,4),a.write_shift(2,0),jk(na(s["!ref"]||"A1"),a),a.write_shift(4,4),as(t,2152,a)}function L$(t,s){for(var a=0;a<16;++a)as(t,224,G1({numFmtId:0,style:!0},0,s));s.cellXfs.forEach(function(r){as(t,224,G1(r,0,s))})}function O$(t,s){for(var a=0;a<s["!links"].length;++a){var r=s["!links"][a];as(t,440,nB(r)),r[1].Tooltip&&as(t,2048,lB(r))}delete s["!links"]}function _$(t,s){if(s){var a=0;s.forEach(function(r,n){++a<=256&&r&&as(t,125,hB(xf(n,r),n))})}}function B$(t,s,a,r,n){var l=16+wc(n.cellXfs,s,n);if(s.v==null&&!s.bf){as(t,513,md(a,r,l));return}if(s.bf)as(t,6,dH(s,a,r,n,l));else switch(s.t){case"d":case"n":var i=s.t=="d"?Ir(Ya(s.v)):s.v;as(t,515,G_(a,r,i,l));break;case"b":case"e":as(t,517,H_(a,r,s.v,l,n,s.t));break;case"s":case"str":if(n.bookSST){var d=pv(n.Strings,s.v,n.revStrings);as(t,253,D_(a,r,d,l))}else as(t,516,T_(a,r,(s.v||"").slice(0,255),l,n));break;default:as(t,513,md(a,r,l))}}function R$(t,s,a){var r=Zn(),n=a.SheetNames[t],l=a.Sheets[n]||{},i=(a||{}).Workbook||{},d=(i.Sheets||[])[t]||{},x=Array.isArray(l),h=s.biff==8,m,b="",f=[],N=na(l["!ref"]||"A1"),p=h?65536:16384;if(N.e.c>255||N.e.r>=p){if(s.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:IV16384");N.e.c=Math.min(N.e.c,255),N.e.r=Math.min(N.e.c,p-1)}as(r,2057,lv(a,16,s)),as(r,13,Io(1)),as(r,12,Io(100)),as(r,15,Mn(!0)),as(r,17,Mn(!1)),as(r,16,xd(.001)),as(r,95,Mn(!0)),as(r,42,Mn(!1)),as(r,43,Mn(!1)),as(r,130,Io(1)),as(r,128,U_()),as(r,131,Mn(!1)),as(r,132,Mn(!1)),h&&_$(r,l["!cols"]),as(r,512,M_(N,s)),h&&(l["!links"]=[]);for(var v=N.s.r;v<=N.e.r;++v){b=yr(v);for(var y=N.s.c;y<=N.e.c;++y){v===N.s.r&&(f[y]=ar(y)),m=f[y]+b;var g=x?(l[v]||[])[y]:l[m];g&&(B$(r,g,v,y,s),h&&g.l&&l["!links"].push([m,g.l]))}}var j=d.CodeName||d.name||n;return h&&as(r,574,N_((i.Views||[])[0])),h&&(l["!merges"]||[]).length&&as(r,229,Z_(l["!merges"])),h&&O$(r,l),as(r,442,bk(j)),h&&I$(r,l),as(r,10),r.end()}function U$(t,s,a){var r=Zn(),n=(t||{}).Workbook||{},l=n.Sheets||[],i=n.WBProps||{},d=a.biff==8,x=a.biff==5;if(as(r,2057,lv(t,5,a)),a.bookType=="xla"&&as(r,135),as(r,225,d?Io(1200):null),as(r,193,H8(2)),x&&as(r,191),x&&as(r,192),as(r,226),as(r,92,c_("SheetJS",a)),as(r,66,Io(d?1200:1252)),d&&as(r,353,Io(0)),d&&as(r,448),as(r,317,fB(t.SheetNames.length)),d&&t.vbaraw&&as(r,211),d&&t.vbaraw){var h=i.CodeName||"ThisWorkbook";as(r,442,bk(h))}as(r,156,Io(17)),as(r,25,Mn(!1)),as(r,18,Mn(!1)),as(r,19,Io(0)),d&&as(r,431,Mn(!1)),d&&as(r,444,Io(0)),as(r,61,v_()),as(r,64,Mn(!1)),as(r,141,Io(0)),as(r,34,Mn(yG(t)=="true")),as(r,14,Mn(!0)),d&&as(r,439,Mn(!1)),as(r,218,Io(0)),P$(r,t,a),M$(r,t.SSF,a),L$(r,a),d&&as(r,352,Mn(!1));var m=r.end(),b=Zn();d&&as(b,140,cB()),d&&a.Strings&&k$(b,252,m_(a.Strings)),as(b,10);var f=b.end(),N=Zn(),p=0,v=0;for(v=0;v<t.SheetNames.length;++v)p+=(d?12:11)+(d?2:1)*t.SheetNames[v].length;var y=m.length+p+f.length;for(v=0;v<t.SheetNames.length;++v){var g=l[v]||{};as(N,133,x_({pos:y,hs:g.Hidden||0,dt:0,name:t.SheetNames[v]},a)),y+=s[v].length}var j=N.end();if(p!=j.length)throw new Error("BS8 "+p+" != "+j.length);var C=[];return m.length&&C.push(m),j.length&&C.push(j),f.length&&C.push(f),Vr(C)}function H$(t,s){var a=s||{},r=[];t&&!t.SSF&&(t.SSF=Ka(As)),t&&t.SSF&&(V0(),rf(t.SSF),a.revssf=of(t.SSF),a.revssf[t.SSF[65535]]=0,a.ssf=t.SSF),a.Strings=[],a.Strings.Count=0,a.Strings.Unique=0,vv(a),a.cellXfs=[],wc(a.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var n=0;n<t.SheetNames.length;++n)r[r.length]=R$(n,a,t);return r.unshift(U$(t,r,a)),Vr(r)}function x3(t,s){for(var a=0;a<=t.SheetNames.length;++a){var r=t.Sheets[t.SheetNames[a]];if(!(!r||!r["!ref"])){var n=so(r["!ref"]);n.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[a]+"' extends beyond column IV (255).  Data may be lost.")}}var l=s||{};switch(l.biff||2){case 8:case 5:return H$(t,s);case 4:case 3:case 2:return F$(t,s)}throw new Error("invalid type "+l.bookType+" for BIFF")}function r2(t,s){var a=s||{},r=a.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var n=t.match(/<table/i);if(!n)throw new Error("Invalid HTML: could not find <table>");var l=t.match(/<\/table/i),i=n.index,d=l&&l.index||t.length,x=SO(t.slice(i,d),/(:?<tr[^>]*>)/i,"<tr>"),h=-1,m=0,b=0,f=0,N={s:{r:1e7,c:1e7},e:{r:0,c:0}},p=[];for(i=0;i<x.length;++i){var v=x[i].trim(),y=v.slice(0,3).toLowerCase();if(y=="<tr"){if(++h,a.sheetRows&&a.sheetRows<=h){--h;break}m=0;continue}if(!(y!="<td"&&y!="<th")){var g=v.split(/<\/t[dh]>/i);for(d=0;d<g.length;++d){var j=g[d].trim();if(j.match(/<t[dh]/i)){for(var C=j,S=0;C.charAt(0)=="<"&&(S=C.indexOf(">"))>-1;)C=C.slice(S+1);for(var P=0;P<p.length;++P){var k=p[P];k.s.c==m&&k.s.r<h&&h<=k.e.r&&(m=k.e.c+1,P=-1)}var E=Ms(j.slice(0,j.indexOf(">")));f=E.colspan?+E.colspan:1,((b=+E.rowspan)>1||f>1)&&p.push({s:{r:h,c:m},e:{r:h+(b||1)-1,c:m+f-1}});var M=E.t||E["data-t"]||"";if(!C.length){m+=f;continue}if(C=OS(C),N.s.r>h&&(N.s.r=h),N.e.r<h&&(N.e.r=h),N.s.c>m&&(N.s.c=m),N.e.c<m&&(N.e.c=m),!C.length){m+=f;continue}var L={t:"s",v:C};a.raw||!C.trim().length||M=="s"||(C==="TRUE"?L={t:"b",v:!0}:C==="FALSE"?L={t:"b",v:!1}:isNaN(dl(C))?isNaN(F0(C).getDate())||(L={t:"d",v:Ya(C)},a.cellDates||(L={t:"n",v:Ir(L.v)}),L.z=a.dateNF||As[14]):L={t:"n",v:dl(C)}),a.dense?(r[h]||(r[h]=[]),r[h][m]=L):r[Fs({r:h,c:m})]=L,m+=f}}}}return r["!ref"]=Rs(N),p.length&&(r["!merges"]=p),r}function W$(t,s,a,r){for(var n=t["!merges"]||[],l=[],i=s.s.c;i<=s.e.c;++i){for(var d=0,x=0,h=0;h<n.length;++h)if(!(n[h].s.r>a||n[h].s.c>i)&&!(n[h].e.r<a||n[h].e.c<i)){if(n[h].s.r<a||n[h].s.c<i){d=-1;break}d=n[h].e.r-n[h].s.r+1,x=n[h].e.c-n[h].s.c+1;break}if(!(d<0)){var m=Fs({r:a,c:i}),b=r.dense?(t[a]||[])[i]:t[m],f=b&&b.v!=null&&(b.h||Kb(b.w||(ji(b),b.w)||""))||"",N={};d>1&&(N.rowspan=d),x>1&&(N.colspan=x),r.editable?f='<span contenteditable="true">'+f+"</span>":b&&(N["data-t"]=b&&b.t||"z",b.v!=null&&(N["data-v"]=b.v),b.z!=null&&(N["data-z"]=b.z),b.l&&(b.l.Target||"#").charAt(0)!="#"&&(f='<a href="'+b.l.Target+'">'+f+"</a>")),N.id=(r.id||"sjs")+"-"+m,l.push(ss("td",f,N))}}var p="<tr>";return p+l.join("")+"</tr>"}var G$='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',$$="</body></html>";function z$(t,s){var a=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!a||a.length==0)throw new Error("Invalid HTML: could not find <table>");if(a.length==1)return vc(r2(a[0],s),s);var r=jv();return a.forEach(function(n,l){Cv(r,r2(n,s),"Sheet"+(l+1))}),r}function V$(t,s,a){var r=[];return r.join("")+"<table"+(a&&a.id?' id="'+a.id+'"':"")+">"}function h3(t,s){var a=s||{},r=a.header!=null?a.header:G$,n=a.footer!=null?a.footer:$$,l=[r],i=so(t["!ref"]);a.dense=Array.isArray(t),l.push(V$(t,i,a));for(var d=i.s.r;d<=i.e.r;++d)l.push(W$(t,i,d,a));return l.push("</table>"+n),l.join("")}function m3(t,s,a){var r=a||{},n=0,l=0;if(r.origin!=null)if(typeof r.origin=="number")n=r.origin;else{var i=typeof r.origin=="string"?rr(r.origin):r.origin;n=i.r,l=i.c}var d=s.getElementsByTagName("tr"),x=Math.min(r.sheetRows||1e7,d.length),h={s:{r:0,c:0},e:{r:n,c:l}};if(t["!ref"]){var m=so(t["!ref"]);h.s.r=Math.min(h.s.r,m.s.r),h.s.c=Math.min(h.s.c,m.s.c),h.e.r=Math.max(h.e.r,m.e.r),h.e.c=Math.max(h.e.c,m.e.c),n==-1&&(h.e.r=n=m.e.r+1)}var b=[],f=0,N=t["!rows"]||(t["!rows"]=[]),p=0,v=0,y=0,g=0,j=0,C=0;for(t["!cols"]||(t["!cols"]=[]);p<d.length&&v<x;++p){var S=d[p];if(n2(S)){if(r.display)continue;N[v]={hidden:!0}}var P=S.children;for(y=g=0;y<P.length;++y){var k=P[y];if(!(r.display&&n2(k))){var E=k.hasAttribute("data-v")?k.getAttribute("data-v"):k.hasAttribute("v")?k.getAttribute("v"):OS(k.innerHTML),M=k.getAttribute("data-z")||k.getAttribute("z");for(f=0;f<b.length;++f){var L=b[f];L.s.c==g+l&&L.s.r<v+n&&v+n<=L.e.r&&(g=L.e.c+1-l,f=-1)}C=+k.getAttribute("colspan")||1,((j=+k.getAttribute("rowspan")||1)>1||C>1)&&b.push({s:{r:v+n,c:g+l},e:{r:v+n+(j||1)-1,c:g+l+(C||1)-1}});var O={t:"s",v:E},q=k.getAttribute("data-t")||k.getAttribute("t")||"";E!=null&&(E.length==0?O.t=q||"z":r.raw||E.trim().length==0||q=="s"||(E==="TRUE"?O={t:"b",v:!0}:E==="FALSE"?O={t:"b",v:!1}:isNaN(dl(E))?isNaN(F0(E).getDate())||(O={t:"d",v:Ya(E)},r.cellDates||(O={t:"n",v:Ir(O.v)}),O.z=r.dateNF||As[14]):O={t:"n",v:dl(E)})),O.z===void 0&&M!=null&&(O.z=M);var B="",se=k.getElementsByTagName("A");if(se&&se.length)for(var le=0;le<se.length&&!(se[le].hasAttribute("href")&&(B=se[le].getAttribute("href"),B.charAt(0)!="#"));++le);B&&B.charAt(0)!="#"&&(O.l={Target:B}),r.dense?(t[v+n]||(t[v+n]=[]),t[v+n][g+l]=O):t[Fs({c:g+l,r:v+n})]=O,h.e.c<g+l&&(h.e.c=g+l),g+=C}}++v}return b.length&&(t["!merges"]=(t["!merges"]||[]).concat(b)),h.e.r=Math.max(h.e.r,v-1+n),t["!ref"]=Rs(h),v>=x&&(t["!fullref"]=Rs((h.e.r=d.length-p+v-1+n,h))),t}function p3(t,s){var a=s||{},r=a.dense?[]:{};return m3(r,t,s)}function Y$(t,s){return vc(p3(t,s),s)}function n2(t){var s="",a=K$(t);return a&&(s=a(t).getPropertyValue("display")),s||(s=t.style&&t.style.display),s==="none"}function K$(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function q$(t){var s=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,n){return Array(parseInt(n,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),a=ra(s.replace(/<[^>]*>/g,""));return[a]}var o2={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function f3(t,s){var a=s||{},r=qb(t),n=[],l,i,d={name:""},x="",h=0,m,b,f={},N=[],p=a.dense?[]:{},v,y,g={value:""},j="",C=0,S=[],P=-1,k=-1,E={s:{r:1e6,c:1e7},e:{r:0,c:0}},M=0,L={},O=[],q={},B=0,se=0,le=[],pe=1,U=1,Y=[],W={Names:[]},re={},G=["",""],R=[],F={},A="",H=0,D=!1,_=!1,xe=0;for(ex.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");v=ex.exec(r);)switch(v[3]=v[3].replace(/_.*$/,"")){case"table":case"":v[1]==="/"?(E.e.c>=E.s.c&&E.e.r>=E.s.r?p["!ref"]=Rs(E):p["!ref"]="A1:A1",a.sheetRows>0&&a.sheetRows<=E.e.r&&(p["!fullref"]=p["!ref"],E.e.r=a.sheetRows-1,p["!ref"]=Rs(E)),O.length&&(p["!merges"]=O),le.length&&(p["!rows"]=le),m.name=m.||m.name,typeof JSON<"u"&&JSON.stringify(m),N.push(m.name),f[m.name]=p,_=!1):v[0].charAt(v[0].length-2)!=="/"&&(m=Ms(v[0],!1),P=k=-1,E.s.r=E.s.c=1e7,E.e.r=E.e.c=0,p=a.dense?[]:{},O=[],le=[],_=!0);break;case"table-row-group":v[1]==="/"?--M:++M;break;case"table-row":case"":if(v[1]==="/"){P+=pe,pe=1;break}if(b=Ms(v[0],!1),b.?P=b.-1:P==-1&&(P=0),pe=+b["number-rows-repeated"]||1,pe<10)for(xe=0;xe<pe;++xe)M>0&&(le[P+xe]={level:M});k=-1;break;case"covered-table-cell":v[1]!=="/"&&++k,a.sheetStubs&&(a.dense?(p[P]||(p[P]=[]),p[P][k]={t:"z"}):p[Fs({r:P,c:k})]={t:"z"}),j="",S=[];break;case"table-cell":case"":if(v[0].charAt(v[0].length-2)==="/")++k,g=Ms(v[0],!1),U=parseInt(g["number-columns-repeated"]||"1",10),y={t:"z",v:null},g.formula&&a.cellFormula!=!1&&(y.f=t2(ra(g.formula))),(g.||g["value-type"])=="string"&&(y.t="s",y.v=ra(g["string-value"]||""),a.dense?(p[P]||(p[P]=[]),p[P][k]=y):p[Fs({r:P,c:k})]=y),k+=U-1;else if(v[1]!=="/"){++k,j="",C=0,S=[],U=1;var ge=pe?P+pe-1:P;if(k>E.e.c&&(E.e.c=k),k<E.s.c&&(E.s.c=k),P<E.s.r&&(E.s.r=P),ge>E.e.r&&(E.e.r=ge),g=Ms(v[0],!1),R=[],F={},y={t:g.||g["value-type"],v:null},a.cellFormula)if(g.formula&&(g.formula=ra(g.formula)),g["number-matrix-columns-spanned"]&&g["number-matrix-rows-spanned"]&&(B=parseInt(g["number-matrix-rows-spanned"],10)||0,se=parseInt(g["number-matrix-columns-spanned"],10)||0,q={s:{r:P,c:k},e:{r:P+B-1,c:k+se-1}},y.F=Rs(q),Y.push([q,y.F])),g.formula)y.f=t2(g.formula);else for(xe=0;xe<Y.length;++xe)P>=Y[xe][0].s.r&&P<=Y[xe][0].e.r&&k>=Y[xe][0].s.c&&k<=Y[xe][0].e.c&&(y.F=Y[xe][1]);switch((g["number-columns-spanned"]||g["number-rows-spanned"])&&(B=parseInt(g["number-rows-spanned"],10)||0,se=parseInt(g["number-columns-spanned"],10)||0,q={s:{r:P,c:k},e:{r:P+B-1,c:k+se-1}},O.push(q)),g["number-columns-repeated"]&&(U=parseInt(g["number-columns-repeated"],10)),y.t){case"boolean":y.t="b",y.v=Va(g["boolean-value"]);break;case"float":y.t="n",y.v=parseFloat(g.value);break;case"percentage":y.t="n",y.v=parseFloat(g.value);break;case"currency":y.t="n",y.v=parseFloat(g.value);break;case"date":y.t="d",y.v=Ya(g["date-value"]),a.cellDates||(y.t="n",y.v=Ir(y.v)),y.z="m/d/yy";break;case"time":y.t="n",y.v=NO(g["time-value"])/86400,a.cellDates&&(y.t="d",y.v=lf(y.v)),y.z="HH:MM:SS";break;case"number":y.t="n",y.v=parseFloat(g.);break;default:if(y.t==="string"||y.t==="text"||!y.t)y.t="s",g["string-value"]!=null&&(j=ra(g["string-value"]),S=[]);else throw new Error("Unsupported value type "+y.t)}}else{if(D=!1,y.t==="s"&&(y.v=j||"",S.length&&(y.R=S),D=C==0),re.Target&&(y.l=re),R.length>0&&(y.c=R,R=[]),j&&a.cellText!==!1&&(y.w=j),D&&(y.t="z",delete y.v),(!D||a.sheetStubs)&&!(a.sheetRows&&a.sheetRows<=P))for(var Ne=0;Ne<pe;++Ne){if(U=parseInt(g["number-columns-repeated"]||"1",10),a.dense)for(p[P+Ne]||(p[P+Ne]=[]),p[P+Ne][k]=Ne==0?y:Ka(y);--U>0;)p[P+Ne][k+U]=Ka(y);else for(p[Fs({r:P+Ne,c:k})]=y;--U>0;)p[Fs({r:P+Ne,c:k+U})]=Ka(y);E.e.c<=k&&(E.e.c=k)}U=parseInt(g["number-columns-repeated"]||"1",10),k+=U-1,U=0,y={},j="",S=[]}re={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(v[1]==="/"){if((l=n.pop())[0]!==v[3])throw"Bad state: "+l}else v[0].charAt(v[0].length-2)!=="/"&&n.push([v[3],!0]);break;case"annotation":if(v[1]==="/"){if((l=n.pop())[0]!==v[3])throw"Bad state: "+l;F.t=j,S.length&&(F.R=S),F.a=A,R.push(F)}else v[0].charAt(v[0].length-2)!=="/"&&n.push([v[3],!1]);A="",H=0,j="",C=0,S=[];break;case"creator":v[1]==="/"?A=r.slice(H,v.index):H=v.index+v[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(v[1]==="/"){if((l=n.pop())[0]!==v[3])throw"Bad state: "+l}else v[0].charAt(v[0].length-2)!=="/"&&n.push([v[3],!1]);j="",C=0,S=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(v[1]==="/"){if(L[d.name]=x,(l=n.pop())[0]!==v[3])throw"Bad state: "+l}else v[0].charAt(v[0].length-2)!=="/"&&(x="",d=Ms(v[0],!1),n.push([v[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(n[n.length-1][0]){case"time-style":case"date-style":i=Ms(v[0],!1),x+=o2[v[3]][i.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(n[n.length-1][0]){case"time-style":case"date-style":i=Ms(v[0],!1),x+=o2[v[3]][i.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(v[0].slice(-2)==="/>")break;if(v[1]==="/")switch(n[n.length-1][0]){case"number-style":case"date-style":case"time-style":x+=r.slice(h,v.index);break}else h=v.index+v[0].length;break;case"named-range":i=Ms(v[0],!1),G=ay(i["cell-range-address"]);var Ce={Name:i.name,Ref:G[0]+"!"+G[1]};_&&(Ce.Sheet=N.length),W.Names.push(Ce);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(n[n.length-1][0])>-1)break;if(v[1]==="/"&&(!g||!g["string-value"])){var fe=q$(r.slice(C,v.index));j=(j.length>0?j+`
`:"")+fe[0]}else Ms(v[0],!1),C=v.index+v[0].length;break;case"s":break;case"database-range":if(v[1]==="/")break;try{G=ay(Ms(v[0])["target-range-address"]),f[G[0]]["!autofilter"]={ref:G[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(v[1]!=="/"){if(re=Ms(v[0],!1),!re.href)break;re.Target=ra(re.href),delete re.href,re.Target.charAt(0)=="#"&&re.Target.indexOf(".")>-1?(G=ay(re.Target.slice(1)),re.Target="#"+G[0]+"!"+G[1]):re.Target.match(/^\.\.[\\\/]/)&&(re.Target=re.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(v[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(a.WTF)throw new Error(v)}}var ue={Sheets:f,SheetNames:N,Workbook:W};return a.bookSheets&&delete ue.Sheets,ue}function l2(t,s){s=s||{},Mo(t,"META-INF/manifest.xml")&&N8(kr(t,"META-INF/manifest.xml"),s);var a=po(t,"content.xml");if(!a)throw new Error("Missing content.xml in ODS / UOF file");var r=f3(Pa(a),s);return Mo(t,"meta.xml")&&(r.Props=ok(kr(t,"meta.xml"))),r}function i2(t,s){return f3(t,s)}var X$=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),s="<office:document-styles "+Zu({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Nr+s}})(),c2=(function(){var t=function(l){return Ta(l).replace(/  +/g,function(i){return'<text:s text:c="'+i.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},s=`          <table:table-cell />
`,a=`          <table:covered-table-cell/>
`,r=function(l,i,d){var x=[];x.push('      <table:table table:name="'+Ta(i.SheetNames[d])+`" table:style-name="ta1">
`);var h=0,m=0,b=so(l["!ref"]||"A1"),f=l["!merges"]||[],N=0,p=Array.isArray(l);if(l["!cols"])for(m=0;m<=b.e.c;++m)x.push("        <table:table-column"+(l["!cols"][m]?' table:style-name="co'+l["!cols"][m].ods+'"':"")+`></table:table-column>
`);var v="",y=l["!rows"]||[];for(h=0;h<b.s.r;++h)v=y[h]?' table:style-name="ro'+y[h].ods+'"':"",x.push("        <table:table-row"+v+`></table:table-row>
`);for(;h<=b.e.r;++h){for(v=y[h]?' table:style-name="ro'+y[h].ods+'"':"",x.push("        <table:table-row"+v+`>
`),m=0;m<b.s.c;++m)x.push(s);for(;m<=b.e.c;++m){var g=!1,j={},C="";for(N=0;N!=f.length;++N)if(!(f[N].s.c>m)&&!(f[N].s.r>h)&&!(f[N].e.c<m)&&!(f[N].e.r<h)){(f[N].s.c!=m||f[N].s.r!=h)&&(g=!0),j["table:number-columns-spanned"]=f[N].e.c-f[N].s.c+1,j["table:number-rows-spanned"]=f[N].e.r-f[N].s.r+1;break}if(g){x.push(a);continue}var S=Fs({r:h,c:m}),P=p?(l[h]||[])[m]:l[S];if(P&&P.f&&(j["table:formula"]=Ta(fH(P.f)),P.F&&P.F.slice(0,S.length)==S)){var k=so(P.F);j["table:number-matrix-columns-spanned"]=k.e.c-k.s.c+1,j["table:number-matrix-rows-spanned"]=k.e.r-k.s.r+1}if(!P){x.push(s);continue}switch(P.t){case"b":C=P.v?"TRUE":"FALSE",j["office:value-type"]="boolean",j["office:boolean-value"]=P.v?"true":"false";break;case"n":C=P.w||String(P.v||0),j["office:value-type"]="float",j["office:value"]=P.v||0;break;case"s":case"str":C=P.v==null?"":P.v,j["office:value-type"]="string";break;case"d":C=P.w||Ya(P.v).toISOString(),j["office:value-type"]="date",j["office:date-value"]=Ya(P.v).toISOString(),j["table:style-name"]="ce1";break;default:x.push(s);continue}var E=t(C);if(P.l&&P.l.Target){var M=P.l.Target;M=M.charAt(0)=="#"?"#"+gH(M.slice(1)):M,M.charAt(0)!="#"&&!M.match(/^\w+:/)&&(M="../"+M),E=ss("text:a",E,{"xlink:href":M.replace(/&/g,"&amp;")})}x.push("          "+ss("table:table-cell",ss("text:p",E,{}),j)+`
`)}x.push(`        </table:table-row>
`)}return x.push(`      </table:table>
`),x.join("")},n=function(l,i){l.push(` <office:automatic-styles>
`),l.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),l.push(`   <number:month number:style="long"/>
`),l.push(`   <number:text>/</number:text>
`),l.push(`   <number:day number:style="long"/>
`),l.push(`   <number:text>/</number:text>
`),l.push(`   <number:year/>
`),l.push(`  </number:date-style>
`);var d=0;i.SheetNames.map(function(h){return i.Sheets[h]}).forEach(function(h){if(h&&h["!cols"]){for(var m=0;m<h["!cols"].length;++m)if(h["!cols"][m]){var b=h["!cols"][m];if(b.width==null&&b.wpx==null&&b.wch==null)continue;hc(b),b.ods=d;var f=h["!cols"][m].wpx+"px";l.push('  <style:style style:name="co'+d+`" style:family="table-column">
`),l.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+f+`"/>
`),l.push(`  </style:style>
`),++d}}});var x=0;i.SheetNames.map(function(h){return i.Sheets[h]}).forEach(function(h){if(h&&h["!rows"]){for(var m=0;m<h["!rows"].length;++m)if(h["!rows"][m]){h["!rows"][m].ods=x;var b=h["!rows"][m].hpx+"px";l.push('  <style:style style:name="ro'+x+`" style:family="table-row">
`),l.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+b+`"/>
`),l.push(`  </style:style>
`),++x}}}),l.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),l.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),l.push(`  </style:style>
`),l.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),l.push(` </office:automatic-styles>
`)};return function(i,d){var x=[Nr],h=Zu({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),m=Zu({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});d.bookType=="fods"?(x.push("<office:document"+h+m+`>
`),x.push(nk().replace(/office:document-meta/g,"office:meta"))):x.push("<office:document-content"+h+`>
`),n(x,i),x.push(`  <office:body>
`),x.push(`    <office:spreadsheet>
`);for(var b=0;b!=i.SheetNames.length;++b)x.push(r(i.Sheets[i.SheetNames[b]],i,b));return x.push(`    </office:spreadsheet>
`),x.push(`  </office:body>
`),d.bookType=="fods"?x.push("</office:document>"):x.push("</office:document-content>"),x.join("")}})();function g3(t,s){if(s.bookType=="fods")return c2(t,s);var a=zb(),r="",n=[],l=[];return r="mimetype",Us(a,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",Us(a,r,c2(t,s)),n.push([r,"text/xml"]),l.push([r,"ContentFile"]),r="styles.xml",Us(a,r,X$(t,s)),n.push([r,"text/xml"]),l.push([r,"StylesFile"]),r="meta.xml",Us(a,r,Nr+nk()),n.push([r,"text/xml"]),l.push([r,"MetadataFile"]),r="manifest.rdf",Us(a,r,S8(l)),n.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",Us(a,r,j8(n)),a}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function pd(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function $y(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):Pa(bc(t))}function J$(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):mo(Rl(t))}function Q$(t,s){e:for(var a=0;a<=t.length-s.length;++a){for(var r=0;r<s.length;++r)if(t[a+r]!=s[r])continue e;return!0}return!1}function pc(t){var s=t.reduce(function(n,l){return n+l.length},0),a=new Uint8Array(s),r=0;return t.forEach(function(n){a.set(n,r),r+=n.length}),a}function d2(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function Z$(t,s){for(var a=(t[s+15]&127)<<7|t[s+14]>>1,r=t[s+14]&1,n=s+13;n>=s;--n)r=r*256+t[n];return(t[s+15]&128?-r:r)*Math.pow(10,a-6176)}function ez(t,s,a){var r=Math.floor(a==0?0:Math.LOG10E*Math.log(Math.abs(a)))+6176-20,n=a/Math.pow(10,r-6176);t[s+15]|=r>>7,t[s+14]|=(r&127)<<1;for(var l=0;n>=1;++l,n/=256)t[s+l]=n&255;t[s+15]|=a>=0?0:128}function lx(t,s){var a=s?s[0]:0,r=t[a]&127;e:if(t[a++]>=128&&(r|=(t[a]&127)<<7,t[a++]<128||(r|=(t[a]&127)<<14,t[a++]<128)||(r|=(t[a]&127)<<21,t[a++]<128)||(r+=(t[a]&127)*Math.pow(2,28),++a,t[a++]<128)||(r+=(t[a]&127)*Math.pow(2,35),++a,t[a++]<128)||(r+=(t[a]&127)*Math.pow(2,42),++a,t[a++]<128)))break e;return s&&(s[0]=a),r}function Sa(t){var s=new Uint8Array(7);s[0]=t&127;var a=1;e:if(t>127){if(s[a-1]|=128,s[a]=t>>7&127,++a,t<=16383||(s[a-1]|=128,s[a]=t>>14&127,++a,t<=2097151)||(s[a-1]|=128,s[a]=t>>21&127,++a,t<=268435455)||(s[a-1]|=128,s[a]=t/256>>>21&127,++a,t<=34359738367)||(s[a-1]|=128,s[a]=t/65536>>>21&127,++a,t<=4398046511103))break e;s[a-1]|=128,s[a]=t/16777216>>>21&127,++a}return s.slice(0,a)}function dr(t){var s=0,a=t[s]&127;e:if(t[s++]>=128){if(a|=(t[s]&127)<<7,t[s++]<128||(a|=(t[s]&127)<<14,t[s++]<128)||(a|=(t[s]&127)<<21,t[s++]<128))break e;a|=(t[s]&127)<<28}return a}function ua(t){for(var s=[],a=[0];a[0]<t.length;){var r=a[0],n=lx(t,a),l=n&7;n=Math.floor(n/8);var i=0,d;if(n==0)break;switch(l){case 0:{for(var x=a[0];t[a[0]++]>=128;);d=t.slice(x,a[0])}break;case 5:i=4,d=t.slice(a[0],a[0]+i),a[0]+=i;break;case 1:i=8,d=t.slice(a[0],a[0]+i),a[0]+=i;break;case 2:i=lx(t,a),d=t.slice(a[0],a[0]+i),a[0]+=i;break;case 3:case 4:default:throw new Error("PB Type ".concat(l," for Field ").concat(n," at offset ").concat(r))}var h={data:d,type:l};s[n]==null?s[n]=[h]:s[n].push(h)}return s}function an(t){var s=[];return t.forEach(function(a,r){a.forEach(function(n){n.data&&(s.push(Sa(r*8+n.type)),n.type==2&&s.push(Sa(n.data.length)),s.push(n.data))})}),pc(s)}function yv(t,s){return t?.map(function(a){return s(a.data)})||[]}function Fo(t){for(var s,a=[],r=[0];r[0]<t.length;){var n=lx(t,r),l=ua(t.slice(r[0],r[0]+n));r[0]+=n;var i={id:dr(l[1][0].data),messages:[]};l[2].forEach(function(d){var x=ua(d.data),h=dr(x[3][0].data);i.messages.push({meta:x,data:t.slice(r[0],r[0]+h)}),r[0]+=h}),(s=l[3])!=null&&s[0]&&(i.merge=dr(l[3][0].data)>>>0>0),a.push(i)}return a}function d0(t){var s=[];return t.forEach(function(a){var r=[];r[1]=[{data:Sa(a.id),type:0}],r[2]=[],a.merge!=null&&(r[3]=[{data:Sa(+!!a.merge),type:0}]);var n=[];a.messages.forEach(function(i){n.push(i.data),i.meta[3]=[{type:0,data:Sa(i.data.length)}],r[2].push({data:an(i.meta),type:2})});var l=an(r);s.push(Sa(l.length)),s.push(l),n.forEach(function(i){return s.push(i)})}),pc(s)}function tz(t,s){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var a=[0],r=lx(s,a),n=[];a[0]<s.length;){var l=s[a[0]]&3;if(l==0){var i=s[a[0]++]>>2;if(i<60)++i;else{var d=i-59;i=s[a[0]],d>1&&(i|=s[a[0]+1]<<8),d>2&&(i|=s[a[0]+2]<<16),d>3&&(i|=s[a[0]+3]<<24),i>>>=0,i++,a[0]+=d}n.push(s.slice(a[0],a[0]+i)),a[0]+=i;continue}else{var x=0,h=0;if(l==1?(h=(s[a[0]]>>2&7)+4,x=(s[a[0]++]&224)<<3,x|=s[a[0]++]):(h=(s[a[0]++]>>2)+1,l==2?(x=s[a[0]]|s[a[0]+1]<<8,a[0]+=2):(x=(s[a[0]]|s[a[0]+1]<<8|s[a[0]+2]<<16|s[a[0]+3]<<24)>>>0,a[0]+=4)),n=[pc(n)],x==0)throw new Error("Invalid offset 0");if(x>n[0].length)throw new Error("Invalid offset beyond length");if(h>=x)for(n.push(n[0].slice(-x)),h-=x;h>=n[n.length-1].length;)n.push(n[n.length-1]),h-=n[n.length-1].length;n.push(n[0].slice(-x,-x+h))}}var m=pc(n);if(m.length!=r)throw new Error("Unexpected length: ".concat(m.length," != ").concat(r));return m}function Po(t){for(var s=[],a=0;a<t.length;){var r=t[a++],n=t[a]|t[a+1]<<8|t[a+2]<<16;a+=3,s.push(tz(r,t.slice(a,a+n))),a+=n}if(a!==t.length)throw new Error("data is not a valid framed stream!");return pc(s)}function u0(t){for(var s=[],a=0;a<t.length;){var r=Math.min(t.length-a,268435455),n=new Uint8Array(4);s.push(n);var l=Sa(r),i=l.length;s.push(l),r<=60?(i++,s.push(new Uint8Array([r-1<<2]))):r<=256?(i+=2,s.push(new Uint8Array([240,r-1&255]))):r<=65536?(i+=3,s.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(i+=4,s.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(i+=5,s.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),s.push(t.slice(a,a+r)),i+=r,n[0]=0,n[1]=i&255,n[2]=i>>8&255,n[3]=i>>16&255,a+=r}return pc(s)}function sz(t,s,a,r){var n=pd(t),l=n.getUint32(4,!0),i=(r>1?12:8)+d2(l&(r>1?3470:398))*4,d=-1,x=-1,h=NaN,m=new Date(2001,0,1);l&512&&(d=n.getUint32(i,!0),i+=4),i+=d2(l&(r>1?12288:4096))*4,l&16&&(x=n.getUint32(i,!0),i+=4),l&32&&(h=n.getFloat64(i,!0),i+=8),l&64&&(m.setTime(m.getTime()+n.getFloat64(i,!0)*1e3),i+=8);var b;switch(t[2]){case 0:break;case 2:b={t:"n",v:h};break;case 3:b={t:"s",v:s[x]};break;case 5:b={t:"d",v:m};break;case 6:b={t:"b",v:h>0};break;case 7:b={t:"n",v:h/86400};break;case 8:b={t:"e",v:0};break;case 9:if(d>-1)b={t:"s",v:a[d]};else if(x>-1)b={t:"s",v:s[x]};else if(!isNaN(h))b={t:"n",v:h};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return b}function az(t,s,a){var r=pd(t),n=r.getUint32(8,!0),l=12,i=-1,d=-1,x=NaN,h=NaN,m=new Date(2001,0,1);n&1&&(x=Z$(t,l),l+=16),n&2&&(h=r.getFloat64(l,!0),l+=8),n&4&&(m.setTime(m.getTime()+r.getFloat64(l,!0)*1e3),l+=8),n&8&&(d=r.getUint32(l,!0),l+=4),n&16&&(i=r.getUint32(l,!0),l+=4);var b;switch(t[1]){case 0:break;case 2:b={t:"n",v:x};break;case 3:b={t:"s",v:s[d]};break;case 5:b={t:"d",v:m};break;case 6:b={t:"b",v:h>0};break;case 7:b={t:"n",v:h/86400};break;case 8:b={t:"e",v:0};break;case 9:if(i>-1)b={t:"s",v:a[i]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(n&31," : ").concat(t.slice(0,4)));break;case 10:b={t:"n",v:x};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(n&31," : ").concat(t.slice(0,4)))}return b}function ny(t,s){var a=new Uint8Array(32),r=pd(a),n=12,l=0;switch(a[0]=5,t.t){case"n":a[1]=2,ez(a,n,t.v),l|=1,n+=16;break;case"b":a[1]=6,r.setFloat64(n,t.v?1:0,!0),l|=2,n+=8;break;case"s":if(s.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));a[1]=3,r.setUint32(n,s.indexOf(t.v),!0),l|=8,n+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(8,l,!0),a.slice(0,n)}function oy(t,s){var a=new Uint8Array(32),r=pd(a),n=12,l=0;switch(a[0]=3,t.t){case"n":a[2]=2,r.setFloat64(n,t.v,!0),l|=32,n+=8;break;case"b":a[2]=6,r.setFloat64(n,t.v?1:0,!0),l|=32,n+=8;break;case"s":if(s.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));a[2]=3,r.setUint32(n,s.indexOf(t.v),!0),l|=16,n+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(4,l,!0),a.slice(0,n)}function rz(t,s,a){switch(t[0]){case 0:case 1:case 2:case 3:return sz(t,s,a,t[0]);case 5:return az(t,s,a);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function bn(t){var s=ua(t);return lx(s[1][0].data)}function u2(t,s){var a=ua(s.data),r=dr(a[1][0].data),n=a[3],l=[];return(n||[]).forEach(function(i){var d=ua(i.data),x=dr(d[1][0].data)>>>0;switch(r){case 1:l[x]=$y(d[3][0].data);break;case 8:{var h=t[bn(d[9][0].data)][0],m=ua(h.data),b=t[bn(m[1][0].data)][0],f=dr(b.meta[1][0].data);if(f!=2001)throw new Error("2000 unexpected reference to ".concat(f));var N=ua(b.data);l[x]=N[3].map(function(p){return $y(p.data)}).join("")}break}}),l}function nz(t,s){var a,r,n,l,i,d,x,h,m,b,f,N,p,v,y=ua(t),g=dr(y[1][0].data)>>>0,j=dr(y[2][0].data)>>>0,C=((r=(a=y[8])==null?void 0:a[0])==null?void 0:r.data)&&dr(y[8][0].data)>0||!1,S,P;if((l=(n=y[7])==null?void 0:n[0])!=null&&l.data&&s!=0)S=(d=(i=y[7])==null?void 0:i[0])==null?void 0:d.data,P=(h=(x=y[6])==null?void 0:x[0])==null?void 0:h.data;else if((b=(m=y[4])==null?void 0:m[0])!=null&&b.data&&s!=1)S=(N=(f=y[4])==null?void 0:f[0])==null?void 0:N.data,P=(v=(p=y[3])==null?void 0:p[0])==null?void 0:v.data;else throw"NUMBERS Tile missing ".concat(s," cell storage");for(var k=C?4:1,E=pd(S),M=[],L=0;L<S.length/2;++L){var O=E.getUint16(L*2,!0);O<65535&&M.push([L,O])}if(M.length!=j)throw"Expected ".concat(j," cells, found ").concat(M.length);var q=[];for(L=0;L<M.length-1;++L)q[M[L][0]]=P.subarray(M[L][1]*k,M[L+1][1]*k);return M.length>=1&&(q[M[M.length-1][0]]=P.subarray(M[M.length-1][1]*k)),{R:g,cells:q}}function oz(t,s){var a,r=ua(s.data),n=(a=r?.[7])!=null&&a[0]?dr(r[7][0].data)>>>0>0?1:0:-1,l=yv(r[5],function(i){return nz(i,n)});return{nrows:dr(r[4][0].data)>>>0,data:l.reduce(function(i,d){return i[d.R]||(i[d.R]=[]),d.cells.forEach(function(x,h){if(i[d.R][h])throw new Error("Duplicate cell r=".concat(d.R," c=").concat(h));i[d.R][h]=x}),i},[])}}function lz(t,s,a){var r,n=ua(s.data),l={s:{r:0,c:0},e:{r:0,c:0}};if(l.e.r=(dr(n[6][0].data)>>>0)-1,l.e.r<0)throw new Error("Invalid row varint ".concat(n[6][0].data));if(l.e.c=(dr(n[7][0].data)>>>0)-1,l.e.c<0)throw new Error("Invalid col varint ".concat(n[7][0].data));a["!ref"]=Rs(l);var i=ua(n[4][0].data),d=u2(t,t[bn(i[4][0].data)][0]),x=(r=i[17])!=null&&r[0]?u2(t,t[bn(i[17][0].data)][0]):[],h=ua(i[3][0].data),m=0;h[1].forEach(function(b){var f=ua(b.data),N=t[bn(f[2][0].data)][0],p=dr(N.meta[1][0].data);if(p!=6002)throw new Error("6001 unexpected reference to ".concat(p));var v=oz(t,N);v.data.forEach(function(y,g){y.forEach(function(j,C){var S=Fs({r:m+g,c:C}),P=rz(j,d,x);P&&(a[S]=P)})}),m+=v.nrows})}function iz(t,s){var a=ua(s.data),r={"!ref":"A1"},n=t[bn(a[2][0].data)],l=dr(n[0].meta[1][0].data);if(l!=6001)throw new Error("6000 unexpected reference to ".concat(l));return lz(t,n[0],r),r}function cz(t,s){var a,r=ua(s.data),n={name:(a=r[1])!=null&&a[0]?$y(r[1][0].data):"",sheets:[]},l=yv(r[2],bn);return l.forEach(function(i){t[i].forEach(function(d){var x=dr(d.meta[1][0].data);x==6e3&&n.sheets.push(iz(t,d))})}),n}function dz(t,s){var a=jv(),r=ua(s.data),n=yv(r[1],bn);if(n.forEach(function(l){t[l].forEach(function(i){var d=dr(i.meta[1][0].data);if(d==2){var x=cz(t,i);x.sheets.forEach(function(h,m){Cv(a,h,m==0?x.name:x.name+"_"+m,!0)})}})}),a.SheetNames.length==0)throw new Error("Empty NUMBERS file");return a}function ly(t){var s,a,r,n,l={},i=[];if(t.FullPaths.forEach(function(x){if(x.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(x){if(x.name.match(/\.iwa$/)){var h;try{h=Po(x.content)}catch(b){return console.log("?? "+x.content.length+" "+(b.message||b))}var m;try{m=Fo(h)}catch(b){return console.log("## "+(b.message||b))}m.forEach(function(b){l[b.id]=b.messages,i.push(b.id)})}}),!i.length)throw new Error("File has no messages");var d=((n=(r=(a=(s=l?.[1])==null?void 0:s[0])==null?void 0:a.meta)==null?void 0:r[1])==null?void 0:n[0].data)&&dr(l[1][0].meta[1][0].data)==1&&l[1][0];if(d||i.forEach(function(x){l[x].forEach(function(h){var m=dr(h.meta[1][0].data)>>>0;if(m==1)if(!d)d=h;else throw new Error("Document has multiple roots")})}),!d)throw new Error("Cannot find Document root");return dz(l,d)}function uz(t,s,a){var r,n,l,i;if(!((r=t[6])!=null&&r[0])||!((n=t[7])!=null&&n[0]))throw"Mutation only works on post-BNC storages!";var d=((i=(l=t[8])==null?void 0:l[0])==null?void 0:i.data)&&dr(t[8][0].data)>0||!1;if(d)throw"Math only works with normal offsets";for(var x=0,h=pd(t[7][0].data),m=0,b=[],f=pd(t[4][0].data),N=0,p=[],v=0;v<s.length;++v){if(s[v]==null){h.setUint16(v*2,65535,!0),f.setUint16(v*2,65535);continue}h.setUint16(v*2,m,!0),f.setUint16(v*2,N,!0);var y,g;switch(typeof s[v]){case"string":y=ny({t:"s",v:s[v]},a),g=oy({t:"s",v:s[v]},a);break;case"number":y=ny({t:"n",v:s[v]},a),g=oy({t:"n",v:s[v]},a);break;case"boolean":y=ny({t:"b",v:s[v]},a),g=oy({t:"b",v:s[v]},a);break;default:throw new Error("Unsupported value "+s[v])}b.push(y),m+=y.length,p.push(g),N+=g.length,++x}for(t[2][0].data=Sa(x);v<t[7][0].data.length/2;++v)h.setUint16(v*2,65535,!0),f.setUint16(v*2,65535,!0);return t[6][0].data=pc(b),t[3][0].data=pc(p),x}function xz(t,s){if(!s||!s.numbers)throw new Error("Must pass a `numbers` option -- check the README");var a=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=so(a["!ref"]);r.s.r=r.s.c=0;var n=!1;r.e.c>9&&(n=!0,r.e.c=9),r.e.r>49&&(n=!0,r.e.r=49),n&&console.error("The Numbers writer is currently limited to ".concat(Rs(r)));var l=Lp(a,{range:r,header:1}),i=["~Sh33tJ5~"];l.forEach(function(A){return A.forEach(function(H){typeof H=="string"&&i.push(H)})});var d={},x=[],h=Ss.read(s.numbers,{type:"base64"});h.FileIndex.map(function(A,H){return[A,h.FullPaths[H]]}).forEach(function(A){var H=A[0],D=A[1];if(H.type==2&&H.name.match(/\.iwa/)){var _=H.content,xe=Po(_),ge=Fo(xe);ge.forEach(function(Ne){x.push(Ne.id),d[Ne.id]={deps:[],location:D,type:dr(Ne.messages[0].meta[1][0].data)}})}}),x.sort(function(A,H){return A-H});var m=x.filter(function(A){return A>1}).map(function(A){return[A,Sa(A)]});h.FileIndex.map(function(A,H){return[A,h.FullPaths[H]]}).forEach(function(A){var H=A[0];if(A[1],!!H.name.match(/\.iwa/)){var D=Fo(Po(H.content));D.forEach(function(_){_.messages.forEach(function(xe){m.forEach(function(ge){_.messages.some(function(Ne){return dr(Ne.meta[1][0].data)!=11006&&Q$(Ne.data,ge[1])})&&d[ge[0]].deps.push(_.id)})})})}});for(var b=Ss.find(h,d[1].location),f=Fo(Po(b.content)),N,p=0;p<f.length;++p){var v=f[p];v.id==1&&(N=v)}var y=bn(ua(N.messages[0].data)[1][0].data);for(b=Ss.find(h,d[y].location),f=Fo(Po(b.content)),p=0;p<f.length;++p)v=f[p],v.id==y&&(N=v);for(y=bn(ua(N.messages[0].data)[2][0].data),b=Ss.find(h,d[y].location),f=Fo(Po(b.content)),p=0;p<f.length;++p)v=f[p],v.id==y&&(N=v);for(y=bn(ua(N.messages[0].data)[2][0].data),b=Ss.find(h,d[y].location),f=Fo(Po(b.content)),p=0;p<f.length;++p)v=f[p],v.id==y&&(N=v);var g=ua(N.messages[0].data);{g[6][0].data=Sa(r.e.r+1),g[7][0].data=Sa(r.e.c+1);var j=bn(g[46][0].data),C=Ss.find(h,d[j].location),S=Fo(Po(C.content));{for(var P=0;P<S.length&&S[P].id!=j;++P);if(S[P].id!=j)throw"Bad ColumnRowUIDMapArchive";var k=ua(S[P].messages[0].data);k[1]=[],k[2]=[],k[3]=[];for(var E=0;E<=r.e.c;++E){var M=[];M[1]=M[2]=[{type:0,data:Sa(E+420690)}],k[1].push({type:2,data:an(M)}),k[2].push({type:0,data:Sa(E)}),k[3].push({type:0,data:Sa(E)})}k[4]=[],k[5]=[],k[6]=[];for(var L=0;L<=r.e.r;++L)M=[],M[1]=M[2]=[{type:0,data:Sa(L+726270)}],k[4].push({type:2,data:an(M)}),k[5].push({type:0,data:Sa(L)}),k[6].push({type:0,data:Sa(L)});S[P].messages[0].data=an(k)}C.content=u0(d0(S)),C.size=C.content.length,delete g[46];var O=ua(g[4][0].data);{O[7][0].data=Sa(r.e.r+1);var q=ua(O[1][0].data),B=bn(q[2][0].data);C=Ss.find(h,d[B].location),S=Fo(Po(C.content));{if(S[0].id!=B)throw"Bad HeaderStorageBucket";var se=ua(S[0].messages[0].data);for(L=0;L<l.length;++L){var le=ua(se[2][0].data);le[1][0].data=Sa(L),le[4][0].data=Sa(l[L].length),se[2][L]={type:se[2][0].type,data:an(le)}}S[0].messages[0].data=an(se)}C.content=u0(d0(S)),C.size=C.content.length;var pe=bn(O[2][0].data);C=Ss.find(h,d[pe].location),S=Fo(Po(C.content));{if(S[0].id!=pe)throw"Bad HeaderStorageBucket";for(se=ua(S[0].messages[0].data),E=0;E<=r.e.c;++E)le=ua(se[2][0].data),le[1][0].data=Sa(E),le[4][0].data=Sa(r.e.r+1),se[2][E]={type:se[2][0].type,data:an(le)};S[0].messages[0].data=an(se)}C.content=u0(d0(S)),C.size=C.content.length;var U=bn(O[4][0].data);(function(){for(var A=Ss.find(h,d[U].location),H=Fo(Po(A.content)),D,_=0;_<H.length;++_){var xe=H[_];xe.id==U&&(D=xe)}var ge=ua(D.messages[0].data);{ge[3]=[];var Ne=[];i.forEach(function(ue,Oe){Ne[1]=[{type:0,data:Sa(Oe)}],Ne[2]=[{type:0,data:Sa(1)}],Ne[3]=[{type:2,data:J$(ue)}],ge[3].push({type:2,data:an(Ne)})})}D.messages[0].data=an(ge);var Ce=d0(H),fe=u0(Ce);A.content=fe,A.size=A.content.length})();var Y=ua(O[3][0].data);{var W=Y[1][0];delete Y[2];var re=ua(W.data);{var G=bn(re[2][0].data);(function(){for(var A=Ss.find(h,d[G].location),H=Fo(Po(A.content)),D,_=0;_<H.length;++_){var xe=H[_];xe.id==G&&(D=xe)}var ge=ua(D.messages[0].data);{delete ge[6],delete Y[7];var Ne=new Uint8Array(ge[5][0].data);ge[5]=[];for(var Ce=0,fe=0;fe<=r.e.r;++fe){var ue=ua(Ne);Ce+=uz(ue,l[fe],i),ue[1][0].data=Sa(fe),ge[5].push({data:an(ue),type:2})}ge[1]=[{type:0,data:Sa(r.e.c+1)}],ge[2]=[{type:0,data:Sa(r.e.r+1)}],ge[3]=[{type:0,data:Sa(Ce)}],ge[4]=[{type:0,data:Sa(r.e.r+1)}]}D.messages[0].data=an(ge);var Oe=d0(H),De=u0(Oe);A.content=De,A.size=A.content.length})()}W.data=an(re)}O[3][0].data=an(Y)}g[4][0].data=an(O)}N.messages[0].data=an(g);var R=d0(f),F=u0(R);return b.content=F,b.size=b.content.length,h}function y3(t){return function(a){for(var r=0;r!=t.length;++r){var n=t[r];a[n[0]]===void 0&&(a[n[0]]=n[1]),n[2]==="n"&&(a[n[0]]=Number(a[n[0]]))}}}function bv(t){y3([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function vv(t){y3([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function hz(t){return Vs.WS.indexOf(t)>-1?"sheet":t==Vs.CS?"chart":t==Vs.DS?"dialog":t==Vs.MS?"macro":t&&t.length?t:"sheet"}function mz(t,s){if(!t)return 0;try{t=s.map(function(r){return r.id||(r.id=r.strRelID),[r.name,t["!id"][r.id].Target,hz(t["!id"][r.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function pz(t,s,a,r,n,l,i,d,x,h,m,b){try{l[r]=Hu(po(t,a,!0),s);var f=kr(t,s),N;switch(d){case"sheet":N=_G(f,s,n,x,l[r],h,m,b);break;case"chart":if(N=BG(f,s,n,x,l[r],h,m,b),!N||!N["!drawel"])break;var p=_u(N["!drawel"].Target,s),v=tx(p),y=C9(po(t,p,!0),Hu(po(t,v,!0),p)),g=_u(y,p),j=tx(g);N=uG(po(t,g,!0),g,x,Hu(po(t,j,!0),g),h,N);break;case"macro":N=RG(f,s,n,x,l[r],h,m,b);break;case"dialog":N=UG(f,s,n,x,l[r],h,m,b);break;default:throw new Error("Unrecognized sheet type "+d)}i[r]=N;var C=[];l&&l[r]&&xr(l[r]).forEach(function(S){var P="";if(l[r][S].Type==Vs.CMNT){P=_u(l[r][S].Target,s);var k=$G(kr(t,P,!0),P,x);if(!k||!k.length)return;X1(N,k,!1)}l[r][S].Type==Vs.TCMNT&&(P=_u(l[r][S].Target,s),C=C.concat(k9(kr(t,P,!0),x)))}),C&&C.length&&X1(N,C,!0,x.people||[])}catch(S){if(x.WTF)throw S}}function To(t){return t.charAt(0)=="/"?t.slice(1):t}function fz(t,s){if(V0(),s=s||{},bv(s),Mo(t,"META-INF/manifest.xml")||Mo(t,"objectdata.xml"))return l2(t,s);if(Mo(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof ly<"u"){if(t.FileIndex)return ly(t);var a=Ss.utils.cfb_new();return g1(t).forEach(function(le){Us(a,le,DO(t,le))}),ly(a)}throw new Error("Unsupported NUMBERS file")}if(!Mo(t,"[Content_Types].xml"))throw Mo(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Mo(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=g1(t),n=v8(po(t,"[Content_Types].xml")),l=!1,i,d;if(n.workbooks.length===0&&(d="xl/workbook.xml",kr(t,d,!0)&&n.workbooks.push(d)),n.workbooks.length===0){if(d="xl/workbook.bin",!kr(t,d,!0))throw new Error("Could not find workbook");n.workbooks.push(d),l=!0}n.workbooks[0].slice(-3)=="bin"&&(l=!0);var x={},h={};if(!s.bookSheets&&!s.bookProps){if(Wu=[],n.sst)try{Wu=GG(kr(t,To(n.sst)),n.sst,s)}catch(le){if(s.WTF)throw le}s.cellStyles&&n.themes.length&&(x=WG(po(t,n.themes[0].replace(/^\//,""),!0)||"",n.themes[0],s)),n.style&&(h=HG(kr(t,To(n.style)),n.style,x,s))}n.links.map(function(le){try{var pe=Hu(po(t,tx(To(le))),le);return VG(kr(t,To(le)),pe,le,s)}catch{}});var m=OG(kr(t,To(n.workbooks[0])),n.workbooks[0],s),b={},f="";n.coreprops.length&&(f=kr(t,To(n.coreprops[0]),!0),f&&(b=ok(f)),n.extprops.length!==0&&(f=kr(t,To(n.extprops[0]),!0),f&&D8(f,b,s)));var N={};(!s.bookSheets||s.bookProps)&&n.custprops.length!==0&&(f=po(t,To(n.custprops[0]),!0),f&&(N=T8(f,s)));var p={};if((s.bookSheets||s.bookProps)&&(m.Sheets?i=m.Sheets.map(function(pe){return pe.name}):b.Worksheets&&b.SheetNames.length>0&&(i=b.SheetNames),s.bookProps&&(p.Props=b,p.Custprops=N),s.bookSheets&&typeof i<"u"&&(p.SheetNames=i),s.bookSheets?p.SheetNames:s.bookProps))return p;i={};var v={};s.bookDeps&&n.calcchain&&(v=zG(kr(t,To(n.calcchain)),n.calcchain));var y=0,g={},j,C;{var S=m.Sheets;b.Worksheets=S.length,b.SheetNames=[];for(var P=0;P!=S.length;++P)b.SheetNames[P]=S[P].name}var k=l?"bin":"xml",E=n.workbooks[0].lastIndexOf("/"),M=(n.workbooks[0].slice(0,E+1)+"_rels/"+n.workbooks[0].slice(E+1)+".rels").replace(/^\//,"");Mo(t,M)||(M="xl/_rels/workbook."+k+".rels");var L=Hu(po(t,M,!0),M.replace(/_rels.*/,"s5s"));(n.metadata||[]).length>=1&&(s.xlmeta=YG(kr(t,To(n.metadata[0])),n.metadata[0],s)),(n.people||[]).length>=1&&(s.people=E9(kr(t,To(n.people[0])),s)),L&&(L=mz(L,m.Sheets));var O=kr(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(y=0;y!=b.Worksheets;++y){var q="sheet";if(L&&L[y]?(j="xl/"+L[y][1].replace(/[\/]?xl\//,""),Mo(t,j)||(j=L[y][1]),Mo(t,j)||(j=M.replace(/_rels\/.*$/,"")+L[y][1]),q=L[y][2]):(j="xl/worksheets/sheet"+(y+1-O)+"."+k,j=j.replace(/sheet0\./,"sheet.")),C=j.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),s&&s.sheets!=null)switch(typeof s.sheets){case"number":if(y!=s.sheets)continue e;break;case"string":if(b.SheetNames[y].toLowerCase()!=s.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(s.sheets)){for(var B=!1,se=0;se!=s.sheets.length;++se)typeof s.sheets[se]=="number"&&s.sheets[se]==y&&(B=1),typeof s.sheets[se]=="string"&&s.sheets[se].toLowerCase()==b.SheetNames[y].toLowerCase()&&(B=1);if(!B)continue e}}pz(t,j,C,b.SheetNames[y],y,g,i,q,s,m,x,h)}return p={Directory:n,Workbook:m,Props:b,Custprops:N,Deps:v,Sheets:i,SheetNames:b.SheetNames,Strings:Wu,Styles:h,Themes:x,SSF:Ka(As)},s&&s.bookFiles&&(t.files?(p.keys=r,p.files=t.files):(p.keys=[],p.files={},t.FullPaths.forEach(function(le,pe){le=le.replace(/^Root Entry[\/]/,""),p.keys.push(le),p.files[le]=t.FileIndex[pe]}))),s&&s.bookVBA&&(n.vba.length>0?p.vbaraw=kr(t,To(n.vba[0]),!0):n.defaults&&n.defaults.bin===O9&&(p.vbaraw=kr(t,"xl/vbaProject.bin",!0))),p}function gz(t,s){var a=s||{},r="Workbook",n=Ss.find(t,r);try{if(r="/!DataSpaces/Version",n=Ss.find(t,r),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(YB(n.content),r="/!DataSpaces/DataSpaceMap",n=Ss.find(t,r),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+r);var l=qB(n.content);if(l.length!==1||l[0].comps.length!==1||l[0].comps[0].t!==0||l[0].name!=="StrongEncryptionDataSpace"||l[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",n=Ss.find(t,r),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+r);var i=XB(n.content);if(i.length!=1||i[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",n=Ss.find(t,r),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+r);QB(n.content)}catch{}if(r="/EncryptionInfo",n=Ss.find(t,r),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+r);var d=ZB(n.content);if(r="/EncryptedPackage",n=Ss.find(t,r),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(d[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(d[1],n.content,a.password||"",a);if(d[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(d[1],n.content,a.password||"",a);throw new Error("File is password-protected")}function yz(t,s){return s.bookType=="ods"?g3(t,s):s.bookType=="numbers"?xz(t,s):s.bookType=="xlsb"?bz(t,s):vz(t,s)}function bz(t,s){f0=1024,t&&!t.SSF&&(t.SSF=Ka(As)),t&&t.SSF&&(V0(),rf(t.SSF),s.revssf=of(t.SSF),s.revssf[t.SSF[65535]]=0,s.ssf=t.SSF),s.rels={},s.wbrels={},s.Strings=[],s.Strings.Count=0,s.Strings.Unique=0,Gu?s.revStrings=new Map:(s.revStrings={},s.revStrings.foo=[],delete s.revStrings.foo);var a=s.bookType=="xlsb"?"bin":"xml",r=zk.indexOf(s.bookType)>-1,n=nv();vv(s=s||{});var l=zb(),i="",d=0;if(s.cellXfs=[],wc(s.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),i="docProps/core.xml",Us(l,i,lk(t.Props,s)),n.coreprops.push(i),Da(s.rels,2,i,Vs.CORE_PROPS),i="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var x=[],h=0;h<t.SheetNames.length;++h)(t.Workbook.Sheets[h]||{}).Hidden!=2&&x.push(t.SheetNames[h]);t.Props.SheetNames=x}for(t.Props.Worksheets=t.Props.SheetNames.length,Us(l,i,dk(t.Props)),n.extprops.push(i),Da(s.rels,3,i,Vs.EXT_PROPS),t.Custprops!==t.Props&&xr(t.Custprops||{}).length>0&&(i="docProps/custom.xml",Us(l,i,uk(t.Custprops)),n.custprops.push(i),Da(s.rels,4,i,Vs.CUST_PROPS)),d=1;d<=t.SheetNames.length;++d){var m={"!id":{}},b=t.Sheets[t.SheetNames[d-1]],f=(b||{})["!type"]||"sheet";switch(f){case"chart":default:i="xl/worksheets/sheet"+d+"."+a,Us(l,i,qG(d-1,i,s,t,m)),n.sheets.push(i),Da(s.wbrels,-1,"worksheets/sheet"+d+"."+a,Vs.WS[0])}if(b){var N=b["!comments"],p=!1,v="";N&&N.length>0&&(v="xl/comments"+d+"."+a,Us(l,v,QG(N,v)),n.comments.push(v),Da(m,-1,"../comments"+d+"."+a,Vs.CMNT),p=!0),b["!legacy"]&&p&&Us(l,"xl/drawings/vmlDrawing"+d+".vml",Gk(d,b["!comments"])),delete b["!comments"],delete b["!legacy"]}m["!id"].rId1&&Us(l,tx(i),w0(m))}return s.Strings!=null&&s.Strings.length>0&&(i="xl/sharedStrings."+a,Us(l,i,JG(s.Strings,i,s)),n.strs.push(i),Da(s.wbrels,-1,"sharedStrings."+a,Vs.SST)),i="xl/workbook."+a,Us(l,i,KG(t,i)),n.workbooks.push(i),Da(s.rels,1,i,Vs.WB),i="xl/theme/theme1.xml",Us(l,i,uv(t.Themes,s)),n.themes.push(i),Da(s.wbrels,-1,"theme/theme1.xml",Vs.THEME),i="xl/styles."+a,Us(l,i,XG(t,i,s)),n.styles.push(i),Da(s.wbrels,-1,"styles."+a,Vs.STY),t.vbaraw&&r&&(i="xl/vbaProject.bin",Us(l,i,t.vbaraw),n.vba.push(i),Da(s.wbrels,-1,"vbaProject.bin",Vs.VBA)),i="xl/metadata."+a,Us(l,i,ZG(i)),n.metadata.push(i),Da(s.wbrels,-1,"metadata."+a,Vs.XLMETA),Us(l,"[Content_Types].xml",rk(n,s)),Us(l,"_rels/.rels",w0(s.rels)),Us(l,"xl/_rels/workbook."+a+".rels",w0(s.wbrels)),delete s.revssf,delete s.ssf,l}function vz(t,s){f0=1024,t&&!t.SSF&&(t.SSF=Ka(As)),t&&t.SSF&&(V0(),rf(t.SSF),s.revssf=of(t.SSF),s.revssf[t.SSF[65535]]=0,s.ssf=t.SSF),s.rels={},s.wbrels={},s.Strings=[],s.Strings.Count=0,s.Strings.Unique=0,Gu?s.revStrings=new Map:(s.revStrings={},s.revStrings.foo=[],delete s.revStrings.foo);var a="xml",r=zk.indexOf(s.bookType)>-1,n=nv();vv(s=s||{});var l=zb(),i="",d=0;if(s.cellXfs=[],wc(s.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),i="docProps/core.xml",Us(l,i,lk(t.Props,s)),n.coreprops.push(i),Da(s.rels,2,i,Vs.CORE_PROPS),i="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var x=[],h=0;h<t.SheetNames.length;++h)(t.Workbook.Sheets[h]||{}).Hidden!=2&&x.push(t.SheetNames[h]);t.Props.SheetNames=x}t.Props.Worksheets=t.Props.SheetNames.length,Us(l,i,dk(t.Props)),n.extprops.push(i),Da(s.rels,3,i,Vs.EXT_PROPS),t.Custprops!==t.Props&&xr(t.Custprops||{}).length>0&&(i="docProps/custom.xml",Us(l,i,uk(t.Custprops)),n.custprops.push(i),Da(s.rels,4,i,Vs.CUST_PROPS));var m=["SheetJ5"];for(s.tcid=0,d=1;d<=t.SheetNames.length;++d){var b={"!id":{}},f=t.Sheets[t.SheetNames[d-1]],N=(f||{})["!type"]||"sheet";switch(N){case"chart":default:i="xl/worksheets/sheet"+d+"."+a,Us(l,i,s3(d-1,s,t,b)),n.sheets.push(i),Da(s.wbrels,-1,"worksheets/sheet"+d+"."+a,Vs.WS[0])}if(f){var p=f["!comments"],v=!1,y="";if(p&&p.length>0){var g=!1;p.forEach(function(j){j[1].forEach(function(C){C.T==!0&&(g=!0)})}),g&&(y="xl/threadedComments/threadedComment"+d+"."+a,Us(l,y,D9(p,m,s)),n.threadedcomments.push(y),Da(b,-1,"../threadedComments/threadedComment"+d+"."+a,Vs.TCMNT)),y="xl/comments"+d+"."+a,Us(l,y,$k(p)),n.comments.push(y),Da(b,-1,"../comments"+d+"."+a,Vs.CMNT),v=!0}f["!legacy"]&&v&&Us(l,"xl/drawings/vmlDrawing"+d+".vml",Gk(d,f["!comments"])),delete f["!comments"],delete f["!legacy"]}b["!id"].rId1&&Us(l,tx(i),w0(b))}return s.Strings!=null&&s.Strings.length>0&&(i="xl/sharedStrings."+a,Us(l,i,Fk(s.Strings,s)),n.strs.push(i),Da(s.wbrels,-1,"sharedStrings."+a,Vs.SST)),i="xl/workbook."+a,Us(l,i,l3(t)),n.workbooks.push(i),Da(s.rels,1,i,Vs.WB),i="xl/theme/theme1.xml",Us(l,i,uv(t.Themes,s)),n.themes.push(i),Da(s.wbrels,-1,"theme/theme1.xml",Vs.THEME),i="xl/styles."+a,Us(l,i,Rk(t,s)),n.styles.push(i),Da(s.wbrels,-1,"styles."+a,Vs.STY),t.vbaraw&&r&&(i="xl/vbaProject.bin",Us(l,i,t.vbaraw),n.vba.push(i),Da(s.wbrels,-1,"vbaProject.bin",Vs.VBA)),i="xl/metadata."+a,Us(l,i,Wk()),n.metadata.push(i),Da(s.wbrels,-1,"metadata."+a,Vs.XLMETA),m.length>1&&(i="xl/persons/person.xml",Us(l,i,T9(m)),n.people.push(i),Da(s.wbrels,-1,"persons/person.xml",Vs.PEOPLE)),Us(l,"[Content_Types].xml",rk(n,s)),Us(l,"_rels/.rels",w0(s.rels)),Us(l,"xl/_rels/workbook."+a+".rels",w0(s.wbrels)),delete s.revssf,delete s.ssf,l}function wv(t,s){var a="";switch((s||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":a=yo(t.slice(0,12));break;case"binary":a=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(s&&s.type||"undefined"))}return[a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2),a.charCodeAt(3),a.charCodeAt(4),a.charCodeAt(5),a.charCodeAt(6),a.charCodeAt(7)]}function wz(t,s){return Ss.find(t,"EncryptedPackage")?gz(t,s):u3(t,s)}function Nz(t,s){var a,r=t,n=s||{};return n.type||(n.type=$s&&Buffer.isBuffer(t)?"buffer":"base64"),a=MS(r,n),fz(a,n)}function b3(t,s){var a=0;e:for(;a<t.length;)switch(t.charCodeAt(a)){case 10:case 13:case 32:++a;break;case 60:return Wy(t.slice(a),s);default:break e}return P0.to_workbook(t,s)}function jz(t,s){var a="",r=wv(t,s);switch(s.type){case"base64":a=yo(t);break;case"binary":a=t;break;case"buffer":a=t.toString("binary");break;case"array":a=ud(t);break;default:throw new Error("Unrecognized type "+s.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(a=Pa(a)),s.type="binary",b3(a,s)}function Cz(t,s){var a=t;return s.type=="base64"&&(a=yo(a)),a=qu.utils.decode(1200,a.slice(2),"str"),s.type="binary",b3(a,s)}function Sz(t){return t.match(/[^\x00-\x7F]/)?Rl(t):t}function iy(t,s,a,r){return r?(a.type="string",P0.to_workbook(t,a)):P0.to_workbook(s,a)}function I0(t,s){Ub();var a=s||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return I0(new Uint8Array(t),(a=Ka(a),a.type="array",a));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!a.type&&(a.type=typeof Deno<"u"?"buffer":"array");var r=t,n=[0,0,0,0],l=!1;if(a.cellStyles&&(a.cellNF=!0,a.sheetStubs=!0),j0={},a.dateNF&&(j0.dateNF=a.dateNF),a.type||(a.type=$s&&Buffer.isBuffer(t)?"buffer":"base64"),a.type=="file"&&(a.type=$s?"buffer":"binary",r=bO(t),typeof Uint8Array<"u"&&!$s&&(a.type="array")),a.type=="string"&&(l=!0,a.type="binary",a.codepage=65001,r=Sz(t)),a.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var i=new ArrayBuffer(3),d=new Uint8Array(i);if(d.foo="bar",!d.foo)return a=Ka(a),a.type="array",I0(Hb(r),a)}switch((n=wv(r,a))[0]){case 208:if(n[1]===207&&n[2]===17&&n[3]===224&&n[4]===161&&n[5]===177&&n[6]===26&&n[7]===225)return wz(Ss.read(r,a),a);break;case 9:if(n[1]<=8)return u3(r,a);break;case 60:return Wy(r,a);case 73:if(n[1]===73&&n[2]===42&&n[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(n[1]===68)return AB(r,a);break;case 84:if(n[1]===65&&n[2]===66&&n[3]===76)return Tk.to_workbook(r,a);break;case 80:return n[1]===75&&n[2]<9&&n[3]<9?Nz(r,a):iy(t,r,a,l);case 239:return n[3]===60?Wy(r,a):iy(t,r,a,l);case 255:if(n[1]===254)return Cz(r,a);if(n[1]===0&&n[2]===2&&n[3]===0)return nd.to_workbook(r,a);break;case 0:if(n[1]===0&&(n[2]>=2&&n[3]===0||n[2]===0&&(n[3]===8||n[3]===9)))return nd.to_workbook(r,a);break;case 3:case 131:case 139:case 140:return Hy.to_workbook(r,a);case 123:if(n[1]===92&&n[2]===114&&n[3]===116)return Ok.to_workbook(r,a);break;case 10:case 13:case 32:return jz(r,a);case 137:if(n[1]===80&&n[2]===78&&n[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return TB.indexOf(n[0])>-1&&n[2]<=12&&n[3]<=31?Hy.to_workbook(r,a):iy(t,r,a,l)}function v3(t,s){switch(s.type){case"base64":case"binary":break;case"buffer":case"array":s.type="";break;case"file":return Ex(s.file,Ss.write(t,{type:$s?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+s.bookType+"' files");default:throw new Error("Unrecognized type "+s.type)}return Ss.write(t,s)}function kz(t,s){var a=Ka(s||{}),r=yz(t,a);return Dz(r,a)}function Dz(t,s){var a={},r=$s?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(s.compression&&(a.compression="DEFLATE"),s.password)a.type=r;else switch(s.type){case"base64":a.type="base64";break;case"binary":a.type="string";break;case"string":throw new Error("'string' output type invalid for '"+s.bookType+"' files");case"buffer":case"file":a.type=r;break;default:throw new Error("Unrecognized type "+s.type)}var n=t.FullPaths?Ss.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[a.type]||a.type,compression:!!s.compression}):t.generate(a);if(typeof Deno<"u"&&typeof n=="string"){if(s.type=="binary"||s.type=="base64")return n;n=new Uint8Array(af(n))}return s.password&&typeof encrypt_agile<"u"?v3(encrypt_agile(n,s.password),s):s.type==="file"?Ex(s.file,n):s.type=="string"?Pa(n):n}function Ez(t,s){var a=s||{},r=S$(t,a);return v3(r,a)}function Ll(t,s,a){a||(a="");var r=a+t;switch(s.type){case"base64":return Xu(Rl(r));case"binary":return Rl(r);case"string":return t;case"file":return Ex(s.file,r,"utf8");case"buffer":return $s?Si(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):Ll(r,{type:"binary"}).split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+s.type)}function Tz(t,s){switch(s.type){case"base64":return Xu(t);case"binary":return t;case"string":return t;case"file":return Ex(s.file,t,"binary");case"buffer":return $s?Si(t,"binary"):t.split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+s.type)}function sm(t,s){switch(s.type){case"string":case"base64":case"binary":for(var a="",r=0;r<t.length;++r)a+=String.fromCharCode(t[r]);return s.type=="base64"?Xu(a):s.type=="string"?Pa(a):a;case"file":return Ex(s.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+s.type)}}function hf(t,s){Ub(),wG(t);var a=Ka(s||{});if(a.cellStyles&&(a.cellNF=!0,a.sheetStubs=!0),a.type=="array"){a.type="binary";var r=hf(t,a);return a.type="array",af(r)}var n=0;if(a.sheet&&(typeof a.sheet=="number"?n=a.sheet:n=t.SheetNames.indexOf(a.sheet),!t.SheetNames[n]))throw new Error("Sheet not found: "+a.sheet+" : "+typeof a.sheet);switch(a.bookType||"xlsb"){case"xml":case"xlml":return Ll(y$(t,a),a);case"slk":case"sylk":return Ll(Ek.from_sheet(t.Sheets[t.SheetNames[n]],a),a);case"htm":case"html":return Ll(h3(t.Sheets[t.SheetNames[n]],a),a);case"txt":return Tz(w3(t.Sheets[t.SheetNames[n]],a),a);case"csv":return Ll(Nv(t.Sheets[t.SheetNames[n]],a),a,"\uFEFF");case"dif":return Ll(Tk.from_sheet(t.Sheets[t.SheetNames[n]],a),a);case"dbf":return sm(Hy.from_sheet(t.Sheets[t.SheetNames[n]],a),a);case"prn":return Ll(P0.from_sheet(t.Sheets[t.SheetNames[n]],a),a);case"rtf":return Ll(Ok.from_sheet(t.Sheets[t.SheetNames[n]],a),a);case"eth":return Ll(Ak.from_sheet(t.Sheets[t.SheetNames[n]],a),a);case"fods":return Ll(g3(t,a),a);case"wk1":return sm(nd.sheet_to_wk1(t.Sheets[t.SheetNames[n]],a),a);case"wk3":return sm(nd.book_to_wk3(t,a),a);case"biff2":a.biff||(a.biff=2);case"biff3":a.biff||(a.biff=3);case"biff4":return a.biff||(a.biff=4),sm(x3(t,a),a);case"biff5":a.biff||(a.biff=5);case"biff8":case"xla":case"xls":return a.biff||(a.biff=8),Ez(t,a);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return kz(t,a);default:throw new Error("Unrecognized bookType |"+a.bookType+"|")}}function Az(t,s,a,r,n,l,i,d){var x=yr(a),h=d.defval,m=d.raw||!Object.prototype.hasOwnProperty.call(d,"raw"),b=!0,f=n===1?[]:{};if(n!==1)if(Object.defineProperty)try{Object.defineProperty(f,"__rowNum__",{value:a,enumerable:!1})}catch{f.__rowNum__=a}else f.__rowNum__=a;if(!i||t[a])for(var N=s.s.c;N<=s.e.c;++N){var p=i?t[a][N]:t[r[N]+x];if(p===void 0||p.t===void 0){if(h===void 0)continue;l[N]!=null&&(f[l[N]]=h);continue}var v=p.v;switch(p.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(l[N]!=null){if(v==null)if(p.t=="e"&&v===null)f[l[N]]=null;else if(h!==void 0)f[l[N]]=h;else if(m&&v===null)f[l[N]]=null;else continue;else f[l[N]]=m&&(p.t!=="n"||p.t==="n"&&d.rawNumbers!==!1)?v:ji(p,v,d);v!=null&&(b=!1)}}return{row:f,isempty:b}}function Lp(t,s){if(t==null||t["!ref"]==null)return[];var a={t:"n",v:0},r=0,n=1,l=[],i=0,d="",x={s:{r:0,c:0},e:{r:0,c:0}},h=s||{},m=h.range!=null?h.range:t["!ref"];switch(h.header===1?r=1:h.header==="A"?r=2:Array.isArray(h.header)?r=3:h.header==null&&(r=0),typeof m){case"string":x=na(m);break;case"number":x=na(t["!ref"]),x.s.r=m;break;default:x=m}r>0&&(n=0);var b=yr(x.s.r),f=[],N=[],p=0,v=0,y=Array.isArray(t),g=x.s.r,j=0,C={};y&&!t[g]&&(t[g]=[]);var S=h.skipHidden&&t["!cols"]||[],P=h.skipHidden&&t["!rows"]||[];for(j=x.s.c;j<=x.e.c;++j)if(!(S[j]||{}).hidden)switch(f[j]=ar(j),a=y?t[g][j]:t[f[j]+b],r){case 1:l[j]=j-x.s.c;break;case 2:l[j]=f[j];break;case 3:l[j]=h.header[j-x.s.c];break;default:if(a==null&&(a={w:"__EMPTY",t:"s"}),d=i=ji(a,null,h),v=C[i]||0,!v)C[i]=1;else{do d=i+"_"+v++;while(C[d]);C[i]=v,C[d]=1}l[j]=d}for(g=x.s.r+n;g<=x.e.r;++g)if(!(P[g]||{}).hidden){var k=Az(t,x,g,f,r,l,y,h);(k.isempty===!1||(r===1?h.blankrows!==!1:h.blankrows))&&(N[p++]=k.row)}return N.length=p,N}var x2=/"/g;function Fz(t,s,a,r,n,l,i,d){for(var x=!0,h=[],m="",b=yr(a),f=s.s.c;f<=s.e.c;++f)if(r[f]){var N=d.dense?(t[a]||[])[f]:t[r[f]+b];if(N==null)m="";else if(N.v!=null){x=!1,m=""+(d.rawNumbers&&N.t=="n"?N.v:ji(N,null,d));for(var p=0,v=0;p!==m.length;++p)if((v=m.charCodeAt(p))===n||v===l||v===34||d.forceQuotes){m='"'+m.replace(x2,'""')+'"';break}m=="ID"&&(m='"ID"')}else N.f!=null&&!N.F?(x=!1,m="="+N.f,m.indexOf(",")>=0&&(m='"'+m.replace(x2,'""')+'"')):m="";h.push(m)}return d.blankrows===!1&&x?null:h.join(i)}function Nv(t,s){var a=[],r=s??{};if(t==null||t["!ref"]==null)return"";var n=na(t["!ref"]),l=r.FS!==void 0?r.FS:",",i=l.charCodeAt(0),d=r.RS!==void 0?r.RS:`
`,x=d.charCodeAt(0),h=new RegExp((l=="|"?"\\|":l)+"+$"),m="",b=[];r.dense=Array.isArray(t);for(var f=r.skipHidden&&t["!cols"]||[],N=r.skipHidden&&t["!rows"]||[],p=n.s.c;p<=n.e.c;++p)(f[p]||{}).hidden||(b[p]=ar(p));for(var v=0,y=n.s.r;y<=n.e.r;++y)(N[y]||{}).hidden||(m=Fz(t,n,y,b,i,x,l,r),m!=null&&(r.strip&&(m=m.replace(h,"")),(m||r.blankrows!==!1)&&a.push((v++?d:"")+m)));return delete r.dense,a.join("")}function w3(t,s){s||(s={}),s.FS="	",s.RS=`
`;var a=Nv(t,s);return a}function Pz(t){var s="",a,r="";if(t==null||t["!ref"]==null)return[];var n=na(t["!ref"]),l="",i=[],d,x=[],h=Array.isArray(t);for(d=n.s.c;d<=n.e.c;++d)i[d]=ar(d);for(var m=n.s.r;m<=n.e.r;++m)for(l=yr(m),d=n.s.c;d<=n.e.c;++d)if(s=i[d]+l,a=h?(t[m]||[])[d]:t[s],r="",a!==void 0){if(a.F!=null){if(s=a.F,!a.f)continue;r=a.f,s.indexOf(":")==-1&&(s=s+":"+s)}if(a.f!=null)r=a.f;else{if(a.t=="z")continue;if(a.t=="n"&&a.v!=null)r=""+a.v;else if(a.t=="b")r=a.v?"TRUE":"FALSE";else if(a.w!==void 0)r="'"+a.w;else{if(a.v===void 0)continue;a.t=="s"?r="'"+a.v:r=""+a.v}}x[x.length]=s+"="+r}return x}function N3(t,s,a){var r=a||{},n=+!r.skipHeader,l=t||{},i=0,d=0;if(l&&r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var x=typeof r.origin=="string"?rr(r.origin):r.origin;i=x.r,d=x.c}var h,m={s:{c:0,r:0},e:{c:d,r:i+s.length-1+n}};if(l["!ref"]){var b=na(l["!ref"]);m.e.c=Math.max(m.e.c,b.e.c),m.e.r=Math.max(m.e.r,b.e.r),i==-1&&(i=b.e.r+1,m.e.r=i+s.length-1+n)}else i==-1&&(i=0,m.e.r=s.length-1+n);var f=r.header||[],N=0;s.forEach(function(v,y){xr(v).forEach(function(g){(N=f.indexOf(g))==-1&&(f[N=f.length]=g);var j=v[g],C="z",S="",P=Fs({c:d+N,r:i+y+n});h=ix(l,P),j&&typeof j=="object"&&!(j instanceof Date)?l[P]=j:(typeof j=="number"?C="n":typeof j=="boolean"?C="b":typeof j=="string"?C="s":j instanceof Date?(C="d",r.cellDates||(C="n",j=Ir(j)),S=r.dateNF||As[14]):j===null&&r.nullError&&(C="e",j=0),h?(h.t=C,h.v=j,delete h.w,delete h.R,S&&(h.z=S)):l[P]=h={t:C,v:j},S&&(h.z=S))})}),m.e.c=Math.max(m.e.c,d+f.length-1);var p=yr(i);if(n)for(N=0;N<f.length;++N)l[ar(N+d)+p]={t:"s",v:f[N]};return l["!ref"]=Rs(m),l}function Mz(t,s){return N3(null,t,s)}function ix(t,s,a){if(typeof s=="string"){if(Array.isArray(t)){var r=rr(s);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[s]||(t[s]={t:"z"})}return typeof s!="number"?ix(t,Fs(s)):ix(t,Fs({r:s,c:a||0}))}function Iz(t,s){if(typeof s=="number"){if(s>=0&&t.SheetNames.length>s)return s;throw new Error("Cannot find sheet # "+s)}else if(typeof s=="string"){var a=t.SheetNames.indexOf(s);if(a>-1)return a;throw new Error("Cannot find sheet name |"+s+"|")}else throw new Error("Cannot find sheet |"+s+"|")}function jv(){return{SheetNames:[],Sheets:{}}}function Cv(t,s,a,r){var n=1;if(!a)for(;n<=65535&&t.SheetNames.indexOf(a="Sheet"+n)!=-1;++n,a=void 0);if(!a||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(a)>=0){var l=a.match(/(^.*?)(\d+)$/);n=l&&+l[2]||0;var i=l&&l[1]||a;for(++n;n<=65535&&t.SheetNames.indexOf(a=i+n)!=-1;++n);}if(o3(a),t.SheetNames.indexOf(a)>=0)throw new Error("Worksheet with name |"+a+"| already exists!");return t.SheetNames.push(a),t.Sheets[a]=s,a}function Lz(t,s,a){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=Iz(t,s);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),a){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+a)}t.Workbook.Sheets[r].Hidden=a}function Oz(t,s){return t.z=s,t}function j3(t,s,a){return s?(t.l={Target:s},a&&(t.l.Tooltip=a)):delete t.l,t}function _z(t,s,a){return j3(t,"#"+s,a)}function Bz(t,s,a){t.c||(t.c=[]),t.c.push({t:s,a:a||"SheetJS"})}function Rz(t,s,a,r){for(var n=typeof s!="string"?s:na(s),l=typeof s=="string"?s:Rs(s),i=n.s.r;i<=n.e.r;++i)for(var d=n.s.c;d<=n.e.c;++d){var x=ix(t,i,d);x.t="n",x.F=l,delete x.v,i==n.s.r&&d==n.s.c&&(x.f=a,r&&(x.D=!0))}return t}var Ln={encode_col:ar,encode_row:yr,encode_cell:Fs,encode_range:Rs,decode_col:Zb,decode_row:Qb,split_cell:JO,decode_cell:rr,decode_range:so,format_cell:ji,sheet_add_aoa:JS,sheet_add_json:N3,sheet_add_dom:m3,aoa_to_sheet:Y0,json_to_sheet:Mz,table_to_sheet:p3,table_to_book:Y$,sheet_to_csv:Nv,sheet_to_txt:w3,sheet_to_json:Lp,sheet_to_html:h3,sheet_to_formulae:Pz,sheet_to_row_object_array:Lp,sheet_get_cell:ix,book_new:jv,book_append_sheet:Cv,book_set_sheet_visibility:Lz,cell_set_number_format:Oz,cell_set_hyperlink:j3,cell_set_internal_link:_z,cell_add_comment:Bz,sheet_set_array_formula:Rz,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function Uz(){const[t,s]=o.useState([]),[a,r]=o.useState(!1),[n,l]=o.useState(""),[i,d]=o.useState(!1),[x,h]=o.useState(!1),[m,b]=o.useState([]),[f,N]=o.useState(null),p=o.useRef(null),[v,y]=o.useState([]),[g,j]=o.useState(!1),[C,S]=o.useState(1),P=10,[k,E]=o.useState(null),[M,L]=o.useState([]),[O,q]=o.useState({isDeleteExistingRecord:!1,imports:[]});o.useEffect(()=>{B()},[]);const B=async()=>{j(!0);try{const D=await ne.get("/Fs/Process/TimeKeepGroupSetUp");if(D.data){const _=D.data.map(xe=>({id:xe.id||xe.ID||"",groupCode:xe.groupCode||xe.GroupCode||"",groupDescription:xe.groupDescription||xe.GroupDescription||""}));b(_)}}catch(D){const _=D.response?.data?.message||D.message||"Failed to load TKS Group";E(_),console.error("Error fetching TKSGroup:",D)}finally{}},se=D=>{s(_=>_.includes(D)?_.filter(xe=>xe!==D):[..._,D])},le=()=>{t.length===m.length?s([]):s(m.map(D=>D.id))},pe=D=>{const _=D.target.files?.[0]??null;if(!_)return;N(_),l(_.name);const xe=new FileReader;xe.onload=ge=>{const Ne=ge.target?.result;if(!Ne)return;const fe=I0(Ne,{type:"array"}).SheetNames;console.log("Sheets:",fe)},xe.readAsArrayBuffer(_)},U=(D,_)=>{const xe=window.URL.createObjectURL(D),ge=document.createElement("a");ge.href=xe,ge.download=_,document.body.appendChild(ge),ge.click(),document.body.removeChild(ge),window.URL.revokeObjectURL(xe)},Y=async()=>{r(!0);try{const D=await ne.get("downloads/DownloadTemplate?filename=ImportDeviceCode_Template.xlsx",{responseType:"blob"}),_=D.headers["content-type"],xe=new Blob([D.data],{type:_});U(xe,"ImportDeviceCode_Template.xlsx")}finally{}},W=async()=>{if(!f){E("Please select a file to import."),ee.fire({icon:"error",title:"Error",text:"Please select a file to import."});return}if(t.length===0){ee.fire({icon:"error",title:"Error",text:"Please select group."});return}r(!0);const D=new FormData;D.append("isDeleteExistingRecord",String(x)),D.append("file",f,n);try{const _=await ne.post("/Utilities/Import/ImportDeviceCode",D);L(_.data.resultData),_.data.errors.length>0?(console.log(_.data.errors),L([]),ee.fire({icon:"error",title:"Error",text:_.data.resultData?.[0]?.message??_.data.errors}),y(_.data.errors)):ee.fire({icon:"success",title:"Done",text:"Import done.",timer:2e3,showConfirmButton:!1})}finally{r(!1),d(!0)}},re=async()=>{const D={isDeleteExistingRecord:x,imports:M.filter(_=>!_.message)};console.log(D),console.log(f);try{const _=await ne.post("/Utilities/Import/UpdateImportDeviceCode",D);L(_.data.resultData),_.data.errors.length>0?(L([]),ee.fire({icon:"error",title:"Error",text:_.data.resultData?.[0]?.message??_.data.errors}),y(_.data.errors)):ee.fire({icon:"success",title:"Done",text:"Update done.",timer:2e3,showConfirmButton:!1})}finally{r(!1)}},G=Math.ceil(M.length/P),R=(C-1)*P,F=R+P,A=M.slice(R,R+P),H=()=>{const D=[];if(G<=7)for(let _=1;_<=G;_++)D.push(_);else if(C<=4){for(let _=1;_<=5;_++)D.push(_);D.push("..."),D.push(G)}else if(C>=G-3){D.push(1),D.push("...");for(let _=G-4;_<=G;_++)D.push(_)}else{D.push(1),D.push("...");for(let _=C-1;_<=C+1;_++)D.push(_);D.push("..."),D.push(G)}return D};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Import Device Code"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Import device code assignments for employees. Upload Excel files to batch configure which biometric devices employees can use for time tracking with effectivity dates."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Import device code assignments by date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set effectivity and expiration dates"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Download Excel templates for easy formatting"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update existing records or import new device codes"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-6",children:[e.jsx(Vl,{selectedCodes:t,onToggle:se,onSelectAll:le}),e.jsxs("div",{className:"lg:col-span-3 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Import Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Excel File"}),e.jsxs("div",{className:"bg-teal-50 border-2 border-teal-200 rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[f&&e.jsx("div",{className:"w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:n}),f&&e.jsx("div",{className:"text-xs text-teal-600",children:"File loaded successfully"})]})]}),e.jsx("input",{type:"file",ref:p,onChange:pe,accept:".xlsx,.xls",className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",className:"px-4 py-2 bg-teal-500 text-white rounded-lg cursor-pointer hover:bg-teal-600 transition-colors text-sm",children:"Choose File"})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(on,{className:"w-4 h-4 text-blue-600 mt-0.5",onClick:Y}),e.jsx("a",{href:"#",className:"text-sm text-blue-600 hover:text-blue-700",onClick:Y,children:"Download Template"})]})}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsxs("button",{className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",onClick:W,children:[e.jsx(ur,{className:"w-4 h-4",onClick:W}),"Import Data"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",onClick:re,children:[e.jsx(gl,{className:"w-4 h-4",onClick:re}),"Update Data"]})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-5 py-3 bg-white border-b border-gray-200",children:e.jsx("h3",{className:"text-gray-900",children:"Import Data Preview"})}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpCode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpName"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Device Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Effectivity Date"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Expiration Date"})]})}),e.jsx("tbody",{children:Array.isArray(A)&&A.map((D,_)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:D.empCode}),e.jsx("td",{className:"px-4 py-2",children:D.empName}),e.jsx("td",{className:"px-4 py-2",children:D.code}),e.jsx("td",{className:"px-4 py-2",children:D.effectivityDate?new Date(D.effectivityDate).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:D.expiryDate?new Date(D.expiryDate).toLocaleDateString():"-"})]},_))})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center text-xs text-gray-500 justify-between",children:[!i&&e.jsxs("span",{children:["Showing ",Math.min(F,M.length)," of ",M.length," entries"]}),i&&e.jsxs("span",{children:["Showing ",R+1," to ",Math.min(F,M.length)," of ",M.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>S(D=>Math.max(1,D-1)),disabled:C===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),H().map((D,_)=>typeof D=="number"?e.jsx("button",{onClick:()=>S(D),className:`px-2 py-1 rounded text-xs ${C===D?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:D},_):e.jsx("span",{className:"px-2",children:D},_)),e.jsx("button",{onClick:()=>S(D=>Math.min(G,D+1)),disabled:C===G,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})}),e.jsx(Zt,{})]})}function Hz(){const[t,s]=o.useState([]),[a,r]=o.useState(!1),[n,l]=o.useState(""),[i,d]=o.useState(!1),[x,h]=o.useState(!1),[m,b]=o.useState([]),[f,N]=o.useState(null),p=o.useRef(null),[v,y]=o.useState([]),[g,j]=o.useState(!1),[C,S]=o.useState(1),P=10,[k,E]=o.useState(null),[M,L]=o.useState([]),[O,q]=o.useState({isDeleteExistingRecord:!1,imports:[]});o.useEffect(()=>{B()},[]);const B=async()=>{j(!0);try{const D=await ne.get("/Fs/Process/TimeKeepGroupSetUp");if(D.data){const _=D.data.map(xe=>({id:xe.id||xe.ID||"",groupCode:xe.groupCode||xe.GroupCode||"",groupDescription:xe.groupDescription||xe.GroupDescription||""}));b(_)}}catch(D){const _=D.response?.data?.message||D.message||"Failed to load TKS Group";E(_),console.error("Error fetching TKSGroup:",D)}finally{}},se=D=>{s(_=>_.includes(D)?_.filter(xe=>xe!==D):[..._,D])},le=()=>{t.length===m.length?s([]):s(m.map(D=>D.id))},pe=D=>{const _=D.target.files?.[0]??null;_&&(N(_),l(_.name))},U=(D,_)=>{const xe=window.URL.createObjectURL(D),ge=document.createElement("a");ge.href=xe,ge.download=_,document.body.appendChild(ge),ge.click(),document.body.removeChild(ge),window.URL.revokeObjectURL(xe)},Y=async()=>{r(!0);try{const D=await ne.get("downloads/DownloadTemplate?filename=ImportTKSMasterFile_Template.xlsx",{responseType:"blob"}),_=D.headers["content-type"],xe=new Blob([D.data],{type:_});U(xe,"ImportTKSMasterFile_Template.xlsx")}finally{}},W=async()=>{if(!f){E("Please select a file to import."),ee.fire({icon:"error",title:"Error",text:"Please select a file to import."});return}if(t.length===0){ee.fire({icon:"error",title:"Error",text:"Please select group."});return}r(!0);const D=new FormData;D.append("isDeleteExistingRecord",String(x)),D.append("file",f,n),console.log(x),console.log(f),console.log(D instanceof FormData);try{const _=await ne.post("/Utilities/Import/ImportEmployeeMasterfile",D);L(_.data.resultData),_.data.errors.length>0?(console.log(_.data.errors),L([]),ee.fire({icon:"error",title:"Error",text:_.data.resultData?.[0]?.message??_.data.errors}),y(_.data.errors)):ee.fire({icon:"success",title:"Done",text:"Import done.",timer:2e3,showConfirmButton:!1})}finally{r(!1),d(!0)}},re=async()=>{const D={isDeleteExistingRecord:x,imports:M.filter(_=>!_.message)};console.log(D),console.log(f);try{const _=await ne.post("/Utilities/Import/UpdateImportEmployeeMasterfile",D);L(_.data.resultData),_.data.errors.length>0?(L([]),ee.fire({icon:"error",title:"Error",text:_.data.resultData?.[0]?.message??_.data.errors}),y(_.data.errors)):ee.fire({icon:"success",title:"Done",text:"Update done.",timer:2e3,showConfirmButton:!1})}finally{r(!1)}},G=Math.ceil(M.length/P),R=(C-1)*P,F=R+P,A=M.slice(R,R+P),H=()=>{const D=[];if(G<=7)for(let _=1;_<=G;_++)D.push(_);else if(C<=4){for(let _=1;_<=5;_++)D.push(_);D.push("..."),D.push(G)}else if(C>=G-3){D.push(1),D.push("...");for(let _=G-4;_<=G;_++)D.push(_)}else{D.push(1),D.push("...");for(let _=C-1;_<=C+1;_++)D.push(_);D.push("..."),D.push(G)}return D};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Import Employee Masterfile"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Import employee master data in bulk. Upload Excel files to create or update employee information including personal details, employment status, department assignments, and contact information."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Import complete employee profiles"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update existing employee records"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Download Excel templates for easy formatting"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Batch process multiple employee records"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-6",children:[e.jsx(Vl,{selectedCodes:t,onToggle:se,onSelectAll:le}),e.jsxs("div",{className:"lg:col-span-3 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Import Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Excel File"}),e.jsxs("div",{className:"bg-teal-50 border-2 border-teal-200 rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[f&&e.jsx("div",{className:"w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:n}),f&&e.jsx("div",{className:"text-xs text-teal-600",children:"File loaded successfully"})]})]}),e.jsx("input",{type:"file",ref:p,onChange:pe,accept:".xlsx,.xls",className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",className:"px-4 py-2 bg-teal-500 text-white rounded-lg cursor-pointer hover:bg-teal-600 transition-colors text-sm",children:"Choose File"})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(on,{className:"w-4 h-4 text-blue-600 mt-0.5",onClick:Y}),e.jsx("a",{href:"#",className:"text-sm text-blue-600 hover:text-blue-700",onClick:Y,children:"Download Template"})]})}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsxs("button",{className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",onClick:W,children:[e.jsx(ur,{className:"w-4 h-4",onClick:W}),"Import Data"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",onClick:re,children:[e.jsx(gl,{className:"w-4 h-4",onClick:re}),"Update Data"]})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-5 py-3 bg-white border-b border-gray-200",children:e.jsx("h3",{className:"text-gray-900",children:"Import Data Preview"})}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Remarks"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpCode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpStatusActive"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpStatus"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Country"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"LastName"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"FirstName"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"MiddleName"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Suffix"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"NickName"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"HomeAdd"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"PresAdd"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Municipality"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Province"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"PostalCode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"CivilStatus"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Citizenship"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Religion"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Sex"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Email"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Weight"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Height"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"MobilePhone"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"HomePhone"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"PresPhone"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"BirthPlace"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Branch"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Division"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Department"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Section"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Unit"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Line"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Position"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Superior"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"JobGrade"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"SSS"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"PHIC"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"TIN"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateHired"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateRegularized"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateResigned"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateSuspended"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"ProbeStart"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"ProbeEnd"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Birthdate"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"TKSGroup"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"GroupScheduleCode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"AllowOTDefault"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"TardyExemp"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"UTExempt"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"NDExempt"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"OTExempt"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"AbsenceExempt"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"OtherEarnExempt"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"HolidayExempt"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"UnproductiveExempt"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DeviceCode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"FixedRestDay1"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"FixedRestDay2"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"FixedRestDay3"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DailySchedule"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"ClassificationCode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"GSISNo"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"OnlineAppCode"})]})}),e.jsx("tbody",{children:Array.isArray(A)&&A.map((D,_)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:D.remarks}),e.jsx("td",{className:"px-4 py-2",children:D.empCode}),e.jsx("td",{className:"px-4 py-2",children:D.statusActive}),e.jsx("td",{className:"px-4 py-2",children:D.empStatCode}),e.jsx("td",{className:"px-4 py-2",children:D.courtesy}),e.jsx("td",{className:"px-4 py-2",children:D.lName}),e.jsx("td",{className:"px-4 py-2",children:D.fName}),e.jsx("td",{className:"px-4 py-2",children:D.mName}),e.jsx("td",{className:"px-4 py-2",children:D.suffix}),e.jsx("td",{className:"px-4 py-2",children:D.nickName}),e.jsx("td",{className:"px-4 py-2",children:D.hAddress}),e.jsx("td",{className:"px-4 py-2",children:D.pAddress}),e.jsx("td",{className:"px-4 py-2",children:D.city}),e.jsx("td",{className:"px-4 py-2",children:D.province}),e.jsx("td",{className:"px-4 py-2",children:D.postalCode}),e.jsx("td",{className:"px-4 py-2",children:D.civilStatus}),e.jsx("td",{className:"px-4 py-2",children:D.citizenship}),e.jsx("td",{className:"px-4 py-2",children:D.religion}),e.jsx("td",{className:"px-4 py-2",children:D.sex}),e.jsx("td",{className:"px-4 py-2",children:D.email}),e.jsx("td",{className:"px-4 py-2",children:D.weight}),e.jsx("td",{className:"px-4 py-2",children:D.height}),e.jsx("td",{className:"px-4 py-2",children:D.mobilePhone}),e.jsx("td",{className:"px-4 py-2",children:D.homePhone}),e.jsx("td",{className:"px-4 py-2",children:D.presentPhone}),e.jsx("td",{className:"px-4 py-2",children:D.birthPlace}),e.jsx("td",{className:"px-4 py-2",children:D.braCode}),e.jsx("td",{className:"px-4 py-2",children:D.divCode}),e.jsx("td",{className:"px-4 py-2",children:D.depCode}),e.jsx("td",{className:"px-4 py-2",children:D.secCode}),e.jsx("td",{className:"px-4 py-2",children:D.unitCode}),e.jsx("td",{className:"px-4 py-2",children:D.lineCode}),e.jsx("td",{className:"px-4 py-2"}),e.jsx("td",{className:"px-4 py-2",children:D.superior}),e.jsx("td",{className:"px-4 py-2",children:D.grdCode}),e.jsx("td",{className:"px-4 py-2",children:D.sssNo}),e.jsx("td",{className:"px-4 py-2",children:D.philHealthNo}),e.jsx("td",{className:"px-4 py-2",children:D.tin}),e.jsx("td",{className:"px-4 py-2",children:D.dateHired?new Date(D.dateHired).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:D.dateRegularized?new Date(D.dateRegularized).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:D.dateResigned?new Date(D.dateResigned).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:D.dateSuspended?new Date(D.dateSuspended).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:D.probeStart?new Date(D.probeStart).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:D.probeEnd?new Date(D.probeEnd).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:D.birthDate?new Date(D.birthDate).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:D.tksGroup}),e.jsx("td",{className:"px-4 py-2",children:D.groupSchedCode}),e.jsx("td",{className:"px-4 py-2",children:D.allowOTDefault}),e.jsx("td",{className:"px-4 py-2",children:D.tardyExemp}),e.jsx("td",{className:"px-4 py-2",children:D.utExempt}),e.jsx("td",{className:"px-4 py-2",children:D.ndExempt}),e.jsx("td",{className:"px-4 py-2",children:D.otExempt}),e.jsx("td",{className:"px-4 py-2",children:D.absenceExempt}),e.jsx("td",{className:"px-4 py-2",children:D.otherEarnExempt}),e.jsx("td",{className:"px-4 py-2",children:D.holidayExempt}),e.jsx("td",{className:"px-4 py-2",children:D.unproductiveExempt}),e.jsx("td",{className:"px-4 py-2",children:D.deviceCode}),e.jsx("td",{className:"px-4 py-2",children:D.fixedRestDay1}),e.jsx("td",{className:"px-4 py-2",children:D.fixedRestDay2}),e.jsx("td",{className:"px-4 py-2",children:D.fixedRestDay3}),e.jsx("td",{className:"px-4 py-2",children:D.dailySchedule}),e.jsx("td",{className:"px-4 py-2",children:D.classificationCode}),e.jsx("td",{className:"px-4 py-2",children:D.gsisNo}),e.jsx("td",{className:"px-4 py-2",children:D.onlineAppCode})]},_))})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center text-xs text-gray-500 justify-between",children:[!i&&e.jsxs("span",{children:["Showing ",Math.min(F,M.length)," of ",M.length," entries"]}),i&&e.jsxs("span",{children:["Showing ",R+1," to ",Math.min(F,M.length)," of ",M.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>S(D=>Math.max(1,D-1)),disabled:C===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),H().map((D,_)=>typeof D=="number"?e.jsx("button",{onClick:()=>S(D),className:`px-2 py-1 rounded text-xs ${C===D?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:D},_):e.jsx("span",{className:"px-2",children:D},_)),e.jsx("button",{onClick:()=>S(D=>Math.min(G,D+1)),disabled:C===G,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})}),e.jsx(Zt,{})]})}function h2(){const[t,s]=o.useState(null),[a,r]=o.useState([]),[n,l]=o.useState(""),[i,d]=o.useState([]),[x,h]=o.useState([]),[m,b]=o.useState(!1),[f,N]=o.useState(""),[p,v]=o.useState(!1),[y,g]=o.useState(""),[j,C]=o.useState(""),[S,P]=o.useState(!1),[k,E]=o.useState([]),[M,L]=o.useState(null),O=o.useRef(null),[q,B]=o.useState([]),[se,le]=o.useState(!1),[pe,U]=o.useState(1),Y=10,[W,re]=o.useState(null),[G,R]=o.useState([]),[F,A]=o.useState({dateFrom:"",dateTo:"",isDeleteExistingRecord:!1,imports:[]});o.useEffect(()=>{H()},[]);const H=async()=>{le(!0);try{const ye=await ne.get("/Fs/Process/TimeKeepGroupSetUp");if(ye.data){const be=ye.data.map(Me=>({id:Me.id||Me.ID||"",groupCode:Me.groupCode||Me.GroupCode||"",groupDescription:Me.groupDescription||Me.GroupDescription||""}));E(be)}}catch(ye){const be=ye.response?.data?.message||ye.message||"Failed to load TKS Group";re(be),console.error("Error fetching TKSGroup:",ye)}finally{}},D=ye=>{h(be=>be.includes(ye)?be.filter(Me=>Me!==ye):[...be,ye])},_=()=>{x.length===k.length?h([]):h(k.map(ye=>ye.id))},xe=ye=>ye.includes("OvertimeApplication")?"OvertimeApplication":ye[0],ge=ye=>{const be=ye.target.files?.[0]??null;if(!be)return;L(be),N(be.name);const Me=new FileReader;Me.onload=Re=>{const st=Re.target?.result;if(!st)return;const He=I0(st,{type:"array",cellDates:!0}),Ue=He.SheetNames,Ye=xe(Ue),ht=He.Sheets[Ye],ut=Ln.sheet_to_json(ht,{defval:""});s(He),r(He.SheetNames),l(Ye),d(ut),console.log("Sheets:",He.SheetNames),console.log(ut)},Me.readAsArrayBuffer(be)},Ne=ye=>{const be=ye.target.value;if(l(be),!t)return;const Me=t.Sheets[be],Re=Ln.sheet_to_json(Me,{defval:""});d(Re)};o.useEffect(()=>{console.log("sheetData updated:",i)},[i]);const Ce=(ye,be)=>{const Me=Ln.json_to_sheet(ye),Re=Ln.book_new();Ln.book_append_sheet(Re,Me,be);const st=hf(Re,{bookType:"xlsx",type:"array"});return new File([st],`${be}.xlsx`,{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})};o.useEffect(()=>{if(!i.length||!n)return;const ye=Ce(i,n);L(ye)},[i,n]);const fe=(ye,be)=>{const Me=window.URL.createObjectURL(ye),Re=document.createElement("a");Re.href=Me,Re.download=be,document.body.appendChild(Re),Re.click(),document.body.removeChild(Re),window.URL.revokeObjectURL(Me)},ue=async()=>{b(!0);try{const ye=await ne.get("downloads/DownloadTemplate?filename=ImportOTApp_Template.xlsx",{responseType:"blob"}),be=ye.headers["content-type"],Me=new Blob([ye.data],{type:be});fe(Me,"ImportOTApp_Template.xlsx")}finally{}},Oe=async()=>{if(!M){re("Please select a file to import."),ee.fire({icon:"error",title:"Error",text:"Please select a file to import."});return}if(x.length===0){ee.fire({icon:"error",title:"Error",text:"Please select group."});return}if(!y||!j){ee.fire({icon:"error",title:"Error",text:"Please select date."});return}b(!0);const ye=new FormData;ye.append("dateFrom",y),ye.append("dateTo",j),ye.append("isDeleteExistingRecord",String(S)),ye.append("file",M,f);try{const be=await ne.post("/Utilities/Import/ImportOvertimeApplication",ye);R(be.data.resultData),be.data.errors.length>0&&(console.log(be.data.errors),R([]),ee.fire({icon:"error",title:"Error",text:be.data.resultData?.[0]?.message??be.data.errors}),B(be.data.errors))}finally{b(!1),v(!0)}};function De(ye){if(!ye)return null;const be=new Date(ye);return be.setDate(be.getDate()+1),be.toISOString()}const Ae=async()=>{const ye={dateFrom:De(y),dateTo:De(j),isDeleteExistingRecord:S,imports:G.filter(be=>!be.message)};console.log(ye,y,j),console.log(M);try{const be=await ne.post("/Utilities/Import/UpdateImportOvertimeApplication",ye);R(be.data.resultData),be.data.errors.length>0&&(R([]),ee.fire({icon:"error",title:"Error",text:be.data.resultData?.[0]?.message??be.data.errors}),B(be.data.errors))}finally{b(!1)}},Ee=Math.ceil(G.length/Y),ze=(pe-1)*Y,ot=ze+Y,wt=G.slice(ze,ze+Y),Ie=()=>{const ye=[];if(Ee<=7)for(let be=1;be<=Ee;be++)ye.push(be);else if(pe<=4){for(let be=1;be<=5;be++)ye.push(be);ye.push("..."),ye.push(Ee)}else if(pe>=Ee-3){ye.push(1),ye.push("...");for(let be=Ee-4;be<=Ee;be++)ye.push(be)}else{ye.push(1),ye.push("...");for(let be=pe-1;be<=pe+1;be++)ye.push(be);ye.push("..."),ye.push(Ee)}return ye};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:[e.jsx("h1",{className:"text-white",children:"Import Overtime Application"}),e.jsx("p",{className:"text-white opacity-90 text-sm mt-1",children:"Import and manage overtime applications for employees"})]}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-blue-100 border-l-4 border-blue-500 rounded-lg p-5",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx(ur,{className:"w-5 h-5 text-white"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Import overtime application records from Excel or CSV files. Select the TKS groups and date range to process overtime applications."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Import from Excel/CSV files"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Filter by date range"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Select TKS groups"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Download template format"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-6",children:[e.jsx(Vl,{selectedCodes:x,onToggle:D,onSelectAll:_}),e.jsxs("div",{className:"lg:col-span-3 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Import Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Excel File"}),e.jsxs("div",{className:"bg-teal-50 border-2 border-teal-200 rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[M&&e.jsx("div",{className:"w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:f}),M&&e.jsx("div",{className:"text-xs text-teal-600",children:"File loaded successfully"})]})]}),e.jsx("input",{type:"file",ref:O,onChange:ge,accept:".xlsx,.xls",className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",className:"px-4 py-2 bg-teal-500 text-white rounded-lg cursor-pointer hover:bg-teal-600 transition-colors text-sm",children:"Choose File"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Worksheet:"}),e.jsx("select",{value:n,onChange:Ne,className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:a.map(ye=>e.jsx("option",{value:ye,children:ye},ye))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(qr,{date:y,onChange:g,label:"Date From"}),e.jsx(qr,{date:j,onChange:C,label:"Date To"})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-300 rounded-lg p-4",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",id:"delete-existing",checked:S,onChange:ye=>P(ye.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:"Delete Existing Overtime Application"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Remove all existing overtime records before importing new data"})]})]})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(on,{className:"w-4 h-4 text-blue-600 mt-0.5",onClick:ue}),e.jsx("a",{href:"#",className:"text-sm text-blue-600 hover:text-blue-700",onClick:ue,children:"Download Template"})]})}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsxs("button",{className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",onClick:Oe,children:[e.jsx(ur,{className:"w-4 h-4",onClick:Oe}),"Import Data"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",onClick:Ae,children:[e.jsx(gl,{className:"w-4 h-4",onClick:Ae}),"Update Data"]})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"px-5 py-3 bg-white border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-gray-900",children:"Import Preview"}),p&&e.jsx("span",{className:"px-3 py-1 bg-teal-100 text-teal-700 rounded-full text-xs",children:"File loaded"})]}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpCode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpName"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateFrom"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateTo"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"NumOTHoursApproved"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"TKSGroup"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Reason"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Remarks"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"OTTimeBeforeShift"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"BreakNumOTHoursApproved"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"StartTimeOfOvertime"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"IsLateFiling"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"ActualDateInOTBeforeShift"})]})}),e.jsx("tbody",{children:Array.isArray(wt)&&wt.map((ye,be)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:ye.empCode}),e.jsx("td",{className:"px-4 py-2",children:ye.empName}),e.jsx("td",{className:"px-4 py-2",children:ye.dateFrom?new Date(ye.dateFrom).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:ye.dateTo?new Date(ye.dateTo).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:ye.numOTHoursApproved}),e.jsx("td",{className:"px-4 py-2",children:x}),e.jsx("td",{className:"px-4 py-2",children:ye.reason}),e.jsx("td",{className:"px-4 py-2",children:ye.remarks}),e.jsx("td",{className:"px-4 py-2",children:ye.appliedBeforeShiftDate?new Date(ye.appliedBeforeShiftDate).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:ye.approvedOTBreaksHrs}),e.jsx("td",{className:"px-4 py-2",children:ye.earlyOTStartTime?new Date(ye.earlyOTStartTime).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:ye.isLateFiling}),e.jsx("td",{className:"px-4 py-2",children:ye.appliedBeforeShiftDate?new Date(ye.appliedBeforeShiftDate).toLocaleDateString():"-"})]},be))})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center text-xs text-gray-500 justify-between",children:[!p&&e.jsxs("span",{children:["Showing ",Math.min(ot,G.length)," of ",G.length," entries"]}),p&&e.jsxs("span",{children:["Showing ",ze+1," to ",Math.min(ot,G.length)," of ",G.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>U(ye=>Math.max(1,ye-1)),disabled:pe===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Ie().map((ye,be)=>typeof ye=="number"?e.jsx("button",{onClick:()=>U(ye),className:`px-2 py-1 rounded text-xs ${pe===ye?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ye},be):e.jsx("span",{className:"px-2",children:ye},be)),e.jsx("button",{onClick:()=>U(ye=>Math.min(Ee,ye+1)),disabled:pe===Ee,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})}),e.jsx(Zt,{})]})}function m2(){const[t,s]=o.useState(null),[a,r]=o.useState([]),[n,l]=o.useState(""),[i,d]=o.useState([]),[x,h]=o.useState([]),[m,b]=o.useState(!1),[f,N]=o.useState(""),[p,v]=o.useState(!1),[y,g]=o.useState(""),[j,C]=o.useState(""),[S,P]=o.useState(!1),[k,E]=o.useState(!1),[M,L]=o.useState([]),[O,q]=o.useState(null),B=o.useRef(null),[se,le]=o.useState([]),[pe,U]=o.useState(!1),[Y,W]=o.useState(1),re=10,[G,R]=o.useState(null),[F,A]=o.useState([]),[H,D]=o.useState({dateFrom:"",dateTo:"",isDeleteExistingRecord:!1,imports:[]});o.useEffect(()=>{_()},[]);const _=async()=>{U(!0);try{const Me=await ne.get("/Fs/Process/TimeKeepGroupSetUp");if(Me.data){const Re=Me.data.map(st=>({id:st.id||st.ID||"",groupCode:st.groupCode||st.GroupCode||"",groupDescription:st.groupDescription||st.GroupDescription||""}));L(Re)}}catch(Me){const Re=Me.response?.data?.message||Me.message||"Failed to load TKS Group";R(Re),console.error("Error fetching TKSGroup:",Me)}finally{}},xe=Me=>{h(Re=>Re.includes(Me)?Re.filter(st=>st!==Me):[...Re,Me])},ge=()=>{x.length===M.length?h([]):h(M.map(Me=>Me.id))},Ne=Me=>Me.includes("LeaveApplication")?"LeaveApplication":Me[0],Ce=Me=>{const Re=Me.target.files?.[0]??null;if(!Re)return;q(Re),N(Re.name);const st=new FileReader;st.onload=He=>{const Ue=He.target?.result;if(!Ue)return;const Ye=I0(Ue,{type:"array",cellDates:!0}),ht=Ye.SheetNames,ut=Ne(ht),vt=Ye.Sheets[ut],ve=Ln.sheet_to_json(vt,{defval:""});s(Ye),r(Ye.SheetNames),l(ut),d(ve),console.log("Sheets:",Ye.SheetNames),console.log(ve)},st.readAsArrayBuffer(Re)},fe=Me=>{const Re=Me.target.value;if(l(Re),!t)return;const st=t.Sheets[Re],He=Ln.sheet_to_json(st,{defval:""});d(He)};o.useEffect(()=>{console.log("sheetData updated:",i)},[i]);const ue=(Me,Re)=>{const st=Ln.json_to_sheet(Me),He=Ln.book_new();Ln.book_append_sheet(He,st,Re);const Ue=hf(He,{bookType:"xlsx",type:"array"});return new File([Ue],`${Re}.xlsx`,{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})};o.useEffect(()=>{if(!i.length||!n)return;const Me=ue(i,n);q(Me)},[i,n]);const Oe=(Me,Re)=>{const st=window.URL.createObjectURL(Me),He=document.createElement("a");He.href=st,He.download=Re,document.body.appendChild(He),He.click(),document.body.removeChild(He),window.URL.revokeObjectURL(st)},De=async()=>{b(!0);try{const Me=await ne.get("downloads/DownloadTemplate?filename=ImportLeaveApp_Template.xlsx",{responseType:"blob"}),Re=Me.headers["content-type"],st=new Blob([Me.data],{type:Re});Oe(st,"ImportLeaveApp_Template.xlsx")}finally{}},Ae=async()=>{if(!O){R("Please select a file to import."),ee.fire({icon:"error",title:"Error",text:"Please select a file to import."});return}if(x.length===0){ee.fire({icon:"error",title:"Error",text:"Please select group."});return}if(!y||!j){ee.fire({icon:"error",title:"Error",text:"Please select date."});return}b(!0);const Me=new FormData;Me.append("dateFrom",y),Me.append("dateTo",j),Me.append("isDeleteExistingRecord",String(k)),Me.append("listNotEqual",String(S)),Me.append("file",O,f),console.log(O);try{const Re=await ne.post("/Utilities/Import/ImportLeaveApplication",Me);A(Re.data.resultData),Re.data.errors.length>0?(console.log(Re.data.errors),A([]),ee.fire({icon:"error",title:"Error",text:Re.data.resultData?.[0]?.message??Re.data.errors}),le(Re.data.errors)):ee.fire({icon:"success",title:"Done",text:"Import done.",timer:2e3,showConfirmButton:!1})}finally{b(!1),v(!0)}};function Ee(Me){if(!Me)return null;const Re=new Date(Me);return Re.setDate(Re.getDate()+1),Re.toISOString()}const ze=async()=>{const Me={dateFrom:Ee(y),dateTo:Ee(j),isDeleteExistingRecord:k,imports:F.filter(Re=>!Re.message)};console.log(Me,y,j),console.log(O);try{const Re=await ne.post("/Utilities/Import/UpdateImportLeaveApplication",Me);A(Re.data.resultData),Re.data.errors.length>0?(A([]),ee.fire({icon:"error",title:"Error",text:Re.data.resultData?.[0]?.message??Re.data.errors}),le(Re.data.errors)):ee.fire({icon:"success",title:"Done",text:"Update done.",timer:2e3,showConfirmButton:!1})}finally{b(!1)}},ot=Math.ceil(F.length/re),wt=(Y-1)*re,Ie=wt+re,ye=F.slice(wt,wt+re),be=()=>{const Me=[];if(ot<=7)for(let Re=1;Re<=ot;Re++)Me.push(Re);else if(Y<=4){for(let Re=1;Re<=5;Re++)Me.push(Re);Me.push("..."),Me.push(ot)}else if(Y>=ot-3){Me.push(1),Me.push("...");for(let Re=ot-4;Re<=ot;Re++)Me.push(Re)}else{Me.push(1),Me.push("...");for(let Re=Y-1;Re<=Y+1;Re++)Me.push(Re);Me.push("..."),Me.push(ot)}return Me};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:[e.jsx("h1",{className:"text-white",children:"Import Leave Application"}),e.jsx("p",{className:"text-white opacity-90 text-sm mt-1",children:"Import and manage leave applications for employees"})]}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-blue-100 border-l-4 border-blue-500 rounded-lg p-5",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx(ur,{className:"w-5 h-5 text-white"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Import leave application records from Excel or CSV files. Select the TKS groups and date range to process leave applications."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Import from Excel/CSV files"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Filter by date range"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Select TKS groups"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Download template format"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-6",children:[e.jsx(Vl,{selectedCodes:x,onToggle:xe,onSelectAll:ge}),e.jsxs("div",{className:"lg:col-span-3 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Import Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Excel File"}),e.jsxs("div",{className:"bg-teal-50 border-2 border-teal-200 rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[O&&e.jsx("div",{className:"w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:f}),O&&e.jsx("div",{className:"text-xs text-teal-600",children:"File loaded successfully"})]})]}),e.jsx("input",{type:"file",ref:B,onChange:Ce,accept:".xlsx,.xls",className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",className:"px-4 py-2 bg-teal-500 text-white rounded-lg cursor-pointer hover:bg-teal-600 transition-colors text-sm",children:"Choose File"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Worksheet:"}),e.jsx("select",{value:n,onChange:fe,className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:a.map(Me=>e.jsx("option",{value:Me,children:Me},Me))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(qr,{date:y,onChange:g,label:"Date From"}),e.jsx(qr,{date:j,onChange:C,label:"Date To"})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-300 rounded-lg p-4",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",id:"delete-existing",checked:k,onChange:Me=>E(Me.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:"Delete Existing Leave Applications"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Remove all existing leave applications before importing new data"})]})]})}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-300 rounded-lg p-4",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",id:"list-not-equal",checked:S,onChange:Me=>P(Me.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:"List Not Equal"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Check if Approved Leave Hours is not equal to Standard Hours"})]})]})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(on,{className:"w-4 h-4 text-blue-600 mt-0.5",onClick:De}),e.jsx("a",{href:"#",className:"text-sm text-blue-600 hover:text-blue-700",onClick:De,children:"Download Template"})]})}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsxs("button",{className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",onClick:Ae,children:[e.jsx(ur,{className:"w-4 h-4",onClick:Ae}),"Import Data"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",onClick:ze,children:[e.jsx(gl,{className:"w-4 h-4",onClick:ze}),"Update Data"]})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"px-5 py-3 bg-white border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-gray-900",children:"Import Preview"}),p&&e.jsx("span",{className:"px-3 py-1 bg-teal-100 text-teal-700 rounded-full text-xs",children:"File loaded"})]}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpCode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpName"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateFrom"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateTo"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Num Approved Hrs"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Leave Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Period"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"TKSGroup"})]})}),e.jsx("tbody",{children:Array.isArray(ye)&&ye.map((Me,Re)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:Me.empCode}),e.jsx("td",{className:"px-4 py-2",children:Me.empName}),e.jsx("td",{className:"px-4 py-2",children:Me.dateFrom?new Date(Me.dateFrom).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:Me.dateTo?new Date(Me.dateTo).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:Me.numApprovedHrs}),e.jsx("td",{className:"px-4 py-2",children:Me.leaveCode}),e.jsx("td",{className:"px-4 py-2",children:Me.period}),e.jsx("td",{className:"px-4 py-2",children:x})]},Re))})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center text-xs text-gray-500 justify-between",children:[!p&&e.jsxs("span",{children:["Showing ",Math.min(Ie,F.length)," of ",F.length," entries"]}),p&&e.jsxs("span",{children:["Showing ",wt+1," to ",Math.min(Ie,F.length)," of ",F.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>W(Me=>Math.max(1,Me-1)),disabled:Y===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),be().map((Me,Re)=>typeof Me=="number"?e.jsx("button",{onClick:()=>W(Me),className:`px-2 py-1 rounded text-xs ${Y===Me?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Me},Re):e.jsx("span",{className:"px-2",children:Me},Re)),e.jsx("button",{onClick:()=>W(Me=>Math.min(ot,Me+1)),disabled:Y===ot,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})}),e.jsx(Zt,{})]})}function Wz(){const[t,s]=o.useState(!1),[a,r]=o.useState(null),n=()=>{s(!0)},l=()=>{s(!1)},i=()=>{s(!1)},d=h=>{const m=h.target.files?.[0];m&&r(m)},x=()=>{console.log("Importing file:",a)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:[e.jsx("h1",{className:"text-white",children:"Import Logs from Device v2"}),e.jsx("p",{className:"text-white opacity-90 text-sm mt-1",children:"Import attendance logs from biometric devices"})]}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),e.jsx("button",{onClick:t?l:n,className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 shadow-sm ${t?"bg-green-600 text-white hover:bg-green-700":"bg-gray-600 text-white hover:bg-gray-700"}`,children:t?e.jsxs(e.Fragment,{children:[e.jsx(Aa,{className:"w-4 h-4"}),"Save"]}):e.jsxs(e.Fragment,{children:[e.jsx(cl,{className:"w-4 h-4"}),"Edit"]})}),t&&e.jsxs("button",{onClick:i,className:"px-4 py-2 bg-gray-400 text-white rounded-lg hover:bg-gray-500 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(wb,{className:"w-4 h-4"}),"Cancel"]}),e.jsxs("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(ls,{className:"w-4 h-4"}),"Delete"]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8 mb-6",children:[e.jsx("h3",{className:"text-gray-900 mb-6",children:"Import Settings"}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 mb-2",children:["Select Device ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{disabled:!t,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",children:[e.jsx("option",{children:"All Devices"}),e.jsx("option",{children:"Device 1 - Main Entrance"}),e.jsx("option",{children:"Device 2 - Office Floor"}),e.jsx("option",{children:"Device 3 - Factory"}),e.jsx("option",{children:"Device 4 - Warehouse"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 mb-2",children:["Select Log File ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"file",accept:".txt,.dat,.log",onChange:d,disabled:!t,className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"}),e.jsxs("button",{className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2",disabled:!t,children:[e.jsx(ur,{className:"w-4 h-4"}),"Browse"]})]}),a&&e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Selected: ",a.name]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Date From"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"date",disabled:!t,className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"}),e.jsx(ds,{className:"w-5 h-5 text-gray-400"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Date To"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"date",disabled:!t,className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"}),e.jsx(ds,{className:"w-5 h-5 text-gray-400"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"deleteExisting",disabled:!t,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"deleteExisting",className:"text-gray-700",children:"Delete existing data before import"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"validateData",disabled:!t,defaultChecked:!0,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"validateData",className:"text-gray-700",children:"Validate employee IDs before import"})]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsxs("button",{onClick:x,disabled:!a||!t,className:"px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(fp,{className:"w-4 h-4"}),"Import Logs"]})})]})]}),e.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("span",{className:"font-semibold",children:"Note:"})," Supported file formats: .txt, .dat, .log. The system will automatically detect the device format and parse the logs accordingly."]})})]})]})}),e.jsx(Zt,{})]})}function Gz(){const[t,s]=o.useState([]),[a,r]=o.useState(""),[n,l]=o.useState(null),[i,d]=o.useState([]),[x,h]=o.useState(""),[m,b]=o.useState([]),[f,N]=o.useState([]),[p,v]=o.useState([]),[y,g]=o.useState("10/01/2025"),[j,C]=o.useState("11/16/2025"),[S,P]=o.useState(null),k=o.useRef(null),[E,M]=o.useState(!0),[L,O]=o.useState(!0),[q,B]=o.useState(!0),[se,le]=o.useState(!1),[pe,U]=o.useState(!1),[Y,W]=o.useState(!1),[re,G]=o.useState(""),[R,F]=o.useState([]),[A,H]=o.useState([]),[D,_]=o.useState([]),[xe,ge]=o.useState(""),[Ne,Ce]=o.useState(!1),[fe,ue]=o.useState(null),[Oe,De]=o.useState(""),[Ae,Ee]=o.useState("1"),[ze,ot]=o.useState([]),[wt,Ie]=o.useState(1),ye=10,[be,Me]=o.useState(!1),[Re,st]=o.useState(""),[He,Ue]=o.useState(!1),Ye=A.filter(ie=>ie.empCode?.toLowerCase().includes(Oe.toLowerCase())||ie.lName?.toLowerCase().includes(Oe.toLowerCase())||ie.fName?.toLowerCase().includes(Oe.toLowerCase())||ie.mName?.toLowerCase().includes(Oe.toLowerCase())||ie.suffix?.toLowerCase().includes(Oe.toLowerCase()));o.useEffect(()=>{ht()},[]);const ht=async()=>{U(!0);try{const ie=await ne.get("/Fs/Process/Device/DeviceTypeSetUp");if(ie.data){const ke=ie.data.map(me=>({deviceName:me.deviceName||me.DeviceName||""}));F(ke)}}catch(ie){const ke=ie.response?.data?.message||ie.message||"Failed to Devices";ue(ke),console.error("Error fetching Devices",ie)}finally{}},ut=async()=>{s(p),U(!0);try{const ie=await ne.get(`/Import/LogsFromDevice/GetRawData?rawDateInFrom=${y}&rawDateInTo=${j}&empCode=${p}`);if(ie.data){const ke=ie.data.map(me=>({id:me.id||me.Id||"",empCode:me.empCode||me.EmpCode||"",lName:me.lName||me.LName||"",fName:me.fName||me.FName||"",mName:me.mName||me.MName||"",suffix:me.suffix||me.Suffix||"",rawDateIn:me.rawDateIn||me.RawDateIn||"",workShiftCode:me.workShiftCode||me.WorkShiftCode||"",workShiftDesc:me.workShiftDesc||me.WorkShiftDesc||"",dayType:me.dayType||me.DayType||"",rawTimeIn:me.rawTimeIn||me.RawTimeIn||"",rawBreak1In:me.rawBreak1In||me.RawBreak1In||"",rawBreak1Out:me.rawBreak1Out||me.RawBreak1Out||"",rawBreak2In:me.rawBreak2In||me.RawBreak2In||"",rawBreak2Out:me.rawBreak2Out||me.RawBreak2Out||"",rawBreak3In:me.rawBreak3In||me.RawBreak3In||"",rawBreak3Out:me.rawBreak3Out||me.RawBreak3Out||"",rawTimeOut:me.rawTimeOut||me.RawTimeOut||"",rawDateOut:me.rawDateOut||me.RawDateOut||"",rawOTApproved:me.rawOTApproved||me.RawOTApproved||"",rawRemarks:me.rawRemarks||me.RawRemarks||"",entryFlag:me.entryFlag||me.EntryFlag||"",terminalID:me.terminalID||me.TerminalID||"",dayTypeDOLE:me.dayTypeDOLE||me.DayTypeDOLE||"",aprOTTime:me.aprOTTime||me.AprOTTime||""}));_(ke),console.log(t),console.log(y,j),console.log(D)}}catch(ie){const ke=ie.response?.data?.message||ie.message||"Failed to Load Data";ue(ke),console.error("Error fetching data",ie)}finally{}};o.useEffect(()=>{vt()},[]);const vt=async()=>{U(!0);try{const ie=await ne.get("/Fs/Process/TimeKeepGroupSetUp");if(ie.data){const ke=ie.data.map(me=>({id:me.id||me.ID||"",groupCode:me.groupCode||me.GroupCode||"",groupDescription:me.groupDescription||me.GroupDescription||""}));ot(ke)}}catch(ie){const ke=ie.response?.data?.message||ie.message||"Failed to load TKS Group";ue(ke),console.error("Error fetching TKSGroup:",ie)}finally{}};o.useEffect(()=>{Pt()},[Ae]);const ve=Math.ceil(Ye.length/ye),Le=(wt-1)*ye,he=Le+ye,Ve=Ye.slice(Le,he),xt=()=>{const ie=[];if(ve<=7)for(let ke=1;ke<=ve;ke++)ie.push(ke);else if(wt<=4){for(let ke=1;ke<=5;ke++)ie.push(ke);ie.push("..."),ie.push(ve)}else if(wt>=ve-3){ie.push(1),ie.push("...");for(let ke=ve-4;ke<=ve;ke++)ie.push(ke)}else{ie.push(1),ie.push("...");for(let ke=wt-1;ke<=wt+1;ke++)ie.push(ke);ie.push("..."),ie.push(ve)}return ie},Pt=async()=>{U(!0);try{const ie=await ne.get(`/EmployeeMasterFile/GetActive?active=${Ae}`);if(ie.data){const ke=ie.data.map(me=>({empID:me.empID||me.EmpID||"",empCode:me.empCode||me.EmpCode||"",lName:me.lName||me.LName||"",fName:me.fName||me.fName||"",mName:me.mName||me.mName||"",suffix:me.suffix||me.suffix||""}));H(ke)}}catch(ie){const ke=ie.response?.data?.message||ie.message||"Failed to Devices";ue(ke),console.error("Error fetching Devices",ie)}finally{}};o.useEffect(()=>{const ie=ke=>{ke.key==="Escape"&&be&&Me(!1)};return be&&document.addEventListener("keydown",ie),()=>{document.removeEventListener("keydown",ie)}},[be]);const Lt=ie=>{N(ke=>ke.includes(ie)?ke.filter(me=>me!==ie):[...ke,ie])},It=ie=>{v(ke=>ke.includes(ie)?ke.filter(me=>me!==ie):[...ke,ie])},qe=()=>{f.length===uc.length?N([]):N(uc.map(ie=>ie.id))},Nt=()=>{p.length===A.length?v([]):v(A.map(ie=>ie.empCode))},gt=ie=>ie.includes("EXCELDTR")?"EXCELDTR":ie[0],dt=ie=>{const ke=ie.target.files?.[0]??null;if(!ke)return;P(ke),ge(ke.name);const me=new FileReader;me.onload=Ze=>{const it=Ze.target?.result;if(!it)return;const _t=I0(it,{type:"array",cellDates:!0}),nt=_t.SheetNames,mt=gt(nt),ae=_t.Sheets[mt],ce=Ln.sheet_to_json(ae,{defval:""});l(_t),d(_t.SheetNames),h(mt),b(ce),console.log("Sheets:",_t.SheetNames),console.log(ce)},me.readAsArrayBuffer(ke)},kt=ie=>{const ke=ie.target.value;if(h(ke),!n)return;const me=n.Sheets[ke],Ze=Ln.sheet_to_json(me,{defval:""});b(Ze)};o.useEffect(()=>{console.log("sheetData updated:",m)},[m]);const Dt=(ie,ke)=>{const me=Ln.json_to_sheet(ie),Ze=Ln.book_new();Ln.book_append_sheet(Ze,me,ke);const it=hf(Ze,{bookType:"xlsx",type:"array"});return new File([it],`${ke}.xlsx`,{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})};o.useEffect(()=>{if(!m.length||!x)return;const ie=Dt(m,x);P(ie)},[m,x]);const Ge=(ie,ke)=>{const me=window.URL.createObjectURL(ie),Ze=document.createElement("a");Ze.href=me,Ze.download=ke,document.body.appendChild(Ze),Ze.click(),document.body.removeChild(Ze),window.URL.revokeObjectURL(me)},Ke=async()=>{Ue(!0);try{const ie=await ne.get("downloads/DownloadTemplate?filename=DTR_Excel_Format.xls",{responseType:"blob"}),ke=ie.headers["content-type"],me=new Blob([ie.data],{type:ke});Ge(me,"DTR_Excel_Format.xls")}finally{}};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Import Logs From Device"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Import employee attendance logs directly from biometric devices. Upload device log files to batch process time-in and time-out records for multiple employees."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Import device logs by date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Consolidate daily time records automatically"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"View and validate logs before processing"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by device and employee status"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-6",children:[e.jsx(Vl,{selectedCodes:f,onToggle:Lt,onSelectAll:qe}),e.jsxs("div",{className:"lg:col-span-3 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Import Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(qr,{date:y,onChange:g,label:"From:"}),e.jsx(qr,{date:j,onChange:C,label:"To:"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Device:"}),e.jsxs("select",{value:re,onChange:ie=>G(ie.target.value),className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{}),R.map(ie=>e.jsx("option",{value:ie.deviceName,children:ie.deviceName},ie.deviceName))]})]}),e.jsx("div",{className:"grid grid-cols-2 space-y-2",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:E,onChange:ie=>M(ie.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Enable Device Code"})]})}),re==="Excel Format"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Worksheet:"}),e.jsx("select",{value:x,onChange:kt,className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:i.map(ie=>e.jsx("option",{value:ie,children:ie},ie))})]}),re==="Excel Format"&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(on,{className:"w-4 h-4 text-blue-600 mt-0.5",onClick:Ke}),e.jsx("a",{href:"#",className:"text-sm text-blue-600 hover:text-blue-700",onClick:Ke,children:"Download Template"})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"File Name:"}),e.jsxs("div",{className:"bg-teal-50 border-2 border-teal-200 rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[S&&e.jsx("div",{className:"w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:xe}),S&&e.jsx("div",{className:"text-xs text-teal-600",children:"File loaded successfully"})]})]}),e.jsx("input",{type:"file",ref:k,onChange:dt,accept:".xlsx,.xls",className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",className:"px-4 py-2 bg-teal-500 text-white rounded-lg cursor-pointer hover:bg-teal-600 transition-colors text-sm",children:"Choose File"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:q,onChange:ie=>B(ie.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Consolidate DTR"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:L,onChange:ie=>O(ie.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Do Not Include Resigned Employees"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:se,onChange:ie=>le(ie.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Upload logs from Online System only"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:Y,onChange:ie=>W(ie.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Delete Existing Logs of the Device"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsxs("button",{className:"px-6 py-2.5 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center gap-2",children:[e.jsx(ur,{className:"w-4 h-4"}),"Import"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center gap-2",onClick:ut,children:[e.jsx(KF,{className:"w-4 h-4"}),"View Logs"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx(Be,{className:"w-4 h-4"}),"Validate"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-orange-600 text-white rounded hover:bg-orange-700 transition-colors flex items-center gap-2",children:[e.jsx(gl,{className:"w-4 h-4"}),"Update"]})]})]})]})]}),e.jsxs("div",{className:"mb-6 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Employee Selection"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Search:"}),e.jsx("input",{type:"text",placeholder:"Search employees...",value:Oe,onChange:ie=>De(ie.target.value),className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:p.length===A.length,onChange:Nt})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Ve.map(ie=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:p.includes(ie.empCode),onChange:()=>It(ie.empCode),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ie.empCode}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ie.lName+", "+ie.fName+" "+ie.mName+" "+ie.suffix})]},ie.empID))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[!A&&e.jsxs("span",{children:["Showing ",Math.min(he,Ye.length)," of ",Ye.length," entries"]}),A&&e.jsxs("span",{children:["Showing ",Le+1," to ",Math.min(he,Ye.length)," of ",Ye.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>Ie(ie=>Math.max(1,ie-1)),disabled:wt===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),xt().map((ie,ke)=>typeof ie=="number"?e.jsx("button",{onClick:()=>Ie(ie),className:`px-2 py-1 rounded text-xs ${wt===ie?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ie},ke):e.jsx("span",{className:"px-2",children:ie},ke)),e.jsx("button",{onClick:()=>Ie(ie=>Math.min(ve,ie+1)),disabled:wt===ve,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"status",value:"1",checked:Ae==="1",onChange:ie=>Ee(ie.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"status",value:"0",checked:Ae==="0",onChange:ie=>Ee(ie.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"status",value:"",checked:Ae==="",onChange:ie=>Ee(ie.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-5 py-3 bg-white border-b border-gray-200",children:e.jsx("h3",{className:"text-gray-900",children:"Import Preview"})}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Employee Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Date In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Actual Date/Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Date Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Flag"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break1Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break1In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break2Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break3Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break3In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Workshift"})]})}),e.jsx("tbody",{children:Array.isArray(D)&&D.map((ie,ke)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:ie.empCode}),e.jsxs("td",{className:"px-4 py-2",children:[ie.lName,", ",ie.fName," ",ie.mName," ",ie.suffix]}),e.jsx("td",{className:"px-4 py-2",children:ie.rawDateIn?new Date(ie.rawDateIn).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:ie.rawTimeIn?new Date(ie.rawTimeIn).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:ie.entryFlag})]},ke))})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Showing 0 entries"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:"Previous"}),e.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:"Next"})]})]})]})]})]})}),e.jsx(Zt,{})]})}function C3(t){var s,a,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(s=0;s<n;s++)t[s]&&(a=C3(t[s]))&&(r&&(r+=" "),r+=a)}else for(a in t)t[a]&&(r&&(r+=" "),r+=a);return r}function S3(){for(var t,s,a=0,r="",n=arguments.length;a<n;a++)(t=arguments[a])&&(s=C3(t))&&(r&&(r+=" "),r+=s);return r}const $z=(t,s)=>{const a=new Array(t.length+s.length);for(let r=0;r<t.length;r++)a[r]=t[r];for(let r=0;r<s.length;r++)a[t.length+r]=s[r];return a},zz=(t,s)=>({classGroupId:t,validator:s}),k3=(t=new Map,s=null,a)=>({nextPart:t,validators:s,classGroupId:a}),Op="-",p2=[],Vz="arbitrary..",Yz=t=>{const s=qz(t),{conflictingClassGroups:a,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:i=>{if(i.startsWith("[")&&i.endsWith("]"))return Kz(i);const d=i.split(Op),x=d[0]===""&&d.length>1?1:0;return D3(d,x,s)},getConflictingClassGroupIds:(i,d)=>{if(d){const x=r[i],h=a[i];return x?h?$z(h,x):x:h||p2}return a[i]||p2}}},D3=(t,s,a)=>{if(t.length-s===0)return a.classGroupId;const n=t[s],l=a.nextPart.get(n);if(l){const h=D3(t,s+1,l);if(h)return h}const i=a.validators;if(i===null)return;const d=s===0?t.join(Op):t.slice(s).join(Op),x=i.length;for(let h=0;h<x;h++){const m=i[h];if(m.validator(d))return m.classGroupId}},Kz=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const s=t.slice(1,-1),a=s.indexOf(":"),r=s.slice(0,a);return r?Vz+r:void 0})(),qz=t=>{const{theme:s,classGroups:a}=t;return Xz(a,s)},Xz=(t,s)=>{const a=k3();for(const r in t){const n=t[r];Sv(n,a,r,s)}return a},Sv=(t,s,a,r)=>{const n=t.length;for(let l=0;l<n;l++){const i=t[l];Jz(i,s,a,r)}},Jz=(t,s,a,r)=>{if(typeof t=="string"){Qz(t,s,a);return}if(typeof t=="function"){Zz(t,s,a,r);return}eV(t,s,a,r)},Qz=(t,s,a)=>{const r=t===""?s:E3(s,t);r.classGroupId=a},Zz=(t,s,a,r)=>{if(tV(t)){Sv(t(r),s,a,r);return}s.validators===null&&(s.validators=[]),s.validators.push(zz(a,t))},eV=(t,s,a,r)=>{const n=Object.entries(t),l=n.length;for(let i=0;i<l;i++){const[d,x]=n[i];Sv(x,E3(s,d),a,r)}},E3=(t,s)=>{let a=t;const r=s.split(Op),n=r.length;for(let l=0;l<n;l++){const i=r[l];let d=a.nextPart.get(i);d||(d=k3(),a.nextPart.set(i,d)),a=d}return a},tV=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,sV=t=>{if(t<1)return{get:()=>{},set:()=>{}};let s=0,a=Object.create(null),r=Object.create(null);const n=(l,i)=>{a[l]=i,s++,s>t&&(s=0,r=a,a=Object.create(null))};return{get(l){let i=a[l];if(i!==void 0)return i;if((i=r[l])!==void 0)return n(l,i),i},set(l,i){l in a?a[l]=i:n(l,i)}}},zy="!",f2=":",aV=[],g2=(t,s,a,r,n)=>({modifiers:t,hasImportantModifier:s,baseClassName:a,maybePostfixModifierPosition:r,isExternal:n}),rV=t=>{const{prefix:s,experimentalParseClassName:a}=t;let r=n=>{const l=[];let i=0,d=0,x=0,h;const m=n.length;for(let v=0;v<m;v++){const y=n[v];if(i===0&&d===0){if(y===f2){l.push(n.slice(x,v)),x=v+1;continue}if(y==="/"){h=v;continue}}y==="["?i++:y==="]"?i--:y==="("?d++:y===")"&&d--}const b=l.length===0?n:n.slice(x);let f=b,N=!1;b.endsWith(zy)?(f=b.slice(0,-1),N=!0):b.startsWith(zy)&&(f=b.slice(1),N=!0);const p=h&&h>x?h-x:void 0;return g2(l,N,f,p)};if(s){const n=s+f2,l=r;r=i=>i.startsWith(n)?l(i.slice(n.length)):g2(aV,!1,i,void 0,!0)}if(a){const n=r;r=l=>a({className:l,parseClassName:n})}return r},nV=t=>{const s=new Map;return t.orderSensitiveModifiers.forEach((a,r)=>{s.set(a,1e6+r)}),a=>{const r=[];let n=[];for(let l=0;l<a.length;l++){const i=a[l],d=i[0]==="[",x=s.has(i);d||x?(n.length>0&&(n.sort(),r.push(...n),n=[]),r.push(i)):n.push(i)}return n.length>0&&(n.sort(),r.push(...n)),r}},oV=t=>({cache:sV(t.cacheSize),parseClassName:rV(t),sortModifiers:nV(t),...Yz(t)}),lV=/\s+/,iV=(t,s)=>{const{parseClassName:a,getClassGroupId:r,getConflictingClassGroupIds:n,sortModifiers:l}=s,i=[],d=t.trim().split(lV);let x="";for(let h=d.length-1;h>=0;h-=1){const m=d[h],{isExternal:b,modifiers:f,hasImportantModifier:N,baseClassName:p,maybePostfixModifierPosition:v}=a(m);if(b){x=m+(x.length>0?" "+x:x);continue}let y=!!v,g=r(y?p.substring(0,v):p);if(!g){if(!y){x=m+(x.length>0?" "+x:x);continue}if(g=r(p),!g){x=m+(x.length>0?" "+x:x);continue}y=!1}const j=f.length===0?"":f.length===1?f[0]:l(f).join(":"),C=N?j+zy:j,S=C+g;if(i.indexOf(S)>-1)continue;i.push(S);const P=n(g,y);for(let k=0;k<P.length;++k){const E=P[k];i.push(C+E)}x=m+(x.length>0?" "+x:x)}return x},cV=(...t)=>{let s=0,a,r,n="";for(;s<t.length;)(a=t[s++])&&(r=T3(a))&&(n&&(n+=" "),n+=r);return n},T3=t=>{if(typeof t=="string")return t;let s,a="";for(let r=0;r<t.length;r++)t[r]&&(s=T3(t[r]))&&(a&&(a+=" "),a+=s);return a},dV=(t,...s)=>{let a,r,n,l;const i=x=>{const h=s.reduce((m,b)=>b(m),t());return a=oV(h),r=a.cache.get,n=a.cache.set,l=d,d(x)},d=x=>{const h=r(x);if(h)return h;const m=iV(x,a);return n(x,m),m};return l=i,(...x)=>l(cV(...x))},uV=[],Fr=t=>{const s=a=>a[t]||uV;return s.isThemeGetter=!0,s},A3=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,F3=/^\((?:(\w[\w-]*):)?(.+)\)$/i,xV=/^\d+\/\d+$/,hV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,pV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,fV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,gV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,x0=t=>xV.test(t),Gs=t=>!!t&&!Number.isNaN(Number(t)),Qi=t=>!!t&&Number.isInteger(Number(t)),cy=t=>t.endsWith("%")&&Gs(t.slice(0,-1)),ui=t=>hV.test(t),yV=()=>!0,bV=t=>mV.test(t)&&!pV.test(t),P3=()=>!1,vV=t=>fV.test(t),wV=t=>gV.test(t),NV=t=>!ys(t)&&!bs(t),jV=t=>q0(t,L3,P3),ys=t=>A3.test(t),Yc=t=>q0(t,O3,bV),dy=t=>q0(t,EV,Gs),y2=t=>q0(t,M3,P3),CV=t=>q0(t,I3,wV),am=t=>q0(t,_3,vV),bs=t=>F3.test(t),Fu=t=>X0(t,O3),SV=t=>X0(t,TV),b2=t=>X0(t,M3),kV=t=>X0(t,L3),DV=t=>X0(t,I3),rm=t=>X0(t,_3,!0),q0=(t,s,a)=>{const r=A3.exec(t);return r?r[1]?s(r[1]):a(r[2]):!1},X0=(t,s,a=!1)=>{const r=F3.exec(t);return r?r[1]?s(r[1]):a:!1},M3=t=>t==="position"||t==="percentage",I3=t=>t==="image"||t==="url",L3=t=>t==="length"||t==="size"||t==="bg-size",O3=t=>t==="length",EV=t=>t==="number",TV=t=>t==="family-name",_3=t=>t==="shadow",AV=()=>{const t=Fr("color"),s=Fr("font"),a=Fr("text"),r=Fr("font-weight"),n=Fr("tracking"),l=Fr("leading"),i=Fr("breakpoint"),d=Fr("container"),x=Fr("spacing"),h=Fr("radius"),m=Fr("shadow"),b=Fr("inset-shadow"),f=Fr("text-shadow"),N=Fr("drop-shadow"),p=Fr("blur"),v=Fr("perspective"),y=Fr("aspect"),g=Fr("ease"),j=Fr("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],S=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...S(),bs,ys],k=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto","contain","none"],M=()=>[bs,ys,x],L=()=>[x0,"full","auto",...M()],O=()=>[Qi,"none","subgrid",bs,ys],q=()=>["auto",{span:["full",Qi,bs,ys]},Qi,bs,ys],B=()=>[Qi,"auto",bs,ys],se=()=>["auto","min","max","fr",bs,ys],le=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],pe=()=>["start","end","center","stretch","center-safe","end-safe"],U=()=>["auto",...M()],Y=()=>[x0,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...M()],W=()=>[t,bs,ys],re=()=>[...S(),b2,y2,{position:[bs,ys]}],G=()=>["no-repeat",{repeat:["","x","y","space","round"]}],R=()=>["auto","cover","contain",kV,jV,{size:[bs,ys]}],F=()=>[cy,Fu,Yc],A=()=>["","none","full",h,bs,ys],H=()=>["",Gs,Fu,Yc],D=()=>["solid","dashed","dotted","double"],_=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],xe=()=>[Gs,cy,b2,y2],ge=()=>["","none",p,bs,ys],Ne=()=>["none",Gs,bs,ys],Ce=()=>["none",Gs,bs,ys],fe=()=>[Gs,bs,ys],ue=()=>[x0,"full",...M()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ui],breakpoint:[ui],color:[yV],container:[ui],"drop-shadow":[ui],ease:["in","out","in-out"],font:[NV],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ui],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ui],shadow:[ui],spacing:["px",Gs],text:[ui],"text-shadow":[ui],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",x0,ys,bs,y]}],container:["container"],columns:[{columns:[Gs,ys,bs,d]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:L()}],"inset-x":[{"inset-x":L()}],"inset-y":[{"inset-y":L()}],start:[{start:L()}],end:[{end:L()}],top:[{top:L()}],right:[{right:L()}],bottom:[{bottom:L()}],left:[{left:L()}],visibility:["visible","invisible","collapse"],z:[{z:[Qi,"auto",bs,ys]}],basis:[{basis:[x0,"full","auto",d,...M()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Gs,x0,"auto","initial","none",ys]}],grow:[{grow:["",Gs,bs,ys]}],shrink:[{shrink:["",Gs,bs,ys]}],order:[{order:[Qi,"first","last","none",bs,ys]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:q()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:q()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":se()}],"auto-rows":[{"auto-rows":se()}],gap:[{gap:M()}],"gap-x":[{"gap-x":M()}],"gap-y":[{"gap-y":M()}],"justify-content":[{justify:[...le(),"normal"]}],"justify-items":[{"justify-items":[...pe(),"normal"]}],"justify-self":[{"justify-self":["auto",...pe()]}],"align-content":[{content:["normal",...le()]}],"align-items":[{items:[...pe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...pe(),{baseline:["","last"]}]}],"place-content":[{"place-content":le()}],"place-items":[{"place-items":[...pe(),"baseline"]}],"place-self":[{"place-self":["auto",...pe()]}],p:[{p:M()}],px:[{px:M()}],py:[{py:M()}],ps:[{ps:M()}],pe:[{pe:M()}],pt:[{pt:M()}],pr:[{pr:M()}],pb:[{pb:M()}],pl:[{pl:M()}],m:[{m:U()}],mx:[{mx:U()}],my:[{my:U()}],ms:[{ms:U()}],me:[{me:U()}],mt:[{mt:U()}],mr:[{mr:U()}],mb:[{mb:U()}],ml:[{ml:U()}],"space-x":[{"space-x":M()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":M()}],"space-y-reverse":["space-y-reverse"],size:[{size:Y()}],w:[{w:[d,"screen",...Y()]}],"min-w":[{"min-w":[d,"screen","none",...Y()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[i]},...Y()]}],h:[{h:["screen","lh",...Y()]}],"min-h":[{"min-h":["screen","lh","none",...Y()]}],"max-h":[{"max-h":["screen","lh",...Y()]}],"font-size":[{text:["base",a,Fu,Yc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,bs,dy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",cy,ys]}],"font-family":[{font:[SV,ys,s]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[n,bs,ys]}],"line-clamp":[{"line-clamp":[Gs,"none",bs,dy]}],leading:[{leading:[l,...M()]}],"list-image":[{"list-image":["none",bs,ys]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",bs,ys]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...D(),"wavy"]}],"text-decoration-thickness":[{decoration:[Gs,"from-font","auto",bs,Yc]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[Gs,"auto",bs,ys]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",bs,ys]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",bs,ys]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:re()}],"bg-repeat":[{bg:G()}],"bg-size":[{bg:R()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Qi,bs,ys],radial:["",bs,ys],conic:[Qi,bs,ys]},DV,CV]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:F()}],"gradient-via-pos":[{via:F()}],"gradient-to-pos":[{to:F()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:A()}],"rounded-s":[{"rounded-s":A()}],"rounded-e":[{"rounded-e":A()}],"rounded-t":[{"rounded-t":A()}],"rounded-r":[{"rounded-r":A()}],"rounded-b":[{"rounded-b":A()}],"rounded-l":[{"rounded-l":A()}],"rounded-ss":[{"rounded-ss":A()}],"rounded-se":[{"rounded-se":A()}],"rounded-ee":[{"rounded-ee":A()}],"rounded-es":[{"rounded-es":A()}],"rounded-tl":[{"rounded-tl":A()}],"rounded-tr":[{"rounded-tr":A()}],"rounded-br":[{"rounded-br":A()}],"rounded-bl":[{"rounded-bl":A()}],"border-w":[{border:H()}],"border-w-x":[{"border-x":H()}],"border-w-y":[{"border-y":H()}],"border-w-s":[{"border-s":H()}],"border-w-e":[{"border-e":H()}],"border-w-t":[{"border-t":H()}],"border-w-r":[{"border-r":H()}],"border-w-b":[{"border-b":H()}],"border-w-l":[{"border-l":H()}],"divide-x":[{"divide-x":H()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":H()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...D(),"hidden","none"]}],"divide-style":[{divide:[...D(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...D(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Gs,bs,ys]}],"outline-w":[{outline:["",Gs,Fu,Yc]}],"outline-color":[{outline:W()}],shadow:[{shadow:["","none",m,rm,am]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",b,rm,am]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[Gs,Yc]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":H()}],"inset-ring-color":[{"inset-ring":W()}],"text-shadow":[{"text-shadow":["none",f,rm,am]}],"text-shadow-color":[{"text-shadow":W()}],opacity:[{opacity:[Gs,bs,ys]}],"mix-blend":[{"mix-blend":[..._(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":_()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Gs]}],"mask-image-linear-from-pos":[{"mask-linear-from":xe()}],"mask-image-linear-to-pos":[{"mask-linear-to":xe()}],"mask-image-linear-from-color":[{"mask-linear-from":W()}],"mask-image-linear-to-color":[{"mask-linear-to":W()}],"mask-image-t-from-pos":[{"mask-t-from":xe()}],"mask-image-t-to-pos":[{"mask-t-to":xe()}],"mask-image-t-from-color":[{"mask-t-from":W()}],"mask-image-t-to-color":[{"mask-t-to":W()}],"mask-image-r-from-pos":[{"mask-r-from":xe()}],"mask-image-r-to-pos":[{"mask-r-to":xe()}],"mask-image-r-from-color":[{"mask-r-from":W()}],"mask-image-r-to-color":[{"mask-r-to":W()}],"mask-image-b-from-pos":[{"mask-b-from":xe()}],"mask-image-b-to-pos":[{"mask-b-to":xe()}],"mask-image-b-from-color":[{"mask-b-from":W()}],"mask-image-b-to-color":[{"mask-b-to":W()}],"mask-image-l-from-pos":[{"mask-l-from":xe()}],"mask-image-l-to-pos":[{"mask-l-to":xe()}],"mask-image-l-from-color":[{"mask-l-from":W()}],"mask-image-l-to-color":[{"mask-l-to":W()}],"mask-image-x-from-pos":[{"mask-x-from":xe()}],"mask-image-x-to-pos":[{"mask-x-to":xe()}],"mask-image-x-from-color":[{"mask-x-from":W()}],"mask-image-x-to-color":[{"mask-x-to":W()}],"mask-image-y-from-pos":[{"mask-y-from":xe()}],"mask-image-y-to-pos":[{"mask-y-to":xe()}],"mask-image-y-from-color":[{"mask-y-from":W()}],"mask-image-y-to-color":[{"mask-y-to":W()}],"mask-image-radial":[{"mask-radial":[bs,ys]}],"mask-image-radial-from-pos":[{"mask-radial-from":xe()}],"mask-image-radial-to-pos":[{"mask-radial-to":xe()}],"mask-image-radial-from-color":[{"mask-radial-from":W()}],"mask-image-radial-to-color":[{"mask-radial-to":W()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":S()}],"mask-image-conic-pos":[{"mask-conic":[Gs]}],"mask-image-conic-from-pos":[{"mask-conic-from":xe()}],"mask-image-conic-to-pos":[{"mask-conic-to":xe()}],"mask-image-conic-from-color":[{"mask-conic-from":W()}],"mask-image-conic-to-color":[{"mask-conic-to":W()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:re()}],"mask-repeat":[{mask:G()}],"mask-size":[{mask:R()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",bs,ys]}],filter:[{filter:["","none",bs,ys]}],blur:[{blur:ge()}],brightness:[{brightness:[Gs,bs,ys]}],contrast:[{contrast:[Gs,bs,ys]}],"drop-shadow":[{"drop-shadow":["","none",N,rm,am]}],"drop-shadow-color":[{"drop-shadow":W()}],grayscale:[{grayscale:["",Gs,bs,ys]}],"hue-rotate":[{"hue-rotate":[Gs,bs,ys]}],invert:[{invert:["",Gs,bs,ys]}],saturate:[{saturate:[Gs,bs,ys]}],sepia:[{sepia:["",Gs,bs,ys]}],"backdrop-filter":[{"backdrop-filter":["","none",bs,ys]}],"backdrop-blur":[{"backdrop-blur":ge()}],"backdrop-brightness":[{"backdrop-brightness":[Gs,bs,ys]}],"backdrop-contrast":[{"backdrop-contrast":[Gs,bs,ys]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Gs,bs,ys]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Gs,bs,ys]}],"backdrop-invert":[{"backdrop-invert":["",Gs,bs,ys]}],"backdrop-opacity":[{"backdrop-opacity":[Gs,bs,ys]}],"backdrop-saturate":[{"backdrop-saturate":[Gs,bs,ys]}],"backdrop-sepia":[{"backdrop-sepia":["",Gs,bs,ys]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":M()}],"border-spacing-x":[{"border-spacing-x":M()}],"border-spacing-y":[{"border-spacing-y":M()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",bs,ys]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Gs,"initial",bs,ys]}],ease:[{ease:["linear","initial",g,bs,ys]}],delay:[{delay:[Gs,bs,ys]}],animate:[{animate:["none",j,bs,ys]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,bs,ys]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:Ne()}],"rotate-x":[{"rotate-x":Ne()}],"rotate-y":[{"rotate-y":Ne()}],"rotate-z":[{"rotate-z":Ne()}],scale:[{scale:Ce()}],"scale-x":[{"scale-x":Ce()}],"scale-y":[{"scale-y":Ce()}],"scale-z":[{"scale-z":Ce()}],"scale-3d":["scale-3d"],skew:[{skew:fe()}],"skew-x":[{"skew-x":fe()}],"skew-y":[{"skew-y":fe()}],transform:[{transform:[bs,ys,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ue()}],"translate-x":[{"translate-x":ue()}],"translate-y":[{"translate-y":ue()}],"translate-z":[{"translate-z":ue()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",bs,ys]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",bs,ys]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[Gs,Fu,Yc,dy]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},FV=dV(AV);function Xc(...t){return FV(S3(t))}function Vy({...t}){return e.jsx(Cx,{"data-slot":"popover",...t})}function Yy({...t}){return e.jsx(Sx,{"data-slot":"popover-trigger",...t})}function Ky({className:t,align:s="center",sideOffset:a=4,...r}){return e.jsx(kx,{children:e.jsx(Dx,{"data-slot":"popover-content",align:s,sideOffset:a,className:Xc("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...r})})}function oa(t){const s=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&s==="[object Date]"?new t.constructor(+t):typeof t=="number"||s==="[object Number]"||typeof t=="string"||s==="[object String]"?new Date(t):new Date(NaN)}function bo(t,s){return t instanceof Date?new t.constructor(s):new Date(s)}function In(t,s){const a=oa(t);return isNaN(s)?bo(t,NaN):(s&&a.setDate(a.getDate()+s),a)}function ml(t,s){const a=oa(t);if(isNaN(s))return bo(t,NaN);if(!s)return a;const r=a.getDate(),n=bo(t,a.getTime());n.setMonth(a.getMonth()+s+1,0);const l=n.getDate();return r>=l?n:(a.setFullYear(n.getFullYear(),n.getMonth(),r),a)}const kv=6048e5,PV=864e5;let MV={};function Ox(){return MV}function $l(t,s){const a=Ox(),r=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,n=oa(t),l=n.getDay(),i=(l<r?7:0)+l-r;return n.setDate(n.getDate()-i),n.setHours(0,0,0,0),n}function fd(t){return $l(t,{weekStartsOn:1})}function B3(t){const s=oa(t),a=s.getFullYear(),r=bo(t,0);r.setFullYear(a+1,0,4),r.setHours(0,0,0,0);const n=fd(r),l=bo(t,0);l.setFullYear(a,0,4),l.setHours(0,0,0,0);const i=fd(l);return s.getTime()>=n.getTime()?a+1:s.getTime()>=i.getTime()?a:a-1}function L0(t){const s=oa(t);return s.setHours(0,0,0,0),s}function _p(t){const s=oa(t),a=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return a.setUTCFullYear(s.getFullYear()),+t-+a}function Ul(t,s){const a=L0(t),r=L0(s),n=+a-_p(a),l=+r-_p(r);return Math.round((n-l)/PV)}function IV(t){const s=B3(t),a=bo(t,0);return a.setFullYear(s,0,4),a.setHours(0,0,0,0),fd(a)}function qy(t,s){const a=s*7;return In(t,a)}function LV(t,s){return ml(t,s*12)}function OV(t){let s;return t.forEach(function(a){const r=oa(a);(s===void 0||s<r||isNaN(Number(r)))&&(s=r)}),s||new Date(NaN)}function _V(t){let s;return t.forEach(a=>{const r=oa(a);(!s||s>r||isNaN(+r))&&(s=r)}),s||new Date(NaN)}function qn(t,s){const a=L0(t),r=L0(s);return+a==+r}function Dv(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function BV(t){if(!Dv(t)&&typeof t!="number")return!1;const s=oa(t);return!isNaN(Number(s))}function cx(t,s){const a=oa(t),r=oa(s),n=a.getFullYear()-r.getFullYear(),l=a.getMonth()-r.getMonth();return n*12+l}function RV(t,s,a){const r=$l(t,a),n=$l(s,a),l=+r-_p(r),i=+n-_p(n);return Math.round((l-i)/kv)}function Ev(t){const s=oa(t),a=s.getMonth();return s.setFullYear(s.getFullYear(),a+1,0),s.setHours(23,59,59,999),s}function eo(t){const s=oa(t);return s.setDate(1),s.setHours(0,0,0,0),s}function R3(t){const s=oa(t),a=bo(t,0);return a.setFullYear(s.getFullYear(),0,1),a.setHours(0,0,0,0),a}function Tv(t,s){const a=Ox(),r=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,n=oa(t),l=n.getDay(),i=(l<r?-7:0)+6-(l-r);return n.setDate(n.getDate()+i),n.setHours(23,59,59,999),n}function U3(t){return Tv(t,{weekStartsOn:1})}const UV={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},HV=(t,s,a)=>{let r;const n=UV[t];return typeof n=="string"?r=n:s===1?r=n.one:r=n.other.replace("{{count}}",s.toString()),a?.addSuffix?a.comparison&&a.comparison>0?"in "+r:r+" ago":r};function uy(t){return(s={})=>{const a=s.width?String(s.width):t.defaultWidth;return t.formats[a]||t.formats[t.defaultWidth]}}const WV={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},GV={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$V={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zV={date:uy({formats:WV,defaultWidth:"full"}),time:uy({formats:GV,defaultWidth:"full"}),dateTime:uy({formats:$V,defaultWidth:"full"})},VV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},YV=(t,s,a,r)=>VV[t];function Pu(t){return(s,a)=>{const r=a?.context?String(a.context):"standalone";let n;if(r==="formatting"&&t.formattingValues){const i=t.defaultFormattingWidth||t.defaultWidth,d=a?.width?String(a.width):i;n=t.formattingValues[d]||t.formattingValues[i]}else{const i=t.defaultWidth,d=a?.width?String(a.width):t.defaultWidth;n=t.values[d]||t.values[i]}const l=t.argumentCallback?t.argumentCallback(s):s;return n[l]}}const KV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},qV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},XV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},JV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},QV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ZV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},eY=(t,s)=>{const a=Number(t),r=a%100;if(r>20||r<10)switch(r%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},tY={ordinalNumber:eY,era:Pu({values:KV,defaultWidth:"wide"}),quarter:Pu({values:qV,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Pu({values:XV,defaultWidth:"wide"}),day:Pu({values:JV,defaultWidth:"wide"}),dayPeriod:Pu({values:QV,defaultWidth:"wide",formattingValues:ZV,defaultFormattingWidth:"wide"})};function Mu(t){return(s,a={})=>{const r=a.width,n=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],l=s.match(n);if(!l)return null;const i=l[0],d=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],x=Array.isArray(d)?aY(d,b=>b.test(i)):sY(d,b=>b.test(i));let h;h=t.valueCallback?t.valueCallback(x):x,h=a.valueCallback?a.valueCallback(h):h;const m=s.slice(i.length);return{value:h,rest:m}}}function sY(t,s){for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&s(t[a]))return a}function aY(t,s){for(let a=0;a<t.length;a++)if(s(t[a]))return a}function rY(t){return(s,a={})=>{const r=s.match(t.matchPattern);if(!r)return null;const n=r[0],l=s.match(t.parsePattern);if(!l)return null;let i=t.valueCallback?t.valueCallback(l[0]):l[0];i=a.valueCallback?a.valueCallback(i):i;const d=s.slice(n.length);return{value:i,rest:d}}}const nY=/^(\d+)(th|st|nd|rd)?/i,oY=/\d+/i,lY={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},iY={any:[/^b/i,/^(a|c)/i]},cY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},dY={any:[/1/i,/2/i,/3/i,/4/i]},uY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},xY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},mY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},pY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},fY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gY={ordinalNumber:rY({matchPattern:nY,parsePattern:oY,valueCallback:t=>parseInt(t,10)}),era:Mu({matchPatterns:lY,defaultMatchWidth:"wide",parsePatterns:iY,defaultParseWidth:"any"}),quarter:Mu({matchPatterns:cY,defaultMatchWidth:"wide",parsePatterns:dY,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Mu({matchPatterns:uY,defaultMatchWidth:"wide",parsePatterns:xY,defaultParseWidth:"any"}),day:Mu({matchPatterns:hY,defaultMatchWidth:"wide",parsePatterns:mY,defaultParseWidth:"any"}),dayPeriod:Mu({matchPatterns:pY,defaultMatchWidth:"any",parsePatterns:fY,defaultParseWidth:"any"})},H3={code:"en-US",formatDistance:HV,formatLong:zV,formatRelative:YV,localize:tY,match:gY,options:{weekStartsOn:0,firstWeekContainsDate:1}};function yY(t){const s=oa(t);return Ul(s,R3(s))+1}function W3(t){const s=oa(t),a=+fd(s)-+IV(s);return Math.round(a/kv)+1}function G3(t,s){const a=oa(t),r=a.getFullYear(),n=Ox(),l=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=bo(t,0);i.setFullYear(r+1,0,l),i.setHours(0,0,0,0);const d=$l(i,s),x=bo(t,0);x.setFullYear(r,0,l),x.setHours(0,0,0,0);const h=$l(x,s);return a.getTime()>=d.getTime()?r+1:a.getTime()>=h.getTime()?r:r-1}function bY(t,s){const a=Ox(),r=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,n=G3(t,s),l=bo(t,0);return l.setFullYear(n,0,r),l.setHours(0,0,0,0),$l(l,s)}function $3(t,s){const a=oa(t),r=+$l(a,s)-+bY(a,s);return Math.round(r/kv)+1}function ka(t,s){const a=t<0?"-":"",r=Math.abs(t).toString().padStart(s,"0");return a+r}const Zi={y(t,s){const a=t.getFullYear(),r=a>0?a:1-a;return ka(s==="yy"?r%100:r,s.length)},M(t,s){const a=t.getMonth();return s==="M"?String(a+1):ka(a+1,2)},d(t,s){return ka(t.getDate(),s.length)},a(t,s){const a=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(t,s){return ka(t.getHours()%12||12,s.length)},H(t,s){return ka(t.getHours(),s.length)},m(t,s){return ka(t.getMinutes(),s.length)},s(t,s){return ka(t.getSeconds(),s.length)},S(t,s){const a=s.length,r=t.getMilliseconds(),n=Math.trunc(r*Math.pow(10,a-3));return ka(n,s.length)}},h0={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},v2={G:function(t,s,a){const r=t.getFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})}},y:function(t,s,a){if(s==="yo"){const r=t.getFullYear(),n=r>0?r:1-r;return a.ordinalNumber(n,{unit:"year"})}return Zi.y(t,s)},Y:function(t,s,a,r){const n=G3(t,r),l=n>0?n:1-n;if(s==="YY"){const i=l%100;return ka(i,2)}return s==="Yo"?a.ordinalNumber(l,{unit:"year"}):ka(l,s.length)},R:function(t,s){const a=B3(t);return ka(a,s.length)},u:function(t,s){const a=t.getFullYear();return ka(a,s.length)},Q:function(t,s,a){const r=Math.ceil((t.getMonth()+1)/3);switch(s){case"Q":return String(r);case"QQ":return ka(r,2);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,s,a){const r=Math.ceil((t.getMonth()+1)/3);switch(s){case"q":return String(r);case"qq":return ka(r,2);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,s,a){const r=t.getMonth();switch(s){case"M":case"MM":return Zi.M(t,s);case"Mo":return a.ordinalNumber(r+1,{unit:"month"});case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})}},L:function(t,s,a){const r=t.getMonth();switch(s){case"L":return String(r+1);case"LL":return ka(r+1,2);case"Lo":return a.ordinalNumber(r+1,{unit:"month"});case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})}},w:function(t,s,a,r){const n=$3(t,r);return s==="wo"?a.ordinalNumber(n,{unit:"week"}):ka(n,s.length)},I:function(t,s,a){const r=W3(t);return s==="Io"?a.ordinalNumber(r,{unit:"week"}):ka(r,s.length)},d:function(t,s,a){return s==="do"?a.ordinalNumber(t.getDate(),{unit:"date"}):Zi.d(t,s)},D:function(t,s,a){const r=yY(t);return s==="Do"?a.ordinalNumber(r,{unit:"dayOfYear"}):ka(r,s.length)},E:function(t,s,a){const r=t.getDay();switch(s){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})}},e:function(t,s,a,r){const n=t.getDay(),l=(n-r.weekStartsOn+8)%7||7;switch(s){case"e":return String(l);case"ee":return ka(l,2);case"eo":return a.ordinalNumber(l,{unit:"day"});case"eee":return a.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(n,{width:"short",context:"formatting"});case"eeee":default:return a.day(n,{width:"wide",context:"formatting"})}},c:function(t,s,a,r){const n=t.getDay(),l=(n-r.weekStartsOn+8)%7||7;switch(s){case"c":return String(l);case"cc":return ka(l,s.length);case"co":return a.ordinalNumber(l,{unit:"day"});case"ccc":return a.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(n,{width:"narrow",context:"standalone"});case"cccccc":return a.day(n,{width:"short",context:"standalone"});case"cccc":default:return a.day(n,{width:"wide",context:"standalone"})}},i:function(t,s,a){const r=t.getDay(),n=r===0?7:r;switch(s){case"i":return String(n);case"ii":return ka(n,s.length);case"io":return a.ordinalNumber(n,{unit:"day"});case"iii":return a.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(r,{width:"short",context:"formatting"});case"iiii":default:return a.day(r,{width:"wide",context:"formatting"})}},a:function(t,s,a){const n=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(t,s,a){const r=t.getHours();let n;switch(r===12?n=h0.noon:r===0?n=h0.midnight:n=r/12>=1?"pm":"am",s){case"b":case"bb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(t,s,a){const r=t.getHours();let n;switch(r>=17?n=h0.evening:r>=12?n=h0.afternoon:r>=4?n=h0.morning:n=h0.night,s){case"B":case"BB":case"BBB":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(t,s,a){if(s==="ho"){let r=t.getHours()%12;return r===0&&(r=12),a.ordinalNumber(r,{unit:"hour"})}return Zi.h(t,s)},H:function(t,s,a){return s==="Ho"?a.ordinalNumber(t.getHours(),{unit:"hour"}):Zi.H(t,s)},K:function(t,s,a){const r=t.getHours()%12;return s==="Ko"?a.ordinalNumber(r,{unit:"hour"}):ka(r,s.length)},k:function(t,s,a){let r=t.getHours();return r===0&&(r=24),s==="ko"?a.ordinalNumber(r,{unit:"hour"}):ka(r,s.length)},m:function(t,s,a){return s==="mo"?a.ordinalNumber(t.getMinutes(),{unit:"minute"}):Zi.m(t,s)},s:function(t,s,a){return s==="so"?a.ordinalNumber(t.getSeconds(),{unit:"second"}):Zi.s(t,s)},S:function(t,s){return Zi.S(t,s)},X:function(t,s,a){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(s){case"X":return N2(r);case"XXXX":case"XX":return Jc(r);case"XXXXX":case"XXX":default:return Jc(r,":")}},x:function(t,s,a){const r=t.getTimezoneOffset();switch(s){case"x":return N2(r);case"xxxx":case"xx":return Jc(r);case"xxxxx":case"xxx":default:return Jc(r,":")}},O:function(t,s,a){const r=t.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+w2(r,":");case"OOOO":default:return"GMT"+Jc(r,":")}},z:function(t,s,a){const r=t.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+w2(r,":");case"zzzz":default:return"GMT"+Jc(r,":")}},t:function(t,s,a){const r=Math.trunc(t.getTime()/1e3);return ka(r,s.length)},T:function(t,s,a){const r=t.getTime();return ka(r,s.length)}};function w2(t,s=""){const a=t>0?"-":"+",r=Math.abs(t),n=Math.trunc(r/60),l=r%60;return l===0?a+String(n):a+String(n)+s+ka(l,2)}function N2(t,s){return t%60===0?(t>0?"-":"+")+ka(Math.abs(t)/60,2):Jc(t,s)}function Jc(t,s=""){const a=t>0?"-":"+",r=Math.abs(t),n=ka(Math.trunc(r/60),2),l=ka(r%60,2);return a+n+s+l}const j2=(t,s)=>{switch(t){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});case"PPPP":default:return s.date({width:"full"})}},z3=(t,s)=>{switch(t){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});case"pppp":default:return s.time({width:"full"})}},vY=(t,s)=>{const a=t.match(/(P+)(p+)?/)||[],r=a[1],n=a[2];if(!n)return j2(t,s);let l;switch(r){case"P":l=s.dateTime({width:"short"});break;case"PP":l=s.dateTime({width:"medium"});break;case"PPP":l=s.dateTime({width:"long"});break;case"PPPP":default:l=s.dateTime({width:"full"});break}return l.replace("{{date}}",j2(r,s)).replace("{{time}}",z3(n,s))},wY={p:z3,P:vY},NY=/^D+$/,jY=/^Y+$/,CY=["D","DD","YY","YYYY"];function SY(t){return NY.test(t)}function kY(t){return jY.test(t)}function DY(t,s,a){const r=EY(t,s,a);if(console.warn(r),CY.includes(t))throw new RangeError(r)}function EY(t,s,a){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${s}\`) for formatting ${r} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const TY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,AY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,FY=/^'([^]*?)'?$/,PY=/''/g,MY=/[a-zA-Z]/;function Dd(t,s,a){const r=Ox(),n=a?.locale??r.locale??H3,l=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=a?.weekStartsOn??a?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,d=oa(t);if(!BV(d))throw new RangeError("Invalid time value");let x=s.match(AY).map(m=>{const b=m[0];if(b==="p"||b==="P"){const f=wY[b];return f(m,n.formatLong)}return m}).join("").match(TY).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const b=m[0];if(b==="'")return{isToken:!1,value:IY(m)};if(v2[b])return{isToken:!0,value:m};if(b.match(MY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:m}});n.localize.preprocessor&&(x=n.localize.preprocessor(d,x));const h={firstWeekContainsDate:l,weekStartsOn:i,locale:n};return x.map(m=>{if(!m.isToken)return m.value;const b=m.value;(!a?.useAdditionalWeekYearTokens&&kY(b)||!a?.useAdditionalDayOfYearTokens&&SY(b))&&DY(b,s,String(t));const f=v2[b[0]];return f(d,b,n.localize,h)}).join("")}function IY(t){const s=t.match(FY);return s?s[1].replace(PY,"'"):t}function LY(t){const s=oa(t),a=s.getFullYear(),r=s.getMonth(),n=bo(t,0);return n.setFullYear(a,r+1,0),n.setHours(0,0,0,0),n.getDate()}function OY(t){return Math.trunc(+oa(t)/1e3)}function _Y(t){const s=oa(t),a=s.getMonth();return s.setFullYear(s.getFullYear(),a+1,0),s.setHours(0,0,0,0),s}function BY(t,s){return RV(_Y(t),eo(t),s)+1}function Xy(t,s){const a=oa(t),r=oa(s);return a.getTime()>r.getTime()}function V3(t,s){const a=oa(t),r=oa(s);return+a<+r}function Av(t,s){const a=oa(t),r=oa(s);return a.getFullYear()===r.getFullYear()&&a.getMonth()===r.getMonth()}function RY(t,s){const a=oa(t),r=oa(s);return a.getFullYear()===r.getFullYear()}function xy(t,s){return In(t,-s)}function hy(t,s){const a=oa(t),r=a.getFullYear(),n=a.getDate(),l=bo(t,0);l.setFullYear(r,s,15),l.setHours(0,0,0,0);const i=LY(l);return a.setMonth(s,Math.min(n,i)),a}function C2(t,s){const a=oa(t);return isNaN(+a)?bo(t,NaN):(a.setFullYear(s),a)}var Ps=function(){return Ps=Object.assign||function(s){for(var a,r=1,n=arguments.length;r<n;r++){a=arguments[r];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])}return s},Ps.apply(this,arguments)};function UY(t,s){var a={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&s.indexOf(r)<0&&(a[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)s.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(a[r[n]]=t[r[n]]);return a}function Y3(t,s,a){for(var r=0,n=s.length,l;r<n;r++)(l||!(r in s))&&(l||(l=Array.prototype.slice.call(s,0,r)),l[r]=s[r]);return t.concat(l||Array.prototype.slice.call(s))}function _x(t){return t.mode==="multiple"}function Bx(t){return t.mode==="range"}function mf(t){return t.mode==="single"}var HY={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function WY(t,s){return Dd(t,"LLLL y",s)}function GY(t,s){return Dd(t,"d",s)}function $Y(t,s){return Dd(t,"LLLL",s)}function zY(t){return"".concat(t)}function VY(t,s){return Dd(t,"cccccc",s)}function YY(t,s){return Dd(t,"yyyy",s)}var KY=Object.freeze({__proto__:null,formatCaption:WY,formatDay:GY,formatMonthCaption:$Y,formatWeekNumber:zY,formatWeekdayName:VY,formatYearCaption:YY}),qY=function(t,s,a){return Dd(t,"do MMMM (EEEE)",a)},XY=function(){return"Month: "},JY=function(){return"Go to next month"},QY=function(){return"Go to previous month"},ZY=function(t,s){return Dd(t,"cccc",s)},eK=function(t){return"Week n. ".concat(t)},tK=function(){return"Year: "},sK=Object.freeze({__proto__:null,labelDay:qY,labelMonthDropdown:XY,labelNext:JY,labelPrevious:QY,labelWeekNumber:eK,labelWeekday:ZY,labelYearDropdown:tK});function aK(){var t="buttons",s=HY,a=H3,r={},n={},l=1,i={},d=new Date;return{captionLayout:t,classNames:s,formatters:KY,labels:sK,locale:a,modifiersClassNames:r,modifiers:n,numberOfMonths:l,styles:i,today:d,mode:"default"}}function rK(t){var s=t.fromYear,a=t.toYear,r=t.fromMonth,n=t.toMonth,l=t.fromDate,i=t.toDate;return r?l=eo(r):s&&(l=new Date(s,0,1)),n?i=Ev(n):a&&(i=new Date(a,11,31)),{fromDate:l?L0(l):void 0,toDate:i?L0(i):void 0}}var K3=o.createContext(void 0);function nK(t){var s,a=t.initialProps,r=aK(),n=rK(a),l=n.fromDate,i=n.toDate,d=(s=a.captionLayout)!==null&&s!==void 0?s:r.captionLayout;d!=="buttons"&&(!l||!i)&&(d="buttons");var x;(mf(a)||_x(a)||Bx(a))&&(x=a.onSelect);var h=Ps(Ps(Ps({},r),a),{captionLayout:d,classNames:Ps(Ps({},r.classNames),a.classNames),components:Ps({},a.components),formatters:Ps(Ps({},r.formatters),a.formatters),fromDate:l,labels:Ps(Ps({},r.labels),a.labels),mode:a.mode||r.mode,modifiers:Ps(Ps({},r.modifiers),a.modifiers),modifiersClassNames:Ps(Ps({},r.modifiersClassNames),a.modifiersClassNames),onSelect:x,styles:Ps(Ps({},r.styles),a.styles),toDate:i});return e.jsx(K3.Provider,{value:h,children:t.children})}function Ha(){var t=o.useContext(K3);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function q3(t){var s=Ha(),a=s.locale,r=s.classNames,n=s.styles,l=s.formatters.formatCaption;return e.jsx("div",{className:r.caption_label,style:n.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:l(t.displayMonth,{locale:a})})}function oK(t){return e.jsx("svg",Ps({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:e.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function X3(t){var s,a,r=t.onChange,n=t.value,l=t.children,i=t.caption,d=t.className,x=t.style,h=Ha(),m=(a=(s=h.components)===null||s===void 0?void 0:s.IconDropdown)!==null&&a!==void 0?a:oK;return e.jsxs("div",{className:d,style:x,children:[e.jsx("span",{className:h.classNames.vhidden,children:t["aria-label"]}),e.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:h.classNames.dropdown,style:h.styles.dropdown,value:n,onChange:r,children:l}),e.jsxs("div",{className:h.classNames.caption_label,style:h.styles.caption_label,"aria-hidden":"true",children:[i,e.jsx(m,{className:h.classNames.dropdown_icon,style:h.styles.dropdown_icon})]})]})}function lK(t){var s,a=Ha(),r=a.fromDate,n=a.toDate,l=a.styles,i=a.locale,d=a.formatters.formatMonthCaption,x=a.classNames,h=a.components,m=a.labels.labelMonthDropdown;if(!r)return e.jsx(e.Fragment,{});if(!n)return e.jsx(e.Fragment,{});var b=[];if(RY(r,n))for(var f=eo(r),N=r.getMonth();N<=n.getMonth();N++)b.push(hy(f,N));else for(var f=eo(new Date),N=0;N<=11;N++)b.push(hy(f,N));var p=function(y){var g=Number(y.target.value),j=hy(eo(t.displayMonth),g);t.onChange(j)},v=(s=h?.Dropdown)!==null&&s!==void 0?s:X3;return e.jsx(v,{name:"months","aria-label":m(),className:x.dropdown_month,style:l.dropdown_month,onChange:p,value:t.displayMonth.getMonth(),caption:d(t.displayMonth,{locale:i}),children:b.map(function(y){return e.jsx("option",{value:y.getMonth(),children:d(y,{locale:i})},y.getMonth())})})}function iK(t){var s,a=t.displayMonth,r=Ha(),n=r.fromDate,l=r.toDate,i=r.locale,d=r.styles,x=r.classNames,h=r.components,m=r.formatters.formatYearCaption,b=r.labels.labelYearDropdown,f=[];if(!n)return e.jsx(e.Fragment,{});if(!l)return e.jsx(e.Fragment,{});for(var N=n.getFullYear(),p=l.getFullYear(),v=N;v<=p;v++)f.push(C2(R3(new Date),v));var y=function(j){var C=C2(eo(a),Number(j.target.value));t.onChange(C)},g=(s=h?.Dropdown)!==null&&s!==void 0?s:X3;return e.jsx(g,{name:"years","aria-label":b(),className:x.dropdown_year,style:d.dropdown_year,onChange:y,value:a.getFullYear(),caption:m(a,{locale:i}),children:f.map(function(j){return e.jsx("option",{value:j.getFullYear(),children:m(j,{locale:i})},j.getFullYear())})})}function cK(t,s){var a=o.useState(t),r=a[0],n=a[1],l=s===void 0?r:s;return[l,n]}function dK(t){var s=t.month,a=t.defaultMonth,r=t.today,n=s||a||r||new Date,l=t.toDate,i=t.fromDate,d=t.numberOfMonths,x=d===void 0?1:d;if(l&&cx(l,n)<0){var h=-1*(x-1);n=ml(l,h)}return i&&cx(n,i)<0&&(n=i),eo(n)}function uK(){var t=Ha(),s=dK(t),a=cK(s,t.month),r=a[0],n=a[1],l=function(i){var d;if(!t.disableNavigation){var x=eo(i);n(x),(d=t.onMonthChange)===null||d===void 0||d.call(t,x)}};return[r,l]}function xK(t,s){for(var a=s.reverseMonths,r=s.numberOfMonths,n=eo(t),l=eo(ml(n,r)),i=cx(l,n),d=[],x=0;x<i;x++){var h=ml(n,x);d.push(h)}return a&&(d=d.reverse()),d}function hK(t,s){if(!s.disableNavigation){var a=s.toDate,r=s.pagedNavigation,n=s.numberOfMonths,l=n===void 0?1:n,i=r?l:1,d=eo(t);if(!a)return ml(d,i);var x=cx(a,t);if(!(x<l))return ml(d,i)}}function mK(t,s){if(!s.disableNavigation){var a=s.fromDate,r=s.pagedNavigation,n=s.numberOfMonths,l=n===void 0?1:n,i=r?l:1,d=eo(t);if(!a)return ml(d,-i);var x=cx(d,a);if(!(x<=0))return ml(d,-i)}}var J3=o.createContext(void 0);function pK(t){var s=Ha(),a=uK(),r=a[0],n=a[1],l=xK(r,s),i=hK(r,s),d=mK(r,s),x=function(b){return l.some(function(f){return Av(b,f)})},h=function(b,f){x(b)||(f&&V3(b,f)?n(ml(b,1+s.numberOfMonths*-1)):n(b))},m={currentMonth:r,displayMonths:l,goToMonth:n,goToDate:h,previousMonth:d,nextMonth:i,isDateDisplayed:x};return e.jsx(J3.Provider,{value:m,children:t.children})}function Rx(){var t=o.useContext(J3);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function S2(t){var s,a=Ha(),r=a.classNames,n=a.styles,l=a.components,i=Rx().goToMonth,d=function(m){i(ml(m,t.displayIndex?-t.displayIndex:0))},x=(s=l?.CaptionLabel)!==null&&s!==void 0?s:q3,h=e.jsx(x,{id:t.id,displayMonth:t.displayMonth});return e.jsxs("div",{className:r.caption_dropdowns,style:n.caption_dropdowns,children:[e.jsx("div",{className:r.vhidden,children:h}),e.jsx(lK,{onChange:d,displayMonth:t.displayMonth}),e.jsx(iK,{onChange:d,displayMonth:t.displayMonth})]})}function fK(t){return e.jsx("svg",Ps({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function gK(t){return e.jsx("svg",Ps({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Bp=o.forwardRef(function(t,s){var a=Ha(),r=a.classNames,n=a.styles,l=[r.button_reset,r.button];t.className&&l.push(t.className);var i=l.join(" "),d=Ps(Ps({},n.button_reset),n.button);return t.style&&Object.assign(d,t.style),e.jsx("button",Ps({},t,{ref:s,type:"button",className:i,style:d}))});function yK(t){var s,a,r=Ha(),n=r.dir,l=r.locale,i=r.classNames,d=r.styles,x=r.labels,h=x.labelPrevious,m=x.labelNext,b=r.components;if(!t.nextMonth&&!t.previousMonth)return e.jsx(e.Fragment,{});var f=h(t.previousMonth,{locale:l}),N=[i.nav_button,i.nav_button_previous].join(" "),p=m(t.nextMonth,{locale:l}),v=[i.nav_button,i.nav_button_next].join(" "),y=(s=b?.IconRight)!==null&&s!==void 0?s:gK,g=(a=b?.IconLeft)!==null&&a!==void 0?a:fK;return e.jsxs("div",{className:i.nav,style:d.nav,children:[!t.hidePrevious&&e.jsx(Bp,{name:"previous-month","aria-label":f,className:N,style:d.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:n==="rtl"?e.jsx(y,{className:i.nav_icon,style:d.nav_icon}):e.jsx(g,{className:i.nav_icon,style:d.nav_icon})}),!t.hideNext&&e.jsx(Bp,{name:"next-month","aria-label":p,className:v,style:d.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:n==="rtl"?e.jsx(g,{className:i.nav_icon,style:d.nav_icon}):e.jsx(y,{className:i.nav_icon,style:d.nav_icon})})]})}function k2(t){var s=Ha().numberOfMonths,a=Rx(),r=a.previousMonth,n=a.nextMonth,l=a.goToMonth,i=a.displayMonths,d=i.findIndex(function(p){return Av(t.displayMonth,p)}),x=d===0,h=d===i.length-1,m=s>1&&(x||!h),b=s>1&&(h||!x),f=function(){r&&l(r)},N=function(){n&&l(n)};return e.jsx(yK,{displayMonth:t.displayMonth,hideNext:m,hidePrevious:b,nextMonth:n,previousMonth:r,onPreviousClick:f,onNextClick:N})}function bK(t){var s,a=Ha(),r=a.classNames,n=a.disableNavigation,l=a.styles,i=a.captionLayout,d=a.components,x=(s=d?.CaptionLabel)!==null&&s!==void 0?s:q3,h;return n?h=e.jsx(x,{id:t.id,displayMonth:t.displayMonth}):i==="dropdown"?h=e.jsx(S2,{displayMonth:t.displayMonth,id:t.id}):i==="dropdown-buttons"?h=e.jsxs(e.Fragment,{children:[e.jsx(S2,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),e.jsx(k2,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):h=e.jsxs(e.Fragment,{children:[e.jsx(x,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),e.jsx(k2,{displayMonth:t.displayMonth,id:t.id})]}),e.jsx("div",{className:r.caption,style:l.caption,children:h})}function vK(t){var s=Ha(),a=s.footer,r=s.styles,n=s.classNames.tfoot;return a?e.jsx("tfoot",{className:n,style:r.tfoot,children:e.jsx("tr",{children:e.jsx("td",{colSpan:8,children:a})})}):e.jsx(e.Fragment,{})}function wK(t,s,a){for(var r=a?fd(new Date):$l(new Date,{locale:t,weekStartsOn:s}),n=[],l=0;l<7;l++){var i=In(r,l);n.push(i)}return n}function NK(){var t=Ha(),s=t.classNames,a=t.styles,r=t.showWeekNumber,n=t.locale,l=t.weekStartsOn,i=t.ISOWeek,d=t.formatters.formatWeekdayName,x=t.labels.labelWeekday,h=wK(n,l,i);return e.jsxs("tr",{style:a.head_row,className:s.head_row,children:[r&&e.jsx("td",{style:a.head_cell,className:s.head_cell}),h.map(function(m,b){return e.jsx("th",{scope:"col",className:s.head_cell,style:a.head_cell,"aria-label":x(m,{locale:n}),children:d(m,{locale:n})},b)})]})}function jK(){var t,s=Ha(),a=s.classNames,r=s.styles,n=s.components,l=(t=n?.HeadRow)!==null&&t!==void 0?t:NK;return e.jsx("thead",{style:r.head,className:a.head,children:e.jsx(l,{})})}function CK(t){var s=Ha(),a=s.locale,r=s.formatters.formatDay;return e.jsx(e.Fragment,{children:r(t.date,{locale:a})})}var Fv=o.createContext(void 0);function SK(t){if(!_x(t.initialProps)){var s={selected:void 0,modifiers:{disabled:[]}};return e.jsx(Fv.Provider,{value:s,children:t.children})}return e.jsx(kK,{initialProps:t.initialProps,children:t.children})}function kK(t){var s=t.initialProps,a=t.children,r=s.selected,n=s.min,l=s.max,i=function(h,m,b){var f,N;(f=s.onDayClick)===null||f===void 0||f.call(s,h,m,b);var p=!!(m.selected&&n&&r?.length===n);if(!p){var v=!!(!m.selected&&l&&r?.length===l);if(!v){var y=r?Y3([],r):[];if(m.selected){var g=y.findIndex(function(j){return qn(h,j)});y.splice(g,1)}else y.push(h);(N=s.onSelect)===null||N===void 0||N.call(s,y,h,m,b)}}},d={disabled:[]};r&&d.disabled.push(function(h){var m=l&&r.length>l-1,b=r.some(function(f){return qn(f,h)});return!!(m&&!b)});var x={selected:r,onDayClick:i,modifiers:d};return e.jsx(Fv.Provider,{value:x,children:a})}function Pv(){var t=o.useContext(Fv);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function DK(t,s){var a=s||{},r=a.from,n=a.to;return r&&n?qn(n,t)&&qn(r,t)?void 0:qn(n,t)?{from:n,to:void 0}:qn(r,t)?void 0:Xy(r,t)?{from:t,to:n}:{from:r,to:t}:n?Xy(t,n)?{from:n,to:t}:{from:t,to:n}:r?V3(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var Mv=o.createContext(void 0);function EK(t){if(!Bx(t.initialProps)){var s={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return e.jsx(Mv.Provider,{value:s,children:t.children})}return e.jsx(TK,{initialProps:t.initialProps,children:t.children})}function TK(t){var s=t.initialProps,a=t.children,r=s.selected,n=r||{},l=n.from,i=n.to,d=s.min,x=s.max,h=function(N,p,v){var y,g;(y=s.onDayClick)===null||y===void 0||y.call(s,N,p,v);var j=DK(N,r);(g=s.onSelect)===null||g===void 0||g.call(s,j,N,p,v)},m={range_start:[],range_end:[],range_middle:[],disabled:[]};if(l?(m.range_start=[l],i?(m.range_end=[i],qn(l,i)||(m.range_middle=[{after:l,before:i}])):m.range_end=[l]):i&&(m.range_start=[i],m.range_end=[i]),d&&(l&&!i&&m.disabled.push({after:xy(l,d-1),before:In(l,d-1)}),l&&i&&m.disabled.push({after:l,before:In(l,d-1)}),!l&&i&&m.disabled.push({after:xy(i,d-1),before:In(i,d-1)})),x){if(l&&!i&&(m.disabled.push({before:In(l,-x+1)}),m.disabled.push({after:In(l,x-1)})),l&&i){var b=Ul(i,l)+1,f=x-b;m.disabled.push({before:xy(l,f)}),m.disabled.push({after:In(i,f)})}!l&&i&&(m.disabled.push({before:In(i,-x+1)}),m.disabled.push({after:In(i,x-1)}))}return e.jsx(Mv.Provider,{value:{selected:r,onDayClick:h,modifiers:m},children:a})}function Iv(){var t=o.useContext(Mv);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function np(t){return Array.isArray(t)?Y3([],t):t!==void 0?[t]:[]}function AK(t){var s={};return Object.entries(t).forEach(function(a){var r=a[0],n=a[1];s[r]=np(n)}),s}var pl;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(pl||(pl={}));var FK=pl.Selected,xi=pl.Disabled,PK=pl.Hidden,MK=pl.Today,my=pl.RangeEnd,py=pl.RangeMiddle,fy=pl.RangeStart,IK=pl.Outside;function LK(t,s,a){var r,n=(r={},r[FK]=np(t.selected),r[xi]=np(t.disabled),r[PK]=np(t.hidden),r[MK]=[t.today],r[my]=[],r[py]=[],r[fy]=[],r[IK]=[],r);return t.fromDate&&n[xi].push({before:t.fromDate}),t.toDate&&n[xi].push({after:t.toDate}),_x(t)?n[xi]=n[xi].concat(s.modifiers[xi]):Bx(t)&&(n[xi]=n[xi].concat(a.modifiers[xi]),n[fy]=a.modifiers[fy],n[py]=a.modifiers[py],n[my]=a.modifiers[my]),n}var Q3=o.createContext(void 0);function OK(t){var s=Ha(),a=Pv(),r=Iv(),n=LK(s,a,r),l=AK(s.modifiers),i=Ps(Ps({},n),l);return e.jsx(Q3.Provider,{value:i,children:t.children})}function Z3(){var t=o.useContext(Q3);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function _K(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function BK(t){return!!(t&&typeof t=="object"&&"from"in t)}function RK(t){return!!(t&&typeof t=="object"&&"after"in t)}function UK(t){return!!(t&&typeof t=="object"&&"before"in t)}function HK(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function WK(t,s){var a,r=s.from,n=s.to;if(r&&n){var l=Ul(n,r)<0;l&&(a=[n,r],r=a[0],n=a[1]);var i=Ul(t,r)>=0&&Ul(n,t)>=0;return i}return n?qn(n,t):r?qn(r,t):!1}function GK(t){return Dv(t)}function $K(t){return Array.isArray(t)&&t.every(Dv)}function zK(t,s){return s.some(function(a){if(typeof a=="boolean")return a;if(GK(a))return qn(t,a);if($K(a))return a.includes(t);if(BK(a))return WK(t,a);if(HK(a))return a.dayOfWeek.includes(t.getDay());if(_K(a)){var r=Ul(a.before,t),n=Ul(a.after,t),l=r>0,i=n<0,d=Xy(a.before,a.after);return d?i&&l:l||i}return RK(a)?Ul(t,a.after)>0:UK(a)?Ul(a.before,t)>0:typeof a=="function"?a(t):!1})}function Lv(t,s,a){var r=Object.keys(s).reduce(function(l,i){var d=s[i];return zK(t,d)&&l.push(i),l},[]),n={};return r.forEach(function(l){return n[l]=!0}),a&&!Av(t,a)&&(n.outside=!0),n}function VK(t,s){for(var a=eo(t[0]),r=Ev(t[t.length-1]),n,l,i=a;i<=r;){var d=Lv(i,s),x=!d.disabled&&!d.hidden;if(!x){i=In(i,1);continue}if(d.selected)return i;d.today&&!l&&(l=i),n||(n=i),i=In(i,1)}return l||n}var YK=365;function eD(t,s){var a=s.moveBy,r=s.direction,n=s.context,l=s.modifiers,i=s.retry,d=i===void 0?{count:0,lastFocused:t}:i,x=n.weekStartsOn,h=n.fromDate,m=n.toDate,b=n.locale,f={day:In,week:qy,month:ml,year:LV,startOfWeek:function(y){return n.ISOWeek?fd(y):$l(y,{locale:b,weekStartsOn:x})},endOfWeek:function(y){return n.ISOWeek?U3(y):Tv(y,{locale:b,weekStartsOn:x})}},N=f[a](t,r==="after"?1:-1);r==="before"&&h?N=OV([h,N]):r==="after"&&m&&(N=_V([m,N]));var p=!0;if(l){var v=Lv(N,l);p=!v.disabled&&!v.hidden}return p?N:d.count>YK?d.lastFocused:eD(N,{moveBy:a,direction:r,context:n,modifiers:l,retry:Ps(Ps({},d),{count:d.count+1})})}var tD=o.createContext(void 0);function KK(t){var s=Rx(),a=Z3(),r=o.useState(),n=r[0],l=r[1],i=o.useState(),d=i[0],x=i[1],h=VK(s.displayMonths,a),m=n??(d&&s.isDateDisplayed(d))?d:h,b=function(){x(n),l(void 0)},f=function(y){l(y)},N=Ha(),p=function(y,g){if(n){var j=eD(n,{moveBy:y,direction:g,context:N,modifiers:a});qn(n,j)||(s.goToDate(j,n),f(j))}},v={focusedDay:n,focusTarget:m,blur:b,focus:f,focusDayAfter:function(){return p("day","after")},focusDayBefore:function(){return p("day","before")},focusWeekAfter:function(){return p("week","after")},focusWeekBefore:function(){return p("week","before")},focusMonthBefore:function(){return p("month","before")},focusMonthAfter:function(){return p("month","after")},focusYearBefore:function(){return p("year","before")},focusYearAfter:function(){return p("year","after")},focusStartOfWeek:function(){return p("startOfWeek","before")},focusEndOfWeek:function(){return p("endOfWeek","after")}};return e.jsx(tD.Provider,{value:v,children:t.children})}function Ov(){var t=o.useContext(tD);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function qK(t,s){var a=Z3(),r=Lv(t,a,s);return r}var _v=o.createContext(void 0);function XK(t){if(!mf(t.initialProps)){var s={selected:void 0};return e.jsx(_v.Provider,{value:s,children:t.children})}return e.jsx(JK,{initialProps:t.initialProps,children:t.children})}function JK(t){var s=t.initialProps,a=t.children,r=function(l,i,d){var x,h,m;if((x=s.onDayClick)===null||x===void 0||x.call(s,l,i,d),i.selected&&!s.required){(h=s.onSelect)===null||h===void 0||h.call(s,void 0,l,i,d);return}(m=s.onSelect)===null||m===void 0||m.call(s,l,l,i,d)},n={selected:s.selected,onDayClick:r};return e.jsx(_v.Provider,{value:n,children:a})}function sD(){var t=o.useContext(_v);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function QK(t,s){var a=Ha(),r=sD(),n=Pv(),l=Iv(),i=Ov(),d=i.focusDayAfter,x=i.focusDayBefore,h=i.focusWeekAfter,m=i.focusWeekBefore,b=i.blur,f=i.focus,N=i.focusMonthBefore,p=i.focusMonthAfter,v=i.focusYearBefore,y=i.focusYearAfter,g=i.focusStartOfWeek,j=i.focusEndOfWeek,C=function(Y){var W,re,G,R;mf(a)?(W=r.onDayClick)===null||W===void 0||W.call(r,t,s,Y):_x(a)?(re=n.onDayClick)===null||re===void 0||re.call(n,t,s,Y):Bx(a)?(G=l.onDayClick)===null||G===void 0||G.call(l,t,s,Y):(R=a.onDayClick)===null||R===void 0||R.call(a,t,s,Y)},S=function(Y){var W;f(t),(W=a.onDayFocus)===null||W===void 0||W.call(a,t,s,Y)},P=function(Y){var W;b(),(W=a.onDayBlur)===null||W===void 0||W.call(a,t,s,Y)},k=function(Y){var W;(W=a.onDayMouseEnter)===null||W===void 0||W.call(a,t,s,Y)},E=function(Y){var W;(W=a.onDayMouseLeave)===null||W===void 0||W.call(a,t,s,Y)},M=function(Y){var W;(W=a.onDayPointerEnter)===null||W===void 0||W.call(a,t,s,Y)},L=function(Y){var W;(W=a.onDayPointerLeave)===null||W===void 0||W.call(a,t,s,Y)},O=function(Y){var W;(W=a.onDayTouchCancel)===null||W===void 0||W.call(a,t,s,Y)},q=function(Y){var W;(W=a.onDayTouchEnd)===null||W===void 0||W.call(a,t,s,Y)},B=function(Y){var W;(W=a.onDayTouchMove)===null||W===void 0||W.call(a,t,s,Y)},se=function(Y){var W;(W=a.onDayTouchStart)===null||W===void 0||W.call(a,t,s,Y)},le=function(Y){var W;(W=a.onDayKeyUp)===null||W===void 0||W.call(a,t,s,Y)},pe=function(Y){var W;switch(Y.key){case"ArrowLeft":Y.preventDefault(),Y.stopPropagation(),a.dir==="rtl"?d():x();break;case"ArrowRight":Y.preventDefault(),Y.stopPropagation(),a.dir==="rtl"?x():d();break;case"ArrowDown":Y.preventDefault(),Y.stopPropagation(),h();break;case"ArrowUp":Y.preventDefault(),Y.stopPropagation(),m();break;case"PageUp":Y.preventDefault(),Y.stopPropagation(),Y.shiftKey?v():N();break;case"PageDown":Y.preventDefault(),Y.stopPropagation(),Y.shiftKey?y():p();break;case"Home":Y.preventDefault(),Y.stopPropagation(),g();break;case"End":Y.preventDefault(),Y.stopPropagation(),j();break}(W=a.onDayKeyDown)===null||W===void 0||W.call(a,t,s,Y)},U={onClick:C,onFocus:S,onBlur:P,onKeyDown:pe,onKeyUp:le,onMouseEnter:k,onMouseLeave:E,onPointerEnter:M,onPointerLeave:L,onTouchCancel:O,onTouchEnd:q,onTouchMove:B,onTouchStart:se};return U}function ZK(){var t=Ha(),s=sD(),a=Pv(),r=Iv(),n=mf(t)?s.selected:_x(t)?a.selected:Bx(t)?r.selected:void 0;return n}function eq(t){return Object.values(pl).includes(t)}function tq(t,s){var a=[t.classNames.day];return Object.keys(s).forEach(function(r){var n=t.modifiersClassNames[r];if(n)a.push(n);else if(eq(r)){var l=t.classNames["day_".concat(r)];l&&a.push(l)}}),a}function sq(t,s){var a=Ps({},t.styles.day);return Object.keys(s).forEach(function(r){var n;a=Ps(Ps({},a),(n=t.modifiersStyles)===null||n===void 0?void 0:n[r])}),a}function aq(t,s,a){var r,n,l,i=Ha(),d=Ov(),x=qK(t,s),h=QK(t,x),m=ZK(),b=!!(i.onDayClick||i.mode!=="default");o.useEffect(function(){var k;x.outside||d.focusedDay&&b&&qn(d.focusedDay,t)&&((k=a.current)===null||k===void 0||k.focus())},[d.focusedDay,t,a,b,x.outside]);var f=tq(i,x).join(" "),N=sq(i,x),p=!!(x.outside&&!i.showOutsideDays||x.hidden),v=(l=(n=i.components)===null||n===void 0?void 0:n.DayContent)!==null&&l!==void 0?l:CK,y=e.jsx(v,{date:t,displayMonth:s,activeModifiers:x}),g={style:N,className:f,children:y,role:"gridcell"},j=d.focusTarget&&qn(d.focusTarget,t)&&!x.outside,C=d.focusedDay&&qn(d.focusedDay,t),S=Ps(Ps(Ps({},g),(r={disabled:x.disabled,role:"gridcell"},r["aria-selected"]=x.selected,r.tabIndex=C||j?0:-1,r)),h),P={isButton:b,isHidden:p,activeModifiers:x,selectedDays:m,buttonProps:S,divProps:g};return P}function rq(t){var s=o.useRef(null),a=aq(t.date,t.displayMonth,s);return a.isHidden?e.jsx("div",{role:"gridcell"}):a.isButton?e.jsx(Bp,Ps({name:"day",ref:s},a.buttonProps)):e.jsx("div",Ps({},a.divProps))}function nq(t){var s=t.number,a=t.dates,r=Ha(),n=r.onWeekNumberClick,l=r.styles,i=r.classNames,d=r.locale,x=r.labels.labelWeekNumber,h=r.formatters.formatWeekNumber,m=h(Number(s),{locale:d});if(!n)return e.jsx("span",{className:i.weeknumber,style:l.weeknumber,children:m});var b=x(Number(s),{locale:d}),f=function(N){n(s,a,N)};return e.jsx(Bp,{name:"week-number","aria-label":b,className:i.weeknumber,style:l.weeknumber,onClick:f,children:m})}function oq(t){var s,a,r=Ha(),n=r.styles,l=r.classNames,i=r.showWeekNumber,d=r.components,x=(s=d?.Day)!==null&&s!==void 0?s:rq,h=(a=d?.WeekNumber)!==null&&a!==void 0?a:nq,m;return i&&(m=e.jsx("td",{className:l.cell,style:n.cell,children:e.jsx(h,{number:t.weekNumber,dates:t.dates})})),e.jsxs("tr",{className:l.row,style:n.row,children:[m,t.dates.map(function(b){return e.jsx("td",{className:l.cell,style:n.cell,role:"presentation",children:e.jsx(x,{displayMonth:t.displayMonth,date:b})},OY(b))})]})}function D2(t,s,a){for(var r=a?.ISOWeek?U3(s):Tv(s,a),n=a?.ISOWeek?fd(t):$l(t,a),l=Ul(r,n),i=[],d=0;d<=l;d++)i.push(In(n,d));var x=i.reduce(function(h,m){var b=a?.ISOWeek?W3(m):$3(m,a),f=h.find(function(N){return N.weekNumber===b});return f?(f.dates.push(m),h):(h.push({weekNumber:b,dates:[m]}),h)},[]);return x}function lq(t,s){var a=D2(eo(t),Ev(t),s);if(s?.useFixedWeeks){var r=BY(t,s);if(r<6){var n=a[a.length-1],l=n.dates[n.dates.length-1],i=qy(l,6-r),d=D2(qy(l,1),i,s);a.push.apply(a,d)}}return a}function iq(t){var s,a,r,n=Ha(),l=n.locale,i=n.classNames,d=n.styles,x=n.hideHead,h=n.fixedWeeks,m=n.components,b=n.weekStartsOn,f=n.firstWeekContainsDate,N=n.ISOWeek,p=lq(t.displayMonth,{useFixedWeeks:!!h,ISOWeek:N,locale:l,weekStartsOn:b,firstWeekContainsDate:f}),v=(s=m?.Head)!==null&&s!==void 0?s:jK,y=(a=m?.Row)!==null&&a!==void 0?a:oq,g=(r=m?.Footer)!==null&&r!==void 0?r:vK;return e.jsxs("table",{id:t.id,className:i.table,style:d.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!x&&e.jsx(v,{}),e.jsx("tbody",{className:i.tbody,style:d.tbody,children:p.map(function(j){return e.jsx(y,{displayMonth:t.displayMonth,dates:j.dates,weekNumber:j.weekNumber},j.weekNumber)})}),e.jsx(g,{displayMonth:t.displayMonth})]})}function cq(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var dq=cq()?o.useLayoutEffect:o.useEffect,gy=!1,uq=0;function E2(){return"react-day-picker-".concat(++uq)}function xq(t){var s,a=t??(gy?E2():null),r=o.useState(a),n=r[0],l=r[1];return dq(function(){n===null&&l(E2())},[]),o.useEffect(function(){gy===!1&&(gy=!0)},[]),(s=t??n)!==null&&s!==void 0?s:void 0}function hq(t){var s,a,r=Ha(),n=r.dir,l=r.classNames,i=r.styles,d=r.components,x=Rx().displayMonths,h=xq(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),m=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,b=[l.month],f=i.month,N=t.displayIndex===0,p=t.displayIndex===x.length-1,v=!N&&!p;n==="rtl"&&(s=[N,p],p=s[0],N=s[1]),N&&(b.push(l.caption_start),f=Ps(Ps({},f),i.caption_start)),p&&(b.push(l.caption_end),f=Ps(Ps({},f),i.caption_end)),v&&(b.push(l.caption_between),f=Ps(Ps({},f),i.caption_between));var y=(a=d?.Caption)!==null&&a!==void 0?a:bK;return e.jsxs("div",{className:b.join(" "),style:f,children:[e.jsx(y,{id:h,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),e.jsx(iq,{id:m,"aria-labelledby":h,displayMonth:t.displayMonth})]},t.displayIndex)}function mq(t){var s=Ha(),a=s.classNames,r=s.styles;return e.jsx("div",{className:a.months,style:r.months,children:t.children})}function pq(t){var s,a,r=t.initialProps,n=Ha(),l=Ov(),i=Rx(),d=o.useState(!1),x=d[0],h=d[1];o.useEffect(function(){n.initialFocus&&l.focusTarget&&(x||(l.focus(l.focusTarget),h(!0)))},[n.initialFocus,x,l.focus,l.focusTarget,l]);var m=[n.classNames.root,n.className];n.numberOfMonths>1&&m.push(n.classNames.multiple_months),n.showWeekNumber&&m.push(n.classNames.with_weeknumber);var b=Ps(Ps({},n.styles.root),n.style),f=Object.keys(r).filter(function(p){return p.startsWith("data-")}).reduce(function(p,v){var y;return Ps(Ps({},p),(y={},y[v]=r[v],y))},{}),N=(a=(s=r.components)===null||s===void 0?void 0:s.Months)!==null&&a!==void 0?a:mq;return e.jsx("div",Ps({className:m.join(" "),style:b,dir:n.dir,id:n.id,nonce:r.nonce,title:r.title,lang:r.lang},f,{children:e.jsx(N,{children:i.displayMonths.map(function(p,v){return e.jsx(hq,{displayIndex:v,displayMonth:p},v)})})}))}function fq(t){var s=t.children,a=UY(t,["children"]);return e.jsx(nK,{initialProps:a,children:e.jsx(pK,{children:e.jsx(XK,{initialProps:a,children:e.jsx(SK,{initialProps:a,children:e.jsx(EK,{initialProps:a,children:e.jsx(OK,{children:e.jsx(KK,{children:s})})})})})})})}function gq(t){return e.jsx(fq,Ps({},t,{children:e.jsx(pq,{initialProps:t})}))}const T2=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,A2=S3,yq=(t,s)=>a=>{var r;if(s?.variants==null)return A2(t,a?.class,a?.className);const{variants:n,defaultVariants:l}=s,i=Object.keys(n).map(h=>{const m=a?.[h],b=l?.[h];if(m===null)return null;const f=T2(m)||T2(b);return n[h][f]}),d=a&&Object.entries(a).reduce((h,m)=>{let[b,f]=m;return f===void 0||(h[b]=f),h},{}),x=s==null||(r=s.compoundVariants)===null||r===void 0?void 0:r.reduce((h,m)=>{let{class:b,className:f,...N}=m;return Object.entries(N).every(p=>{let[v,y]=p;return Array.isArray(y)?y.includes({...l,...d}[v]):{...l,...d}[v]===y})?[...h,b,f]:h},[]);return A2(t,i,x,a?.class,a?.className)},F2=yq("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Jy({className:t,classNames:s,showOutsideDays:a=!0,...r}){return e.jsx(gq,{showOutsideDays:a,className:Xc("p-3",t),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:Xc(F2({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:Xc("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",r.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:Xc(F2({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...s},components:{IconLeft:({className:n,...l})=>e.jsx(H0,{className:Xc("size-4",n),...l}),IconRight:({className:n,...l})=>e.jsx(fi,{className:Xc("size-4",n),...l})},...r})}function bq(){const[t,s]=o.useState("3/1/2020"),[a,r]=o.useState("03/15/2020"),[n,l]=o.useState("all"),[i,d]=o.useState(!1),[x,h]=o.useState(!1),[m,b]=o.useState(null),[f,N]=o.useState(!1),[p,v]=o.useState(!1),[y,g]=o.useState(""),[j,C]=o.useState(""),[S,P]=o.useState(""),[k,E]=o.useState(""),[M,L]=o.useState(""),[O,q]=o.useState(""),[B,se]=o.useState(""),le=[{empCode:"Z1047",empName:"PERLITA, MANALO LUCAS",workshiftCode:"730AM08PM",actualDateIn:"3/2/2020",dateIn:"3/2/2020",timeIn:"7:00 PM",dateOut:"3/2/2020",timeOut:"9:58 PM",dayType:"RegDay"}],pe=A=>{b(A),g(A.empCode),C(A.workshiftCode),P(A.actualDateIn),E(A.dateIn),L(A.timeIn),q(A.dateOut),se(A.timeOut),h(!0)},U=()=>{g(""),C(""),P(""),E(""),L(""),q(""),se(""),d(!0)},Y=()=>{console.log("Submitting form..."),d(!1),h(!1)},W=A=>{confirm(`Are you sure you want to delete record for ${A}?`)&&console.log("Deleting:",A)},re=A=>{if(!A)return;const H=A.split("/");if(H.length===3){const D=parseInt(H[0])-1,_=parseInt(H[1]),xe=parseInt(H[2]);if(!isNaN(D)&&!isNaN(_)&&!isNaN(xe))return new Date(xe,D,_)}},G=A=>{if(!A)return"";const H=A.getMonth()+1,D=A.getDate(),_=A.getFullYear();return`${H}/${D}/${_}`},R=A=>{A&&(s(G(A)),N(!1))},F=A=>{A&&(r(G(A)),v(!1))};return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-gray-900 mb-2",children:"Raw Data OT Gap"}),e.jsx("p",{className:"text-gray-600",children:"Manage overtime gap records and adjustments"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[e.jsxs("div",{className:"lg:col-span-4",children:[e.jsxs("button",{onClick:U,className:"w-full flex items-center justify-center space-x-2 px-6 py-3 bg-gradient-to-r from-orange-600 to-red-600 text-white rounded-xl hover:from-orange-700 hover:to-red-700 transition-all shadow-lg shadow-orange-500/30 mb-4",children:[e.jsx(fs,{className:"w-5 h-5"}),e.jsx("span",{children:"Create New"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsx("input",{type:"radio",name:"viewMode",checked:n==="all",onChange:()=>l("all"),className:"w-4 h-4 text-orange-600 border-gray-300 focus:ring-2 focus:ring-orange-500"}),e.jsx("span",{className:"text-gray-700",children:"All Records"})]}),e.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsx("input",{type:"radio",name:"viewMode",checked:n==="specific",onChange:()=>l("specific"),className:"w-4 h-4 text-orange-600 border-gray-300 focus:ring-2 focus:ring-orange-500"}),e.jsx("span",{className:"text-gray-700",children:"Specific Records"})]})]})]}),e.jsx("div",{className:"lg:col-span-5",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Date From"}),e.jsxs("div",{className:"flex gap-0",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 z-10 pointer-events-none"}),e.jsx("input",{type:"text",value:t,onChange:A=>s(A.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-white border border-gray-300 rounded-l-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"MM/DD/YYYY"})]}),e.jsxs(Vy,{open:f,onOpenChange:N,children:[e.jsx(Yy,{asChild:!0,children:e.jsx("button",{type:"button",className:"flex items-center justify-center px-4 py-2.5 bg-blue-600 text-white rounded-r-xl hover:bg-blue-700 transition-colors shadow-sm",children:e.jsx(ds,{className:"w-4 h-4"})})}),e.jsx(Ky,{className:"w-auto p-0 bg-white",align:"start",children:e.jsx(Jy,{mode:"single",selected:re(t),onSelect:R,initialFocus:!0})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Date To"}),e.jsxs("div",{className:"flex gap-0",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 z-10 pointer-events-none"}),e.jsx("input",{type:"text",value:a,onChange:A=>r(A.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-white border border-gray-300 rounded-l-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"MM/DD/YYYY"})]}),e.jsxs(Vy,{open:p,onOpenChange:v,children:[e.jsx(Yy,{asChild:!0,children:e.jsx("button",{type:"button",className:"flex items-center justify-center px-4 py-2.5 bg-blue-600 text-white rounded-r-xl hover:bg-blue-700 transition-colors shadow-sm",children:e.jsx(ds,{className:"w-4 h-4"})})}),e.jsx(Ky,{className:"w-auto p-0 bg-white",align:"start",children:e.jsx(Jy,{mode:"single",selected:re(a),onSelect:F,initialFocus:!0})})]})]})]})]})}),e.jsx("div",{className:"lg:col-span-3 flex items-end",children:e.jsxs("button",{className:"w-full flex items-center justify-center space-x-2 px-6 py-3 bg-orange-600 text-white rounded-xl hover:bg-orange-700 transition-colors",children:[e.jsx(Gt,{className:"w-5 h-5"}),e.jsx("span",{children:"Search"})]})})]})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-gray-900",children:"OT Gap Records"}),e.jsxs("span",{className:"text-gray-600",style:{fontSize:"0.875rem"},children:["Showing ",le.length," ",le.length===1?"entry":"entries"]})]}),e.jsx("div",{className:"border border-gray-200 rounded-xl overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-red-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 whitespace-nowrap",style:{fontSize:"0.875rem"},children:"Actions"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 whitespace-nowrap",style:{fontSize:"0.875rem"},children:"Employee Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 whitespace-nowrap",style:{fontSize:"0.875rem"},children:"Employee Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 whitespace-nowrap",style:{fontSize:"0.875rem"},children:"Workshift Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 whitespace-nowrap",style:{fontSize:"0.875rem"},children:"Actual Date-In"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 whitespace-nowrap",style:{fontSize:"0.875rem"},children:"Date-In"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 whitespace-nowrap",style:{fontSize:"0.875rem"},children:"Time-In"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 whitespace-nowrap",style:{fontSize:"0.875rem"},children:"Date-Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 whitespace-nowrap",style:{fontSize:"0.875rem"},children:"Time-Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 whitespace-nowrap",style:{fontSize:"0.875rem"},children:"DayType"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:le.map((A,H)=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>pe(A),className:"text-orange-600 hover:text-orange-700 hover:bg-orange-50 p-1.5 rounded-lg transition-colors",children:"Edit"}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>W(A.empCode),className:"text-red-600 hover:text-red-700 hover:bg-red-50 p-1.5 rounded-lg transition-colors",children:"Delete"})]})}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:A.empCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:A.empName}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:A.workshiftCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:A.actualDateIn}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:A.dateIn}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:A.timeIn}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:A.dateOut}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:A.timeOut}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"px-2.5 py-1 bg-blue-100 text-blue-700 rounded-lg",style:{fontSize:"0.75rem"},children:A.dayType})})]},H))})]})})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("p",{className:"text-gray-600",style:{fontSize:"0.875rem"},children:["Showing 1 to ",le.length," of ",le.length," ",le.length===1?"entry":"entries"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"px-3 py-1 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-orange-600 text-white rounded-lg",children:"1"}),e.jsx("button",{className:"px-3 py-1 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:"Next"})]})]})]})]}),(i||x)&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between rounded-t-2xl",children:[e.jsx("h3",{className:"text-gray-900",children:x?"Edit Record":"Create New Record"}),e.jsx("button",{onClick:()=>{d(!1),h(!1)},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(et,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"p-6 space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Employee Code"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"text",value:y,onChange:A=>g(A.target.value),className:"flex-1 px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Enter employee code"}),e.jsx("button",{className:"px-4 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors",children:e.jsx(Gt,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"WorkShift Code"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"text",value:j,onChange:A=>C(A.target.value),className:"flex-1 px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Enter workshift code"}),e.jsx("button",{className:"px-4 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors",children:e.jsx(Gt,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Actual Date In"}),e.jsxs("div",{className:"relative",children:[e.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:S,onChange:A=>P(A.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"MM/DD/YYYY"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Date In"}),e.jsxs("div",{className:"relative",children:[e.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:k,onChange:A=>E(A.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"MM/DD/YYYY"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Time In"}),e.jsxs("div",{className:"relative",children:[e.jsx(xa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:M,onChange:A=>L(A.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"HH:MM AM/PM"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Date Out"}),e.jsxs("div",{className:"relative",children:[e.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:O,onChange:A=>q(A.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"MM/DD/YYYY"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Time Out"}),e.jsxs("div",{className:"relative",children:[e.jsx(xa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:B,onChange:A=>se(A.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"HH:MM AM/PM"})]})]})]}),e.jsxs("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 px-6 py-4 flex items-center justify-end space-x-3 rounded-b-2xl",children:[e.jsx("button",{onClick:()=>{d(!1),h(!1)},className:"px-6 py-2.5 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:Y,className:"flex items-center space-x-2 px-6 py-2.5 bg-gradient-to-r from-orange-600 to-red-600 text-white rounded-xl hover:from-orange-700 hover:to-red-700 transition-all shadow-lg shadow-orange-500/30",children:[e.jsx(Aa,{className:"w-4 h-4"}),e.jsx("span",{children:"Submit"})]})]})]})})]})}function Mr({onDateSelect:t,onClose:s}){const[a,r]=o.useState(new Date().getMonth()),[n,l]=o.useState(new Date().getFullYear()),i=["January","February","March","April","May","June","July","August","September","October","November","December"],d=(S,P)=>new Date(P,S+1,0).getDate(),x=(S,P)=>new Date(P,S,1).getDay(),h=[],m=new Date().getFullYear();for(let S=1900;S<=m+10;S++)h.push(S);const b=d(a,n),f=[];for(let S=1;S<=b;S++)f.push(S);const N=()=>{a===0?(r(11),l(n-1)):r(a-1)},p=()=>{a===11?(r(0),l(n+1)):r(a+1)},v=S=>{r(S)},y=S=>{l(S)},g=S=>{const P=`${a+1}/${S}/${n}`;t(P),s()},j=S=>{const P=`${a+1}/${S}/${n}`;t(P),s()},C=()=>{const S=d(a,n),P=x(a,n),k=[],E=P,M=a===0?11:a-1,L=a===0?n-1:n,O=d(M,L);for(let B=E-1;B>=0;B--)k.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:O-B},`prev-${B}`));for(let B=1;B<=S;B++)k.push(e.jsx("div",{onClick:()=>j(B),className:"text-center py-2 text-sm hover:bg-blue-100 cursor-pointer rounded",children:B},B));const q=42-k.length;for(let B=1;B<=q;B++)k.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:B},`next-${B}`));return k};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:s}),e.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg p-3 z-50",style:{width:"320px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("button",{onClick:N,type:"button",className:"p-1 hover:bg-gray-100 rounded",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("select",{value:a,onChange:S=>v(Number(S.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:i.map((S,P)=>e.jsx("option",{value:P,children:S},S))}),e.jsxs("select",{onChange:S=>g(Number(S.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700 w-16",children:[e.jsx("option",{value:"",children:"Day"}),f.map(S=>e.jsx("option",{value:S,children:S},S))]}),e.jsx("select",{value:n,onChange:S=>y(Number(S.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:h.map(S=>e.jsx("option",{value:S,children:S},S))})]}),e.jsx("button",{onClick:p,type:"button",className:"p-1 hover:bg-gray-100 rounded",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[e.jsx("div",{className:"text-center text-xs font-medium text-gray-600 py-1",children:"Su"}),e.jsx("div",{className:"text-center text-xs font-medium text-gray-600 py-1",children:"Mo"}),e.jsx("div",{className:"text-center text-xs font-medium text-gray-600 py-1",children:"Tu"}),e.jsx("div",{className:"text-center text-xs font-medium text-gray-600 py-1",children:"We"}),e.jsx("div",{className:"text-center text-xs font-medium text-gray-600 py-1",children:"Th"}),e.jsx("div",{className:"text-center text-xs font-medium text-gray-600 py-1",children:"Fr"}),e.jsx("div",{className:"text-center text-xs font-medium text-gray-600 py-1",children:"Sa"}),C()]})]})]})}function nr({isOpen:t,onClose:s,onSelect:a,employees:r,loading:n,error:l}){const[i,d]=o.useState(""),[x,h]=o.useState(1),m=20;o.useEffect(()=>{const g=j=>{j.key==="Escape"&&t&&s()};return t&&document.addEventListener("keydown",g),()=>{document.removeEventListener("keydown",g)}},[t,s]),o.useEffect(()=>{t&&(d(""),h(1))},[t]);const b=r.filter(g=>{const j=i.toLowerCase();return(g.empCode?.toLowerCase()||"").includes(j)||(g.name?.toLowerCase()||"").includes(j)||(g.groupCode?.toLowerCase()||"").includes(j)}),f=Math.ceil(b.length/m),N=(x-1)*m,p=N+m,v=b.slice(N,p),y=()=>{const g=[];if(f<=5)return Array.from({length:f},(P,k)=>k+1);g.push(1),x>3&&g.push("...");const C=Math.max(2,x-1),S=Math.min(f-1,x+1);for(let P=C;P<=S;P++)g.push(P);return x<f-2&&g.push("..."),g.push(f),g};return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:s}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Employee Code"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:i,onChange:g=>{d(g.target.value),h(1)},className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Search by code, name, or group..."})]}),l&&e.jsx("div",{className:"p-2 bg-red-50 border border-red-200 rounded mb-3",children:e.jsx("p",{className:"text-red-700 text-xs",children:l})}),n?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading employees..."})}):e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"EmpCode "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Name"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Group Code"})]})}),e.jsx("tbody",{children:v.length>0?v.map(g=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>{a(g.empCode,g.name),s()},children:[e.jsx("td",{className:"px-3 py-1.5",children:g.empCode}),e.jsx("td",{className:"px-3 py-1.5",children:g.name}),e.jsx("td",{className:"px-3 py-1.5",children:g.groupCode})]},g.empCode)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-3 py-4 text-center text-gray-500 text-sm",children:"No employees found"})})})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",b.length===0?0:N+1," to ",Math.min(p,b.length)," of ",b.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>h(g=>Math.max(g-1,1)),disabled:x===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),y().map((g,j)=>g==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${j}`):e.jsx("button",{onClick:()=>h(g),className:`px-2 py-1 rounded text-xs ${x===g?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:g},g)),e.jsx("button",{onClick:()=>h(g=>Math.min(g+1,f)),disabled:x===f||f===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})})]}):null}const nm="/Maintenance/EmployeeRawDataOTGap",vq="/Maintenance/EmployeeMasterFile",wq="/Maintenance/WorkShift",P2=()=>{const t=new Date;return`${String(t.getMonth()+1).padStart(2,"0")}/${String(t.getDate()).padStart(2,"0")}/${t.getFullYear()}`},Kc=t=>{if(!t)return new Date().toISOString();try{if(t.includes("/")){const[s,a,r]=t.split("/");return`${r}-${s.padStart(2,"0")}-${a.padStart(2,"0")}T00:00:00.000Z`}return new Date(t).toISOString()}catch{return new Date().toISOString()}},M2=(t,s="")=>{if(!t)return new Date().toISOString();try{let a=t;if(t.includes("/")){const[r,n,l]=t.split("/");a=`${l}-${r.padStart(2,"0")}-${n.padStart(2,"0")}`}if(s){const n=s.toUpperCase().trim().match(/^(\d{1,2}):(\d{2})\s?(AM|PM)$/);if(n){let l=parseInt(n[1]);const i=n[2];return n[3]==="PM"&&l!==12&&(l+=12),n[3]==="AM"&&l===12&&(l=0),`${a}T${String(l).padStart(2,"0")}:${i}:00.000Z`}}return`${a}T00:00:00.000Z`}catch{return new Date().toISOString()}},Ml=t=>{if(!t)return{date:"",time:""};try{const s=new Date(t),a=String(s.getUTCMonth()+1).padStart(2,"0"),r=String(s.getUTCDate()).padStart(2,"0"),n=s.getUTCFullYear();let l=s.getUTCHours();const i=String(s.getUTCMinutes()).padStart(2,"0"),d=l>=12?"PM":"AM";return l>12&&(l-=12),l===0&&(l=12),{date:`${a}/${r}/${n}`,time:`${String(l).padStart(2,"0")}:${i} ${d}`}}catch{return{date:"",time:""}}},I2=t=>{const s=t.trim().toUpperCase();if(!s)return"";const a=/^(0?[1-9]|1[0-2]):([0-5][0-9])\s?(AM|PM)$/i;if(a.test(s)){const r=s.match(a);return`${r[1].padStart(2,"0")}:${r[2]} ${r[3].toUpperCase()}`}return t};function Nq(){const[t,s]=o.useState(!1),[a,r]=o.useState("all"),[n,l]=o.useState(P2()),[i,d]=o.useState(P2()),[x,h]=o.useState(!1),[m,b]=o.useState(!1),[f,N]=o.useState(""),[p,v]=o.useState(""),[y,g]=o.useState(!1),[j,C]=o.useState([]),[S,P]=o.useState(!1),[k,E]=o.useState(""),[M,L]=o.useState("empCode"),[O,q]=o.useState("asc"),B=z=>{M===z?q(V=>V==="asc"?"desc":"asc"):(L(z),q("asc"))},[se,le]=o.useState(!1),[pe,U]=o.useState(null),[Y,W]=o.useState(!1),[re,G]=o.useState(""),[R,F]=o.useState(""),[A,H]=o.useState(""),[D,_]=o.useState(""),[xe,ge]=o.useState(""),[Ne,Ce]=o.useState(""),[fe,ue]=o.useState(""),[Oe,De]=o.useState(""),[Ae,Ee]=o.useState(""),[ze,ot]=o.useState(!1),[wt,Ie]=o.useState(!1),[ye,be]=o.useState(!1),[Me,Re]=o.useState(!1),[st,He]=o.useState(!1),[Ue,Ye]=o.useState(!1),[ht,ut]=o.useState([]),[vt,ve]=o.useState(!1),[Le,he]=o.useState(""),[Ve,xt]=o.useState(!1),[Pt,Lt]=o.useState(""),[It,qe]=o.useState([]),[Nt,gt]=o.useState(!1),[dt,kt]=o.useState(""),Dt=o.useCallback(async()=>{P(!0),E("");try{const z={dateFrom:Kc(n),dateTo:Kc(i)};a==="specific"&&f&&(z.empCode=f);const V=await ne.get(nm,{params:z});if(V.status===200&&V.data){const X=Array.isArray(V.data)?V.data:[],de=new Date(Kc(n)).setUTCHours(0,0,0,0),_e=new Date(Kc(i)).setUTCHours(23,59,0,0),Te=X.filter(je=>{if(!je.dateIn)return!1;const J=new Date(je.dateIn).getTime();if(J<de||J>_e)return!1;const we=!!je.dateOut&&je.dateOut.trim()!=="",I=!!je.timeIn,Z=!!je.timeOut,Q=we&&I&&Z;return t?!Q:Q});C(Te)}}catch(z){const V=z.response?.data?.message||z.message||"Failed to load records";E(V),console.error("Error fetching OT gap records:",z)}finally{P(!1)}},[n,i,t,a,f]),Ge=async()=>{ve(!0),he("");try{const z=await ne.get(vq);if(z.status===200&&z.data){const V=z.data.map(X=>({empCode:X.empCode||X.code||"",name:`${X.lName||""}, ${X.fName||""} ${X.mName||""}`.trim(),groupCode:X.grpCode||""}));ut(V)}}catch(z){const V=z.response?.data?.message||z.message||"Failed to load employees";he(V),console.error("Error fetching employees:",z)}finally{ve(!1)}},Ke=o.useCallback(async()=>{gt(!0),kt("");try{const z=await ne.get(wq);if(z.status===200&&z.data){const V=Array.isArray(z.data)?z.data:[];qe(V.map(X=>({code:X.code||X.workShiftCode||X.workshiftCode||"",description:X.description||X.workShiftDescription||""})))}}catch(z){const V=z.response?.data?.message||z.message||"Failed to load workshifts";kt(V),console.error("Error fetching workshifts:",z)}finally{gt(!1)}},[]),ie=async()=>{if(!R.trim()){G("Please select an Employee Code.");return}if(!Ne.trim()){G("Date In is required.");return}G(""),W(!0);const z={empCode:R,actualDateIn:Kc(xe||Ne),dateIn:Kc(Ne),timeIn:M2(Ne,fe),dateOut:Kc(Oe||Ne),timeOut:M2(Oe||Ne,Ae),workShiftCode:D,dayType:"",otGap:ze,isLateFilingProcessed:wt};try{pe!==null?await ne.put(`${nm}/${pe}`,{...z,id:pe}):await ne.post(nm,z),le(!1),U(null),await Dt()}catch(V){const X=V.response?.data?.message||V.message||"Failed to save record";G(X),console.error("Error saving OT gap record:",V)}finally{W(!1)}},ke=z=>{U(z.id),F(z.empCode);const V=ht.find(J=>J.empCode===z.empCode);H(V?.name??""),_(z.workShiftCode);const X=Ml(z.actualDateIn),de=Ml(z.dateIn),_e=Ml(z.timeIn),Te=Ml(z.dateOut),je=Ml(z.timeOut);ge(X.date),Ce(de.date),ue(_e.time),De(Te.date),Ee(je.time),ot(z.otGap),Ie(z.isLateFilingProcessed),G(""),le(!0)},me=async z=>{if(window.confirm("Are you sure you want to delete this record?"))try{await ne.delete(`${nm}/${z}`),C(V=>V.filter(X=>X.id!==z))}catch(V){const X=V.response?.data?.message||V.message||"Failed to delete record";alert(X),console.error("Error deleting OT gap record:",V)}},Ze=()=>{U(null),F(""),H(""),_(""),ge(""),Ce(""),ue(""),De(""),Ee(""),ot(!1),Ie(!1),G(""),le(!0)},it=z=>{const V=ht.find(X=>X.empCode===z);F(z),H(V?.name??""),Ye(!1)},_t=z=>{const V=ht.find(X=>X.empCode===z);N(z),v(V?.name??""),g(!1)},nt=z=>{_(z),xt(!1)},mt=It.filter(z=>z.code.toLowerCase().includes(Pt.toLowerCase())||z.description.toLowerCase().includes(Pt.toLowerCase()));o.useEffect(()=>{Ge()},[]),o.useEffect(()=>{Ve&&It.length===0&&Ke()},[Ve,It.length,Ke]),o.useEffect(()=>{const z=V=>{if(V.key==="Escape"){if(Ue){Ye(!1);return}if(y){g(!1);return}if(Ve){xt(!1);return}if(se){le(!1);return}h(!1),b(!1),be(!1),Re(!1),He(!1)}};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[Ue,y,Ve,se]);const ae=({col:z})=>M!==z?e.jsxs("span",{className:"inline-flex flex-col ml-1 leading-none",style:{fontSize:"8px",verticalAlign:"middle"},children:[e.jsx("span",{className:"text-gray-400",children:""}),e.jsx("span",{className:"text-gray-400",children:""})]}):e.jsxs("span",{className:"inline-flex flex-col ml-1 leading-none",style:{fontSize:"8px",verticalAlign:"middle"},children:[e.jsx("span",{className:O==="asc"?"text-blue-600":"text-gray-300",children:""}),e.jsx("span",{className:O==="desc"?"text-blue-600":"text-gray-300",children:""})]}),te=[...a==="specific"&&f?j.filter(z=>z.empCode===f):j].sort((z,V)=>{let X="",de="";return M==="empName"?(X=ht.find(_e=>_e.empCode===z.empCode)?.name??"",de=ht.find(_e=>_e.empCode===V.empCode)?.name??""):M==="otGap"?(X=z.otGap?1:0,de=V.otGap?1:0):["actualDateIn","dateIn","timeIn","dateOut","timeOut"].includes(M)?(X=z[M]?new Date(z[M]).getTime():0,de=V[M]?new Date(V[M]).getTime():0):(X=z[M]??"",de=V[M]??""),X<de?O==="asc"?-1:1:X>de?O==="asc"?1:-1:0});return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white text-xl font-semibold",children:"Rawdata OT Gap"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Manage overtime gap records and adjustments for employee timekeeping."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Track employee overtime gaps","Manage workshift assignments","Edit time records","Review day type classifications"].map(z=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:z})]},z))})]})]})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-4",children:[e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:Ze,children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t,onChange:z=>s(z.target.checked),className:"w-4 h-4 text-blue-600 rounded"}),e.jsx("span",{className:"text-gray-700",children:"Incomplete Logs"})]}),e.jsx("div",{className:"flex items-center gap-4",children:["all","specific"].map(z=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"filterType",checked:a===z,onChange:()=>{r(z),z==="all"&&(N(""),v(""))},className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-gray-700 capitalize",children:z})]},z))})]}),a==="specific"&&e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4 bg-blue-50 border border-blue-200 rounded-lg p-3",children:[e.jsx("span",{className:"text-sm font-medium text-blue-700 whitespace-nowrap",children:"Employee:"}),e.jsx("input",{type:"text",value:f,readOnly:!0,placeholder:"Code",className:"w-28 px-3 py-1.5 border border-gray-300 rounded text-sm bg-white"}),e.jsx("input",{type:"text",value:p,readOnly:!0,placeholder:"Employee name",className:"flex-1 min-w-[160px] px-3 py-1.5 border border-gray-300 rounded text-sm bg-white"}),e.jsxs("button",{onClick:()=>g(!0),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-1 text-sm",children:[e.jsx(Gt,{className:"w-3.5 h-3.5"})," Browse"]}),f&&e.jsxs("button",{onClick:()=>{N(""),v("")},className:"px-3 py-1.5 bg-red-500 text-white rounded-lg hover:bg-red-600 flex items-center gap-1 text-sm",children:[e.jsx(et,{className:"w-3.5 h-3.5"})," Clear"]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6 bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm font-bold text-gray-700 whitespace-nowrap",children:"Date From"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:n,onChange:z=>l(z.target.value),placeholder:"MM/DD/YYYY",className:"w-34 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-9"}),e.jsx("button",{type:"button",onClick:()=>h(!x),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-600 text-white rounded hover:bg-blue-700",children:e.jsx(ds,{className:"w-3.5 h-3.5"})}),x&&e.jsx("div",{className:"absolute top-full left-0 mt-1 z-50",children:e.jsx(Mr,{onDateSelect:z=>{l(z),h(!1)},onClose:()=>h(!1)})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm font-bold text-gray-700 whitespace-nowrap",children:"Date To"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:i,onChange:z=>d(z.target.value),placeholder:"MM/DD/YYYY",className:"w-34 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-9"}),e.jsx("button",{type:"button",onClick:()=>b(!m),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-600 text-white rounded hover:bg-blue-700",children:e.jsx(ds,{className:"w-3.5 h-3.5"})}),m&&e.jsx("div",{className:"absolute top-full left-0 mt-1 z-50",children:e.jsx(Mr,{onDateSelect:z=>{d(z),b(!1)},onClose:()=>b(!1)})})]})]}),e.jsxs("button",{onClick:Dt,disabled:S,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-60",children:[S?e.jsx(Ea,{className:"w-4 h-4 animate-spin"}):e.jsx(Gt,{className:"w-4 h-4"}),"Search"]})]}),k&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700 text-sm",children:[e.jsx(ya,{className:"w-4 h-4 flex-shrink-0"}),k]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"}),[{key:"empCode",label:"Employee Code"},{key:"empName",label:"Employee Name"},{key:"workShiftCode",label:"Workshift Code"},{key:"actualDateIn",label:"Actual Date-In"},{key:"dateIn",label:"Date-In"},{key:"timeIn",label:"Time-In"},{key:"dateOut",label:"Date-Out"},{key:"timeOut",label:"Time-Out"},{key:"dayType",label:"Day Type"},{key:"otGap",label:"OT Gap"}].map(({key:z,label:V})=>e.jsxs("th",{onClick:()=>B(z),className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap cursor-pointer select-none hover:bg-gray-200 transition-colors",children:[V,e.jsx(ae,{col:z})]},z))]})}),e.jsx("tbody",{children:S?e.jsx("tr",{children:e.jsx("td",{colSpan:11,className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-500",children:[e.jsx(Ea,{className:"w-5 h-5 animate-spin"}),"Loading data..."]})})}):j.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:11,className:"px-6 py-8 text-center text-gray-500",children:"No data available. Use Search to load records."})}):te.map(z=>{const V=Ml(z.actualDateIn),X=Ml(z.dateIn),de=Ml(z.timeIn),_e=Ml(z.dateOut),Te=Ml(z.timeOut),je=ht.find(J=>J.empCode===z.empCode);return e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>ke(z),className:"p-1 text-blue-600 hover:bg-blue-100 rounded",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>me(z.id),className:"p-1 text-red-600 hover:bg-red-100 rounded",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap font-mono",children:z.empCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:je?.name??""}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:z.workShiftCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:V.date}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:X.date}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:de.time}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:_e.date}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:Te.time}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:z.dayType}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${z.otGap?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-600"}`,children:z.otGap?"Yes":"No"})})]},z.id)})})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx("div",{className:"text-gray-600 text-sm",children:j.length>0?`Showing 1 to ${j.length} of ${j.length} entries`:"No entries"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm disabled:opacity-50",disabled:!0,children:"Previous"}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm disabled:opacity-50",disabled:!0,children:"Next"})]})]}),se&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:()=>le(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white px-5 py-3 border-b border-gray-200 flex items-center justify-between z-10",children:[e.jsx("h2",{className:"text-gray-800 font-semibold",children:pe!==null?"Edit Record":"Create New"}),e.jsx("button",{onClick:()=>le(!1),className:"text-gray-500 hover:text-gray-700",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-5 space-y-3",children:[e.jsx("h3",{className:"text-blue-600 font-medium",children:"Rawdata OT Gap"}),re&&e.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded flex items-center gap-2 text-red-700 text-sm",children:[e.jsx(ya,{className:"w-4 h-4 flex-shrink-0"}),re]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm flex-shrink-0",children:"Employee Code :"}),e.jsx("input",{type:"text",value:R,readOnly:!0,placeholder:"Select employee...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm bg-gray-50"}),e.jsx("button",{onClick:()=>Ye(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex-shrink-0",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{F(""),H("")},className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 flex-shrink-0",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm flex-shrink-0",children:"Employee Name :"}),e.jsx("input",{type:"text",value:A,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-200 rounded text-sm bg-gray-50 text-gray-600"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm flex-shrink-0",children:"Workshift Code :"}),e.jsx("input",{type:"text",value:D,readOnly:!0,placeholder:"Select workshift...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm bg-gray-50"}),e.jsx("button",{onClick:()=>{Lt(""),xt(!0)},className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex-shrink-0",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>_(""),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 flex-shrink-0",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm flex-shrink-0",children:"Actual Date-In :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:xe,onChange:z=>ge(z.target.value),placeholder:"MM/DD/YYYY",className:"w-full px-3 py-1.5 border border-gray-300 rounded text-sm pr-9"}),e.jsx("button",{type:"button",onClick:()=>be(!ye),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:e.jsx(ds,{className:"w-3.5 h-3.5"})}),ye&&e.jsx("div",{className:"absolute top-full left-0 mt-1 z-50",children:e.jsx(Mr,{onDateSelect:z=>{ge(z),be(!1)},onClose:()=>be(!1)})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm flex-shrink-0",children:"Date-In :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:Ne,onChange:z=>Ce(z.target.value),placeholder:"MM/DD/YYYY",className:"w-full px-3 py-1.5 border border-gray-300 rounded text-sm pr-9"}),e.jsx("button",{type:"button",onClick:()=>Re(!Me),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:e.jsx(ds,{className:"w-3.5 h-3.5"})}),Me&&e.jsx("div",{className:"absolute top-full left-0 mt-1 z-50",children:e.jsx(Mr,{onDateSelect:z=>{Ce(z),Re(!1)},onClose:()=>Re(!1)})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm flex-shrink-0",children:"Time-In :"}),e.jsx("input",{type:"text",value:fe,onChange:z=>ue(z.target.value),onBlur:()=>ue(I2(fe)),placeholder:"HH:MM AM/PM",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm flex-shrink-0",children:"Date-Out :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:Oe,onChange:z=>De(z.target.value),placeholder:"MM/DD/YYYY",className:"w-full px-3 py-1.5 border border-gray-300 rounded text-sm pr-9"}),e.jsx("button",{type:"button",onClick:()=>He(!st),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:e.jsx(ds,{className:"w-3.5 h-3.5"})}),st&&e.jsx("div",{className:"absolute top-full left-0 mt-1 z-50",children:e.jsx(Mr,{onDateSelect:z=>{De(z),He(!1)},onClose:()=>He(!1)})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm flex-shrink-0",children:"Time-Out :"}),e.jsx("input",{type:"text",value:Ae,onChange:z=>Ee(z.target.value),onBlur:()=>Ee(I2(Ae)),placeholder:"HH:MM AM/PM",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm flex-shrink-0",children:"OT Gap :"}),e.jsx("input",{type:"checkbox",checked:ze,onChange:z=>ot(z.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm flex-shrink-0",children:"Late Filing Processed :"}),e.jsx("input",{type:"checkbox",checked:wt,onChange:z=>Ie(z.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded"})]}),e.jsxs("div",{className:"flex gap-3 pt-2 border-t border-gray-100",children:[e.jsxs("button",{onClick:ie,disabled:Y,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 text-sm disabled:opacity-60",children:[Y&&e.jsx(Ea,{className:"w-4 h-4 animate-spin"}),pe!==null?"Update":"Submit"]}),e.jsx("button",{onClick:()=>le(!1),className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors text-sm",children:"Back to List"})]})]})]})})]}),e.jsx(nr,{isOpen:Ue,onClose:()=>Ye(!1),onSelect:z=>it(z),employees:ht,loading:vt,error:Le}),e.jsx(nr,{isOpen:y,onClose:()=>g(!1),onSelect:z=>_t(z),employees:ht,loading:vt,error:Le}),Ve&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:()=>xt(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-lg max-h-[80vh] flex flex-col",children:[e.jsxs("div",{className:"bg-gray-100 px-4 py-2.5 border-b border-gray-200 flex items-center justify-between rounded-t-lg",children:[e.jsx("h2",{className:"text-gray-800 font-medium text-sm",children:"Search  Workshift Code"}),e.jsx("button",{onClick:()=>xt(!1),className:"text-gray-500 hover:text-gray-700",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-4 flex flex-col flex-1 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Gt,{className:"w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:Pt,autoFocus:!0,onChange:z=>Lt(z.target.value),placeholder:"Search workshifts...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),dt&&e.jsxs("div",{className:"mb-3 p-2 bg-red-50 border border-red-200 rounded text-red-700 text-sm flex items-center gap-2",children:[e.jsx(ya,{className:"w-4 h-4"})," ",dt]}),e.jsx("div",{className:"flex-1 overflow-y-auto border border-gray-200 rounded",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-50 border-b-2 border-gray-200",children:[e.jsx("th",{className:"px-3 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-3 py-2 text-left text-gray-700",children:"Description"})]})}),e.jsx("tbody",{children:Nt?e.jsx("tr",{children:e.jsxs("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:[e.jsx(Ea,{className:"w-5 h-5 animate-spin inline mr-2"}),"Loading..."]})}):mt.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:"No workshifts found"})}):mt.map(z=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-blue-50 cursor-pointer transition-colors",onClick:()=>nt(z.code),children:[e.jsx("td",{className:"px-3 py-2 font-mono font-medium",children:z.code}),e.jsx("td",{className:"px-3 py-2",children:z.description})]},z.code))})]})})]})]})})]})]})]})}),e.jsx(Zt,{})]})}function Er({onTimeSelect:t,onClose:s,initialTime:a=""}){const[r,n]=o.useState("12"),[l,i]=o.useState("00"),[d,x]=o.useState("AM");o.useEffect(()=>{if(a){const f=a.match(/^(\d{1,2}):(\d{2})\s?(AM|PM)$/i);f&&(n(f[1].padStart(2,"0")),i(f[2]),x(f[3].toUpperCase()))}},[a]);const h=()=>{const f=`${r.padStart(2,"0")}:${l} ${d}`;t(f),s()},m=Array.from({length:12},(f,N)=>(N+1).toString().padStart(2,"0")),b=Array.from({length:60},(f,N)=>N.toString().padStart(2,"0"));return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/20 z-40",onClick:s}),e.jsxs("div",{className:"absolute top-full left-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-2xl z-50 w-80",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-4 py-3 rounded-t-lg flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xa,{className:"w-5 h-5 text-white"}),e.jsx("h3",{className:"text-sm font-semibold text-white",children:"Select Time"})]}),e.jsx("button",{onClick:s,className:"text-white/80 hover:text-white transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-4xl font-bold text-gray-800",children:[e.jsx("span",{className:"bg-white px-4 py-2 rounded-lg shadow-sm min-w-[70px] text-center",children:r}),e.jsx("span",{className:"text-gray-400",children:":"}),e.jsx("span",{className:"bg-white px-4 py-2 rounded-lg shadow-sm min-w-[70px] text-center",children:l}),e.jsx("span",{className:"bg-white px-4 py-2 rounded-lg shadow-sm min-w-[70px] text-center text-2xl",children:d})]})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Hour"}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:r,onChange:f=>n(f.target.value),className:"w-full px-3 py-2.5 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center text-lg font-semibold appearance-none bg-white cursor-pointer hover:border-gray-300 transition-colors",children:m.map(f=>e.jsx("option",{value:f,children:f},f))}),e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Minute"}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:l,onChange:f=>i(f.target.value),className:"w-full px-3 py-2.5 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center text-lg font-semibold appearance-none bg-white cursor-pointer hover:border-gray-300 transition-colors",children:b.map(f=>e.jsx("option",{value:f,children:f},f))}),e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Period"}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("button",{type:"button",onClick:()=>x("AM"),className:`px-3 py-1.5 rounded-lg text-sm font-semibold transition-all ${d==="AM"?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"AM"}),e.jsx("button",{type:"button",onClick:()=>x("PM"),className:`px-3 py-1.5 rounded-lg text-sm font-semibold transition-all ${d==="PM"?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"PM"})]})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Quick Select"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:[{label:"9:00 AM",h:"09",m:"00",p:"AM"},{label:"12:00 PM",h:"12",m:"00",p:"PM"},{label:"1:00 PM",h:"01",m:"00",p:"PM"},{label:"5:00 PM",h:"05",m:"00",p:"PM"}].map(({label:f,h:N,m:p,p:v})=>e.jsx("button",{type:"button",onClick:()=>{n(N),i(p),x(v)},className:"px-2 py-1.5 text-xs font-medium text-gray-600 bg-gray-100 rounded hover:bg-gray-200 transition-colors",children:f},f))})]})]}),e.jsxs("div",{className:"px-4 pb-4 flex gap-2",children:[e.jsx("button",{onClick:s,className:"flex-1 px-4 py-2.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-semibold",children:"Cancel"}),e.jsx("button",{onClick:h,className:"flex-1 px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-semibold shadow-sm",children:"OK"})]})]})]})}const om="/Maintenance/EmployeeRawData/StraightDuty",jq="/Fs/Process/Device/BorrowedDeviceName",Cq="/Maintenance/WorkShift",Sq="/Maintenance/EmployeeMasterFile",Wr=(t,s="")=>{if(!t)return new Date().toISOString();try{let a=t;if(t.includes("/")){const[r,n,l]=t.split("/");a=`${l}-${r.padStart(2,"0")}-${n.padStart(2,"0")}`}if(s){const n=s.toUpperCase().trim().match(/^(\d{1,2}):(\d{2})\s?(AM|PM)$/);if(n){let l=parseInt(n[1]);const i=n[2],d=n[3];return d==="PM"&&l!==12&&(l+=12),d==="AM"&&l===12&&(l=0),`${a}T${String(l).padStart(2,"0")}:${i}:00.000Z`}}return`${a}T00:00:00.000Z`}catch{return new Date().toISOString()}},Ga=t=>{if(!t)return{date:"",time:""};try{const s=new Date(t),a=String(s.getUTCMonth()+1).padStart(2,"0"),r=String(s.getUTCDate()).padStart(2,"0"),n=s.getUTCFullYear();let l=s.getUTCHours();const i=String(s.getUTCMinutes()).padStart(2,"0"),d=l>=12?"PM":"AM";return l>12&&(l-=12),l===0&&(l=12),{date:`${a}/${r}/${n}`,time:`${String(l).padStart(2,"0")}:${i} ${d}`}}catch{return{date:"",time:""}}},kq=t=>{const s=t.trim().toUpperCase();if(!s)return"";const a=/^(0?[1-9]|1[0-2]):([0-5][0-9])\s?(AM|PM)$/i;if(a.test(s)){const r=s.match(a);return`${r[1].padStart(2,"0")}:${r[2]} ${r[3].toUpperCase()}`}return t},L2=()=>{const t=new Date;return`${String(t.getMonth()+1).padStart(2,"0")}/${String(t.getDate()).padStart(2,"0")}/${t.getFullYear()}`};function Dq(){const[t,s]=o.useState(L2()),[a,r]=o.useState(L2()),[n,l]=o.useState(!0),[i,d]=o.useState("all"),[x,h]=o.useState(!1),[m,b]=o.useState(!1),[f,N]=o.useState([]),[p,v]=o.useState(!1),[y,g]=o.useState(""),[j,C]=o.useState({break1Out:!0,break1In:!0,break2Out:!1,break2In:!1,break3Out:!0,break3In:!0,terminalId:!1,secondDayType:!1,remarks:!1,entryFlag:!1,isLateFiling:!1,borrowedDeviceName:!1,approvedOvertime:!1,deviceName:!1,selectAll:!1}),[S,P]=o.useState(!1),[k,E]=o.useState(null),[M,L]=o.useState(!1),[O,q]=o.useState(""),[B,se]=o.useState(""),[le,pe]=o.useState(""),[U,Y]=o.useState(""),[W,re]=o.useState(""),[G,R]=o.useState(""),[F,A]=o.useState(""),[H,D]=o.useState(""),[_,xe]=o.useState(""),[ge,Ne]=o.useState(""),[Ce,fe]=o.useState(""),[ue,Oe]=o.useState(""),[De,Ae]=o.useState(""),[Ee,ze]=o.useState(""),[ot,wt]=o.useState(""),[Ie,ye]=o.useState(""),[be,Me]=o.useState(!1),[Re,st]=o.useState(!1),[He,Ue]=o.useState(""),[Ye,ht]=o.useState(""),[ut,vt]=o.useState(!1),[ve,Le]=o.useState(""),[he,Ve]=o.useState(""),[xt,Pt]=o.useState(""),[Lt,It]=o.useState(""),[qe,Nt]=o.useState(!1),[gt,dt]=o.useState(""),[kt,Dt]=o.useState(!1),[Ge,Ke]=o.useState(!1),[ie,ke]=o.useState(!1),[me,Ze]=o.useState(!1),[it,_t]=o.useState(!1),[nt,mt]=o.useState(!1),[ae,ce]=o.useState(!1),[te,z]=o.useState(!1),[V,X]=o.useState(!1),[de,_e]=o.useState(!1),[Te,je]=o.useState(!1),[J,we]=o.useState(!1),[I,Z]=o.useState(!1),[Q,We]=o.useState(!1),[ft,$t]=o.useState(!1),[yt,$e]=o.useState(!1),[bt,ts]=o.useState(!1),[Ts,at]=o.useState([]),[Jt,jt]=o.useState(!1),[zt,cs]=o.useState(""),[Js,Tt]=o.useState(""),[Ut,hs]=o.useState(""),[Na,ha]=o.useState(!1),[ma,Ba]=o.useState(!1),[hr,ta]=o.useState(""),[sa,jr]=o.useState([]),[rt,Vt]=o.useState(!1),[vs,Ys]=o.useState(""),[Ks,qs]=o.useState(!1),[la,qa]=o.useState(""),[ia,ca]=o.useState([]),[va,tt]=o.useState(!1),[ns,ks]=o.useState(""),pa=o.useCallback(async()=>{v(!0),g("");try{const Qe={dateFrom:Wr(t),dateTo:Wr(a)};i==="specific"&&Js&&(Qe.empCode=Js);const ps=await ne.get(om,{params:Qe});if(ps.status===200&&ps.data){const _s=Array.isArray(ps.data)?ps.data:[],Xt=new Date(Wr(t)).setUTCHours(0,0,0,0),Ra=new Date(Wr(a)).setUTCHours(23,59,0,0),Qa=_s.filter(or=>{if(!or.rawDateIn)return!1;const wa=new Date(or.rawDateIn).getTime();if(wa<Xt||wa>Ra)return!1;const lt=!!or.rawDateOut&&or.rawDateOut.trim()!=="",Ws=!!or.rawTimeIn,Or=!!or.rawTimeOut,un=lt&&Ws&&Or;return n?!un:un});N(Qa)}}catch(Qe){const ps=Qe.response?.data?.message||Qe.message||"Failed to load raw data";g(ps),console.error("Error fetching two shifts raw data:",Qe)}finally{v(!1)}},[t,a,n,i,Js]),Qs=o.useCallback(async()=>{tt(!0),ks("");try{const Qe=await ne.get(jq);Qe.status===200&&Qe.data&&ca(Array.isArray(Qe.data)?Qe.data:[])}catch(Qe){const ps=Qe.response?.data?.message||Qe.message||"Failed to load devices";ks(ps),console.error("Error fetching devices:",Qe)}finally{tt(!1)}},[]),ja=o.useCallback(async()=>{Vt(!0),Ys("");try{const Qe=await ne.get(Cq);if(Qe.status===200&&Qe.data){const ps=Array.isArray(Qe.data)?Qe.data:[];jr(ps.map(_s=>({code:_s.code||_s.workShiftCode||_s.workshiftCode||"",description:_s.description||_s.workShiftDescription||""})))}}catch(Qe){const ps=Qe.response?.data?.message||Qe.message||"Failed to load workshifts";Ys(ps),console.error("Error fetching workshifts:",Qe)}finally{Vt(!1)}},[]),Fe=async()=>{jt(!0),cs("");try{const Qe=await ne.get(Sq);if(Qe.status===200&&Qe.data){const ps=Qe.data.map(_s=>({empCode:_s.empCode||_s.code||"",name:`${_s.lName||""}, ${_s.fName||""} ${_s.mName||""}`.trim(),groupCode:_s.grpCode||""}));at(ps)}}catch(Qe){const ps=Qe.response?.data?.message||Qe.message||"Failed to load employees";cs(ps),console.error("Error fetching employees:",Qe)}finally{jt(!1)}},At=async()=>{if(!B.trim()){q("Please select an Employee Code.");return}if(!W.trim()){q("Date In is required.");return}q(""),L(!0);const Qe={empCode:B,workShiftCode:U,dayType:"Regular",rawDateIn:Wr(W),rawTimeIn:Wr(W,G),actualDateIn:Wr(F||W),actualTimeIn2:Wr(F||W,H),rawBreak1Out:Wr(W,_),rawBreak1In:Wr(W,ge),rawBreak2Out:Wr(W,Ce),rawBreak2In:Wr(W,ue),rawBreak3Out:Wr(W,De),rawBreak3In:Wr(W,Ee),rawDateOut:Wr(ot||W),rawTimeOut:Wr(ot||W,Ie),rawotApproved:be,rawRemarks:He,isLateFiling:Re,bDeviceName:Ye,rawTardiness:!1,rawUndertime:!1,rawOT:!1,rawNightDiff:!1,rawOtherEarnings:!1,rawUnproductive:!1,rawDisplDateFrom:Wr(t),rawDisplDateTo:Wr(a),isSuspended:!1,rawNoofDays:!1,dayType2:"",actualDateIn2:"",entryFlag:"",terminalID:"",dayTypeDOLE:"",aprOTTime:"",deviceNameIn:"",deviceNameOut:"",isLateFilingProcessed:!1,post_Tardy:!1,post_UT:!1,post_OT:!1,post_Earn:!1,post_ND:!1,post_NoOfDays:!1};try{k!==null?await ne.put(`${om}/${k}`,{...Qe,id:k}):await ne.post(om,Qe),P(!1),E(null),await pa()}catch(ps){const _s=ps.response?.data?.message||ps.message||"Failed to save entry";q(_s),console.error("Error saving two shifts raw data:",ps)}finally{L(!1)}},Mt=Qe=>{E(Qe.id),se(Qe.empCode),Y(Qe.workShiftCode);const ps=Ga(Qe.rawDateIn),_s=Ga(Qe.rawTimeIn),Xt=Ga(Qe.actualDateIn),Ra=Ga(Qe.actualTimeIn2),Qa=Ga(Qe.rawBreak1Out),or=Ga(Qe.rawBreak1In),wa=Ga(Qe.rawBreak2Out),lt=Ga(Qe.rawBreak2In),Ws=Ga(Qe.rawBreak3Out),Or=Ga(Qe.rawBreak3In),un=Ga(Qe.rawDateOut),no=Ga(Qe.rawTimeOut);re(ps.date),R(_s.time),A(Xt.date),D(Ra.time),xe(Qa.time),Ne(or.time),fe(wa.time),Oe(lt.time),Ae(Ws.time),ze(Or.time),wt(un.date),ye(no.time),Me(Qe.rawotApproved),st(Qe.isLateFiling),Ue(Qe.rawRemarks),ht(Qe.bDeviceName),q(""),P(!0)},fa=async Qe=>{if(confirm("Are you sure you want to delete this entry?"))try{await ne.delete(`${om}/${Qe}`),N(ps=>ps.filter(_s=>_s.id!==Qe))}catch(ps){const _s=ps.response?.data?.message||ps.message||"Failed to delete entry";alert(_s),console.error("Error deleting two shifts raw data:",ps)}},Bs=()=>{E(null),se(""),pe(""),Y(""),re(""),R(""),A(""),D(""),xe(""),Ne(""),fe(""),Oe(""),Ae(""),ze(""),wt(""),ye(""),Me(!1),st(!1),Ue(""),ht(""),vt(!1),Le(""),Ve(""),Pt(""),It(""),Nt(!1),dt(""),q(""),P(!0)},Ca=(Qe,ps)=>{se(Qe),pe(ps),ts(!1)},Jr=(Qe,ps)=>{Tt(Qe),hs(ps),ha(!1)},cn=Qe=>{Y(Qe),Ba(!1)},dn=Qe=>{dt(Qe),$e(!1)},Lr=Qe=>{ht(Qe),qs(!1)},Qr=sa.filter(Qe=>Qe.code.toLowerCase().includes(hr.toLowerCase())||Qe.description.toLowerCase().includes(hr.toLowerCase())),ao=ia.filter(Qe=>Qe.code.toLowerCase().includes(la.toLowerCase())||Qe.description.toLowerCase().includes(la.toLowerCase())),En=Qe=>{C(ps=>({...ps,[Qe]:!ps[Qe]}))},Rn=()=>{const Qe=!j.selectAll;C({break1Out:Qe,break1In:Qe,break2Out:Qe,break2In:Qe,break3Out:Qe,break3In:Qe,terminalId:Qe,secondDayType:Qe,remarks:Qe,entryFlag:Qe,isLateFiling:Qe,borrowedDeviceName:Qe,approvedOvertime:Qe,deviceName:Qe,selectAll:Qe})};o.useEffect(()=>{Fe()},[]),o.useEffect(()=>{const Qe=ps=>{if(ps.key==="Escape"){if(bt){ts(!1);return}if(Na){ha(!1);return}if(ma){Ba(!1);return}if(Ks){qs(!1);return}if(S){P(!1);return}h(!1),b(!1),Dt(!1),Ke(!1),ke(!1),Ze(!1),_t(!1),mt(!1),ce(!1),z(!1),X(!1),_e(!1),je(!1),we(!1),Z(!1),We(!1),$t(!1)}};return document.addEventListener("keydown",Qe),()=>document.removeEventListener("keydown",Qe)},[bt,Na,ma,Ks,S]),o.useEffect(()=>{ma&&sa.length===0&&ja()},[ma,sa.length,ja]),o.useEffect(()=>{Ks&&Qs()},[Ks,Qs]);const Xa=Qe=>ps=>Qe(ps.target.value),Ja=(Qe,ps)=>()=>ps(kq(Qe)),ro=(Qe,ps,_s,Xt,Ra)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm font-semibold whitespace-nowrap",children:Qe}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:ps,onChange:Qa=>_s(Qa.target.value),placeholder:"MM/DD/YYYY",className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("button",{type:"button",onClick:()=>Ra(!Xt),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:e.jsx(ds,{className:"w-3.5 h-3.5"})}),Xt&&e.jsx(Mr,{onDateSelect:Qa=>{_s(Qa),Ra(!1)},onClose:()=>Ra(!1)})]})]});return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white text-xl font-semibold",children:"Rawdata On Straight Duty"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Manage and view employee raw time data for straight duty shifts, including clock in/out times, breaks, and overtime approvals for accurate payroll processing."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Employee time tracking","Break time management","Overtime approval tracking","Workshift assignment"].map(Qe=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:Qe})]},Qe))})]})]})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:Bs,children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n,onChange:Qe=>l(Qe.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded"}),e.jsx("span",{className:"text-gray-700",children:"Incomplete Logs"})]}),e.jsx("div",{className:"flex items-center gap-4",children:["all","specific"].map(Qe=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",checked:i===Qe,onChange:()=>{d(Qe),Qe==="all"&&(Tt(""),hs(""))},className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-gray-700 capitalize",children:Qe})]},Qe))})]}),i==="specific"&&e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4 bg-blue-50 border border-blue-200 rounded-lg p-3",children:[e.jsx("span",{className:"text-sm font-medium text-blue-700 whitespace-nowrap",children:"Employee:"}),e.jsx("input",{type:"text",value:Js,readOnly:!0,placeholder:"Select employee...",className:"w-32 px-3 py-1.5 border border-gray-300 rounded text-sm bg-white"}),e.jsx("input",{type:"text",value:Ut,readOnly:!0,placeholder:"Employee name",className:"flex-1 min-w-[160px] px-3 py-1.5 border border-gray-300 rounded text-sm bg-white"}),e.jsxs("button",{onClick:()=>ha(!0),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-1 text-sm",children:[e.jsx(Gt,{className:"w-3.5 h-3.5"}),"Browse"]}),Js&&e.jsxs("button",{onClick:()=>{Tt(""),hs("")},className:"px-3 py-1.5 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors flex items-center gap-1 text-sm",children:[e.jsx(et,{className:"w-3.5 h-3.5"}),"Clear"]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6 bg-gray-50 border border-gray-200 rounded-lg p-4",children:[ro("Date From",t,s,x,h),ro("Date To",a,r,m,b),e.jsxs("button",{onClick:pa,disabled:p,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-60",children:[p?e.jsx(Ea,{className:"w-4 h-4 animate-spin"}):e.jsx(Gt,{className:"w-4 h-4"}),"Search"]})]}),y&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700 text-sm",children:[e.jsx(ya,{className:"w-4 h-4 flex-shrink-0"}),y]}),e.jsxs("div",{className:"mb-6 bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-gray-700 font-medium mb-4",children:"Hide Column"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-3",children:[[{key:"break1Out",label:"Break 1 Out"},{key:"break1In",label:"Break 1 In"},{key:"break2Out",label:"Break 2 Out"},{key:"break2In",label:"Break 2 In"},{key:"break3Out",label:"Break 3 Out"},{key:"break3In",label:"Break 3 In"},{key:"remarks",label:"Remarks"},{key:"entryFlag",label:"Entry Flag"},{key:"terminalId",label:"TerminalID"},{key:"secondDayType",label:"2nd Day Type"},{key:"approvedOvertime",label:"Approved Overtime"},{key:"deviceName",label:"Device Name"},{key:"isLateFiling",label:"Is Late Filing"},{key:"borrowedDeviceName",label:"BDevice Name"}].map(Qe=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:j[Qe.key],onChange:()=>En(Qe.key),className:"w-4 h-4 text-blue-600 border-gray-300 rounded"}),e.jsx("span",{className:"text-gray-700 text-sm",children:Qe.label})]},Qe.key)),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:j.selectAll,onChange:Rn,className:"w-4 h-4 text-blue-600 border-gray-300 rounded"}),e.jsx("span",{className:"text-gray-700 text-sm font-medium",children:"Select All"})]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"}),e.jsxs("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:["Employee Code",e.jsx("span",{className:"ml-1 text-blue-500",children:""})]}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Workshift Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Date-In"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Time-In"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actual Date/Time In"}),!j.break1Out&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break1-Out"}),!j.break1In&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break1-In"}),!j.break2Out&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break2-Out"}),!j.break2In&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break2-In"}),!j.break3Out&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break3-Out"}),!j.break3In&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break3-In"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Time-Out"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Date-Out"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"DayType"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"OT Approved"}),!j.remarks&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Remarks"}),!j.entryFlag&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Entry Flag"}),!j.terminalId&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Terminal Id"}),!j.secondDayType&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"2nd Day Type"}),!j.approvedOvertime&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Approved OT Time"}),!j.deviceName&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Device Name"}),!j.isLateFiling&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Is Late Filing"}),!j.borrowedDeviceName&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"BDevice Name"})]})}),e.jsx("tbody",{children:p?e.jsx("tr",{children:e.jsx("td",{colSpan:25,className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-500",children:[e.jsx(Ea,{className:"w-5 h-5 animate-spin"}),"Loading data..."]})})}):f.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:25,className:"px-6 py-8 text-center text-gray-500",children:"No data available in table"})}):f.map(Qe=>{const ps=Ga(Qe.rawDateIn),_s=Ga(Qe.rawTimeIn),Xt=Ga(Qe.actualDateIn),Ra=Ga(Qe.actualTimeIn2),Qa=Ga(Qe.rawBreak1Out),or=Ga(Qe.rawBreak1In),wa=Ga(Qe.rawBreak2Out),lt=Ga(Qe.rawBreak2In),Ws=Ga(Qe.rawBreak3Out),Or=Ga(Qe.rawBreak3In),un=Ga(Qe.rawDateOut),no=Ga(Qe.rawTimeOut),Ro=Ga(Qe.aprOTTime);return e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Mt(Qe),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>fa(Qe.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Qe.empCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Qe.workShiftCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:ps.date}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:_s.time}),e.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:[Xt.date," ",Ra.time]}),!j.break1Out&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Qa.time}),!j.break1In&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:or.time}),!j.break2Out&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:wa.time}),!j.break2In&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:lt.time}),!j.break3Out&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Ws.time}),!j.break3In&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Or.time}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:no.time}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:un.date}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Qe.dayType}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Qe.rawotApproved?"Yes":"No"}),!j.remarks&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Qe.rawRemarks}),!j.entryFlag&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Qe.entryFlag}),!j.terminalId&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Qe.terminalID}),!j.secondDayType&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Qe.dayType2}),!j.approvedOvertime&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Ro.time}),!j.deviceName&&e.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:[Qe.deviceNameIn,"/",Qe.deviceNameOut]}),!j.isLateFiling&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Qe.isLateFiling?"Yes":"No"}),!j.borrowedDeviceName&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Qe.bDeviceName})]},Qe.id)})})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx("div",{className:"text-gray-600 text-sm",children:f.length>0?`Showing 1 to ${f.length} of ${f.length} entries`:"Showing 0 to 0 of 0 entries"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm disabled:opacity-50",disabled:!0,children:"Previous"}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm disabled:opacity-50",disabled:!0,children:"Next"})]})]}),S&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:()=>P(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white px-4 py-3 border-b border-gray-200 flex items-center justify-between rounded-t-lg z-10",children:[e.jsx("h2",{className:"text-gray-800 font-semibold",children:k!==null?"Edit Entry":"Create New"}),e.jsx("button",{onClick:()=>P(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-4 font-medium",children:"Rawdata On Straight Duty"}),O&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded flex items-center gap-2 text-red-700 text-sm",children:[e.jsx(ya,{className:"w-4 h-4 flex-shrink-0"}),O]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Emp Code :"}),e.jsx("input",{type:"text",value:B,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-gray-50"}),e.jsx("button",{onClick:()=>ts(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",title:"Search Employee",children:e.jsx(Gt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Workshift Code :"}),e.jsx("input",{type:"text",value:U,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-gray-50"}),e.jsx("button",{onClick:()=>Ba(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",title:"Search Workshift",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm",children:"Get Shift"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Date In :"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:W,onChange:Qe=>re(Qe.target.value),placeholder:"MM/DD/YYYY",className:"w-40 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>Dt(!kt),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(ds,{className:"w-4 h-4"})}),kt&&e.jsx(Mr,{onDateSelect:Qe=>{re(Qe),Dt(!1)},onClose:()=>Dt(!1)})]}),e.jsx("label",{className:"text-gray-700 text-sm ml-4",children:"Time In :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:G,onChange:Xa(R),onBlur:Ja(G,R),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>Ke(!Ge),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(ds,{className:"w-4 h-4"})}),Ge&&e.jsx(Er,{initialTime:G,onTimeSelect:Qe=>{R(Qe),Ke(!1)},onClose:()=>Ke(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Actual Date In :"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:F,onChange:Qe=>A(Qe.target.value),placeholder:"MM/DD/YYYY",className:"w-40 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>ke(!ie),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(ds,{className:"w-4 h-4"})}),ie&&e.jsx(Mr,{onDateSelect:Qe=>{A(Qe),ke(!1)},onClose:()=>ke(!1)})]}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:H,onChange:Xa(D),onBlur:Ja(H,D),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>Ze(!me),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(ds,{className:"w-4 h-4"})}),me&&e.jsx(Er,{initialTime:H,onTimeSelect:Qe=>{D(Qe),Ze(!1)},onClose:()=>Ze(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Break 1 Out :"}),e.jsxs("div",{className:"relative w-32",children:[e.jsx("input",{type:"text",value:_,onChange:Xa(xe),onBlur:Ja(_,xe),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>_t(!it),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(ds,{className:"w-4 h-4"})}),it&&e.jsx(Er,{initialTime:_,onTimeSelect:Qe=>{xe(Qe),_t(!1)},onClose:()=>_t(!1)})]}),e.jsx("label",{className:"text-gray-700 text-sm ml-4",children:"Break 1 In :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:ge,onChange:Xa(Ne),onBlur:Ja(ge,Ne),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>mt(!nt),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(ds,{className:"w-4 h-4"})}),nt&&e.jsx(Er,{initialTime:ge,onTimeSelect:Qe=>{Ne(Qe),mt(!1)},onClose:()=>mt(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Break 2 Out :"}),e.jsxs("div",{className:"relative w-32",children:[e.jsx("input",{type:"text",value:Ce,onChange:Xa(fe),onBlur:Ja(Ce,fe),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>ce(!ae),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(ds,{className:"w-4 h-4"})}),ae&&e.jsx(Er,{initialTime:Ce,onTimeSelect:Qe=>{fe(Qe),ce(!1)},onClose:()=>ce(!1)})]}),e.jsx("label",{className:"text-gray-700 text-sm ml-4",children:"Break 2 In :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:ue,onChange:Xa(Oe),onBlur:Ja(ue,Oe),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>z(!te),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(ds,{className:"w-4 h-4"})}),te&&e.jsx(Er,{initialTime:ue,onTimeSelect:Qe=>{Oe(Qe),z(!1)},onClose:()=>z(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Break 3 Out :"}),e.jsxs("div",{className:"relative w-32",children:[e.jsx("input",{type:"text",value:De,onChange:Xa(Ae),onBlur:Ja(De,Ae),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>X(!V),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(ds,{className:"w-4 h-4"})}),V&&e.jsx(Er,{initialTime:De,onTimeSelect:Qe=>{Ae(Qe),X(!1)},onClose:()=>X(!1)})]}),e.jsx("label",{className:"text-gray-700 text-sm ml-4",children:"Break 3 In :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:Ee,onChange:Xa(ze),onBlur:Ja(Ee,ze),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>_e(!de),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(ds,{className:"w-4 h-4"})}),de&&e.jsx(Er,{initialTime:Ee,onTimeSelect:Qe=>{ze(Qe),_e(!1)},onClose:()=>_e(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Date Out :"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:ot,onChange:Qe=>wt(Qe.target.value),placeholder:"MM/DD/YYYY",className:"w-40 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>je(!Te),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(ds,{className:"w-4 h-4"})}),Te&&e.jsx(Mr,{onDateSelect:Qe=>{wt(Qe),je(!1)},onClose:()=>je(!1)})]}),e.jsx("label",{className:"text-gray-700 text-sm ml-4",children:"Time Out :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:Ie,onChange:Xa(ye),onBlur:Ja(Ie,ye),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>we(!J),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(ds,{className:"w-4 h-4"})}),J&&e.jsx(Er,{initialTime:Ie,onTimeSelect:Qe=>{ye(Qe),we(!1)},onClose:()=>we(!1)})]})]}),e.jsxs("div",{className:"pt-4 mt-4 border-t-2 border-gray-200",children:[e.jsx("h4",{className:"text-blue-700 font-semibold mb-4 text-sm",children:"OT Application"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"OT Application Approval :"}),e.jsx("input",{type:"checkbox",checked:ut,onChange:Qe=>vt(Qe.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"No. of OT Hrs Approved for 1st Shift :"}),e.jsx("input",{type:"number",value:ve,onChange:Qe=>Le(Qe.target.value),step:"0.5",min:"0",className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Start Time of OT Before the Shift :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:he,onChange:Xa(Ve),onBlur:Ja(he,Ve),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>Z(!I),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(ds,{className:"w-4 h-4"})}),I&&e.jsx(Er,{initialTime:he,onTimeSelect:Qe=>{Ve(Qe),Z(!1)},onClose:()=>Z(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Start Time of Overtime :"}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Date :"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:xt,onChange:Qe=>Pt(Qe.target.value),placeholder:"MM/DD/YYYY",className:"w-36 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-9"}),e.jsx("button",{onClick:()=>We(!Q),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(ds,{className:"w-3.5 h-3.5"})}),Q&&e.jsx(Mr,{onDateSelect:Qe=>{Pt(Qe),We(!1)},onClose:()=>We(!1)})]}),e.jsx("span",{className:"text-gray-700 text-sm ml-4",children:"Time :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:Lt,onChange:Xa(It),onBlur:Ja(Lt,It),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>$t(!ft),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(ds,{className:"w-4 h-4"})}),ft&&e.jsx(Er,{initialTime:Lt,onTimeSelect:Qe=>{It(Qe),$t(!1)},onClose:()=>$t(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"SD WorkShift Code Flag :"}),e.jsx("input",{type:"checkbox",checked:qe,onChange:Qe=>Nt(Qe.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"SD WorkShift Code :"}),e.jsx("input",{type:"text",value:gt,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-gray-50"}),e.jsx("button",{onClick:()=>{ta(""),$e(!0)},className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex-shrink-0",children:e.jsx(Gt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3 pt-4 mt-4 border-t border-gray-200",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"OT Approved :"}),e.jsx("input",{type:"checkbox",checked:be,onChange:Qe=>Me(Qe.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"IsLateFiling :"}),e.jsx("input",{type:"checkbox",checked:Re,onChange:Qe=>st(Qe.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm pt-1",children:"Remarks :"}),e.jsx("textarea",{value:He,onChange:Qe=>Ue(Qe.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",rows:3})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Borrowed Device Name :"}),e.jsx("input",{type:"text",value:Ye,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-gray-50"}),e.jsx("button",{onClick:()=>qs(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",title:"Search Device",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ht(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",title:"Clear",children:e.jsx(et,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsxs("button",{onClick:At,disabled:M,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm disabled:opacity-60",children:[M&&e.jsx(Ea,{className:"w-4 h-4 animate-spin"}),k!==null?"Update":"Submit"]}),e.jsx("button",{onClick:()=>P(!1),className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}),e.jsx(nr,{isOpen:bt,onClose:()=>ts(!1),onSelect:Qe=>{const ps=Ts.find(_s=>_s.empCode===Qe);Ca(Qe,ps?.name??"")},employees:Ts,loading:Jt,error:zt}),ma&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:()=>Ba(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:()=>Ba(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Workshift Code"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:hr,onChange:Qe=>ta(Qe.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),vs&&e.jsxs("div",{className:"mb-3 p-2 bg-red-50 border border-red-200 rounded text-red-700 text-sm flex items-center gap-2",children:[e.jsx(ya,{className:"w-4 h-4"})," ",vs]}),e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Code "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Description"})]})}),e.jsx("tbody",{children:rt?e.jsx("tr",{children:e.jsxs("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:[e.jsx(Ea,{className:"w-5 h-5 animate-spin inline mr-2"}),"Loading..."]})}):Qr.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:"No workshifts found"})}):Qr.map((Qe,ps)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>cn(Qe.code),children:[e.jsx("td",{className:"px-3 py-1.5",children:Qe.code}),e.jsx("td",{className:"px-3 py-1.5",children:Qe.description})]},Qe.code))})]})})]})]})})]}),yt&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:()=>$e(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search - SD Workshift Code"}),e.jsx("button",{onClick:()=>$e(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"SD Workshift Code"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:hr,onChange:Qe=>ta(Qe.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),vs&&e.jsxs("div",{className:"mb-3 p-2 bg-red-50 border border-red-200 rounded text-red-700 text-sm flex items-center gap-2",children:[e.jsx(ya,{className:"w-4 h-4"})," ",vs]}),e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Code "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Description"})]})}),e.jsx("tbody",{children:rt?e.jsx("tr",{children:e.jsxs("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:[e.jsx(Ea,{className:"w-5 h-5 animate-spin inline mr-2"}),"Loading..."]})}):Qr.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:"No workshifts found"})}):Qr.map((Qe,ps)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>dn(Qe.code),children:[e.jsx("td",{className:"px-3 py-1.5",children:Qe.code}),e.jsx("td",{className:"px-3 py-1.5",children:Qe.description})]},Qe.code))})]})})]})]})})]}),Ks&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:()=>qs(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:()=>qs(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Device Name"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:la,onChange:Qe=>qa(Qe.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),ns&&e.jsxs("div",{className:"mb-3 p-2 bg-red-50 border border-red-200 rounded text-red-700 text-sm flex items-center gap-2",children:[e.jsx(ya,{className:"w-4 h-4"})," ",ns]}),e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Device Code "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Device Name"})]})}),e.jsx("tbody",{children:va?e.jsx("tr",{children:e.jsxs("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:[e.jsx(Ea,{className:"w-5 h-5 animate-spin inline mr-2"}),"Loading..."]})}):ao.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:"No devices found"})}):ao.map((Qe,ps)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>Lr(Qe.description),children:[e.jsx("td",{className:"px-3 py-1.5",children:Qe.code}),e.jsx("td",{className:"px-3 py-1.5",children:Qe.description})]},Qe.id))})]})})]})]})})]}),e.jsx(nr,{isOpen:Na,onClose:()=>ha(!1),onSelect:Qe=>{const ps=Ts.find(_s=>_s.empCode===Qe);Jr(Qe,ps?.name??"")},employees:Ts,loading:Jt,error:zt})]})]})}),e.jsx(Zt,{})]})}const lm="/Maintenance/Employee2ShiftsInADayRawData",Eq="/Fs/Process/Device/BorrowedDeviceName",Tq="/Maintenance/WorkShift",Aq="/Maintenance/EmployeeMasterFile",Gr=(t,s="")=>{if(!t)return new Date().toISOString();try{let a=t;if(t.includes("/")){const[r,n,l]=t.split("/");a=`${l}-${r.padStart(2,"0")}-${n.padStart(2,"0")}`}if(s){const n=s.toUpperCase().trim().match(/^(\d{1,2}):(\d{2})\s?(AM|PM)$/);if(n){let l=parseInt(n[1]);const i=n[2],d=n[3];return d==="PM"&&l!==12&&(l+=12),d==="AM"&&l===12&&(l=0),`${a}T${String(l).padStart(2,"0")}:${i}:00.000Z`}}return`${a}T00:00:00.000Z`}catch{return new Date().toISOString()}},$a=t=>{if(!t)return{date:"",time:""};try{const s=new Date(t),a=String(s.getUTCMonth()+1).padStart(2,"0"),r=String(s.getUTCDate()).padStart(2,"0"),n=s.getUTCFullYear();let l=s.getUTCHours();const i=String(s.getUTCMinutes()).padStart(2,"0"),d=l>=12?"PM":"AM";return l>12&&(l-=12),l===0&&(l=12),{date:`${a}/${r}/${n}`,time:`${String(l).padStart(2,"0")}:${i} ${d}`}}catch{return{date:"",time:""}}},Fq=t=>{const s=t.trim().toUpperCase();if(!s)return"";const a=/^(0?[1-9]|1[0-2]):([0-5][0-9])\s?(AM|PM)$/i;if(a.test(s)){const r=s.match(a);return`${r[1].padStart(2,"0")}:${r[2]} ${r[3].toUpperCase()}`}return t},O2=()=>{const t=new Date;return`${String(t.getMonth()+1).padStart(2,"0")}/${String(t.getDate()).padStart(2,"0")}/${t.getFullYear()}`};function Pq(){const[t,s]=o.useState(O2()),[a,r]=o.useState(O2()),[n,l]=o.useState(!0),[i,d]=o.useState("all"),[x,h]=o.useState(!1),[m,b]=o.useState(!1),[f,N]=o.useState([]),[p,v]=o.useState(!1),[y,g]=o.useState(""),[j,C]=o.useState({break1Out:!0,break1In:!0,break2Out:!1,break2In:!1,break3Out:!0,break3In:!0,terminalId:!1,secondDayType:!1,remarks:!1,entryFlag:!1,isLateFiling:!1,borrowedDeviceName:!1,approvedOvertime:!1,deviceName:!1,selectAll:!1}),[S,P]=o.useState(!1),[k,E]=o.useState(null),[M,L]=o.useState(!1),[O,q]=o.useState(""),[B,se]=o.useState(""),[le,pe]=o.useState(""),[U,Y]=o.useState(""),[W,re]=o.useState(""),[G,R]=o.useState(""),[F,A]=o.useState(""),[H,D]=o.useState(""),[_,xe]=o.useState(""),[ge,Ne]=o.useState(""),[Ce,fe]=o.useState(""),[ue,Oe]=o.useState(""),[De,Ae]=o.useState(""),[Ee,ze]=o.useState(""),[ot,wt]=o.useState(""),[Ie,ye]=o.useState(""),[be,Me]=o.useState(!1),[Re,st]=o.useState(!1),[He,Ue]=o.useState(""),[Ye,ht]=o.useState(""),[ut,vt]=o.useState(!1),[ve,Le]=o.useState(!1),[he,Ve]=o.useState(!1),[xt,Pt]=o.useState(!1),[Lt,It]=o.useState(!1),[qe,Nt]=o.useState(!1),[gt,dt]=o.useState(!1),[kt,Dt]=o.useState(!1),[Ge,Ke]=o.useState(!1),[ie,ke]=o.useState(!1),[me,Ze]=o.useState(!1),[it,_t]=o.useState(!1),[nt,mt]=o.useState(!1),[ae,ce]=o.useState([]),[te,z]=o.useState(!1),[V,X]=o.useState(""),[de,_e]=o.useState(""),[Te,je]=o.useState(""),[J,we]=o.useState(!1),[I,Z]=o.useState(!1),[Q,We]=o.useState(""),[ft,$t]=o.useState([]),[yt,$e]=o.useState(!1),[bt,ts]=o.useState(""),[Ts,at]=o.useState(!1),[Jt,jt]=o.useState(""),[zt,cs]=o.useState([]),[Js,Tt]=o.useState(!1),[Ut,hs]=o.useState(""),Na=o.useCallback(async()=>{v(!0),g("");try{const tt={dateFrom:Gr(t),dateTo:Gr(a)};i==="specific"&&de&&(tt.empCode=de);const ns=await ne.get(lm,{params:tt});if(ns.status===200&&ns.data){const ks=Array.isArray(ns.data)?ns.data:[],pa=new Date(Gr(t)).setUTCHours(0,0,0,0),Qs=new Date(Gr(a)).setUTCHours(23,59,0,0),ja=ks.filter(Fe=>{if(!Fe.rawDateIn)return!1;const At=new Date(Fe.rawDateIn).getTime();if(At<pa||At>Qs)return!1;const Mt=!!Fe.rawDateOut&&Fe.rawDateOut.trim()!=="",fa=!!Fe.rawTimeIn,Bs=!!Fe.rawTimeOut,Ca=Mt&&fa&&Bs;return n?!Ca:Ca});N(ja)}}catch(tt){const ns=tt.response?.data?.message||tt.message||"Failed to load raw data";g(ns),console.error("Error fetching two shifts raw data:",tt)}finally{v(!1)}},[t,a,n,i,de]),ha=o.useCallback(async()=>{Tt(!0),hs("");try{const tt=await ne.get(Eq);tt.status===200&&tt.data&&cs(Array.isArray(tt.data)?tt.data:[])}catch(tt){const ns=tt.response?.data?.message||tt.message||"Failed to load devices";hs(ns),console.error("Error fetching devices:",tt)}finally{Tt(!1)}},[]),ma=o.useCallback(async()=>{$e(!0),ts("");try{const tt=await ne.get(Tq);if(tt.status===200&&tt.data){const ns=Array.isArray(tt.data)?tt.data:[];$t(ns.map(ks=>({code:ks.code||ks.workShiftCode||ks.workshiftCode||"",description:ks.description||ks.workShiftDescription||""})))}}catch(tt){const ns=tt.response?.data?.message||tt.message||"Failed to load workshifts";ts(ns),console.error("Error fetching workshifts:",tt)}finally{$e(!1)}},[]),Ba=async()=>{z(!0),X("");try{const tt=await ne.get(Aq);if(tt.status===200&&tt.data){const ns=tt.data.map(ks=>({empCode:ks.empCode||ks.code||"",name:`${ks.lName||""}, ${ks.fName||""} ${ks.mName||""}`.trim(),groupCode:ks.grpCode||""}));ce(ns)}}catch(tt){const ns=tt.response?.data?.message||tt.message||"Failed to load employees";X(ns),console.error("Error fetching employees:",tt)}finally{z(!1)}},hr=async()=>{if(!B.trim()){q("Please select an Employee Code.");return}if(!W.trim()){q("Date In is required.");return}q(""),L(!0);const tt={empCode:B,workShiftCode:U,dayType:"Regular",rawDateIn:Gr(W),rawTimeIn:Gr(W,G),actualDateIn:Gr(F||W),actualTimeIn2:Gr(F||W,H),rawBreak1Out:Gr(W,_),rawBreak1In:Gr(W,ge),rawBreak2Out:Gr(W,Ce),rawBreak2In:Gr(W,ue),rawBreak3Out:Gr(W,De),rawBreak3In:Gr(W,Ee),rawDateOut:Gr(ot||W),rawTimeOut:Gr(ot||W,Ie),rawotApproved:be,rawRemarks:He,isLateFiling:Re,bDeviceName:Ye,rawTardiness:!1,rawUndertime:!1,rawOT:!1,rawNightDiff:!1,rawOtherEarnings:!1,rawUnproductive:!1,rawDisplDateFrom:Gr(t),rawDisplDateTo:Gr(a),isSuspended:!1,rawNoofDays:!1,dayType2:"",actualDateIn2:"",entryFlag:"",terminalID:"",dayTypeDOLE:"",aprOTTime:"",deviceNameIn:"",deviceNameOut:"",isLateFilingProcessed:!1,post_Tardy:!1,post_UT:!1,post_OT:!1,post_Earn:!1,post_ND:!1,post_NoOfDays:!1};try{k!==null?await ne.put(`${lm}/${k}`,{...tt,id:k}):await ne.post(lm,tt),P(!1),E(null),await Na()}catch(ns){const ks=ns.response?.data?.message||ns.message||"Failed to save entry";q(ks),console.error("Error saving two shifts raw data:",ns)}finally{L(!1)}},ta=tt=>{E(tt.id),se(tt.empCode),Y(tt.workShiftCode);const ns=$a(tt.rawDateIn),ks=$a(tt.rawTimeIn),pa=$a(tt.actualDateIn),Qs=$a(tt.actualTimeIn2),ja=$a(tt.rawBreak1Out),Fe=$a(tt.rawBreak1In),At=$a(tt.rawBreak2Out),Mt=$a(tt.rawBreak2In),fa=$a(tt.rawBreak3Out),Bs=$a(tt.rawBreak3In),Ca=$a(tt.rawDateOut),Jr=$a(tt.rawTimeOut);re(ns.date),R(ks.time),A(pa.date),D(Qs.time),xe(ja.time),Ne(Fe.time),fe(At.time),Oe(Mt.time),Ae(fa.time),ze(Bs.time),wt(Ca.date),ye(Jr.time),Me(tt.rawotApproved),st(tt.isLateFiling),Ue(tt.rawRemarks),ht(tt.bDeviceName),q(""),P(!0)},sa=async tt=>{if(confirm("Are you sure you want to delete this entry?"))try{await ne.delete(`${lm}/${tt}`),N(ns=>ns.filter(ks=>ks.id!==tt))}catch(ns){const ks=ns.response?.data?.message||ns.message||"Failed to delete entry";alert(ks),console.error("Error deleting two shifts raw data:",ns)}},jr=()=>{E(null),se(""),pe(""),Y(""),re(""),R(""),A(""),D(""),xe(""),Ne(""),fe(""),Oe(""),Ae(""),ze(""),wt(""),ye(""),Me(!1),st(!1),Ue(""),ht(""),q(""),P(!0)},rt=(tt,ns)=>{se(tt),pe(ns),mt(!1)},Vt=(tt,ns)=>{_e(tt),je(ns),we(!1)},vs=tt=>{Y(tt),Z(!1)},Ys=tt=>{ht(tt),at(!1)},Ks=ft.filter(tt=>tt.code.toLowerCase().includes(Q.toLowerCase())||tt.description.toLowerCase().includes(Q.toLowerCase())),qs=zt.filter(tt=>tt.code.toLowerCase().includes(Jt.toLowerCase())||tt.description.toLowerCase().includes(Jt.toLowerCase())),la=tt=>{C(ns=>({...ns,[tt]:!ns[tt]}))},qa=()=>{const tt=!j.selectAll;C({break1Out:tt,break1In:tt,break2Out:tt,break2In:tt,break3Out:tt,break3In:tt,terminalId:tt,secondDayType:tt,remarks:tt,entryFlag:tt,isLateFiling:tt,borrowedDeviceName:tt,approvedOvertime:tt,deviceName:tt,selectAll:tt})};o.useEffect(()=>{Ba()},[]),o.useEffect(()=>{const tt=ns=>{if(ns.key==="Escape"){if(nt){mt(!1);return}if(J){we(!1);return}if(I){Z(!1);return}if(Ts){at(!1);return}if(S){P(!1);return}h(!1),b(!1),vt(!1),Le(!1),Ve(!1),Pt(!1),It(!1),Nt(!1),dt(!1),Dt(!1),Ke(!1),ke(!1),Ze(!1),_t(!1)}};return document.addEventListener("keydown",tt),()=>document.removeEventListener("keydown",tt)},[nt,J,I,Ts,S]),o.useEffect(()=>{I&&ft.length===0&&ma()},[I,ft.length,ma]),o.useEffect(()=>{Ts&&ha()},[Ts,ha]);const ia=tt=>ns=>tt(ns.target.value),ca=(tt,ns)=>()=>ns(Fq(tt)),va=(tt,ns,ks,pa,Qs)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm font-semibold whitespace-nowrap",children:tt}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:ns,onChange:ja=>ks(ja.target.value),placeholder:"MM/DD/YYYY",className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("button",{type:"button",onClick:()=>Qs(!pa),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:e.jsx(ds,{className:"w-3.5 h-3.5"})}),pa&&e.jsx(Mr,{onDateSelect:ja=>{ks(ja),Qs(!1)},onClose:()=>Qs(!1)})]})]});return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white text-xl font-semibold",children:"2 Shifts In A Day - Rawdata"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Manage and view employee raw time data for employees working two shifts in a day, including clock in/out times, breaks, and overtime approvals for accurate payroll processing."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Employee time tracking","Break time management","Overtime approval tracking","Workshift assignment"].map(tt=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:tt})]},tt))})]})]})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:jr,children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n,onChange:tt=>l(tt.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded"}),e.jsx("span",{className:"text-gray-700",children:"Incomplete Logs"})]}),e.jsx("div",{className:"flex items-center gap-4",children:["all","specific"].map(tt=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",checked:i===tt,onChange:()=>{d(tt),tt==="all"&&(_e(""),je(""))},className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-gray-700 capitalize",children:tt})]},tt))})]}),i==="specific"&&e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4 bg-blue-50 border border-blue-200 rounded-lg p-3",children:[e.jsx("span",{className:"text-sm font-medium text-blue-700 whitespace-nowrap",children:"Employee:"}),e.jsx("input",{type:"text",value:de,readOnly:!0,placeholder:"Select employee...",className:"w-32 px-3 py-1.5 border border-gray-300 rounded text-sm bg-white"}),e.jsx("input",{type:"text",value:Te,readOnly:!0,placeholder:"Employee name",className:"flex-1 min-w-[160px] px-3 py-1.5 border border-gray-300 rounded text-sm bg-white"}),e.jsxs("button",{onClick:()=>we(!0),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-1 text-sm",children:[e.jsx(Gt,{className:"w-3.5 h-3.5"}),"Browse"]}),de&&e.jsxs("button",{onClick:()=>{_e(""),je("")},className:"px-3 py-1.5 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors flex items-center gap-1 text-sm",children:[e.jsx(et,{className:"w-3.5 h-3.5"}),"Clear"]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6 bg-gray-50 border border-gray-200 rounded-lg p-4",children:[va("Date From",t,s,x,h),va("Date To",a,r,m,b),e.jsxs("button",{onClick:Na,disabled:p,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-60",children:[p?e.jsx(Ea,{className:"w-4 h-4 animate-spin"}):e.jsx(Gt,{className:"w-4 h-4"}),"Search"]})]}),y&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700 text-sm",children:[e.jsx(ya,{className:"w-4 h-4 flex-shrink-0"}),y]}),e.jsxs("div",{className:"mb-6 bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-gray-700 font-medium mb-4",children:"Hide Column"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-3",children:[[{key:"break1Out",label:"Break 1 Out"},{key:"break1In",label:"Break 1 In"},{key:"break2Out",label:"Break 2 Out"},{key:"break2In",label:"Break 2 In"},{key:"break3Out",label:"Break 3 Out"},{key:"break3In",label:"Break 3 In"},{key:"remarks",label:"Remarks"},{key:"entryFlag",label:"Entry Flag"},{key:"terminalId",label:"TerminalID"},{key:"secondDayType",label:"2nd Day Type"},{key:"approvedOvertime",label:"Approved Overtime"},{key:"deviceName",label:"Device Name"},{key:"isLateFiling",label:"Is Late Filing"},{key:"borrowedDeviceName",label:"BDevice Name"}].map(tt=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:j[tt.key],onChange:()=>la(tt.key),className:"w-4 h-4 text-blue-600 border-gray-300 rounded"}),e.jsx("span",{className:"text-gray-700 text-sm",children:tt.label})]},tt.key)),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:j.selectAll,onChange:qa,className:"w-4 h-4 text-blue-600 border-gray-300 rounded"}),e.jsx("span",{className:"text-gray-700 text-sm font-medium",children:"Select All"})]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"}),e.jsxs("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:["Employee Code",e.jsx("span",{className:"ml-1 text-blue-500",children:""})]}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Workshift Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Date-In"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Time-In"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actual Date/Time In"}),!j.break1Out&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break1-Out"}),!j.break1In&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break1-In"}),!j.break2Out&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break2-Out"}),!j.break2In&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break2-In"}),!j.break3Out&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break3-Out"}),!j.break3In&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break3-In"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Time-Out"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Date-Out"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"DayType"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"OT Approved"}),!j.remarks&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Remarks"}),!j.entryFlag&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Entry Flag"}),!j.terminalId&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Terminal Id"}),!j.secondDayType&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"2nd Day Type"}),!j.approvedOvertime&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Approved OT Time"}),!j.deviceName&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Device Name"}),!j.isLateFiling&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Is Late Filing"}),!j.borrowedDeviceName&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"BDevice Name"})]})}),e.jsx("tbody",{children:p?e.jsx("tr",{children:e.jsx("td",{colSpan:25,className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-500",children:[e.jsx(Ea,{className:"w-5 h-5 animate-spin"}),"Loading data..."]})})}):f.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:25,className:"px-6 py-8 text-center text-gray-500",children:"No data available in table"})}):f.map(tt=>{const ns=$a(tt.rawDateIn),ks=$a(tt.rawTimeIn),pa=$a(tt.actualDateIn),Qs=$a(tt.actualTimeIn2),ja=$a(tt.rawBreak1Out),Fe=$a(tt.rawBreak1In),At=$a(tt.rawBreak2Out),Mt=$a(tt.rawBreak2In),fa=$a(tt.rawBreak3Out),Bs=$a(tt.rawBreak3In),Ca=$a(tt.rawDateOut),Jr=$a(tt.rawTimeOut),cn=$a(tt.aprOTTime);return e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>ta(tt),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>sa(tt.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:tt.empCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:tt.workShiftCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:ns.date}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:ks.time}),e.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:[pa.date," ",Qs.time]}),!j.break1Out&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:ja.time}),!j.break1In&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Fe.time}),!j.break2Out&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.time}),!j.break2In&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Mt.time}),!j.break3Out&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:fa.time}),!j.break3In&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Bs.time}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Jr.time}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Ca.date}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:tt.dayType}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:tt.rawotApproved?"Yes":"No"}),!j.remarks&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:tt.rawRemarks}),!j.entryFlag&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:tt.entryFlag}),!j.terminalId&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:tt.terminalID}),!j.secondDayType&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:tt.dayType2}),!j.approvedOvertime&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:cn.time}),!j.deviceName&&e.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:[tt.deviceNameIn,"/",tt.deviceNameOut]}),!j.isLateFiling&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:tt.isLateFiling?"Yes":"No"}),!j.borrowedDeviceName&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:tt.bDeviceName})]},tt.id)})})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx("div",{className:"text-gray-600 text-sm",children:f.length>0?`Showing 1 to ${f.length} of ${f.length} entries`:"Showing 0 to 0 of 0 entries"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm disabled:opacity-50",disabled:!0,children:"Previous"}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm disabled:opacity-50",disabled:!0,children:"Next"})]})]}),S&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:()=>P(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white px-4 py-3 border-b border-gray-200 flex items-center justify-between rounded-t-lg z-10",children:[e.jsx("h2",{className:"text-gray-800 font-semibold",children:k!==null?"Edit Entry":"Create New"}),e.jsx("button",{onClick:()=>P(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-4 font-medium",children:"2 Shifts In A Day - Rawdata"}),O&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded flex items-center gap-2 text-red-700 text-sm",children:[e.jsx(ya,{className:"w-4 h-4 flex-shrink-0"}),O]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Emp Code :"}),e.jsx("input",{type:"text",value:B,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-gray-50"}),e.jsx("button",{onClick:()=>mt(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",title:"Search Employee",children:e.jsx(Gt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Workshift Code :"}),e.jsx("input",{type:"text",value:U,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-gray-50"}),e.jsx("button",{onClick:()=>Z(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",title:"Search Workshift",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm",children:"Get Shift"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Date In :"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:W,onChange:tt=>re(tt.target.value),placeholder:"MM/DD/YYYY",className:"w-40 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>vt(!ut),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(ds,{className:"w-4 h-4"})}),ut&&e.jsx(Mr,{onDateSelect:tt=>{re(tt),vt(!1)},onClose:()=>vt(!1)})]}),e.jsx("label",{className:"text-gray-700 text-sm ml-4",children:"Time In :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:G,onChange:ia(R),onBlur:ca(G,R),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>Le(!ve),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(ds,{className:"w-4 h-4"})}),ve&&e.jsx(Er,{initialTime:G,onTimeSelect:tt=>{R(tt),Le(!1)},onClose:()=>Le(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Actual Date In :"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:F,onChange:tt=>A(tt.target.value),placeholder:"MM/DD/YYYY",className:"w-40 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>Ve(!he),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(ds,{className:"w-4 h-4"})}),he&&e.jsx(Mr,{onDateSelect:tt=>{A(tt),Ve(!1)},onClose:()=>Ve(!1)})]}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:H,onChange:ia(D),onBlur:ca(H,D),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>Pt(!xt),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(ds,{className:"w-4 h-4"})}),xt&&e.jsx(Er,{initialTime:H,onTimeSelect:tt=>{D(tt),Pt(!1)},onClose:()=>Pt(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Break 1 Out :"}),e.jsxs("div",{className:"relative w-32",children:[e.jsx("input",{type:"text",value:_,onChange:ia(xe),onBlur:ca(_,xe),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>It(!Lt),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(ds,{className:"w-4 h-4"})}),Lt&&e.jsx(Er,{initialTime:_,onTimeSelect:tt=>{xe(tt),It(!1)},onClose:()=>It(!1)})]}),e.jsx("label",{className:"text-gray-700 text-sm ml-4",children:"Break 1 In :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:ge,onChange:ia(Ne),onBlur:ca(ge,Ne),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>Nt(!qe),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(ds,{className:"w-4 h-4"})}),qe&&e.jsx(Er,{initialTime:ge,onTimeSelect:tt=>{Ne(tt),Nt(!1)},onClose:()=>Nt(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Break 2 Out :"}),e.jsxs("div",{className:"relative w-32",children:[e.jsx("input",{type:"text",value:Ce,onChange:ia(fe),onBlur:ca(Ce,fe),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>dt(!gt),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(ds,{className:"w-4 h-4"})}),gt&&e.jsx(Er,{initialTime:Ce,onTimeSelect:tt=>{fe(tt),dt(!1)},onClose:()=>dt(!1)})]}),e.jsx("label",{className:"text-gray-700 text-sm ml-4",children:"Break 2 In :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:ue,onChange:ia(Oe),onBlur:ca(ue,Oe),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>Dt(!kt),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(ds,{className:"w-4 h-4"})}),kt&&e.jsx(Er,{initialTime:ue,onTimeSelect:tt=>{Oe(tt),Dt(!1)},onClose:()=>Dt(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Break 3 Out :"}),e.jsxs("div",{className:"relative w-32",children:[e.jsx("input",{type:"text",value:De,onChange:ia(Ae),onBlur:ca(De,Ae),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>Ke(!Ge),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(ds,{className:"w-4 h-4"})}),Ge&&e.jsx(Er,{initialTime:De,onTimeSelect:tt=>{Ae(tt),Ke(!1)},onClose:()=>Ke(!1)})]}),e.jsx("label",{className:"text-gray-700 text-sm ml-4",children:"Break 3 In :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:Ee,onChange:ia(ze),onBlur:ca(Ee,ze),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>ke(!ie),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(ds,{className:"w-4 h-4"})}),ie&&e.jsx(Er,{initialTime:Ee,onTimeSelect:tt=>{ze(tt),ke(!1)},onClose:()=>ke(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Date Out :"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:ot,onChange:tt=>wt(tt.target.value),placeholder:"MM/DD/YYYY",className:"w-40 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>Ze(!me),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(ds,{className:"w-4 h-4"})}),me&&e.jsx(Mr,{onDateSelect:tt=>{wt(tt),Ze(!1)},onClose:()=>Ze(!1)})]}),e.jsx("label",{className:"text-gray-700 text-sm ml-4",children:"Time Out :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:Ie,onChange:ia(ye),onBlur:ca(Ie,ye),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>_t(!it),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(ds,{className:"w-4 h-4"})}),it&&e.jsx(Er,{initialTime:Ie,onTimeSelect:tt=>{ye(tt),_t(!1)},onClose:()=>_t(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"OT Approved :"}),e.jsx("input",{type:"checkbox",checked:be,onChange:tt=>Me(tt.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"IsLateFiling :"}),e.jsx("input",{type:"checkbox",checked:Re,onChange:tt=>st(tt.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm pt-1",children:"Remarks :"}),e.jsx("textarea",{value:He,onChange:tt=>Ue(tt.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",rows:3})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Borrowed Device Name :"}),e.jsx("input",{type:"text",value:Ye,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-gray-50"}),e.jsx("button",{onClick:()=>at(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",title:"Search Device",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ht(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",title:"Clear",children:e.jsx(et,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsxs("button",{onClick:hr,disabled:M,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm disabled:opacity-60",children:[M&&e.jsx(Ea,{className:"w-4 h-4 animate-spin"}),k!==null?"Update":"Submit"]}),e.jsx("button",{onClick:()=>P(!1),className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}),e.jsx(nr,{isOpen:nt,onClose:()=>mt(!1),onSelect:tt=>{const ns=ae.find(ks=>ks.empCode===tt);rt(tt,ns?.name??"")},employees:ae,loading:te,error:V}),I&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:()=>Z(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:()=>Z(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Workshift Code"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:Q,onChange:tt=>We(tt.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),bt&&e.jsxs("div",{className:"mb-3 p-2 bg-red-50 border border-red-200 rounded text-red-700 text-sm flex items-center gap-2",children:[e.jsx(ya,{className:"w-4 h-4"})," ",bt]}),e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Code "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Description"})]})}),e.jsx("tbody",{children:yt?e.jsx("tr",{children:e.jsxs("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:[e.jsx(Ea,{className:"w-5 h-5 animate-spin inline mr-2"}),"Loading..."]})}):Ks.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:"No workshifts found"})}):Ks.map((tt,ns)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>vs(tt.code),children:[e.jsx("td",{className:"px-3 py-1.5",children:tt.code}),e.jsx("td",{className:"px-3 py-1.5",children:tt.description})]},tt.code))})]})})]})]})})]}),Ts&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:()=>at(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:()=>at(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Device Name"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:Jt,onChange:tt=>jt(tt.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),Ut&&e.jsxs("div",{className:"mb-3 p-2 bg-red-50 border border-red-200 rounded text-red-700 text-sm flex items-center gap-2",children:[e.jsx(ya,{className:"w-4 h-4"})," ",Ut]}),e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Device Code "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Device Name"})]})}),e.jsx("tbody",{children:Js?e.jsx("tr",{children:e.jsxs("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:[e.jsx(Ea,{className:"w-5 h-5 animate-spin inline mr-2"}),"Loading..."]})}):qs.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:"No devices found"})}):qs.map((tt,ns)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>Ys(tt.description),children:[e.jsx("td",{className:"px-3 py-1.5",children:tt.code}),e.jsx("td",{className:"px-3 py-1.5",children:tt.description})]},tt.id))})]})})]})]})})]}),e.jsx(nr,{isOpen:J,onClose:()=>we(!1),onSelect:tt=>{const ns=ae.find(ks=>ks.empCode===tt);Vt(tt,ns?.name??"")},employees:ae,loading:te,error:V})]})]})}),e.jsx(Zt,{})]})}function sr({value:t,onChange:s,placeholder:a="MM/DD/YYYY",className:r="",disabled:n=!1}){const[l,i]=o.useState(!1),d=f=>{if(!f)return;const N=f.split("/");if(N.length===3){const p=parseInt(N[0])-1,v=parseInt(N[1]),y=parseInt(N[2]);if(!isNaN(p)&&!isNaN(v)&&!isNaN(y))return new Date(y,p,v)}},x=f=>{if(!f)return"";const N=(f.getMonth()+1).toString().padStart(2,"0"),p=f.getDate().toString().padStart(2,"0"),v=f.getFullYear();return`${N}/${p}/${v}`},h=d(t),m=f=>{f&&(s(x(f)),i(!1))},b=f=>{s(f.target.value)};return e.jsxs("div",{className:`flex gap-2 ${r}`,children:[e.jsx("input",{type:"text",value:t,onChange:b,disabled:n,readOnly:n,className:`flex-1 px-4 py-2.5 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 ${n?"bg-gray-50 cursor-not-allowed text-gray-500":"bg-white"}`,placeholder:a}),e.jsxs(Vy,{open:l,onOpenChange:n?void 0:i,children:[e.jsx(Yy,{asChild:!0,children:e.jsx("button",{type:"button",disabled:n,className:`flex items-center justify-center px-4 py-2.5 rounded-xl transition-colors shadow-sm ${n?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:e.jsx(ds,{className:"w-4 h-4"})})}),e.jsx(Ky,{className:"w-auto p-0 bg-white",align:"start",children:e.jsx(Jy,{mode:"single",selected:h,onSelect:m,initialFocus:!0})})]})]})}function aD({isOpen:t,isEditMode:s,empCode:a,date:r,hoursApproved:n,actualDateInOTBefore:l,startTimeBefore:i,startOvertimeDate:d,startOvertimeTime:x,approvedBreak:h,reason:m,remarks:b,isLateFiling:f,onClose:N,onDateChange:p,onHoursApprovedChange:v,onActualDateInOTBeforeChange:y,onStartTimeBeforeChange:g,onStartOvertimeDateChange:j,onStartOvertimeTimeChange:C,onApprovedBreakChange:S,onReasonChange:P,onRemarksChange:k,onIsLateFilingChange:E,onSubmit:M}){return o.useEffect(()=>{const L=O=>{O.key==="Escape"&&t&&N()};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[t,N]),t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:N}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:s?"Edit Overtime":"Create New"}),e.jsx("button",{onClick:N,className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Overtime Applications"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"EmpCode :"}),e.jsx("input",{type:"text",value:a,readOnly:!0,className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date :"}),e.jsx(sr,{value:r,onChange:p,className:"flex-1 text-small"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"No. of Hours Approved :"}),e.jsx("input",{type:"text",value:n,onChange:L=>v(L.target.value),className:"w-40 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"[hh.mm]"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Start Time of OT Before the Shift :"}),e.jsx(sr,{value:r,onChange:p,className:"flex-1 text-small"})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 space-y-3",children:[e.jsx("div",{children:e.jsx("label",{className:"text-gray-700",children:"Start Time of Overtime :"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date :"}),e.jsx(sr,{value:d,onChange:j,className:"flex-1"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Time:"}),e.jsx("input",{type:"text",value:x,onChange:L=>C(L.target.value),className:"w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"HH:MM"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Approved OT Break Hrs :"}),e.jsx("input",{type:"text",value:h,onChange:L=>S(L.target.value),className:"w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"[hh.mm]"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Reason :"}),e.jsx("input",{type:"text",value:m,onChange:L=>P(L.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Remarks :"}),e.jsx("input",{type:"text",value:b,onChange:L=>k(L.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Is Late Filing :"}),e.jsx("input",{type:"checkbox",checked:f,onChange:L=>E(L.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:M,className:"px-5 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:s?"Update":"Submit"}),e.jsx("button",{onClick:N,className:"px-5 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}):null}function Mq(){const[t,s]=o.useState("workshift"),[a,r]=o.useState(""),[n,l]=o.useState(""),[i,d]=o.useState(""),[x]=o.useState("Main Monthly"),[h,m]=o.useState(!1),[b,f]=o.useState([]),[N,p]=o.useState(!1),[v,y]=o.useState(""),[g,j]=o.useState(!1),[C,S]=o.useState(""),[P,k]=o.useState(!1),[E,M]=o.useState(!1),L=[{code:"7AM4PM",description:"7:00 AM - 4:00 PM"},{code:"3PM12AM",description:"3:00 PM - 12:00 AM"},{code:"8AM5PM",description:"8:00 AM - 5:00 PM"},{code:"11PM8AM",description:"11:00 PM - 8:00 AM"},{code:"FLEX",description:"Flexible Schedule"}],O=L.filter(Q=>Q.code.toLowerCase().includes(C.toLowerCase())||Q.description.toLowerCase().includes(C.toLowerCase())),q=o.useMemo(()=>b.map(Q=>({...Q,name:`${Q.lName}, ${Q.fName}`,groupCode:Q.grpCode})),[b]),B=async(Q,We)=>{try{const ft=b.find($t=>$t.empCode===Q);if(!ft){console.error("Employee not found:",Q),await ee.fire({icon:"error",title:"Error",text:"Employee not found"});return}r(Q),l(ft.grpCode),d(We),m(!1),await Promise.all([Ze(Q),it(Q),ce(Q)])}catch(ft){console.error("Error loading employee:",ft),await ee.fire({icon:"error",title:"Error",text:"Failed to load employee details"})}},se=Q=>{dt(Q),j(!1)},[le,pe]=o.useState(!1),[U,Y]=o.useState(!1),[W,re]=o.useState(!1),[G,R]=o.useState(null),[F,A]=o.useState(""),[H,D]=o.useState(""),[_,xe]=o.useState(""),[ge,Ne]=o.useState(""),[Ce,fe]=o.useState(""),[ue,Oe]=o.useState(""),[De,Ae]=o.useState(""),[Ee,ze]=o.useState(""),[ot,wt]=o.useState(""),[Ie,ye]=o.useState(""),[be,Me]=o.useState(""),[Re,st]=o.useState(!1),[He,Ue]=o.useState("variable"),[Ye,ht]=o.useState(""),[ut,vt]=o.useState(null),[ve,Le]=o.useState(!1),[he,Ve]=o.useState(!1),[xt,Pt]=o.useState(null),[Lt,It]=o.useState(""),[qe,Nt]=o.useState(""),[gt,dt]=o.useState(""),[kt,Dt]=o.useState(""),[Ge,Ke]=o.useState([]),[ie,ke]=o.useState([]),me=async()=>{p(!0),y("");try{const Q=await ne.get("/Maintenance/EmployeeMasterFile");Q.status===200&&Q.data&&f(Q.data)}catch(Q){const We=Q.response?.data?.message||Q.message||"Failed to load employees";y(We),console.error("Error fetching employees:",Q)}finally{p(!1)}},Ze=async Q=>{if(Q){k(!0);try{const We=await ne.get("/Maintenance/EmployeeWorkshiftFixed/2ShiftsInADay");if(We.status===200&&We.data){const $t=(Array.isArray(We.data)?We.data:We.data.items||[]).find(yt=>(yt.empCode?.trim()||"").toLowerCase()===Q.trim().toLowerCase());$t&&(vt($t),ht($t.dailySched||""),Ue("fixed"))}}catch(We){console.error("Error fetching workshift fixed:",We),vt(null)}finally{k(!1)}}},it=async Q=>{if(Q){k(!0);try{const We=await ne.get("/Maintenance/EmployeeWorkshiftVariable/2ShiftsInADay");if(We.status===200&&We.data){const $t=(Array.isArray(We.data)?We.data:We.data.items||[]).filter(yt=>(yt.empCode?.trim()||"").toLowerCase()===Q.trim().toLowerCase());$t.length>0&&(Ke($t),Ue("variable"))}}catch(We){console.error("Error fetching workshift variable:",We),Ke([])}finally{k(!1)}}},_t=async()=>{const Q={id:ut?.id||0,empCode:a,dailySched:Ye,isFixed:!0};k(!0);try{let We;Q.id===0||!Q.id?We=await ne.post("/Maintenance/EmployeeWorkshiftFixed/2ShiftsInADay",Q):We=await ne.put(`/Maintenance/EmployeeWorkshiftFixed/2ShiftsInADay/${Q.id}`,Q),(We.status===200||We.status===201||We.status===204)&&(await ee.fire({icon:"success",title:"Success",text:"Fixed workshift saved successfully.",timer:2e3,showConfirmButton:!1}),await Ze(a),pe(!1))}catch(We){const ft=We.response?.data?.message||We.message||"Failed to save fixed workshift";await ee.fire({icon:"error",title:"Error",text:ft})}finally{k(!1)}},nt=async Q=>{k(!0);try{const We=await ne.post("/Maintenance/EmployeeWorkshiftVariable/2ShiftsInADay",Q);(We.status===200||We.status===201)&&(await ee.fire({icon:"success",title:"Success",text:"Variable workshift created successfully.",timer:2e3,showConfirmButton:!1}),await it(a),Le(!1))}catch(We){const ft=We.response?.data?.message||We.message||"Failed to create variable workshift";await ee.fire({icon:"error",title:"Error",text:ft})}finally{k(!1)}},mt=async(Q,We)=>{k(!0);try{const ft=await ne.put(`/Maintenance/EmployeeWorkshiftVariable/2ShiftsInADay/${Q}`,We);(ft.status===200||ft.status===204)&&(await ee.fire({icon:"success",title:"Updated!",text:"Variable workshift updated successfully.",timer:2e3,showConfirmButton:!1}),await it(a),Le(!1))}catch(ft){const $t=ft.response?.data?.message||ft.message||"Failed to update variable workshift";await ee.fire({icon:"error",title:"Error",text:$t})}finally{k(!1)}},ae=async Q=>{if((await ee.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed){k(!0);try{const ft=await ne.delete(`/Maintenance/EmployeeWorkshiftVariable/2ShiftsInADay/${Q}`);(ft.status===200||ft.status===204)&&(await ee.fire({icon:"success",title:"Deleted!",text:"Variable workshift has been deleted.",timer:2e3,showConfirmButton:!1}),await it(a))}catch(ft){const $t=ft.response?.data?.message||ft.message||"Failed to delete variable workshift";await ee.fire({icon:"error",title:"Error",text:$t})}finally{k(!1)}}},ce=async Q=>{if(Q){M(!0);try{const We=await ne.get("/Maintenance/EmployeeOvertimeApplication/2ShiftsInADay");if(We.status===200&&We.data){const $t=(Array.isArray(We.data)?We.data:We.data.items||[]).filter(yt=>(yt.empCode?.trim()||"").toLowerCase()===Q.trim().toLowerCase());ke($t)}}catch(We){console.error("Error fetching overtime applications:",We),ke([])}finally{M(!1)}}},te=(Q,We=0)=>({ID:We,EmpCode:Q.empCode,Date:Q.date?new Date(Q.date).toISOString():null,NumOTHoursApproved:Q.numOTHoursApproved||0,EarlyOTStartTime:Q.earlyOTStartTime?new Date(Q.earlyOTStartTime).toISOString():null,EarlyTimeIn:Q.earlyTimeIn?new Date(Q.earlyTimeIn).toISOString():null,StartOTPM:Q.startOTPM?new Date(Q.startOTPM).toISOString():null,MinHRSOTBreak:Q.minHRSOTBreak||0,EarlyOTStartTimeRestHol:Q.earlyOTStartTimeRestHol?new Date(Q.earlyOTStartTimeRestHol).toISOString():null,Reason:Q.reason||"",Remarks:Q.remarks||"",ApprovedOTBreaksHrs:Q.approvedOTBreaksHrs||0,STOTATS:Q.stotats?new Date(Q.stotats).toISOString():null,IsLateFiling:Q.isLateFiling??!1,IsLateFilingProcessed:Q.isLateFilingProcessed??!1}),z=async Q=>{M(!0);try{const We=te(Q,0),ft=await ne.post("/Maintenance/EmployeeOvertimeApplication/2ShiftsInADay",We);(ft.status===200||ft.status===201)&&(await ee.fire({icon:"success",title:"Success",text:"Overtime application created successfully.",timer:2e3,showConfirmButton:!1}),await ce(Q.empCode||""),Y(!1))}catch(We){const ft=We.response?.data?.title||We.message||"Failed to create application";await ee.fire({icon:"error",title:"Error",text:ft})}finally{M(!1)}},V=async(Q,We)=>{M(!0);try{const ft=te(We,Q),$t=await ne.put(`/Maintenance/EmployeeOvertimeApplication/2ShiftsInADay/${Q}`,ft);($t.status===200||$t.status===204)&&(await ee.fire({icon:"success",title:"Updated!",text:"Overtime application updated successfully.",timer:2e3,showConfirmButton:!1}),await ce(We.empCode||""),Y(!1))}catch(ft){const $t=ft.response?.data||ft.message||"Failed to update application";await ee.fire({icon:"error",title:"Error",text:$t})}finally{M(!1)}},X=async Q=>{if((await ee.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed){M(!0);try{const ft=await ne.delete(`/Maintenance/EmployeeOvertimeApplication/2ShiftsInADay/${Q}`);(ft.status===200||ft.status===204)&&(await ee.fire({icon:"success",title:"Deleted!",text:"Overtime application has been deleted.",timer:2e3,showConfirmButton:!1}),await ce(a))}catch(ft){const $t=ft.response?.data?.message||ft.message||"Failed to delete overtime application";await ee.fire({icon:"error",title:"Error",text:$t})}finally{M(!1)}}},de=async()=>{try{const Q={empCode:a,date:F,numOTHoursApproved:parseFloat(H)||0,earlyOTStartTime:_,earlyTimeIn:ge,startOTPM:Ce,minHRSOTBreak:parseFloat(ue)||0,earlyOTStartTimeRestHol:De,reason:Ee,remarks:ot,approvedOTBreaksHrs:parseFloat(Ie)||0,stotats:be,isLateFiling:Re,isLateFilingProcessed:!1};W&&G!==null?await V(G,Q):await z(Q)}catch(Q){console.error("Error submitting overtime application:",Q)}},_e=async Q=>{await X(Q)},Te=async()=>{try{const Q={empCode:a,dateFrom:Lt,dateTo:qe,shiftCode:gt,dailyScheduleCode:kt,updateDate:new Date().toISOString()};he&&xt!==null?await mt(xt,Q):await nt(Q)}catch(Q){console.error("Error submitting workshift:",Q)}},je=async Q=>{await ae(Q)},J=async()=>{try{if(!a){await ee.fire({icon:"warning",title:"Warning",text:"Please select an employee first"});return}t==="workshift"&&He==="fixed"&&await _t()}catch(Q){console.error("Error saving:",Q)}},we=()=>{pe(!1),a&&t==="workshift"&&(Ze(a),it(a))};o.useEffect(()=>{const Q=We=>{We.key==="Escape"&&(h?m(!1):g?j(!1):ve?Le(!1):U&&Y(!1))};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[h,g,ve,U]),o.useEffect(()=>{me()},[]),o.useEffect(()=>{a&&(Ze(a),it(a),ce(a))},[a]);const I=()=>{switch(t){case"workshift":return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:P?e.jsx("div",{className:"text-center py-8",children:"Loading workshifts..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"radio",id:"workshift-fixed",checked:He==="fixed",onChange:()=>Ue("fixed"),disabled:!le,className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"workshift-fixed",className:"text-gray-700",children:"Fixed"})]}),He==="fixed"&&e.jsx("div",{className:"ml-7 bg-gray-50 rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center gap-3 max-w-md",children:[e.jsx("label",{className:"text-gray-700 w-24",children:"DailySched"}),e.jsx("input",{type:"text",value:Ye,onChange:Q=>ht(Q.target.value),disabled:!le,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed"})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"radio",id:"workshift-variable",checked:He==="variable",onChange:()=>Ue("variable"),disabled:!le,className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"workshift-variable",className:"text-gray-700",children:"Variable"})]}),He==="variable"&&e.jsxs("div",{className:"ml-7 space-y-4",children:[e.jsx("div",{children:e.jsxs("button",{onClick:()=>{Ve(!1),Pt(null),It(""),Nt(""),dt(""),Dt(""),Le(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(fs,{className:"w-4 h-4"}),"Add"]})}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date From"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date To"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Shift Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:Ge.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500",children:"No variable workshift records found"})}):Ge.map(Q=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Q.dateFrom?new Date(Q.dateFrom).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Q.dateTo?new Date(Q.dateTo).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Q.shiftCode}),e.jsx("td",{className:"px-6 py-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{Ve(!0),Pt(Q.id),It(Q.dateFrom?new Date(Q.dateFrom).toISOString().split("T")[0]:""),Nt(Q.dateTo?new Date(Q.dateTo).toISOString().split("T")[0]:""),dt(Q.shiftCode||""),Dt(Q.dailyScheduleCode||""),Le(!0)},className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",children:e.jsx(ws,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>je(Q.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},Q.id))})]})})]})]})]})});case"overtime-applications":return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{children:e.jsxs("button",{onClick:()=>{re(!1),R(null),A(""),D(""),xe(""),Ne(""),fe(""),Oe(""),Ae(""),ze(""),wt(""),ye(""),Me(""),st(!1),Y(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:E?e.jsx("div",{className:"text-center py-8",children:"Loading overtime applications..."}):e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Hours Approved"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Reason"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Remarks"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Late Filing"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:ie.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"No overtime applications found"})}):ie.map(Q=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Q.date?new Date(Q.date).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Q.numOTHoursApproved}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Q.reason}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Q.remarks}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Q.isLateFiling?"Yes":"No"}),e.jsx("td",{className:"px-6 py-3",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>{re(!0),R(Q.id),A(Q.date?new Date(Q.date).toISOString().split("T")[0]:""),D(Q.numOTHoursApproved?.toString()||""),xe(Q.earlyOTStartTime||""),Ne(Q.earlyTimeIn||""),fe(Q.startOTPM||""),Oe(Q.minHRSOTBreak?.toString()||""),Ae(Q.earlyOTStartTimeRestHol||""),ze(Q.reason||""),wt(Q.remarks||""),ye(Q.approvedOTBreaksHrs?.toString()||""),Me(Q.stotats||""),st(Q.isLateFiling||!1),Y(!0)},className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",children:e.jsx(ws,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>_e(Q.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},Q.id))})]})})]})});default:return null}},Z=[{id:"overtime-applications",label:"Overtime Applications",icon:Nb},{id:"workshift",label:"Workshift",icon:xa}];return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Employee Time Keep Group Configuration [2-Shifts]"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure work shifts and overtime applications for 2-shift employees with accurate time tracking and overtime management."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Work shift configuration (Fixed/Variable)"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Overtime application tracking"})]})]})]})]})}),e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[t==="workshift"&&e.jsx(e.Fragment,{children:le?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:J,disabled:P,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50",children:[e.jsx(Aa,{className:"w-4 h-4"}),P?"Saving...":"Save"]}),e.jsxs("button",{onClick:we,disabled:P,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50",children:[e.jsx(et,{className:"w-4 h-4"}),"Cancel"]})]}):e.jsxs("button",{onClick:()=>pe(!0),disabled:!a,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(cl,{className:"w-4 h-4"}),"Edit"]})}),t==="overtime-applications"&&e.jsx("div",{className:"px-4 py-2",children:""})]}),e.jsx("div",{className:"mb-6 space-y-4 bg-gray-50 border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 font-bold w-24",children:"TKS Group"}),e.jsx("input",{type:"text",value:n,disabled:!0,placeholder:"Auto-filled from selection",className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-100"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 font-bold w-24",children:"EmpCode"}),e.jsx("input",{type:"text",value:a,disabled:!0,className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-100"}),e.jsxs("button",{onClick:()=>m(!0),className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx(Gt,{className:"w-4 h-4"}),"Search"]})]})]})}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-blue-700 mb-1",children:i}),e.jsx("div",{className:"text-blue-600",children:x})]})]}),e.jsx("div",{className:"flex gap-1 mb-6 border-b border-gray-300",children:Z.map(Q=>e.jsxs("button",{onClick:()=>s(Q.id),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===Q.id?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Q.icon,{className:"w-4 h-4"}),e.jsx("span",{children:Q.label})]},Q.id))}),I()]}),e.jsx(nr,{isOpen:h,onClose:()=>m(!1),onSelect:B,employees:q,loading:N,error:v}),g&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-50",onClick:()=>j(!1)}),e.jsx("div",{className:"fixed inset-0 bg-transparent flex items-center justify-center z-60 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[110vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search Workshift Code"}),e.jsx("button",{onClick:()=>j(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Workshift Code"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:C,onChange:Q=>S(Q.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Code "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Description"})]})}),e.jsx("tbody",{children:O.map(Q=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>se(Q.code),children:[e.jsx("td",{className:"px-3 py-1.5",children:Q.code}),e.jsx("td",{className:"px-3 py-1.5",children:Q.description})]},Q.code))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing 1 to ",O.length," of ",L.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"Previous"}),e.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded text-xs",children:"1"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"Next"})]})]})]})]})})]}),e.jsx(aD,{isOpen:U,isEditMode:W,empCode:a,date:F,hoursApproved:H,actualDateInOTBefore:"",startTimeBefore:_,startOvertimeDate:"",startOvertimeTime:ge,approvedBreak:ue,reason:Ee,remarks:ot,isLateFiling:Re,onClose:()=>Y(!1),onDateChange:A,onHoursApprovedChange:D,onActualDateInOTBeforeChange:()=>{},onStartTimeBeforeChange:xe,onStartOvertimeDateChange:()=>{},onStartOvertimeTimeChange:Ne,onApprovedBreakChange:Oe,onReasonChange:ze,onRemarksChange:wt,onIsLateFilingChange:st,onSubmit:de}),ve&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:()=>Le(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:he?"Edit Workshift":"Create Workshift Variable"}),e.jsx("button",{onClick:()=>Le(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Date From :"}),e.jsx("input",{type:"date",value:Lt,onChange:Q=>It(Q.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Date To :"}),e.jsx("input",{type:"date",value:qe,onChange:Q=>Nt(Q.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Shift Code :"}),e.jsx("input",{type:"text",value:gt,onChange:Q=>dt(Q.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("button",{onClick:()=>j(!0),className:"p-2 bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors shadow-sm",title:"Search Workshift Code",children:e.jsx(Gt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Daily Sched Code :"}),e.jsx("input",{type:"text",value:kt,onChange:Q=>Dt(Q.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:Te,className:"px-5 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:he?"Update":"Add"}),e.jsx("button",{onClick:()=>Le(!1),className:"px-5 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Cancel"})]})]})]})})]})]})}),e.jsx(Zt,{})]})}function Iq(){const[t,s]=o.useState([2,3,4,5,6,7,8,9,10]),[a,r]=o.useState(""),[n,l]=o.useState(!1),[i,d]=o.useState("5/5/2021"),[x,h]=o.useState("05/05/2021"),m=N=>{s(p=>p.includes(N)?p.filter(v=>v!==N):[...p,N])},b=()=>{t.length===uc.length?s([]):s(uc.map(N=>N.id))},f=N=>{const p=N.target.files?.[0];p&&(r(p.name),l(!0))};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Import Overtime Application 2 Shifts In A Day"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-blue-100 border-l-4 border-blue-500 rounded-lg p-5",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx(ur,{className:"w-5 h-5 text-white"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Import overtime application records from Excel or CSV files. Select the TKS groups and date range to process overtime applications."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Import from Excel/CSV files"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Filter by date range"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Select TKS groups"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Download template format"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-6",children:[e.jsx(Vl,{selectedCodes:t,onToggle:m,onSelectAll:b}),e.jsxs("div",{className:"lg:col-span-3 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Import Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Excel File"}),e.jsxs("div",{className:"bg-teal-50 border-2 border-teal-200 rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:a}),e.jsx("div",{className:"text-xs text-teal-600",children:"File loaded successfully"})]})]}),e.jsx("input",{type:"file",onChange:f,accept:".xlsx,.xls",className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",className:"px-4 py-2 bg-teal-500 text-white rounded-lg cursor-pointer hover:bg-teal-600 transition-colors text-sm",children:"Change File"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Date From"}),e.jsx(qr,{date:i,onChange:d})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Date To"}),e.jsx(qr,{date:x,onChange:h})]})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-300 rounded-lg p-4",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",id:"delete-existing",checked:!1,onChange:()=>{},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:"Delete Existing Overtime Application"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Remove all existing overtime records before importing new data"})]})]})}),e.jsx("div",{className:"bg-gray-100 border border-gray-300 rounded-lg p-4",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",id:"list-not-equal",checked:!1,onChange:()=>{},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:"List Not Equal"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Show only records with discrepancies or mismatches"})]})]})}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[e.jsx(vi,{className:"w-4 h-4 text-blue-600 mt-0.5"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Need a template?"})]}),e.jsx("div",{className:"ml-6",children:e.jsxs("button",{className:"px-4 py-2 bg-white border border-blue-300 text-blue-700 rounded-lg hover:bg-blue-50 transition-colors text-sm flex items-center gap-2",children:[e.jsx(on,{className:"w-3 h-3"}),"Download Template"]})})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsxs("button",{className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[e.jsx(ur,{className:"w-4 h-4"}),"Import Data"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Update Data"]})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"px-5 py-3 bg-white border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-gray-900",children:"Import Preview"}),e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs",children:"Ready to import"})]}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpCode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpName"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateFrom"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateTo"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Num OT Hours"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Approved"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"TKSGroup"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Reason"})]})}),e.jsx("tbody",{children:e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-4 py-16 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(vi,{className:"w-16 h-16 text-gray-300"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-900",children:"No data available"}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Upload and select a file to preview import data"})]})]})})})})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Showing 0 entries"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{className:"w-6 h-6 flex items-center justify-center rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:""}),e.jsx("button",{className:"w-6 h-6 flex items-center justify-center rounded bg-blue-500 text-white text-xs",children:"1"}),e.jsx("button",{className:"w-6 h-6 flex items-center justify-center rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:""})]})]})]})]})]})}),e.jsx(Zt,{})]})}function Lq(){const[t,s]=o.useState([2,3,4,5,6,7,8,9,10]),[a,r]=o.useState("Copy of I - Workshift.xlsx"),[n,l]=o.useState(!0),[i,d]=o.useState("3/1/2020"),[x,h]=o.useState("03/15/2020"),[m,b]=o.useState(!1),[f,N]=o.useState("workshift-variable"),p=g=>{s(j=>j.includes(g)?j.filter(C=>C!==g):[...j,g])},v=()=>{t.length===uc.length?s([]):s(uc.map(g=>g.id))},y=g=>{const j=g.target.files?.[0];j&&(r(j.name),l(!0))};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Import Workshift Variable 2 Shifts In A Day"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Batch import workshift schedules and rest day assignments for employees. Upload Excel files to configure work schedules across multiple employee groups efficiently."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Import workshift schedules by date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Configure rest days for employee groups"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Download Excel templates for easy formatting"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update existing records or import new data"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-6",children:[e.jsx(Vl,{selectedCodes:t,onToggle:p,onSelectAll:v}),e.jsxs("div",{className:"lg:col-span-3 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Import Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Excel File"}),e.jsxs("div",{className:"bg-teal-50 border-2 border-teal-200 rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:a}),e.jsx("div",{className:"text-xs text-teal-600",children:"File loaded successfully"})]})]}),e.jsx("input",{type:"file",onChange:y,accept:".xlsx,.xls",className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",className:"px-4 py-2 bg-teal-500 text-white rounded-lg cursor-pointer hover:bg-teal-600 transition-colors text-sm",children:"Change File"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(qr,{date:i,onChange:d,label:"Date From"}),e.jsx(qr,{date:x,onChange:h,label:"Date To"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Import Type"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-3 p-3 bg-white border-2 border-blue-500 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"radio",name:"importType",value:"workshift-variable",checked:f==="workshift-variable",onChange:g=>N(g.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Workshift Variable"})]}),e.jsxs("label",{className:"flex items-center gap-3 p-3 bg-white border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"radio",name:"importType",value:"workshift-restday",checked:f==="workshift-restday",onChange:g=>N(g.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Workshift with Restday"})]})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[e.jsx(on,{className:"w-4 h-4 text-blue-600 mt-0.5"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Download Templates:"})]}),e.jsxs("div",{className:"ml-6 space-y-1",children:[e.jsxs("a",{href:"#",className:"flex items-center gap-2 text-sm text-blue-600 hover:text-blue-700",children:[e.jsx(on,{className:"w-3 h-3"}),"Download Template (Workshift Variable)"]}),e.jsxs("a",{href:"#",className:"flex items-center gap-2 text-sm text-blue-600 hover:text-blue-700",children:[e.jsx(on,{className:"w-3 h-3"}),"Download Template (Workshift w/ Rest Day)"]})]})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-300 rounded-lg p-4",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",id:"delete-existing",checked:m,onChange:g=>b(g.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:"Delete Existing Workshift and RestDay"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Remove all existing workshift and rest day records before importing new data"})]})]})}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsxs("button",{className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[e.jsx(ur,{className:"w-4 h-4"}),"Import Data"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Update Data"]})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"px-5 py-3 bg-white border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-gray-900",children:"Import Preview"}),n&&e.jsx("span",{className:"px-3 py-1 bg-teal-100 text-teal-700 rounded-full text-xs",children:"File loaded"})]}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpCode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpName"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateFrom"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateTo"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"TKSGroup"})]})}),e.jsx("tbody",{children:e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-16 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(vi,{className:"w-16 h-16 text-gray-300"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-900",children:"No data available"}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Select a worksheet to preview import data"})]})]})})})})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Showing 0 entries"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{className:"w-6 h-6 flex items-center justify-center rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:""}),e.jsx("button",{className:"w-6 h-6 flex items-center justify-center rounded bg-blue-500 text-white text-xs",children:"1"}),e.jsx("button",{className:"w-6 h-6 flex items-center justify-center rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:""})]})]})]})]})]})}),e.jsx(Zt,{})]})}function Oq(){const[t,s]=o.useState([2,3,4,5,6,7,8,9,10]),[a,r]=o.useState("3/1/2020"),[n,l]=o.useState("03/15/2020"),[i,d]=o.useState(!1),[x,h]=o.useState(!1),[m,b]=o.useState(!1),[f,N]=o.useState(!1),[p,v]=o.useState(!1),[y,g]=o.useState("B3-TFT-U_DATFILE"),[j,C]=o.useState(""),[S,P]=o.useState(!1),[k,E]=o.useState(""),[M,L]=o.useState("active"),q=[{id:1,code:"001",name:"Juan Dela Cruz"},{id:2,code:"002",name:"Maria Santos"},{id:3,code:"003",name:"Pedro Reyes"},{id:4,code:"004",name:"Ana Garcia"},{id:5,code:"005",name:"Jose Hernandez"},{id:6,code:"006",name:"Carmen Lopez"},{id:7,code:"007",name:"Miguel Torres"},{id:8,code:"008",name:"Isabel Ramirez"},{id:9,code:"009",name:"Carlos Flores"},{id:10,code:"010",name:"Rosa Morales"}].filter(pe=>pe.code.toLowerCase().includes(k.toLowerCase())||pe.name.toLowerCase().includes(k.toLowerCase())),B=pe=>{s(U=>U.includes(pe)?U.filter(Y=>Y!==pe):[...U,pe])},se=()=>{t.length===uc.length?s([]):s(uc.map(pe=>pe.id))},le=pe=>{const U=pe.target.files?.[0];U&&(C(U.name),P(!0))};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Import Logs From Device 2 Shifts In A Day"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Import employee attendance logs directly from biometric devices. Upload device log files to batch process time-in and time-out records for multiple employees."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Import device logs by date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Consolidate daily time records automatically"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"View and validate logs before processing"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by device and employee status"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-6",children:[e.jsx(Vl,{selectedCodes:t,onToggle:B,onSelectAll:se}),e.jsxs("div",{className:"lg:col-span-3 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Import Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(qr,{date:a,onChange:r,label:"From:"}),e.jsx(qr,{date:n,onChange:l,label:"To:"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:i,onChange:pe=>d(pe.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Consolidate DTR"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x,onChange:pe=>h(pe.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Enable Device Code"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:m,onChange:pe=>b(pe.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Do Not Include Resigned Employees"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:f,onChange:pe=>N(pe.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Upload logs from Online System only"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:p,onChange:pe=>v(pe.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Delete Existing Logs of the Device"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Device:"}),e.jsxs("select",{value:y,onChange:pe=>g(pe.target.value),className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:"B3-TFT-U_DATFILE",children:"B3-TFT-U_DATFILE"}),e.jsx("option",{value:"Device2",children:"Device 2"}),e.jsx("option",{value:"Device3",children:"Device 3"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"File Name:"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"file",onChange:le,accept:".dat,.txt",className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",className:"px-4 py-2 bg-gray-600 text-white rounded cursor-pointer hover:bg-gray-700 transition-colors text-sm",children:"Choose Files"}),e.jsx("span",{className:"text-sm text-gray-600",children:j||"No file chosen"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsxs("button",{className:"px-6 py-2.5 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center gap-2",children:[e.jsx(ur,{className:"w-4 h-4"}),"Import"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors flex items-center gap-2",children:[e.jsx(oF,{className:"w-4 h-4"}),"View Logs"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx(Be,{className:"w-4 h-4"}),"Validate"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-orange-600 text-white rounded hover:bg-orange-700 transition-colors flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Update"]})]})]})]})]}),e.jsxs("div",{className:"mb-6 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Employee Selection"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Search:"}),e.jsx("input",{type:"text",placeholder:"Search employees...",value:k,onChange:pe=>E(pe.target.value),className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:q.map(pe=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:pe.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:pe.name})]},pe.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"Showing 1 to 10 of 704 entries"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs",children:"Previous"}),e.jsx("button",{className:"px-2 py-1 rounded bg-blue-500 text-white text-xs",children:"1"}),e.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs",children:"2"}),e.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs",children:"3"}),e.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs",children:"4"}),e.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs",children:"5"}),e.jsx("span",{className:"px-2",children:"..."}),e.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs",children:"71"}),e.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"status",value:"active",checked:M==="active",onChange:pe=>L(pe.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"status",value:"inactive",checked:M==="inactive",onChange:pe=>L(pe.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"status",value:"all",checked:M==="all",onChange:pe=>L(pe.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-5 py-3 bg-white border-b border-gray-200",children:e.jsx("h3",{className:"text-gray-900",children:"Device Log Preview"})}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Employee Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Date In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Actual Date/Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Date Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Flag"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break1Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break1In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break2Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break3Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break3In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Workshift"})]})}),e.jsx("tbody",{children:e.jsx("tr",{children:e.jsx("td",{colSpan:14,className:"px-4 py-12 text-center text-gray-500 text-sm",children:"No data available in table"})})})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Showing 0 entries"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:"Previous"}),e.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:"Next"})]})]})]})]})]})}),e.jsx(Zt,{})]})}function _q({show:t,onClose:s,onSelect:a,searchTerm:r,setSearchTerm:n}){if(!t)return null;const i=[{code:"BL",description:"Birthday Leave"},{code:"HL",description:"Home Leave"},{code:"PL",description:"Paternity Leave"},{code:"SL",description:"Sick Leave"},{code:"SPL",description:"Solo Parent Leave"},{code:"VL",description:"Vacation Leave"},{code:"WN",description:"Leave with notice"}].filter(d=>d.code.toLowerCase().includes(r.toLowerCase())||d.description.toLowerCase().includes(r.toLowerCase()));return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:s}),e.jsx("div",{className:"fixed inset-0 bg-transparent flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[110vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Leave Type"}),e.jsxs("div",{className:"flex items-center justify-end gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:r,onChange:d=>n(d.target.value),className:"w-64 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Code "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Description "})]})}),e.jsx("tbody",{children:i.map(d=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>{a(d.code,d.description),s()},children:[e.jsx("td",{className:"px-3 py-1.5",children:d.code}),e.jsx("td",{className:"px-3 py-1.5",children:d.description})]},d.code))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsx("div",{className:"text-gray-600 text-xs",children:"Showing 1 to 7 of 7 entries"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"Previous"}),e.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded text-xs",children:"1"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"Next"})]})]})]})]})})]})}function Bq({show:t,onClose:s,onSelect:a,searchTerm:r,setSearchTerm:n}){if(!t)return null;const i=[{code:"WS001",description:"Regular Shift"},{code:"WS002",description:"Night Shift"},{code:"WS003",description:"Swing Shift"},{code:"WS004",description:"Morning Shift"},{code:"WS005",description:"Evening Shift"}].filter(d=>d.code.toLowerCase().includes(r.toLowerCase())||d.description.toLowerCase().includes(r.toLowerCase()));return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:s}),e.jsx("div",{className:"fixed inset-0 bg-transparent flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[110vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Workshift Code"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:r,onChange:d=>n(d.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Code "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Description"})]})}),e.jsx("tbody",{children:i.map(d=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>{a(d.code,d.description),s()},children:[e.jsx("td",{className:"px-3 py-1.5",children:d.code}),e.jsx("td",{className:"px-3 py-1.5",children:d.description})]},d.code))})]})})]})]})})]})}function Rq({show:t,onClose:s,onSelect:a,searchTerm:r,setSearchTerm:n}){if(!t)return null;const i=[{code:"ADJ_PAY",description:"Adjustment",rate:"100.00",defaultAmount:"0.00"},{code:"ATESTOT1",description:"TEST OT 11",rate:"123.00",defaultAmount:"0.00"},{code:"BASC_RATE",description:"Basic Rate",rate:"100.00",defaultAmount:"0.00"},{code:"HOLIDAY",description:"Unworked Holiday Pay",rate:"100.00",defaultAmount:"0.00"},{code:"HOLMON",description:"Holiday Monthly",rate:"0.00",defaultAmount:"0.00"},{code:"ND_BASIC",description:"Night Differential Basic Rate",rate:"10.00",defaultAmount:"0.00"},{code:"ND_LHF8",description:"ND Legal Holiday First 8 Hours",rate:"20.00",defaultAmount:"0.00"},{code:"ND_LHRDF8",description:"ND Legal Holiday falls on Rest Day First 8 Hours",rate:"26.00",defaultAmount:"0.00"},{code:"ND_LHRDX8",description:"ND Legal Holiday falls on Rest Day Excess of 8 Hours",rate:"33.80",defaultAmount:"0.00"},{code:"ND_LHX8",description:"ND Legal Holiday Excess of 8 Hours",rate:"26.00",defaultAmount:"0.00"}].filter(d=>d.code.toLowerCase().includes(r.toLowerCase())||d.description.toLowerCase().includes(r.toLowerCase()));return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:s}),e.jsx("div",{className:"fixed inset-0 bg-transparent flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[110vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Overtime Code"}),e.jsxs("div",{className:"flex items-center justify-end gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:r,onChange:d=>n(d.target.value),className:"w-64 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Code "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Description"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Rate "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Default Amount "})]})}),e.jsx("tbody",{children:i.map(d=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>{a(d.code,d.description),s()},children:[e.jsx("td",{className:"px-3 py-1.5",children:d.code}),e.jsx("td",{className:"px-3 py-1.5",children:d.description}),e.jsx("td",{className:"px-3 py-1.5",children:d.rate}),e.jsx("td",{className:"px-3 py-1.5",children:d.defaultAmount})]},d.code))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsx("div",{className:"text-gray-600 text-xs",children:"Showing 1 to 10 of 68 entries"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"Previous"}),e.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded text-xs",children:"1"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"2"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"3"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"4"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"5"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"6"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"7"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"Next"})]})]})]})]})})]})}function Uq({show:t,onClose:s,isEditMode:a,empCode:r,setEmpCode:n,transactionDate:l,setTransactionDate:i,transactionType:d,setTransactionType:x,noOfHours:h,setNoOfHours:m,overtimeCode:b,setOvertimeCode:f,onSubmit:N}){return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:s}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:a?"Edit Record":"Create New"}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Overtime"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"EmpCode :"}),e.jsx("input",{type:"text",value:r,onChange:p=>n(p.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Transaction Date :"}),e.jsx("input",{type:"text",value:l,onChange:p=>i(p.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Transaction Type :"}),e.jsxs("select",{value:d,onChange:p=>x(p.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:[e.jsx("option",{value:""}),e.jsx("option",{value:"Tardiness",children:"Tardiness"}),e.jsx("option",{value:"Overtime",children:"Overtime"}),e.jsx("option",{value:"Undertime",children:"Undertime"}),e.jsx("option",{value:"Leave and Absences",children:"Leave and Absences"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"No of Hours :"}),e.jsx("input",{type:"text",value:h,onChange:p=>m(p.target.value),className:"w-32 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"[hh.mm]"}),e.jsx("span",{className:"text-gray-500 text-xs",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Overtime Code :"}),e.jsx("input",{type:"text",value:b,onChange:p=>f(p.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),e.jsx("button",{className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:N,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:a?"Update":"Submit"}),e.jsx("button",{onClick:s,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}):null}function Hq({show:t,onClose:s,isEditMode:a,empCode:r,setEmpCode:n,transactionDate:l,setTransactionDate:i,transactionType:d,setTransactionType:x,leaveType:h,setLeaveType:m,overtimeCode:b,setOvertimeCode:f,noOfHours:N,setNoOfHours:p,adjustType:v,setAdjustType:y,remarks:g,setRemarks:j,isLateFiling:C,setIsLateFiling:S,isLateFilingActualDate:P,setIsLateFilingActualDate:k,borrowedDeviceName:E,setBorrowedDeviceName:M,onSubmit:L}){return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:s}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:a?"Edit Record":"Create New"}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Adjustments"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"EmpCode :"}),e.jsx("input",{type:"text",value:r,onChange:O=>n(O.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Transaction Date :"}),e.jsx("input",{type:"text",value:l,onChange:O=>i(O.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Transaction Type :"}),e.jsxs("select",{value:d,onChange:O=>x(O.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:[e.jsx("option",{value:""}),e.jsx("option",{value:"Tardiness",children:"Tardiness"}),e.jsx("option",{value:"Overtime",children:"Overtime"}),e.jsx("option",{value:"Undertime",children:"Undertime"}),e.jsx("option",{value:"Leave and Absences",children:"Leave and Absences"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Leave Type :"}),e.jsx("input",{type:"text",value:h,onChange:O=>m(O.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Overtime Code :"}),e.jsx("input",{type:"text",value:b,onChange:O=>f(O.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),e.jsx("button",{className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"No Of Hours :"}),e.jsx("input",{type:"text",value:N,onChange:O=>p(O.target.value),className:"w-32 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"[hh.mm]"}),e.jsx("span",{className:"text-gray-500 text-xs",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Adjust Type :"}),e.jsxs("select",{value:v,onChange:O=>y(O.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:[e.jsx("option",{value:""}),e.jsx("option",{value:"Tardiness",children:"Tardiness"}),e.jsx("option",{value:"Overtime",children:"Overtime"}),e.jsx("option",{value:"Undertime",children:"Undertime"}),e.jsx("option",{value:"Leave and Absences",children:"Leave and Absences"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Remarks :"}),e.jsx("input",{type:"text",value:g,onChange:O=>j(O.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"IsLateFiling :"}),e.jsx("input",{type:"checkbox",checked:C,onChange:O=>S(O.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-44 text-gray-700",children:"IsLateFilingActualDate :"}),e.jsx("input",{type:"text",value:P,onChange:O=>k(O.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-44 text-gray-700",children:"Borrowed Device Name :"}),e.jsx("input",{type:"text",value:E,onChange:O=>M(O.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),e.jsx("button",{className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:L,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:a?"Update":"Submit"}),e.jsx("button",{onClick:s,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}):null}function Wq({show:t,onClose:s,isEditMode:a,empCode:r,setEmpCode:n,date:l,setDate:i,allowanceCode:d,setAllowanceCode:x,description:h,setDescription:m,amount:b,setAmount:f,remarks:N,setRemarks:p,onSubmit:v}){return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:s}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:a?"Edit Record":"Create New"}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Overtime"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"EmpCode :"}),e.jsx("input",{type:"text",value:r,onChange:y=>n(y.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date :"}),e.jsx("input",{type:"text",value:l,onChange:y=>i(y.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"AllowanceCode :"}),e.jsx("input",{type:"text",value:d,onChange:y=>x(y.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),e.jsx("button",{className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Description :"}),e.jsx("input",{type:"text",value:h,onChange:y=>m(y.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Amount :"}),e.jsx("input",{type:"text",value:b,onChange:y=>f(y.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Remarks :"}),e.jsx("input",{type:"text",value:N,onChange:y=>p(y.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:v,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:a?"Update":"Submit"}),e.jsx("button",{onClick:s,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}):null}function Gq({show:t,onClose:s,isEditMode:a,empCode:r,setEmpCode:n,dateFrom:l,setDateFrom:i,dateTo:d,setDateTo:x,timeIn:h,setTimeIn:m,timeOut:b,setTimeOut:f,workshiftCode:N,setWorkshiftCode:p,undertime:v,setUndertime:y,undertimeWithinGracePeriod:g,setUndertimeWithinGracePeriod:j,actualUndertime:C,setActualUndertime:S,remarks:P,setRemarks:k,onSubmit:E,onWorkshiftSearch:M}){return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:s}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:a?"Edit Record":"Create New"}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Undertime"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"EmpCode :"}),e.jsx("input",{type:"text",value:r,onChange:L=>n(L.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date From :"}),e.jsx("input",{type:"text",value:l,onChange:L=>i(L.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date To :"}),e.jsx("input",{type:"text",value:d,onChange:L=>x(L.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Time In :"}),e.jsx("input",{type:"text",value:h,onChange:L=>m(L.target.value),className:"w-28 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Time Out :"}),e.jsx("input",{type:"text",value:b,onChange:L=>f(L.target.value),className:"w-28 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Workshift Code :"}),e.jsx("input",{type:"text",value:N,onChange:L=>p(L.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),e.jsx("button",{onClick:M,className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>p(""),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Undertime :"}),e.jsx("input",{type:"text",value:v,onChange:L=>y(L.target.value),className:"w-28 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"[hh.mm]"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Undertime Within GracePeriod :"}),e.jsx("input",{type:"text",value:g,onChange:L=>j(L.target.value),className:"w-28 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"[hh.mm]"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"ActualUndertime :"}),e.jsx("input",{type:"text",value:C,onChange:L=>S(L.target.value),className:"w-28 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"[hh.mm]"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Remarks :"}),e.jsx("input",{type:"text",value:P,onChange:L=>k(L.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:E,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:a?"Update":"Submit"}),e.jsx("button",{onClick:s,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}):null}function $q({show:t,onClose:s,isEditMode:a,empCode:r,setEmpCode:n,dateFrom:l,setDateFrom:i,dateTo:d,setDateTo:x,timeIn:h,setTimeIn:m,timeOut:b,setTimeOut:f,workshiftCode:N,setWorkshiftCode:p,overtime:v,setOvertime:y,otCode:g,setOtCode:j,reason:C,setReason:S,remarks:P,setRemarks:k,onSubmit:E,onWorkshiftSearch:M,onOTCodeSearch:L}){return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:s}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:a?"Edit Record":"Create New"}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Overtime"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"EmpCode :"}),e.jsx("input",{type:"text",value:r,onChange:O=>n(O.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"DateFrom :"}),e.jsx("input",{type:"text",value:l,onChange:O=>i(O.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"DateTo :"}),e.jsx("input",{type:"text",value:d,onChange:O=>x(O.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"TimeIn :"}),e.jsx("input",{type:"text",value:h,onChange:O=>m(O.target.value),className:"w-28 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"TimeOut :"}),e.jsx("input",{type:"text",value:b,onChange:O=>f(O.target.value),className:"w-28 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"WorkshiftCode :"}),e.jsx("input",{type:"text",value:N,onChange:O=>p(O.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),e.jsx("button",{onClick:M,className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>p(""),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Overtime :"}),e.jsx("input",{type:"text",value:v,onChange:O=>y(O.target.value),className:"w-28 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"[hh.mm]"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"OTCode :"}),e.jsx("input",{type:"text",value:g,onChange:O=>j(O.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),e.jsx("button",{onClick:L,className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>j(""),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Reason :"}),e.jsx("input",{type:"text",value:C,onChange:O=>S(O.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Remarks :"}),e.jsx("input",{type:"text",value:P,onChange:O=>k(O.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:E,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:a?"Update":"Submit"}),e.jsx("button",{onClick:s,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}):null}function zq({show:t,onClose:s,isEditMode:a,empCode:r,setEmpCode:n,dateFrom:l,setDateFrom:i,dateTo:d,setDateTo:x,timeIn:h,setTimeIn:m,timeOut:b,setTimeOut:f,workshiftCode:N,setWorkshiftCode:p,tardiness:v,setTardiness:y,tardinessWithinGracePeriod:g,setTardinessWithinGracePeriod:j,actualTardiness:C,setActualTardiness:S,remarks:P,setRemarks:k,offsetOTFlag:E,setOffsetOTFlag:M,exemptionRpt:L,setExemptionRpt:O,onSubmit:q,onWorkshiftSearch:B}){return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:s}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:a?"Edit Record":"Create New"}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Processed Tardiness"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"EmpCode :"}),e.jsx("input",{type:"text",value:r,onChange:se=>n(se.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date From :"}),e.jsx("input",{type:"text",value:l,onChange:se=>i(se.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date To :"}),e.jsx("input",{type:"text",value:d,onChange:se=>x(se.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Time In :"}),e.jsx("input",{type:"text",value:h,onChange:se=>m(se.target.value),className:"w-32 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Time Out :"}),e.jsx("input",{type:"text",value:b,onChange:se=>f(se.target.value),className:"w-32 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Workshift Code :"}),e.jsx("input",{type:"text",value:N,onChange:se=>p(se.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),e.jsx("button",{onClick:B,className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>p(""),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Tardiness :"}),e.jsx("input",{type:"text",value:v,onChange:se=>y(se.target.value),className:"w-32 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"[hh.mm]"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-55 text-gray-700",children:"Tardiness Within Grace Period :"}),e.jsx("input",{type:"text",value:g,onChange:se=>j(se.target.value),className:"w-32 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"[hh.mm]"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Actual Tardiness :"}),e.jsx("input",{type:"text",value:C,onChange:se=>S(se.target.value),className:"w-32 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"[hh.mm]"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-22",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Remarks :"}),e.jsx("input",{type:"text",value:P,onChange:se=>k(se.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Offset OT Flag :"}),e.jsx("input",{type:"checkbox",checked:E,onChange:se=>M(se.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Exemption Rpt :"}),e.jsxs("select",{value:L,onChange:se=>O(se.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:[e.jsx("option",{value:""}),e.jsx("option",{value:"Approved",children:"Approved"}),e.jsx("option",{value:"Disapproved",children:"Disapproved"}),e.jsx("option",{value:"Disapproved by HR",children:"Disapproved by HR"})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:q,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:a?"Update":"Submit"}),e.jsx("button",{onClick:s,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}):null}function Vq({show:t,onClose:s,isEditMode:a,empCode:r,setEmpCode:n,date:l,setDate:i,hoursLeaveAbsent:d,setHoursLeaveAbsent:x,leaveCode:h,setLeaveCode:m,leaveDescription:b,setLeaveDescription:f,reason:N,setReason:p,remarks:v,setRemarks:y,withPay:g,setWithPay:j,exemptForAllowanceDeduction:C,setExemptForAllowanceDeduction:S,onSubmit:P,onLeaveCodeSearch:k}){return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:s}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:a?"Edit Record":"Create New"}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Processed Leaves And Absences"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"EmpCode :"}),e.jsx("input",{type:"text",value:r,onChange:E=>n(E.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"Date :"}),e.jsx("input",{type:"text",value:l,onChange:E=>i(E.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"Hours LeaveAbsent :"}),e.jsx("input",{type:"text",value:d,onChange:E=>x(E.target.value),className:"w-32 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"[hh.mm]"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"Leave Code :"}),e.jsx("input",{type:"text",value:h,onChange:E=>m(E.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),e.jsx("button",{onClick:k,className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>m(""),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"Leave Description :"}),e.jsx("input",{type:"text",value:b,onChange:E=>f(E.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"Reason :"}),e.jsx("input",{type:"text",value:N,onChange:E=>p(E.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"Remarks :"}),e.jsx("input",{type:"text",value:v,onChange:E=>y(E.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"With Pay :"}),e.jsx("input",{type:"checkbox",checked:g,onChange:E=>j(E.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"Exempt for Allowance Deduction :"}),e.jsx("input",{type:"checkbox",checked:C,onChange:E=>S(E.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:P,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:a?"Update":"Submit"}),e.jsx("button",{onClick:s,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}):null}function Yq({show:t,onClose:s,isEditMode:a,empCode:r,setEmpCode:n,workshiftCode:l,setWorkshiftCode:i,dateIn:d,setDateIn:x,dateOut:h,setDateOut:m,noOfHours:b,setNoOfHours:f,onSubmit:N,onWorkshiftSearch:p}){return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:s}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:a?"Edit Record":"Create New"}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Adjustments"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"EmpCode :"}),e.jsx("input",{type:"text",value:r,onChange:v=>n(v.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Workshift Code :"}),e.jsx("input",{type:"text",value:l,onChange:v=>i(v.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),e.jsx("button",{onClick:p,className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>i(""),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date In :"}),e.jsx("input",{type:"text",value:d,onChange:v=>x(v.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date Out :"}),e.jsx("input",{type:"text",value:h,onChange:v=>m(v.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"No. Of Hours :"}),e.jsx("input",{type:"text",value:b,onChange:v=>f(v.target.value),className:"w-32 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"[hh.mm]"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:N,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:a?"Update":"Submit"}),e.jsx("button",{onClick:s,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}):null}function Kq(){const[t,s]=o.useState(""),[a,r]=o.useState(""),[n,l]=o.useState("5/5/2021"),[i,d]=o.useState("05/05/2021"),[x,h]=o.useState("No Of Hrs Per Day"),[m,b]=o.useState(!1),[f,N]=o.useState(""),[p,v]=o.useState(!1),[y,g]=o.useState(!1),[j,C]=o.useState(!1),[S,P]=o.useState(!1),[k,E]=o.useState(!1),[M,L]=o.useState(!1),[O,q]=o.useState(!1),[B,se]=o.useState(!1),[le,pe]=o.useState(!1),[U,Y]=o.useState(!1),[W,re]=o.useState(!1),[G,R]=o.useState(""),[F,A]=o.useState(""),[H,D]=o.useState(""),[_,xe]=o.useState(!1),[ge,Ne]=o.useState(null),[Ce,fe]=o.useState(!1),[ue,Oe]=o.useState(!1),[De,Ae]=o.useState(""),[Ee,ze]=o.useState(""),[ot,wt]=o.useState(""),[Ie,ye]=o.useState(""),[be,Me]=o.useState(""),[Re,st]=o.useState(""),[He,Ue]=o.useState(""),[Ye,ht]=o.useState(""),[ut,vt]=o.useState(""),[ve,Le]=o.useState(""),[he,Ve]=o.useState(""),[xt,Pt]=o.useState(""),[Lt,It]=o.useState(""),[qe,Nt]=o.useState(""),[gt,dt]=o.useState(""),[kt,Dt]=o.useState(""),[Ge,Ke]=o.useState(""),[ie,ke]=o.useState(""),[me,Ze]=o.useState(!1),[it,_t]=o.useState(""),[nt,mt]=o.useState(""),[ae,ce]=o.useState(""),[te,z]=o.useState(""),[V,X]=o.useState(""),[de,_e]=o.useState(""),[Te,je]=o.useState(""),[J,we]=o.useState(""),[I,Z]=o.useState(""),[Q,We]=o.useState(""),[ft,$t]=o.useState(""),[yt,$e]=o.useState(""),[bt,ts]=o.useState(""),[Ts,at]=o.useState(""),[Jt,jt]=o.useState(""),[zt,cs]=o.useState(""),[Js,Tt]=o.useState(""),[Ut,hs]=o.useState(""),[Na,ha]=o.useState(""),[ma,Ba]=o.useState(""),[hr,ta]=o.useState(""),[sa,jr]=o.useState(""),[rt,Vt]=o.useState(""),[vs,Ys]=o.useState(""),[Ks,qs]=o.useState(""),[la,qa]=o.useState(""),[ia,ca]=o.useState(""),[va,tt]=o.useState(""),[ns,ks]=o.useState(""),[pa,Qs]=o.useState(""),[ja,Fe]=o.useState(""),[At,Mt]=o.useState(""),[fa,Bs]=o.useState(""),[Ca,Jr]=o.useState(""),[cn,dn]=o.useState(""),[Lr,Qr]=o.useState(""),[ao,En]=o.useState(""),[Rn,Xa]=o.useState(""),[Ja,ro]=o.useState(!1),[Qe,ps]=o.useState(""),[_s,Xt]=o.useState(""),[Ra,Qa]=o.useState(""),[or,wa]=o.useState(""),[lt,Ws]=o.useState(""),[Or,un]=o.useState(""),[no,Ro]=o.useState(""),[Uo,Ho]=o.useState(""),[Xl,yl]=o.useState(!1),[Nc,_r]=o.useState(!1),[xn,Jl]=o.useState([]),[bl,Ei]=o.useState([]),[Wo,Ti]=o.useState([]),[No,jo]=o.useState([]),[Go,Ai]=o.useState([]),[$o,vl]=o.useState([]),[zo,Ql]=o.useState([]),[Vo,wl]=o.useState([]),Ed=[{empCode:"000877",name:"Last122, First A",groupCode:"45"},{empCode:"000878",name:"Last, First A",groupCode:"45"},{empCode:"000900",name:"Last, First A",groupCode:"109"},{empCode:"000901",name:"Last, First A",groupCode:"109"},{empCode:"000902",name:"Last, First III A",groupCode:"45"},{empCode:"000903",name:"Last, First A",groupCode:"45"},{empCode:"000904",name:"Last, First A",groupCode:"45"},{empCode:"000905",name:"Last, First A",groupCode:"45"},{empCode:"000906",name:"Last, First A",groupCode:"45"},{empCode:"000907",name:"Last, First A",groupCode:"45"}];o.useEffect(()=>{const St=Ht=>{Ht.key==="Escape"&&(m&&b(!1),p&&v(!1),y&&g(!1),j&&C(!1),S&&P(!1),k&&E(!1),M&&L(!1),O&&q(!1),B&&se(!1),le&&pe(!1),U&&Y(!1),W&&re(!1))};return(m||p||y||j||S||k||M||O||B||le||U||W)&&document.addEventListener("keydown",St),()=>{document.removeEventListener("keydown",St)}},[m,p,y,j,S,k,M,O,B,le,U,W]);const Td=(St,Ht)=>{s(St),r(Ht),b(!1)},Ad=Ed.filter(St=>St.empCode.toLowerCase().includes(f.toLowerCase())||St.name.toLowerCase().includes(f.toLowerCase())||St.groupCode.toLowerCase().includes(f.toLowerCase())),jc=()=>{switch(x){case"No Of Hrs Per Day":return"Process No. Hours Per Day";case"Tardiness":return"Process Tardiness";case"Undertime":return"Process Undertime";case"Leave and Absences":return"Process Leave and Absences";case"Overtime":return"Process Overtime";case"Other Earnings and Allowances":return"Process Other Earnings and Allowances";case"Adjustment":return"Process Adjustment";case"Advanced":return"Process Advanced";default:return"Process No. Hours Per Day"}},Fd=[{name:"No Of Hrs Per Day",icon:xa},{name:"Tardiness",icon:ya},{name:"Undertime",icon:QF},{name:"Leave and Absences",icon:PA},{name:"Overtime",icon:m7},{name:"Other Earnings and Allowances",icon:sF},{name:"Adjustment",icon:wx},{name:"Advanced",icon:hC}],Cc=()=>{console.log("Searching with filters:",{employeeCode:t,employeeName:a,dateFrom:n,dateTo:i})},J0=()=>{if(_&&ge!==null){const St=[...xn];St[ge]={empCode:De,transactionDate:Ee,transactionType:ot,noOfHours:Ie,overtimeCode:be,groupCode:"",glCode:""},Jl(St)}else Jl([...xn,{empCode:De,transactionDate:Ee,transactionType:ot,noOfHours:Ie,overtimeCode:be,groupCode:"",glCode:""}]);v(!1),xe(!1),Ne(null)},Un=()=>{if(_&&ge!==null){const St=[...bl];St[ge]={empCode:he,transactionDate:xt,transactionType:Lt,leaveType:qe,overtimeCode:gt,noOfHours:kt,adjustType:Ge,remarks:ie,isLateFiling:me,isLateFilingActualDate:it,borrowedDeviceName:nt,groupCode:"",glCode:""},Ei(St)}else Ei([...bl,{empCode:he,transactionDate:xt,transactionType:Lt,leaveType:qe,overtimeCode:gt,noOfHours:kt,adjustType:Ge,remarks:ie,isLateFiling:me,isLateFilingActualDate:it,borrowedDeviceName:nt,groupCode:"",glCode:""}]);g(!1),xe(!1),Ne(null)},Nl=()=>{if(_&&ge!==null){const St=[...Wo];St[ge]={empCode:ae,date:te,allowanceCode:V,description:de,amount:Te,remarks:J,groupCode:"",glCode:""},Ti(St)}else Ti([...Wo,{empCode:ae,date:te,allowanceCode:V,description:de,amount:Te,remarks:J,groupCode:"",glCode:""}]);C(!1),xe(!1),Ne(null)},Pd=()=>{if(_&&ge!==null){const St=[...No];St[ge]={empCode:I,dateFrom:Q,dateTo:ft,timeIn:yt,timeOut:bt,workshiftCode:Ts,undertime:Jt,undertimeWithinGracePeriod:zt,actualUndertime:Js,remarks:Ut},jo(St)}else jo([...No,{empCode:I,dateFrom:Q,dateTo:ft,timeIn:yt,timeOut:bt,workshiftCode:Ts,undertime:Jt,undertimeWithinGracePeriod:zt,actualUndertime:Js,remarks:Ut}]);P(!1),xe(!1),Ne(null)},Md=()=>{if(_&&ge!==null){const St=[...Go];St[ge]={empCode:Na,dateFrom:ma,dateTo:hr,timeIn:sa,timeOut:rt,workshiftCode:vs,overtime:Ks,otCode:la,reason:ia,remarks:va},Ai(St)}else Ai([...Go,{empCode:Na,dateFrom:ma,dateTo:hr,timeIn:sa,timeOut:rt,workshiftCode:vs,overtime:Ks,otCode:la,reason:ia,remarks:va}]);E(!1),xe(!1),Ne(null)},oo=()=>{if(_&&ge!==null){const St=[...$o];St[ge]={empCode:ns,dateFrom:pa,dateTo:ja,timeIn:At,timeOut:fa,workshiftCode:Ca,tardiness:cn,tardinessWithinGracePeriod:Lr,actualTardiness:ao,remarks:Rn,offsetOTFlag:Ja,exemptionRpt:Qe},vl(St)}else vl([...$o,{empCode:ns,dateFrom:pa,dateTo:ja,timeIn:At,timeOut:fa,workshiftCode:Ca,tardiness:cn,tardinessWithinGracePeriod:Lr,actualTardiness:ao,remarks:Rn,offsetOTFlag:Ja,exemptionRpt:Qe}]);L(!1),xe(!1),Ne(null)},Sc=()=>{if(_&&ge!==null){const St=[...zo];St[ge]={empCode:_s,date:Ra,hoursLeaveAbsent:or,leaveCode:lt,leaveDescription:Or,reason:no,remarks:Uo,withPay:Xl,exemptForAllowanceDeduction:Nc},Ql(St)}else Ql([...zo,{empCode:_s,date:Ra,hoursLeaveAbsent:or,leaveCode:lt,leaveDescription:Or,reason:no,remarks:Uo,withPay:Xl,exemptForAllowanceDeduction:Nc}]);q(!1),xe(!1),Ne(null)},kc=()=>{if(_&&ge!==null){const St=[...Vo];St[ge]={empCode:Re,workshiftCode:He,dateIn:Ye,dateOut:ut,noOfHours:ve},wl(St)}else wl([...Vo,{empCode:Re,workshiftCode:He,dateIn:Ye,dateOut:ut,noOfHours:ve}]);se(!1),xe(!1),Ne(null)},Id=(St,Ht)=>{S?at(St):k?Ys(St):M?Jr(St):B&&Ue(St),pe(!1)},Zr=(St,Ht)=>{qa(St),Y(!1)},Q0=(St,Ht)=>{Ws(St),un(Ht),re(!1)},Z0=St=>{window.confirm("Are you sure you want to delete this record?")&&wl(Vo.filter((Ht,mr)=>mr!==St))},Fi=St=>{window.confirm("Are you sure you want to delete this record?")&&vl($o.filter((Ht,mr)=>mr!==St))},Yo=St=>{window.confirm("Are you sure you want to delete this record?")&&jo(No.filter((Ht,mr)=>mr!==St))},Zl=St=>{window.confirm("Are you sure you want to delete this record?")&&Ql(zo.filter((Ht,mr)=>mr!==St))},jl=St=>{window.confirm("Are you sure you want to delete this record?")&&Ai(Go.filter((Ht,mr)=>mr!==St))},ei=St=>{window.confirm("Are you sure you want to delete this record?")&&Ti(Wo.filter((Ht,mr)=>mr!==St))},eu=St=>{window.confirm("Are you sure you want to delete this record?")&&Ei(bl.filter((Ht,mr)=>mr!==St))},Pi=St=>{window.confirm("Are you sure you want to delete this record?")&&Jl(xn.filter((Ht,mr)=>mr!==St))},Ld=St=>{const Ht=Vo[St];xe(!0),Ne(St),st(Ht.empCode),Ue(Ht.workshiftCode),ht(Ht.dateIn),vt(Ht.dateOut),Le(Ht.noOfHours),se(!0)},Br=St=>{const Ht=$o[St];xe(!0),Ne(St),ks(Ht.empCode),Qs(Ht.dateFrom),Fe(Ht.dateTo),Mt(Ht.timeIn),Bs(Ht.timeOut),Jr(Ht.workshiftCode),dn(Ht.tardiness),Qr(Ht.tardinessWithinGracePeriod),En(Ht.actualTardiness),Xa(Ht.remarks),ro(Ht.offsetOTFlag),ps(Ht.exemptionRpt),L(!0)},Ko=St=>{const Ht=No[St];xe(!0),Ne(St),Z(Ht.empCode),We(Ht.dateFrom),$t(Ht.dateTo),$e(Ht.timeIn),ts(Ht.timeOut),at(Ht.workshiftCode),jt(Ht.undertime),cs(Ht.undertimeWithinGracePeriod),Tt(Ht.actualUndertime),hs(Ht.remarks),P(!0)},ti=St=>{const Ht=zo[St];xe(!0),Ne(St),Xt(Ht.empCode),Qa(Ht.date),wa(Ht.hoursLeaveAbsent),Ws(Ht.leaveCode),un(Ht.leaveDescription),Ro(Ht.reason),Ho(Ht.remarks),yl(Ht.withPay),_r(Ht.exemptForAllowanceDeduction),q(!0)},Dc=St=>{const Ht=Go[St];xe(!0),Ne(St),ha(Ht.empCode),Ba(Ht.dateFrom),ta(Ht.dateTo),jr(Ht.timeIn),Vt(Ht.timeOut),Ys(Ht.workshiftCode),qs(Ht.overtime),qa(Ht.otCode),ca(Ht.reason),tt(Ht.remarks),E(!0)},Mi=St=>{const Ht=Wo[St];xe(!0),Ne(St),ce(Ht.empCode),z(Ht.date),X(Ht.allowanceCode),_e(Ht.description),je(Ht.amount),we(Ht.remarks),C(!0)},Od=St=>{const Ht=bl[St];xe(!0),Ne(St),Ve(Ht.empCode),Pt(Ht.transactionDate),It(Ht.transactionType),Nt(Ht.leaveType),dt(Ht.overtimeCode),Dt(Ht.noOfHours),Ke(Ht.adjustType),ke(Ht.remarks),Ze(Ht.isLateFiling),_t(Ht.isLateFilingActualDate),mt(Ht.borrowedDeviceName),g(!0)},Ux=St=>{const Ht=xn[St];xe(!0),Ne(St),Ae(Ht.empCode),ze(Ht.transactionDate),wt(Ht.transactionType),ye(Ht.noOfHours),Me(Ht.overtimeCode),v(!0)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:jc()})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Process and manage employee attendance data including hours worked, tardiness, undertime, leaves, and overtime. Review and approve processed timekeeping records for accurate payroll calculation."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Track daily work hours"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Monitor tardiness and undertime"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Process overtime records"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Manage leave and absences"})]})]})]})]})}),e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{className:"text-sm font-bold text-gray-700 w-32",children:"Employee Code"}),e.jsx("input",{type:"text",value:t,onChange:St=>s(St.target.value),readOnly:!0,className:"w-48 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50"}),e.jsx("button",{onClick:()=>b(!0),className:"px-3 py-1.5 bg-green-600 text-white rounded hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{s(""),r("")},className:"px-3 py-1.5 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})}),e.jsx("label",{className:"text-sm font-bold text-gray-700 ml-4",children:"Employee Name"}),e.jsx("input",{type:"text",value:a,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-gray-50"}),e.jsxs("button",{onClick:Cc,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx(Gt,{className:"w-4 h-4"}),"Search"]})]})}),e.jsx("div",{className:"flex items-center gap-4 mb-6 bg-gray-50 border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{className:"text-gray-700 font-bold text-sm",children:"Date From"}),e.jsx("input",{type:"text",value:n,onChange:St=>l(St.target.value),className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>fe(!Ce),className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:e.jsx(ds,{className:"w-4 h-4"})}),Ce&&e.jsx("div",{className:"absolute top-full left-0 mt-1 z-50",children:e.jsx(Mr,{onDateSelect:St=>{l(St),fe(!1)},onClose:()=>fe(!1)})})]}),e.jsx("label",{className:"text-sm font-bold text-gray-700 ml-4",children:"Date To"}),e.jsx("input",{type:"text",value:i,onChange:St=>d(St.target.value),className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"MM/DD/YYYY"}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>Oe(!ue),className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:e.jsx(ds,{className:"w-4 h-4"})}),ue&&e.jsx("div",{className:"absolute top-full left-0 mt-1 z-50",children:e.jsx(Mr,{onDateSelect:St=>{d(St),Oe(!1)},onClose:()=>Oe(!1)})})]}),e.jsxs("button",{onClick:Cc,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx(Gt,{className:"w-4 h-4"}),"Search"]})]})})]}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:Fd.map(St=>{const Ht=St.icon,mr=x===St.name;return e.jsxs("button",{onClick:()=>h(St.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${mr?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Ht,{className:"w-4 h-4"}),St.name]},St.name)})}),e.jsx("div",{className:"mb-4",children:e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:()=>{xe(!1),Ne(null),x==="No Of Hrs Per Day"?(st(""),Ue(""),ht(""),vt(""),Le(""),se(!0)):x==="Advanced"?(Ae(""),ze(""),wt(""),ye(""),Me(""),v(!0)):x==="Adjustment"?(Ve(""),Pt(""),It(""),Nt(""),dt(""),Dt(""),Ke(""),ke(""),Ze(!1),_t(""),mt(""),g(!0)):x==="Other Earnings and Allowances"?(ce(""),z(""),X(""),_e(""),je(""),we(""),C(!0)):x==="Undertime"?(Z(""),We(""),$t(""),$e(""),ts(""),at(""),jt(""),cs(""),Tt(""),hs(""),P(!0)):x==="Overtime"?(ha(""),Ba(""),ta(""),jr(""),Vt(""),Ys(""),qs(""),qa(""),ca(""),tt(""),E(!0)):x==="Tardiness"?(ks(""),Qs(""),Fe(""),Mt(""),Bs(""),Jr(""),dn(""),Qr(""),En(""),Xa(""),ro(!1),ps(""),L(!0)):x==="Leave and Absences"&&(Xt(""),Qa(""),wa(""),Ws(""),un(""),Ro(""),Ho(""),yl(!1),_r(!1),q(!0))},children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]})}),x==="No Of Hrs Per Day"&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Actions"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Date In "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Date Out "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Workshift Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"No Of Hours [hh.mm] "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Group Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"GL Code "})]})}),e.jsx("tbody",{children:Vo.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500 text-sm",children:"No data available in table"})}):Vo.map((St,Ht)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Ld(Ht),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Z0(Ht),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.dateIn}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.dateOut}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.workshiftCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.noOfHours}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"})]},Ht))})]})}),x==="Tardiness"&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Actions"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Date From "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Date To "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Time In "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Time Out "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Workshift Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Tardiness [hh.mm] "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Tardi Within Grace Period [hh.mm] "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Actual Tardiness [hh.mm] "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Remarks "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Offset OT Flag "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Group... "})]})}),e.jsx("tbody",{children:$o.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:12,className:"px-4 py-8 text-center text-gray-500 text-sm",children:"No data available in table"})}):$o.map((St,Ht)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Br(Ht),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Fi(Ht),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.dateFrom}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.dateTo}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.timeIn}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.timeOut}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.workshiftCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.tardiness}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.tardinessWithinGracePeriod}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.actualTardiness}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.remarks}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.offsetOTFlag?"Yes":"No"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"})]},Ht))})]})}),x==="Undertime"&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Actions"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Date From "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Date To "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Time In "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Time Out "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Workshift Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Undertime [hh.mm] "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Undertime Within Grace [hh.mm] "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Actual Undertime [hh.mm] "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Remarks "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Group Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"GL Code "})]})}),e.jsx("tbody",{children:No.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:12,className:"px-4 py-8 text-center text-gray-500 text-sm",children:"No data available in table"})}):No.map((St,Ht)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Ko(Ht),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Yo(Ht),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.dateFrom}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.dateTo}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.timeIn}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.timeOut}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.workshiftCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.undertime}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.undertimeWithinGracePeriod}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.actualUndertime}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.remarks}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"})]},Ht))})]})}),x==="Leave and Absences"&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Actions"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Date "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Hours Leave Absent "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Leave Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Leave Description "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Reason "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Remarks "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Group Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"With Pay "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Exempt for Allowance Deduction "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"GL Code "})]})}),e.jsx("tbody",{children:zo.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:11,className:"px-4 py-8 text-center text-gray-500 text-sm",children:"No data available in table"})}):zo.map((St,Ht)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>ti(Ht),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Zl(Ht),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.date}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.hoursLeaveAbsent}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.leaveCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.leaveDescription}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.reason}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.remarks}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.withPay?"Yes":"No"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.exemptForAllowanceDeduction?"Yes":"No"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"})]},Ht))})]})}),x==="Overtime"&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Actions"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Date From "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Date To "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Time In "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Time Out "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Workshift Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Overtime [hh.mm] "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"OT Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Reason "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Remarks "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Group Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"GL Code "})]})}),e.jsx("tbody",{children:Go.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:12,className:"px-4 py-8 text-center text-gray-500 text-sm",children:"No data available in table"})}):Go.map((St,Ht)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Dc(Ht),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>jl(Ht),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.dateFrom}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.dateTo}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.timeIn}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.timeOut}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.workshiftCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.overtime}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.otCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.reason}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.remarks}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"})]},Ht))})]})}),x==="Other Earnings and Allowances"&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Actions"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Date "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Allowance Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Allowance Description "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Amount "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Remarks "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Group Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"GL Code "})]})}),e.jsx("tbody",{children:Wo.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-gray-500 text-sm",children:"No data available in table"})}):Wo.map((St,Ht)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Mi(Ht),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ei(Ht),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.date}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.allowanceCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.description}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.amount}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.remarks}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"})]},Ht))})]})}),x==="Adjustment"&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Actions"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Transaction Date "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Transaction Type "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Leave Type "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Overtime Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"No Of Hours [hh.mm] "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Adjust Type "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Remarks "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Group Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Is Late Filing "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Is Late Filing Actual Date "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Device Name "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"GL Code "})]})}),e.jsx("tbody",{children:bl.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:13,className:"px-4 py-8 text-center text-gray-500 text-sm",children:"No data available in table"})}):bl.map((St,Ht)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Od(Ht),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>eu(Ht),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.transactionDate}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.transactionType}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.leaveType}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.overtimeCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.noOfHours}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.adjustType}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.remarks}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.isLateFiling?"Yes":"No"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.isLateFilingActualDate}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.borrowedDeviceName}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"})]},Ht))})]})}),x==="Advanced"&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Actions"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Transaction Date "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Transaction Type "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"No of Hours [hh.mm] "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Overtime Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Group Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"GL Code "})]})}),e.jsx("tbody",{children:xn.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500 text-sm",children:"No data available in table"})}):xn.map((St,Ht)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Ux(Ht),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Pi(Ht),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.transactionDate}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.transactionType}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.noOfHours}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:St.overtimeCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"})]},Ht))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx("div",{className:"text-gray-600 text-sm",children:"Showing 0 to 0 of 0 entries"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:"1"}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",children:"Next"})]})]}),m&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:()=>b(!1)}),e.jsx("div",{className:"absolute top-8 left-1/2 transform -translate-x-1/2 z-40 w-full max-w-3xl px-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl border border-gray-300",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:()=>b(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Employee Code"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:f,onChange:St=>N(St.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"EmpCode "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Name"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Group Code"})]})}),e.jsx("tbody",{children:Ad.map(St=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>Td(St.empCode,St.name),children:[e.jsx("td",{className:"px-3 py-1.5",children:St.empCode}),e.jsx("td",{className:"px-3 py-1.5",children:St.name}),e.jsx("td",{className:"px-3 py-1.5",children:St.groupCode})]},St.empCode))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsx("div",{className:"text-gray-600 text-xs",children:"Showing 1 to 10 of 1,658 entries"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"Previous"}),e.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded text-xs",children:"1"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"2"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"3"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"Next"})]})]})]})]})})]}),e.jsx(Uq,{show:p,onClose:()=>{v(!1),xe(!1),Ne(null)},isEditMode:_,empCode:De,setEmpCode:Ae,transactionDate:Ee,setTransactionDate:ze,transactionType:ot,setTransactionType:wt,noOfHours:Ie,setNoOfHours:ye,overtimeCode:be,setOvertimeCode:Me,onSubmit:J0}),e.jsx(Hq,{show:y,onClose:()=>{g(!1),xe(!1),Ne(null)},isEditMode:_,empCode:he,setEmpCode:Ve,transactionDate:xt,setTransactionDate:Pt,transactionType:Lt,setTransactionType:It,leaveType:qe,setLeaveType:Nt,overtimeCode:gt,setOvertimeCode:dt,noOfHours:kt,setNoOfHours:Dt,adjustType:Ge,setAdjustType:Ke,remarks:ie,setRemarks:ke,isLateFiling:me,setIsLateFiling:Ze,isLateFilingActualDate:it,setIsLateFilingActualDate:_t,borrowedDeviceName:nt,setBorrowedDeviceName:mt,onSubmit:Un}),e.jsx(Wq,{show:j,onClose:()=>{C(!1),xe(!1),Ne(null)},isEditMode:_,empCode:ae,setEmpCode:ce,date:te,setDate:z,allowanceCode:V,setAllowanceCode:X,description:de,setDescription:_e,amount:Te,setAmount:je,remarks:J,setRemarks:we,onSubmit:Nl}),e.jsx(Gq,{show:S,onClose:()=>P(!1),isEditMode:_,empCode:I,setEmpCode:Z,dateFrom:Q,setDateFrom:We,dateTo:ft,setDateTo:$t,timeIn:yt,setTimeIn:$e,timeOut:bt,setTimeOut:ts,workshiftCode:Ts,setWorkshiftCode:at,undertime:Jt,setUndertime:jt,undertimeWithinGracePeriod:zt,setUndertimeWithinGracePeriod:cs,actualUndertime:Js,setActualUndertime:Tt,remarks:Ut,setRemarks:hs,onSubmit:Pd,onWorkshiftSearch:()=>pe(!0)}),e.jsx($q,{show:k,onClose:()=>E(!1),isEditMode:_,empCode:Na,setEmpCode:ha,dateFrom:ma,setDateFrom:Ba,dateTo:hr,setDateTo:ta,timeIn:sa,setTimeIn:jr,timeOut:rt,setTimeOut:Vt,workshiftCode:vs,setWorkshiftCode:Ys,overtime:Ks,setOvertime:qs,otCode:la,setOtCode:qa,reason:ia,setReason:ca,remarks:va,setRemarks:tt,onSubmit:Md,onWorkshiftSearch:()=>pe(!0),onOTCodeSearch:()=>Y(!0)}),e.jsx(zq,{show:M,onClose:()=>L(!1),isEditMode:_,empCode:ns,setEmpCode:ks,dateFrom:pa,setDateFrom:Qs,dateTo:ja,setDateTo:Fe,timeIn:At,setTimeIn:Mt,timeOut:fa,setTimeOut:Bs,workshiftCode:Ca,setWorkshiftCode:Jr,tardiness:cn,setTardiness:dn,tardinessWithinGracePeriod:Lr,setTardinessWithinGracePeriod:Qr,actualTardiness:ao,setActualTardiness:En,remarks:Rn,setRemarks:Xa,offsetOTFlag:Ja,setOffsetOTFlag:ro,exemptionRpt:Qe,setExemptionRpt:ps,onSubmit:oo,onWorkshiftSearch:()=>pe(!0)}),e.jsx(Vq,{show:O,onClose:()=>q(!1),isEditMode:_,empCode:_s,setEmpCode:Xt,date:Ra,setDate:Qa,hoursLeaveAbsent:or,setHoursLeaveAbsent:wa,leaveCode:lt,setLeaveCode:Ws,leaveDescription:Or,setLeaveDescription:un,reason:no,setReason:Ro,remarks:Uo,setRemarks:Ho,withPay:Xl,setWithPay:yl,exemptForAllowanceDeduction:Nc,setExemptForAllowanceDeduction:_r,onSubmit:Sc,onLeaveCodeSearch:()=>re(!0)}),e.jsx(Yq,{show:B,onClose:()=>se(!1),isEditMode:_,empCode:Re,setEmpCode:st,workshiftCode:He,setWorkshiftCode:Ue,dateIn:Ye,setDateIn:ht,dateOut:ut,setDateOut:vt,noOfHours:ve,setNoOfHours:Le,onSubmit:kc,onWorkshiftSearch:()=>pe(!0)}),e.jsx(Bq,{show:le,onClose:()=>pe(!1),onSelect:Id,searchTerm:G,setSearchTerm:R}),e.jsx(Rq,{show:U,onClose:()=>Y(!1),onSelect:Zr,searchTerm:F,setSearchTerm:A}),e.jsx(_q,{show:W,onClose:()=>re(!1),onSelect:Q0,searchTerm:H,setSearchTerm:D})]})]})}),e.jsx(Zt,{})]})}function xs({date:t,onChange:s}){const[a,r]=o.useState(!1),[n,l]=o.useState(new Date),i=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),d=new Date(n.getFullYear(),n.getMonth(),1).getDay(),x=["January","February","March","April","May","June","July","August","September","October","November","December"],h=new Date().getFullYear(),m=[];for(let j=1900;j<=h+10;j++)m.push(j);const b=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},f=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},N=j=>{l(new Date(n.getFullYear(),j,1))},p=j=>{l(new Date(j,n.getMonth(),1))},v=j=>{const C=(n.getMonth()+1).toString().padStart(2,"0"),S=j.toString().padStart(2,"0"),P=n.getFullYear();s(`${C}/${S}/${P}`),r(!1)},y=()=>{const j=new Date,C=(j.getMonth()+1).toString().padStart(2,"0"),S=j.getDate().toString().padStart(2,"0"),P=j.getFullYear();s(`${C}/${S}/${P}`),r(!1)},g=[];for(let j=0;j<d;j++)g.push(e.jsx("div",{className:"h-8"},`empty-${j}`));for(let j=1;j<=i;j++)g.push(e.jsx("button",{onClick:()=>v(j),type:"button",className:"h-8 flex items-center justify-center rounded hover:bg-blue-100 text-sm text-gray-700 hover:text-blue-600 transition-colors",children:j},j));return e.jsxs(Cx,{open:a,onOpenChange:r,children:[e.jsx(Sx,{asChild:!0,children:e.jsx("button",{type:"button",className:"p-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:e.jsx(ds,{className:"w-5 h-5"})})}),e.jsx(kx,{children:e.jsxs(Dx,{className:"z-[9999] bg-white border border-gray-200 rounded-lg shadow-xl p-4 w-72 animate-in fade-in-0 zoom-in-95",align:"end",sideOffset:5,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:b,type:"button",className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx(H0,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("select",{value:n.getMonth(),onChange:j=>N(Number(j.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:x.map((j,C)=>e.jsx("option",{value:C,children:j},j))}),e.jsx("select",{value:n.getFullYear(),onChange:j=>p(Number(j.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:m.map(j=>e.jsx("option",{value:j,children:j},j))})]}),e.jsx("button",{onClick:f,type:"button",className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx(fi,{className:"w-5 h-5 text-gray-600"})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(j=>e.jsx("div",{className:"h-8 flex items-center justify-center text-xs text-gray-500",children:j},j))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:g}),e.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:e.jsx("button",{onClick:y,type:"button",className:"w-full px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 text-sm transition-colors",children:"Today"})})]})})]})}function qq({value:t,onChange:s,onClose:a,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&a()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[a]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,y=n.getFullYear(),g=`${v}/${p}/${y}`;s(g),a()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let g=x-1;g>=0;g--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-g},`prev-${g}`));for(let g=1;g<=d;g++)p.push(e.jsx("div",{onClick:()=>f(g),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:g},g));const y=42-p.length;for(let g=1;g<=y;g++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:g},`next-${g}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function Xq(){const[t,s]=o.useState("5/5/2021"),[a,r]=o.useState("05/05/2021"),[n,l]=o.useState(null),[i,d]=o.useState({top:0,left:0}),[x,h]=o.useState("contract"),[m,b]=o.useState(""),[f,N]=o.useState([]),[p,v]=o.useState(1),y=10,[g,j]=o.useState(!1),[C,S]=o.useState(!1),[P,k]=o.useState([]),E=async()=>(await ne.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(R=>({id:R.ID||R.id,code:R.groupCode||R.code,description:R.groupDescription||R.description}));o.useEffect(()=>{(async()=>{const R=await E();k(R)})()},[]);const M=P.filter(G=>G.code.toLowerCase().includes(m.toLowerCase())||G.description.toLowerCase().includes(m.toLowerCase())),L=Math.ceil(M.length/y),O=(p-1)*y,q=O+y,B=M.slice((p-1)*y,p*y),se=()=>{const G=[];if(L<=7)for(let R=1;R<=L;R++)G.push(R);else if(p<=4){for(let R=1;R<=5;R++)G.push(R);G.push("..."),G.push(L)}else if(p>=L-3){G.push(1),G.push("...");for(let R=L-4;R<=L;R++)G.push(R)}else{G.push(1),G.push("...");for(let R=p-1;R<=p+1;R++)G.push(R);G.push("..."),G.push(L)}return G},le=G=>{N(G?P.map(R=>R.id):[])},pe=(G,R)=>{N(F=>R?[...F,G]:F.filter(A=>A!==G))},U=G=>G?.status>=200&&G?.status<300||G?.data===!0||G?.data?.success===!0||G?.data?.isSuccess===!0||G?.data?.status==="success"||G?.data?.result===!0,Y=async(G,R=3e3)=>{await ee.fire({icon:"success",title:"Success",text:G,timer:R,showConfirmButton:!1})},W=async()=>{if(!f.length){await ee.fire({icon:"error",title:"Error",text:"Please select TK Group item/s.",timer:2e3,showConfirmButton:!0});return}if(!t||!a){await ee.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{const G=A=>new Date(A).toISOString(),R={dateFrom:G(t),dateTo:G(a),tkGroupList:f.map(String)};j(!0),console.log("Sending payload:",R);const F=f.join(",");if(x==="attendance"){const A=await ne.post("/Utilities/UpdateStatus_byDate",R);console.log("API response:",A);const H=await ne.post("/Utilities/UpdateStatus_byTKGroupCode",R);console.log("API response:",H);const D=U(A);console.log("Is success:",D);const _=U(H);console.log("Is success:",_),D&&_&&(await Y("Successfully updated TKGroup Items."),N([]),s(""),r(""))}else if(x==="contract"){const A=await ne.post("/Utilities/UpdateStatus_byCDate",R);console.log("API response:",A);const H=U(A);console.log("Is success:",H),H&&(await Y("Successfully updated TKGroup Items."),N([]),s(""),r(""))}}catch(G){const R=G.response?.data?.message||G.message||"An error occurred";await ee.fire({icon:"error",title:"Error",text:R}),console.error("Error submitting form:",G)}finally{j(!1)}},re=G=>{n==="dateFrom"?s(G):n==="dateTo"&&(a&&G>a?r(""):r(G)),l(null)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Status"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(to,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Update employee status records based on attendance or contract dates. Select the groups and date range, then choose update criteria."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update based on attendance"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update based on contract date"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx(Gt,{className:"w-4 h-4 text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Search...",value:m,onChange:G=>b(G.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:f.length===P.length,onChange:G=>le(G.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:B.map(G=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:f.includes(G.id),onChange:R=>pe(G.id,R.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:G.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:G.description})]},G.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",M.length===0?0:O+1," to ",Math.min(q,M.length)," of ",M.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>v(G=>Math.max(G-1,1)),disabled:p===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),se().map((G,R)=>G==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${R}`):e.jsx("button",{onClick:()=>v(G),className:`px-2 py-1 rounded text-xs ${p===G?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:G},G)),e.jsx("button",{onClick:()=>v(G=>Math.min(G+1,L)),disabled:p===L||L===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Date Range"}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-20",children:"From:"}),e.jsxs("div",{className:"relative flex items-center gap-1",children:[e.jsx("input",{type:"text",value:t,onChange:G=>s(G.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx(xs,{date:t,onChange:s})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-20",children:"To:"}),e.jsxs("div",{className:"relative flex items-center gap-1",children:[e.jsx("input",{readOnly:!0,type:"text",value:a,onChange:G=>r(G.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx(xs,{date:a,onChange:G=>{t&&G<t||r(G)}})]})]})]}),e.jsx("h3",{className:"text-gray-900 mb-4",children:"Option"}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"updateOption",value:"attendance",checked:x==="attendance",onChange:G=>h(G.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Update Based on Attendance"})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"updateOption",value:"contract",checked:x==="contract",onChange:G=>h(G.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Update Based on Contract Date"})]})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",onClick:W,children:[e.jsx(to,{className:"w-4 h-4"}),"Update"]})})]})]})]})]})}),n&&e.jsx(qq,{value:n==="dateFrom"?t:a,onChange:re,onClose:()=>l(null),position:i}),e.jsx(Zt,{})]})}function Jq({value:t,onChange:s,onClose:a,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&a()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[a]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,y=n.getFullYear(),g=`${v}/${p}/${y}`;s(g),a()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let g=x-1;g>=0;g--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-g},`prev-${g}`));for(let g=1;g<=d;g++)p.push(e.jsx("div",{onClick:()=>f(g),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:g},g));const y=42-p.length;for(let g=1;g<=y;g++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:g},`next-${g}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function Qq(){const[t,s]=o.useState("TK Group"),[a,r]=o.useState("active"),[n,l]=o.useState(""),[i,d]=o.useState(""),[x,h]=o.useState(!1),[m,b]=o.useState({top:0,left:0}),[f,N]=o.useState(!1),[p,v]=o.useState(""),[y,g]=o.useState(""),[j,C]=o.useState([]),[S,P]=o.useState([]),[k,E]=o.useState(1),[M,L]=o.useState(1),O=10,[q,B]=o.useState(!1);o.useEffect(()=>{E(1)},[t]);const[se,le]=o.useState(!1),[pe,U]=o.useState([]),[Y,W]=o.useState(!1),[re,G]=o.useState([]),[R,F]=o.useState(!1),[A,H]=o.useState([]),[D,_]=o.useState(!1),[xe,ge]=o.useState([]),[Ne,Ce]=o.useState(!1),[fe,ue]=o.useState([]),[Oe,De]=o.useState(!1),[Ae,Ee]=o.useState([]),[ze,ot]=o.useState(!1),[wt,Ie]=o.useState([]),ye=async()=>(await ne.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(ke=>({id:ke.ID||ke.id,code:ke.groupCode||ke.code,description:ke.groupDescription||ke.description}));o.useEffect(()=>{(async()=>{const ke=await ye();U(ke)})()},[]);const be=async()=>(await ne.get("/Fs/Employment/BranchSetUp")).data.map(ke=>({id:ke.braID||ke.ID,code:ke.braCode||ke.code,description:ke.braDesc||ke.description}));o.useEffect(()=>{(async()=>{const ke=await be();G(ke)})()},[]);const Me=async()=>(await ne.get("/Fs/Employment/DepartmentSetUp")).data.map(ke=>({id:ke.depID||ke.ID,code:ke.depCode||ke.code,description:ke.depDesc||ke.description}));o.useEffect(()=>{(async()=>{const ke=await Me();H(ke)})()},[]);const Re=async()=>{const ie=await ne.get("/Fs/Employment/GroupSetUp");return(Array.isArray(ie.data)?ie.data:[]).map(me=>({id:me.grpSchID||me.id||me.ID,code:me.grpCode||me.code,description:me.grpDesc||me.description}))};o.useEffect(()=>{(async()=>{const ke=await Re();ge(ke)})()},[]);const st=async()=>{const ie=await ne.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(ie.data)?ie.data:[]).map(me=>({id:me.lineID??me.ID??me.id,code:me.lineCode??me.code,description:me.lineDesc??me.Description??me.description}))};o.useEffect(()=>{(async()=>{const ke=await st();ue(ke)})()},[]);const He=async()=>{const ie=await ne.get("/Fs/Employment/SectionSetUp");return(Array.isArray(ie.data)?ie.data:[]).map(me=>({id:me.secID??me.ID??me.id,code:me.secCode??me.sectionCode??me.code,description:me.secDesc??me.Description??me.description}))};o.useEffect(()=>{(async()=>{const ke=await He();Ee(ke)})()},[]);const Ue=async()=>{const ie=await ne.get("/EmployeeMasterFile");return(Array.isArray(ie.data)?ie.data:[]).map(me=>({id:me.empID??me.ID??me.id,code:me.empCode||me.code||"",name:`${me.lName||""}, ${me.fName||""} ${me.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const ke=await Ue();Ie(ke)})()},[]);const ut=(()=>{switch(t){case"Branch":return re;case"Department":return A;case"Group Schedule":return xe;case"Pay House":return fe;case"Section":return Ae;default:return pe}})().filter(ie=>ie.code.toLowerCase().includes(p.toLowerCase())||ie.description.toLowerCase().includes(p.toLowerCase())),vt=wt.filter(ie=>ie.code.toLowerCase().includes(y.toLowerCase())||ie.name.toLowerCase().includes(y.toLowerCase())),ve=Math.ceil(ut.length/O),Le=(k-1)*O,he=Le+O,Ve=ut.slice((k-1)*O,k*O),xt=()=>{const ie=[];if(ve<=7)for(let ke=1;ke<=ve;ke++)ie.push(ke);else if(k<=4){for(let ke=1;ke<=5;ke++)ie.push(ke);ie.push("..."),ie.push(ve)}else if(k>=ve-3){ie.push(1),ie.push("...");for(let ke=ve-4;ke<=ve;ke++)ie.push(ke)}else{ie.push(1),ie.push("...");for(let ke=k-1;ke<=k+1;ke++)ie.push(ke);ie.push("..."),ie.push(ve)}return ie},Pt=Math.ceil(vt.length/O),Lt=(M-1)*O,It=Lt+O,qe=vt.slice((M-1)*O,M*O),Nt=()=>{const ie=[];if(Pt<=5)return Array.from({length:Pt},(it,_t)=>_t+1);ie.push(1),M>3&&ie.push("...");const me=Math.max(2,M-1),Ze=Math.min(Pt-1,M+1);for(let it=me;it<=Ze;it++)ie.push(it);return M<Pt-2&&ie.push("..."),ie.push(Pt),ie},gt=ie=>{C(ke=>ke.includes(ie)?ke.filter(me=>me!==ie):[...ke,ie])},dt=ie=>{P(ke=>ke.includes(ie)?ke.filter(me=>me!==ie):[...ke,ie])},kt=()=>{j.length===ut.length?C([]):C(ut.map(ie=>ie.id))},Dt=()=>{S.length===vt.length?P([]):P(vt.map(ie=>ie.id))},Ge=async()=>{if(!S.length){await ee.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!i){await ee.fire({icon:"error",title:"Error",text:"Please select Date.",timer:2e3,showConfirmButton:!0});return}try{B(!0),await ee.fire({icon:"success",title:"Success",text:"Successfully updated Employees Overtime Application.",timer:2e3,showConfirmButton:!1}),C([]),P([]),d(""),l("")}catch(ie){console.error(ie),alert("Failed to update records")}finally{B(!1)}},Ke=ie=>{const ke=ie.currentTarget.getBoundingClientRect();b({top:ke.bottom+5,left:ke.left}),h(!0)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Overtime Application"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(xa,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Update employee overtime application records. Select groups and employees, then set the allowed OT hours and date."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select by TK Group, Branch, or Department"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]})]})]})]})}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Hs},{name:"Branch",icon:ea},{name:"Department",icon:Zs},{name:"Group Schedule",icon:_a},{name:"Pay House",icon:Ia},{name:"Section",icon:Ma}].map(ie=>e.jsxs("button",{onClick:()=>s(ie.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===ie.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(ie.icon,{className:"w-4 h-4"}),ie.name]},ie.name))})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:p,onChange:ie=>v(ie.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:j.length===ut.length&&ut.length>0,onChange:kt,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Ve.map(ie=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:j.includes(ie.id),onChange:()=>gt(ie.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ie.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ie.description})]},ie.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",vt.length===0?0:Le+1," to ",Math.min(he,ut.length)," of ",ut.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>E(ie=>Math.max(ie-1,1)),disabled:k===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),xt().map((ie,ke)=>ie==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${ke}`):e.jsx("button",{onClick:()=>E(ie),className:`px-2 py-1 rounded text-xs ${k===ie?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ie},ie)),e.jsx("button",{onClick:()=>E(ie=>Math.min(ie+1,ve)),disabled:k===ve||ve===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:y,onChange:ie=>g(ie.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:S.length===vt.length&&vt.length>0,onChange:Dt,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:qe.map(ie=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:S.includes(ie.id),onChange:()=>dt(ie.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ie.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ie.name})]},ie.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",Lt+1," to ",Math.min(It,vt.length)," of ",vt.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>L(ie=>Math.max(1,ie-1)),disabled:M===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Nt().map((ie,ke)=>typeof ie=="number"?e.jsx("button",{onClick:()=>L(ie),className:`px-2 py-1 rounded text-xs ${M===ie?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ie},ke):e.jsx("span",{className:"px-2",children:ie},ke)),e.jsx("button",{onClick:()=>L(ie=>Math.min(Pt,ie+1)),disabled:M===Pt,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:a==="active",onChange:()=>r("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:a==="inactive",onChange:()=>r("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:a==="all",onChange:()=>r("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-6 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Allowed OT Hours"}),e.jsx("input",{type:"text",value:n,onChange:ie=>l(ie.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Date"}),e.jsxs("div",{className:"relative flex items-center gap-1",children:[e.jsx("input",{type:"text",value:i,onChange:ie=>d(ie.target.value),onClick:Ke,className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:i,onChange:d})]})]})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:f,onChange:ie=>N(ie.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"ExcludeEmptRestDay"})]})}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",onClick:Ge,children:[e.jsx(to,{className:"w-4 h-4"}),"Update"]})})]})})]})]})}),x&&e.jsx(Jq,{value:i,onChange:ie=>{d(ie),h(!1)},onClose:()=>h(!1),position:m}),e.jsx(Zt,{})]})}function Zq({value:t,onChange:s,onClose:a,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&a()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[a]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,y=n.getFullYear(),g=`${v}/${p}/${y}`;s(g),a()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let g=x-1;g>=0;g--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-g},`prev-${g}`));for(let g=1;g<=d;g++)p.push(e.jsx("div",{onClick:()=>f(g),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:g},g));const y=42-p.length;for(let g=1;g<=y;g++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:g},`next-${g}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function eX(){const[t,s]=o.useState("TK Group"),[a,r]=o.useState(""),[n,l]=o.useState(""),[i,d]=o.useState([]),[x,h]=o.useState([]),[m,b]=o.useState("fixed"),[f,N]=o.useState(!1),[p,v]=o.useState(""),[y,g]=o.useState(""),[j,C]=o.useState("5/5/2021"),[S,P]=o.useState("05/05/2021"),[k,E]=o.useState(!1),[M,L]=o.useState(1),[O,q]=o.useState(1),[B,se]=o.useState(null),[le,pe]=o.useState({top:0,left:0}),[U,Y]=o.useState(1),W=10,[re,G]=o.useState(!1);o.useEffect(()=>{L(1)},[t]);const[R,F]=o.useState(!1),[A,H]=o.useState([]),[D,_]=o.useState(!1),[xe,ge]=o.useState([]),[Ne,Ce]=o.useState(!1),[fe,ue]=o.useState([]),[Oe,De]=o.useState(!1),[Ae,Ee]=o.useState([]),[ze,ot]=o.useState(!1),[wt,Ie]=o.useState([]),[ye,be]=o.useState(!1),[Me,Re]=o.useState([]),[st,He]=o.useState(!1),[Ue,Ye]=o.useState([]),[ht,ut]=o.useState(""),vt=async()=>(await ne.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(V=>({id:V.ID||V.id,code:V.groupCode||V.code,description:V.groupDescription||V.description}));o.useEffect(()=>{(async()=>{const V=await vt();H(V)})()},[]);const ve=async()=>(await ne.get("/Fs/Employment/BranchSetUp")).data.map(V=>({id:V.braID||V.ID,code:V.braCode||V.code,description:V.braDesc||V.description}));o.useEffect(()=>{(async()=>{const V=await ve();ge(V)})()},[]);const Le=async()=>(await ne.get("/Fs/Employment/DepartmentSetUp")).data.map(V=>({id:V.depID||V.ID,code:V.depCode||V.code,description:V.depDesc||V.description}));o.useEffect(()=>{(async()=>{const V=await Le();ue(V)})()},[]);const he=async()=>{const z=await ne.get("/Fs/Employment/GroupSetUp");return(Array.isArray(z.data)?z.data:[]).map(X=>({id:X.grpSchID||X.id||X.ID,code:X.grpCode||X.code,description:X.grpDesc||X.description}))};o.useEffect(()=>{(async()=>{const V=await he();Ee(V)})()},[]);const Ve=async()=>{const z=await ne.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(z.data)?z.data:[]).map(X=>({id:X.lineID??X.ID??X.id,code:X.lineCode??X.code,description:X.lineDesc??X.Description??X.description}))};o.useEffect(()=>{(async()=>{const V=await Ve();Ie(V)})()},[]);const xt=async()=>{const z=await ne.get("/Fs/Employment/SectionSetUp");return(Array.isArray(z.data)?z.data:[]).map(X=>({id:X.secID??X.ID??X.id,code:X.secCode??X.sectionCode??X.code,description:X.secDesc??X.Description??X.description}))};o.useEffect(()=>{(async()=>{const V=await xt();Re(V)})()},[]);const Pt=async()=>{const z=await ne.get("/EmployeeMasterFile");return(Array.isArray(z.data)?z.data:[]).map(X=>({id:X.empID??X.ID??X.id,code:X.empCode||X.code||"",name:`${X.lName||""}, ${X.fName||""} ${X.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const V=await Pt();Ye(V)})()},[]);const qe=(()=>{switch(t){case"Branch":return xe;case"Department":return fe;case"Group Schedule":return Ae;case"Pay House":return wt;case"Section":return Me;default:return A}})().filter(z=>z.code.toLowerCase().includes(a.toLowerCase())||z.description.toLowerCase().includes(a.toLowerCase())),Nt=Ue.filter(z=>z.code.toLowerCase().includes(n.toLowerCase())||z.name.toLowerCase().includes(n.toLowerCase())),gt=Math.ceil(qe.length/W),dt=(M-1)*W,kt=dt+W,Dt=qe.slice((M-1)*W,M*W),Ge=()=>{const z=[];if(gt<=7)for(let V=1;V<=gt;V++)z.push(V);else if(M<=4){for(let V=1;V<=5;V++)z.push(V);z.push("..."),z.push(gt)}else if(M>=gt-3){z.push(1),z.push("...");for(let V=gt-4;V<=gt;V++)z.push(V)}else{z.push(1),z.push("...");for(let V=M-1;V<=M+1;V++)z.push(V);z.push("..."),z.push(gt)}return z},Ke=Math.ceil(Nt.length/W),ie=(O-1)*W,ke=ie+W,me=Nt.slice((O-1)*W,O*W),Ze=()=>{const z=[];if(Ke<=5)return Array.from({length:Ke},(_e,Te)=>Te+1);z.push(1),O>3&&z.push("...");const X=Math.max(2,O-1),de=Math.min(Ke-1,O+1);for(let _e=X;_e<=de;_e++)z.push(_e);return O<Ke-2&&z.push("..."),z.push(Ke),z},it=z=>{d(V=>V.includes(z)?V.filter(X=>X!==z):[...V,z])},_t=z=>{h(V=>V.includes(z)?V.filter(X=>X!==z):[...V,z])},nt=()=>{i.length===qe.length?d([]):d(qe.map(z=>z.id))},mt=()=>{x.length===Nt.length?h([]):h(Nt.map(z=>z.id))},ae=async()=>{if(!x.length){await ee.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(m=="fixed"&&p.length===0){await ee.fire({icon:"error",title:"Error",text:"Daily Time Schedule should not be empty.",timer:2e3,showConfirmButton:!0});return}if(m=="variable"){if(y.length===0){await ee.fire({icon:"error",title:"Error",text:"Workshift should not be empty.",timer:2e3,showConfirmButton:!0});return}if(!j||!S){await ee.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}}if(m.length==0){await ee.fire({icon:"error",title:"Error",text:"Workshift should not be empty.",timer:2e3,showConfirmButton:!0});return}try{G(!0),await ee.fire({icon:"success",title:"Success",text:"Successfully updated Employee Workshift.",timer:2e3,showConfirmButton:!1}),d([]),h([]),C(""),P("")}catch(z){console.error(z),alert("Failed to update records")}finally{G(!1)}},ce=z=>{const V=z.currentTarget.getBoundingClientRect();pe({top:V.bottom+5,left:V.left}),se(z.currentTarget.name)},te=z=>{B==="dateFrom"?C(z):B==="dateTo"&&P(z),se(null)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Employee Workshift"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(xa,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Update employee workshift assignments. Select groups and employees, choose between fixed or variable schedules, and set date ranges."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Fixed or variable workshifts"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Bulk update multiple employees"})]})]})]})]})}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Hs},{name:"Branch",icon:ea},{name:"Department",icon:Zs},{name:"Group Schedule",icon:_a},{name:"Pay House",icon:Ia},{name:"Section",icon:Ma}].map(z=>e.jsxs("button",{onClick:()=>s(z.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===z.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(z.icon,{className:"w-4 h-4"}),z.name]},z.name))})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:a,onChange:z=>r(z.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:i.length===qe.length&&qe.length>0,onChange:nt,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Dt.map(z=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:i.includes(z.id),onChange:()=>it(z.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:z.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:z.description})]},z.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Nt.length===0?0:dt+1," to ",Math.min(kt,qe.length)," of ",qe.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>L(z=>Math.max(z-1,1)),disabled:M===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Ge().map((z,V)=>z==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${V}`):e.jsx("button",{onClick:()=>L(z),className:`px-2 py-1 rounded text-xs ${M===z?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:z},z)),e.jsx("button",{onClick:()=>L(z=>Math.min(z+1,gt)),disabled:M===gt||gt===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:n,onChange:z=>l(z.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:x.length===Nt.length&&Nt.length>0,onChange:mt,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:me.map(z=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:x.includes(z.id),onChange:()=>_t(z.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:z.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:z.name})]},z.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",ie+1," to ",Math.min(ke,Nt.length)," of ",Nt.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>q(z=>Math.max(1,z-1)),disabled:O===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Ze().map((z,V)=>typeof z=="number"?e.jsx("button",{onClick:()=>q(z),className:`px-2 py-1 rounded text-xs ${O===z?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:z},V):e.jsx("span",{className:"px-2",children:z},V)),e.jsx("button",{onClick:()=>q(z=>Math.min(Ke,z+1)),disabled:O===Ke,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"workshiftType",value:"fixed",checked:m==="fixed",onChange:()=>b("fixed"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Fixed"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Daily Schedule"}),e.jsx("input",{type:"text",value:p,onChange:z=>v(z.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-40"}),e.jsx("button",{className:"p-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"workshiftType",value:"variable",checked:m==="variable",onChange:()=>b("variable"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Variable"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Workshift"}),e.jsx("input",{type:"text",value:y,onChange:z=>g(z.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-40"}),e.jsx("button",{className:"p-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:f,onChange:z=>N(z.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"With Date Range"})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Date From"}),e.jsxs("div",{className:"relative flex items-center gap-1",children:[e.jsx("input",{type:"text",value:j,onChange:z=>C(z.target.value),onClick:ce,name:"dateFrom",className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:j,onChange:C})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Date To"}),e.jsxs("div",{className:"relative flex items-center gap-1",children:[e.jsx("input",{type:"text",value:S,onChange:z=>P(z.target.value),onClick:ce,name:"dateTo",className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:S,onChange:P})]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 pt-4 border-t border-gray-200",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:k,onChange:z=>E(z.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Delete Existing Workshift"})]}),e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2 ml-auto",onClick:ae,children:[e.jsx(to,{className:"w-4 h-4"}),"Update"]})]})]})})]})]})}),B&&e.jsx(Zq,{value:B==="dateFrom"?j:S,onChange:te,onClose:()=>se(null),position:le}),e.jsx(Zt,{})]})}function rD({isOpen:t,onClose:s,onSelect:a}){const[r,n]=o.useState(""),[l,i]=o.useState([]),[d,x]=o.useState(!1),[h,m]=o.useState(1),b=10,f=async()=>{x(!0);try{const k=await ne.get("/Fs/Process/LeaveTypeSetUp");k.status===200&&k.data&&i(k.data)}catch(k){const E=k.response?.data?.message||k.message||"Failed to load leave types";await ee.fire({icon:"error",title:"Error",text:E}),console.error("Error fetching leave types:",k)}finally{x(!1)}};o.useEffect(()=>{t&&(n(""),m(1),f())},[t]);const N=l.filter(k=>(k.leaveCode?.toLowerCase()||"").includes(r.toLowerCase())||(k.leaveDesc?.toLowerCase()||"").includes(r.toLowerCase())),p=Math.ceil(N.length/b),v=(h-1)*b,y=v+b,g=N.slice(v,y),j=()=>{const k=[];if(p<=5)for(let M=1;M<=p;M++)k.push(M);else if(h<=3){for(let M=1;M<=4;M++)k.push(M);k.push("..."),k.push(p)}else if(h>=p-2){k.push(1),k.push("...");for(let M=p-3;M<=p;M++)k.push(M)}else k.push(1),k.push("..."),k.push(h-1),k.push(h),k.push(h+1),k.push("..."),k.push(p);return k},C=k=>{m(k)},S=()=>{h>1&&m(h-1)},P=()=>{h<p&&m(h+1)};return o.useEffect(()=>{m(1)},[r]),o.useEffect(()=>{const k=E=>{E.key==="Escape"&&t&&s()};return t&&document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k)}},[t,s]),t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60]",onClick:s}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[70] p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl border border-gray-300 w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Select Leave Type"}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3 overflow-y-auto",style:{maxHeight:"calc(90vh - 50px)"},children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Leave Type Setup"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:r,onChange:k=>n(k.target.value),placeholder:"Search by code or description...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),d?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading leave types..."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border border-gray-200 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsxs("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:["Leave Code",e.jsx("span",{className:"ml-1 text-blue-500",children:""})]}),e.jsxs("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:["Description",e.jsx("span",{className:"ml-1 text-gray-400",children:""})]}),e.jsxs("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:["Chargeable To",e.jsx("span",{className:"ml-1 text-gray-400",children:""})]}),e.jsxs("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:["With Pay",e.jsx("span",{className:"ml-1 text-gray-400",children:""})]})]})}),e.jsx("tbody",{children:g.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-3 py-8 text-center text-gray-500",children:"No leave types found"})}):g.map(k=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>{a(k.leaveCode),s()},children:[e.jsx("td",{className:"px-3 py-1.5",children:k.leaveCode}),e.jsx("td",{className:"px-3 py-1.5",children:k.leaveDesc}),e.jsx("td",{className:"px-3 py-1.5",children:k.chargeableTo}),e.jsx("td",{className:"px-3 py-1.5",children:k.withPay})]},k.leaveID))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",N.length>0?v+1:0," to ",Math.min(y,N.length)," of ",N.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:S,disabled:h===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),j().map((k,E)=>typeof k=="number"?e.jsx("button",{onClick:()=>C(k),className:`px-2 py-1 rounded text-xs ${h===k?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:k},E):e.jsx("span",{className:"px-2 py-1 text-xs text-gray-500",children:k},E)),e.jsx("button",{onClick:P,disabled:h===p||p===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})})]}):null}function tX({value:t,onChange:s,onClose:a,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&a()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[a]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,y=n.getFullYear(),g=`${v}/${p}/${y}`;s(g),a()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let g=x-1;g>=0;g--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-g},`prev-${g}`));for(let g=1;g<=d;g++)p.push(e.jsx("div",{onClick:()=>f(g),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:g},g));const y=42-p.length;for(let g=1;g<=y;g++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:g},`next-${g}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function sX(){const[t,s]=o.useState("TK Group"),[a,r]=o.useState("5/5/2021"),[n,l]=o.useState("05/05/2021"),[i,d]=o.useState(null),[x,h]=o.useState({top:0,left:0}),[m,b]=o.useState(""),[f,N]=o.useState(0),[p,v]=o.useState(!1),[y,g]=o.useState(!1),[j,C]=o.useState(""),[S,P]=o.useState(""),[k,E]=o.useState([]),[M,L]=o.useState([]),[O,q]=o.useState(1),[B,se]=o.useState(1),[le,pe]=o.useState(1),U=10,[Y,W]=o.useState(""),[re,G]=o.useState(""),[R,F]=o.useState(""),[A,H]=o.useState([]),[D,_]=o.useState(!1),[xe,ge]=o.useState(!1),[Ne,Ce]=o.useState(!1);o.useEffect(()=>{q(1)},[t]);const[fe,ue]=o.useState(!1),[Oe,De]=o.useState([]),[Ae,Ee]=o.useState(!1),[ze,ot]=o.useState([]),[wt,Ie]=o.useState(!1),[ye,be]=o.useState([]),[Me,Re]=o.useState(!1),[st,He]=o.useState([]),[Ue,Ye]=o.useState(!1),[ht,ut]=o.useState([]),[vt,ve]=o.useState(!1),[Le,he]=o.useState([]),[Ve,xt]=o.useState(!1),[Pt,Lt]=o.useState([]),[It,qe]=o.useState(!1),[Nt,gt]=o.useState([]),[dt,kt]=o.useState(!1),[Dt,Ge]=o.useState([]),[Ke,ie]=o.useState(""),ke=async()=>(await ne.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(zt=>({id:zt.ID||zt.id,code:zt.groupCode||zt.code,description:zt.groupDescription||zt.description}));o.useEffect(()=>{(async()=>{const zt=await ke();De(zt)})()},[]);const me=async()=>(await ne.get("/Fs/Employment/BranchSetUp")).data.map(zt=>({id:zt.braID||zt.ID,code:zt.braCode||zt.code,description:zt.braDesc||zt.description}));o.useEffect(()=>{(async()=>{const zt=await me();ot(zt)})()},[]);const Ze=async()=>(await ne.get("/Fs/Employment/DepartmentSetUp")).data.map(zt=>({id:zt.depID||zt.ID,code:zt.depCode||zt.code,description:zt.depDesc||zt.description}));o.useEffect(()=>{(async()=>{const zt=await Ze();be(zt)})()},[]);const it=async()=>(await ne.get("/Fs/Employment/DivisionSetUp")).data.map(zt=>({id:zt.divID||zt.ID,code:zt.divCode||zt.code,description:zt.divDesc||zt.description}));o.useEffect(()=>{(async()=>{const zt=await it();He(zt)})()},[]);const _t=async()=>{const jt=await ne.get("/Fs/Employment/GroupSetUp");return(Array.isArray(jt.data)?jt.data:[]).map(cs=>({id:cs.grpSchID||cs.id||cs.ID,code:cs.grpCode||cs.code,description:cs.grpDesc||cs.description}))};o.useEffect(()=>{(async()=>{const zt=await _t();ut(zt)})()},[]);const nt=async()=>{const jt=await ne.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(jt.data)?jt.data:[]).map(cs=>({id:cs.lineID??cs.ID??cs.id,code:cs.lineCode??cs.code,description:cs.lineDesc??cs.Description??cs.description}))};o.useEffect(()=>{(async()=>{const zt=await nt();he(zt)})()},[]);const mt=async()=>{const jt=await ne.get("/Fs/Employment/SectionSetUp");return(Array.isArray(jt.data)?jt.data:[]).map(cs=>({id:cs.secID??cs.ID??cs.id,code:cs.secCode??cs.sectionCode??cs.code,description:cs.secDesc??cs.Description??cs.description}))};o.useEffect(()=>{(async()=>{const zt=await mt();Lt(zt)})()},[]);const ae=async()=>(await ne.get("/Fs/Employment/UnitSetUp")).data.map(zt=>({id:zt.unitID||zt.ID,code:zt.unitCode||zt.code,description:zt.unitDesc||zt.description}));o.useEffect(()=>{(async()=>{const zt=await ae();gt(zt)})()},[]);const ce=async()=>{const jt=await ne.get("/EmployeeMasterFile");return(Array.isArray(jt.data)?jt.data:[]).map(cs=>({id:cs.empID??cs.ID??cs.id,code:cs.empCode||cs.code||"",name:`${cs.lName||""}, ${cs.fName||""} ${cs.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const zt=await ce();Ge(zt)})()},[]);const te=async()=>{try{const jt=await ne.get("/Fs/Employment/LeaveCodeSetUp");return(Array.isArray(jt.data)?jt.data:[]).map(cs=>({id:cs.lcID??cs.ID??cs.id,code:cs.lcCode??cs.code??cs.leaveCode??"",description:cs.lcDesc??cs.Description??cs.description??""}))}catch(jt){return console.error("Failed to fetch leave codes",jt),[]}};o.useEffect(()=>{(async()=>{_(!0);const zt=await te();H(zt),_(!1)})()},[]);const V=(()=>{switch(t){case"Branch":return ze;case"Department":return ye;case"Division":return st;case"Group Schedule":return ht;case"Pay House":return Le;case"Section":return Pt;case"Unit":return Nt;default:return Oe}})(),X=(jt,zt)=>{W(jt),G(zt),ge(!1)},de=V.filter(jt=>jt.code.toLowerCase().includes(j.toLowerCase())||jt.description.toLowerCase().includes(j.toLowerCase())),_e=Dt.filter(jt=>jt.code.toLowerCase().includes(S.toLowerCase())||jt.name.toLowerCase().includes(S.toLowerCase())),Te=Math.ceil(de.length/U),je=(O-1)*U,J=je+U,we=de.slice((O-1)*U,O*U),I=()=>{const jt=[];if(Te<=7)for(let zt=1;zt<=Te;zt++)jt.push(zt);else if(O<=4){for(let zt=1;zt<=5;zt++)jt.push(zt);jt.push("..."),jt.push(Te)}else if(O>=Te-3){jt.push(1),jt.push("...");for(let zt=Te-4;zt<=Te;zt++)jt.push(zt)}else{jt.push(1),jt.push("...");for(let zt=O-1;zt<=O+1;zt++)jt.push(zt);jt.push("..."),jt.push(Te)}return jt},Z=Math.ceil(_e.length/U),Q=(B-1)*U,We=Q+U,ft=_e.slice((B-1)*U,B*U),$t=()=>{const jt=[];if(Z<=5)return Array.from({length:Z},(Tt,Ut)=>Ut+1);jt.push(1),B>3&&jt.push("...");const cs=Math.max(2,B-1),Js=Math.min(Z-1,B+1);for(let Tt=cs;Tt<=Js;Tt++)jt.push(Tt);return B<Z-2&&jt.push("..."),jt.push(Z),jt},yt=jt=>{E(zt=>zt.includes(jt)?zt.filter(cs=>cs!==jt):[...zt,jt])},$e=jt=>{L(zt=>zt.includes(jt)?zt.filter(cs=>cs!==jt):[...zt,jt])},bt=()=>{k.length===de.length?E([]):E(de.map(jt=>jt.id))},ts=()=>{M.length===_e.length?L([]):L(_e.map(jt=>jt.id))},Ts=async()=>{if(!M.length){await ee.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(Y.length===0){await ee.fire({icon:"error",title:"Error",text:"Leave code should not be empty.",timer:2e3,showConfirmButton:!0});return}if(f<1){await ee.fire({icon:"error",title:"Error",text:"must have value and greater than to 0.",timer:2e3,showConfirmButton:!0});return}if(!a||!n){await ee.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{Ce(!0),await ee.fire({icon:"success",title:"Success",text:"Successfully updated Employees Leave Application.",timer:2e3,showConfirmButton:!1}),E([]),L([]),r(""),l("")}catch(jt){console.error(jt),alert("Failed to update records")}finally{Ce(!1)}},at=jt=>{const zt=jt.currentTarget.getBoundingClientRect();h({top:zt.bottom+5,left:zt.left}),d(jt.currentTarget.name)},Jt=jt=>{i==="dateFrom"?r(jt):i==="dateTo"&&l(jt),d(null)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Employee Leave Application"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(xa,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Update employee leave applications. Select groups and employees, configure leave details including hours, period, and leave type."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Bulk update leave applications"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Configure leave hours and periods"})]})]})]})]})}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Hs},{name:"Branch",icon:ea},{name:"Department",icon:Zs},{name:"Division",icon:wr},{name:"Group Schedule",icon:_a},{name:"Pay House",icon:Ia},{name:"Section",icon:Ma},{name:"Unit",icon:ln}].map(jt=>e.jsxs("button",{onClick:()=>s(jt.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===jt.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(jt.icon,{className:"w-4 h-4"}),jt.name]},jt.name))})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:j,onChange:jt=>C(jt.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:k.length===de.length&&de.length>0,onChange:bt,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:we.map(jt=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:k.includes(jt.id),onChange:()=>yt(jt.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:jt.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:jt.description})]},jt.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",_e.length===0?0:je+1," to ",Math.min(J,de.length)," of ",de.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>q(jt=>Math.max(jt-1,1)),disabled:O===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),I().map((jt,zt)=>jt==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${zt}`):e.jsx("button",{onClick:()=>q(jt),className:`px-2 py-1 rounded text-xs ${O===jt?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:jt},jt)),e.jsx("button",{onClick:()=>q(jt=>Math.min(jt+1,Te)),disabled:O===Te||Te===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:S,onChange:jt=>P(jt.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:M.length===_e.length&&_e.length>0,onChange:ts,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ft.map(jt=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:M.includes(jt.id),onChange:()=>$e(jt.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:jt.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:jt.name})]},jt.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",Q+1," to ",Math.min(We,_e.length)," of ",_e.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>se(jt=>Math.max(1,jt-1)),disabled:B===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),$t().map((jt,zt)=>typeof jt=="number"?e.jsx("button",{onClick:()=>se(jt),className:`px-2 py-1 rounded text-xs ${B===jt?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:jt},zt):e.jsx("span",{className:"px-2",children:jt},zt)),e.jsx("button",{onClick:()=>se(jt=>Math.min(Z,jt+1)),disabled:B===Z,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"Number Of Hours [hh:mm]"}),e.jsx("input",{type:"text",value:f,className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-20"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Period"}),e.jsxs("select",{value:m,className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:""}),e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Leave Code"}),e.jsx("input",{type:"text",value:Y,onChange:jt=>W(jt.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-40"}),e.jsx("button",{className:"p-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",onClick:()=>ge(!0),children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",onClick:()=>{W(""),G("")},children:e.jsx(et,{className:"w-4 h-4"})}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:p,onChange:jt=>v(jt.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"With Pay"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:y,onChange:jt=>g(jt.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"SSS Notification"})]})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Date From"}),e.jsxs("div",{className:"relative flex items-center gap-1",children:[e.jsx("input",{readOnly:!0,type:"text",value:a,onChange:jt=>r(jt.target.value),onClick:at,name:"dateFrom",className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:a,onChange:r})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Date To"}),e.jsxs("div",{className:"relative flex items-center gap-1",children:[e.jsx("input",{readOnly:!0,type:"text",value:n,onChange:jt=>l(jt.target.value),onClick:at,name:"dateTo",className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:n,onChange:l})]})]})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",onClick:Ts,children:[e.jsx(to,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),i&&e.jsx(tX,{value:i==="dateFrom"?a:n,onChange:Jt,onClose:()=>d(null),position:x}),e.jsx(Zt,{}),e.jsx(rD,{isOpen:xe,onClose:()=>ge(!1),onSelect:X,leaveCodeItems:A,loading:D,error:R})]})}function aX({isOpen:t,onClose:s,onSelect:a,payHouseItems:r,loading:n,error:l}){const[i,d]=o.useState(""),[x,h]=o.useState(1),m=20;o.useEffect(()=>{const g=j=>{j.key==="Escape"&&t&&s()};return t&&document.addEventListener("keydown",g),()=>{document.removeEventListener("keydown",g)}},[t,s]),o.useEffect(()=>{t&&(d(""),h(1))},[t]);const b=r.filter(g=>g.code.toLowerCase().includes(i.toLowerCase())||g.description.toLowerCase().includes(i.toLowerCase())),f=Math.ceil(b.length/m),N=(x-1)*m,p=N+m,v=b.slice(N,p),y=()=>{const g=[];if(f<=5)return Array.from({length:f},(P,k)=>k+1);g.push(1),x>3&&g.push("...");const C=Math.max(2,x-1),S=Math.min(f-1,x+1);for(let P=C;P<=S;P++)g.push(P);return x<f-2&&g.push("..."),g.push(f),g};return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:s}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Pay House Code"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:i,onChange:g=>{d(g.target.value),h(1)},className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Search by code, name, or group..."})]}),l&&e.jsx("div",{className:"p-2 bg-red-50 border border-red-200 rounded mb-3",children:e.jsx("p",{className:"text-red-700 text-xs",children:l})}),n?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading employees..."})}):e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Code"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Description"})]})}),e.jsx("tbody",{children:v.length>0?v.map(g=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>{a(g.id.toString(),g.code),s()},children:[e.jsx("td",{className:"px-3 py-1.5",children:g.code}),e.jsx("td",{className:"px-3 py-1.5",children:g.description})]},g.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-3 py-4 text-center text-gray-500 text-sm",children:"No items found"})})})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",b.length===0?0:N+1," to ",Math.min(p,b.length)," of ",b.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>h(g=>Math.max(g-1,1)),disabled:x===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),y().map((g,j)=>g==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${j}`):e.jsx("button",{onClick:()=>h(g),className:`px-2 py-1 rounded text-xs ${x===g?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:g},g)),e.jsx("button",{onClick:()=>h(g=>Math.min(g+1,f)),disabled:x===f||f===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})})]}):null}function rX(){const[t,s]=o.useState("TK Group"),[a,r]=o.useState(""),[n,l]=o.useState(""),[i,d]=o.useState([]),[x,h]=o.useState([]),[m,b]=o.useState(""),[f,N]=o.useState(1),[p,v]=o.useState(1),[y,g]=o.useState(1),j=10,[C,S]=o.useState(""),[P,k]=o.useState(""),[E,M]=o.useState(!1),[L,O]=o.useState(!1);o.useEffect(()=>{N(1)},[t]);const[q,B]=o.useState(!1),[se,le]=o.useState([]),[pe,U]=o.useState(!1),[Y,W]=o.useState([]),[re,G]=o.useState(!1),[R,F]=o.useState([]),[A,H]=o.useState(!1),[D,_]=o.useState([]),[xe,ge]=o.useState(!1),[Ne,Ce]=o.useState([]),[fe,ue]=o.useState(!1),[Oe,De]=o.useState([]),[Ae,Ee]=o.useState(""),[ze,ot]=o.useState(!1),[wt,Ie]=o.useState([]),[ye,be]=o.useState(!1),[Me,Re]=o.useState([]),[st,He]=o.useState(!1),[Ue,Ye]=o.useState([]),[ht,ut]=o.useState(""),vt=async()=>(await ne.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(X=>({id:X.ID||X.id,code:X.groupCode||X.code,description:X.groupDescription||X.description}));o.useEffect(()=>{(async()=>{const X=await vt();le(X)})()},[]);const ve=async()=>(await ne.get("/Fs/Employment/BranchSetUp")).data.map(X=>({id:X.braID||X.ID,code:X.braCode||X.code,description:X.braDesc||X.description}));o.useEffect(()=>{(async()=>{const X=await ve();W(X)})()},[]);const Le=async()=>(await ne.get("/Fs/Employment/DepartmentSetUp")).data.map(X=>({id:X.depID||X.ID,code:X.depCode||X.code,description:X.depDesc||X.description}));o.useEffect(()=>{(async()=>{const X=await Le();F(X)})()},[]);const he=async()=>(await ne.get("/Fs/Employment/DivisionSetUp")).data.map(X=>({id:X.divID||X.ID,code:X.divCode||X.code,description:X.divDesc||X.description}));o.useEffect(()=>{(async()=>{const X=await he();_(X)})()},[]);const Ve=async()=>{const V=await ne.get("/Fs/Employment/GroupSetUp");return(Array.isArray(V.data)?V.data:[]).map(de=>({id:de.grpSchID||de.id||de.ID,code:de.grpCode||de.code,description:de.grpDesc||de.description}))};o.useEffect(()=>{(async()=>{const X=await Ve();Ce(X)})()},[]);const xt=async()=>{const V=await ne.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(V.data)?V.data:[]).map(de=>({id:de.lineID??de.ID??de.id,code:de.lineCode??de.code,description:de.lineDesc??de.Description??de.description}))};o.useEffect(()=>{(async()=>{const X=await xt();De(X)})()},[]);const Pt=async()=>{const V=await ne.get("/Fs/Employment/SectionSetUp");return(Array.isArray(V.data)?V.data:[]).map(de=>({id:de.secID??de.ID??de.id,code:de.secCode??de.sectionCode??de.code,description:de.secDesc??de.Description??de.description}))};o.useEffect(()=>{(async()=>{const X=await Pt();Ie(X)})()},[]);const Lt=async()=>(await ne.get("/Fs/Employment/UnitSetUp")).data.map(X=>({id:X.unitID||X.ID,code:X.unitCode||X.code,description:X.unitDesc||X.description}));o.useEffect(()=>{(async()=>{const X=await Lt();Re(X)})()},[]);const It=async()=>{const V=await ne.get("/EmployeeMasterFile");return(Array.isArray(V.data)?V.data:[]).map(de=>({id:de.empID??de.ID??de.id,code:de.empCode||de.code||"",name:`${de.lName||""}, ${de.fName||""} ${de.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const X=await It();Ye(X)})()},[]);const Nt=(()=>{switch(t){case"Branch":return Y;case"Department":return R;case"Division":return D;case"Group Schedule":return Ne;case"Pay House":return Oe;case"Section":return wt;case"Unit":return Me;default:return se}})(),gt=(V,X)=>{S(V),k(X),M(!1)},dt=Nt.filter(V=>V.code.toLowerCase().includes(a.toLowerCase())||V.description.toLowerCase().includes(a.toLowerCase())),kt=Ue.filter(V=>V.code.toLowerCase().includes(n.toLowerCase())||V.name.toLowerCase().includes(n.toLowerCase())),Dt=Math.ceil(dt.length/j),Ge=(f-1)*j,Ke=Ge+j,ie=dt.slice((f-1)*j,f*j),ke=()=>{const V=[];if(Dt<=7)for(let X=1;X<=Dt;X++)V.push(X);else if(f<=4){for(let X=1;X<=5;X++)V.push(X);V.push("..."),V.push(Dt)}else if(f>=Dt-3){V.push(1),V.push("...");for(let X=Dt-4;X<=Dt;X++)V.push(X)}else{V.push(1),V.push("...");for(let X=f-1;X<=f+1;X++)V.push(X);V.push("..."),V.push(Dt)}return V},me=Math.ceil(kt.length/j),Ze=(p-1)*j,it=Ze+j,_t=kt.slice((p-1)*j,p*j),nt=()=>{const V=[];if(me<=5)return Array.from({length:me},(Te,je)=>je+1);V.push(1),p>3&&V.push("...");const de=Math.max(2,p-1),_e=Math.min(me-1,p+1);for(let Te=de;Te<=_e;Te++)V.push(Te);return p<me-2&&V.push("..."),V.push(me),V},mt=V=>{d(X=>X.includes(V)?X.filter(de=>de!==V):[...X,V])},ae=V=>{h(X=>X.includes(V)?X.filter(de=>de!==V):[...X,V])},ce=()=>{i.length===dt.length?d([]):d(dt.map(V=>V.id))},te=()=>{x.length===kt.length?h([]):h(kt.map(V=>V.id))},z=async()=>{if(!x.length){await ee.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(P.length===0){await ee.fire({icon:"error",title:"Error",text:"Pay House code should not be empty.",timer:2e3,showConfirmButton:!0});return}try{O(!0),await ee.fire({icon:"success",title:"Success",text:"Successfully updated Employees Pay House.",timer:2e3,showConfirmButton:!1}),d([]),h([]),k("")}catch(V){console.error(V),alert("Failed to update records")}finally{O(!1)}};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Employee Pay House"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(ea,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Update employee pay house assignments. Select groups and employees to reassign them to different pay houses."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Bulk update pay house assignments"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Quick search and assign"})]})]})]})]})}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Hs},{name:"Branch",icon:ea},{name:"Department",icon:Zs},{name:"Division",icon:wr},{name:"Group Schedule",icon:_a},{name:"Pay House",icon:Ia},{name:"Section",icon:Ma},{name:"Unit",icon:ln}].map(V=>e.jsxs("button",{onClick:()=>s(V.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===V.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(V.icon,{className:"w-4 h-4"}),V.name]},V.name))})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:a,onChange:V=>r(V.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:i.length===dt.length&&dt.length>0,onChange:ce,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ie.map(V=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:i.includes(V.id),onChange:()=>mt(V.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:V.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:V.description})]},V.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",kt.length===0?0:Ge+1," to ",Math.min(Ke,dt.length)," of ",dt.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>N(V=>Math.max(V-1,1)),disabled:f===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),ke().map((V,X)=>V==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${X}`):e.jsx("button",{onClick:()=>N(V),className:`px-2 py-1 rounded text-xs ${f===V?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:V},V)),e.jsx("button",{onClick:()=>N(V=>Math.min(V+1,Dt)),disabled:f===Dt||Dt===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:n,onChange:V=>l(V.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:x.length===kt.length&&kt.length>0,onChange:te,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:_t.map(V=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:x.includes(V.id),onChange:()=>ae(V.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:V.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:V.name})]},V.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",Ze+1," to ",Math.min(it,kt.length)," of ",kt.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>v(V=>Math.max(1,V-1)),disabled:p===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),nt().map((V,X)=>typeof V=="number"?e.jsx("button",{onClick:()=>v(V),className:`px-2 py-1 rounded text-xs ${p===V?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:V},X):e.jsx("span",{className:"px-2",children:V},X)),e.jsx("button",{onClick:()=>v(V=>Math.min(me,V+1)),disabled:p===me,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Pay House Code"}),e.jsx("input",{type:"text",value:C&&P?`${P}`:"",onChange:V=>k(V.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-40"}),e.jsx("button",{className:"p-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{onClick:()=>M(!0),className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{k("")},className:"p-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",onClick:z,children:[e.jsx(to,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),e.jsx(Zt,{}),e.jsx(aX,{isOpen:E,onClose:()=>M(!1),onSelect:gt,payHouseItems:Oe,loading:fe,error:Ae})]})}function nX({isOpen:t,onClose:s,onSelect:a,employeeClassItems:r,loading:n,error:l}){const[i,d]=o.useState(""),[x,h]=o.useState(1),m=20;o.useEffect(()=>{const g=j=>{j.key==="Escape"&&t&&s()};return t&&document.addEventListener("keydown",g),()=>{document.removeEventListener("keydown",g)}},[t,s]),o.useEffect(()=>{t&&(d(""),h(1))},[t]);const b=r.filter(g=>g.code.toLowerCase().includes(i.toLowerCase())||g.description.toLowerCase().includes(i.toLowerCase())),f=Math.ceil(b.length/m),N=(x-1)*m,p=N+m,v=b.slice(N,p),y=()=>{const g=[];if(f<=5)return Array.from({length:f},(P,k)=>k+1);g.push(1),x>3&&g.push("...");const C=Math.max(2,x-1),S=Math.min(f-1,x+1);for(let P=C;P<=S;P++)g.push(P);return x<f-2&&g.push("..."),g.push(f),g};return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:s}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Employee Classification Code"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:i,onChange:g=>{d(g.target.value),h(1)},className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Search by code, name, or group..."})]}),l&&e.jsx("div",{className:"p-2 bg-red-50 border border-red-200 rounded mb-3",children:e.jsx("p",{className:"text-red-700 text-xs",children:l})}),n?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading Leave Codes..."})}):e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Code"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Description"})]})}),e.jsx("tbody",{children:v.length>0?v.map(g=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>{a(g.id.toString(),g.code),s()},children:[e.jsx("td",{className:"px-3 py-1.5",children:g.code}),e.jsx("td",{className:"px-3 py-1.5",children:g.description})]},g.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-3 py-4 text-center text-gray-500 text-sm",children:"No items found"})})})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",b.length===0?0:N+1," to ",Math.min(p,b.length)," of ",b.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>h(g=>Math.max(g-1,1)),disabled:x===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),y().map((g,j)=>g==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${j}`):e.jsx("button",{onClick:()=>h(g),className:`px-2 py-1 rounded text-xs ${x===g?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:g},g)),e.jsx("button",{onClick:()=>h(g=>Math.min(g+1,f)),disabled:x===f||f===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})})]}):null}function oX({value:t,onChange:s,onClose:a,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&a()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[a]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,y=n.getFullYear(),g=`${v}/${p}/${y}`;s(g),a()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let g=x-1;g>=0;g--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-g},`prev-${g}`));for(let g=1;g<=d;g++)p.push(e.jsx("div",{onClick:()=>f(g),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:g},g));const y=42-p.length;for(let g=1;g<=y;g++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:g},`next-${g}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function lX(){const[t,s]=o.useState("TK Group"),[a,r]=o.useState("5/5/2021"),[n,l]=o.useState("05/05/2021"),[i,d]=o.useState(null),[x,h]=o.useState({top:0,left:0}),[m,b]=o.useState("fixed"),[f,N]=o.useState(""),[p,v]=o.useState(""),[y,g]=o.useState([]),[j,C]=o.useState([]),[S,P]=o.useState(1),[k,E]=o.useState(1),[M,L]=o.useState(1),O=10,[q,B]=o.useState(""),[se,le]=o.useState(""),[pe,U]=o.useState(""),[Y,W]=o.useState([]),[re,G]=o.useState(!1),[R,F]=o.useState(!1),[A,H]=o.useState(!1);o.useEffect(()=>{P(1)},[t]);const[D,_]=o.useState(!1),[xe,ge]=o.useState([]),[Ne,Ce]=o.useState(!1),[fe,ue]=o.useState([]),[Oe,De]=o.useState(!1),[Ae,Ee]=o.useState([]),[ze,ot]=o.useState(!1),[wt,Ie]=o.useState([]),[ye,be]=o.useState(!1),[Me,Re]=o.useState([]),[st,He]=o.useState(!1),[Ue,Ye]=o.useState([]),[ht,ut]=o.useState(!1),[vt,ve]=o.useState([]),[Le,he]=o.useState(!1),[Ve,xt]=o.useState([]),[Pt,Lt]=o.useState(!1),[It,qe]=o.useState([]),[Nt,gt]=o.useState(""),dt=async()=>(await ne.get("/Fs/Process/TimeKeepGroupSetUp")).data.map($e=>({id:$e.ID||$e.id,code:$e.groupCode||$e.code,description:$e.groupDescription||$e.description}));o.useEffect(()=>{(async()=>{const $e=await dt();ge($e)})()},[]);const kt=async()=>(await ne.get("/Fs/Employment/BranchSetUp")).data.map($e=>({id:$e.braID||$e.ID,code:$e.braCode||$e.code,description:$e.braDesc||$e.description}));o.useEffect(()=>{(async()=>{const $e=await kt();ue($e)})()},[]);const Dt=async()=>(await ne.get("/Fs/Employment/DepartmentSetUp")).data.map($e=>({id:$e.depID||$e.ID,code:$e.depCode||$e.code,description:$e.depDesc||$e.description}));o.useEffect(()=>{(async()=>{const $e=await Dt();Ee($e)})()},[]);const Ge=async()=>(await ne.get("/Fs/Employment/DivisionSetUp")).data.map($e=>({id:$e.divID||$e.ID,code:$e.divCode||$e.code,description:$e.divDesc||$e.description}));o.useEffect(()=>{(async()=>{const $e=await Ge();Ie($e)})()},[]);const Ke=async()=>{const yt=await ne.get("/Fs/Employment/GroupSetUp");return(Array.isArray(yt.data)?yt.data:[]).map(bt=>({id:bt.grpSchID||bt.id||bt.ID,code:bt.grpCode||bt.code,description:bt.grpDesc||bt.description}))};o.useEffect(()=>{(async()=>{const $e=await Ke();Re($e)})()},[]);const ie=async()=>{const yt=await ne.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(yt.data)?yt.data:[]).map(bt=>({id:bt.lineID??bt.ID??bt.id,code:bt.lineCode??bt.code,description:bt.lineDesc??bt.Description??bt.description}))};o.useEffect(()=>{(async()=>{const $e=await ie();Ye($e)})()},[]);const ke=async()=>{const yt=await ne.get("/Fs/Employment/SectionSetUp");return(Array.isArray(yt.data)?yt.data:[]).map(bt=>({id:bt.secID??bt.ID??bt.id,code:bt.secCode??bt.sectionCode??bt.code,description:bt.secDesc??bt.Description??bt.description}))};o.useEffect(()=>{(async()=>{const $e=await ke();ve($e)})()},[]);const me=async()=>(await ne.get("/Fs/Employment/UnitSetUp")).data.map($e=>({id:$e.unitID||$e.ID,code:$e.unitCode||$e.code,description:$e.unitDesc||$e.description}));o.useEffect(()=>{(async()=>{const $e=await me();xt($e)})()},[]);const Ze=async()=>{const yt=await ne.get("/EmployeeMasterFile");return(Array.isArray(yt.data)?yt.data:[]).map(bt=>({id:bt.empID??bt.ID??bt.id,code:bt.empCode||bt.code||"",name:`${bt.lName||""}, ${bt.fName||""} ${bt.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const $e=await Ze();qe($e)})()},[]);const _t=(()=>{switch(t){case"Branch":return fe;case"Department":return Ae;case"Division":return wt;case"Group Schedule":return Me;case"Pay House":return Ue;case"Section":return vt;case"Unit":return Ve;default:return xe}})(),nt=(yt,$e)=>{B(yt),le($e),F(!1)},mt=_t.filter(yt=>yt.code.toLowerCase().includes(f.toLowerCase())||yt.description.toLowerCase().includes(f.toLowerCase())),ae=It.filter(yt=>yt.code.toLowerCase().includes(p.toLowerCase())||yt.name.toLowerCase().includes(p.toLowerCase())),ce=Math.ceil(mt.length/O),te=(S-1)*O,z=te+O,V=mt.slice((S-1)*O,S*O),X=()=>{const yt=[];if(ce<=7)for(let $e=1;$e<=ce;$e++)yt.push($e);else if(S<=4){for(let $e=1;$e<=5;$e++)yt.push($e);yt.push("..."),yt.push(ce)}else if(S>=ce-3){yt.push(1),yt.push("...");for(let $e=ce-4;$e<=ce;$e++)yt.push($e)}else{yt.push(1),yt.push("...");for(let $e=S-1;$e<=S+1;$e++)yt.push($e);yt.push("..."),yt.push(ce)}return yt},de=Math.ceil(ae.length/O),_e=(k-1)*O,Te=_e+O,je=ae.slice((k-1)*O,k*O),J=()=>{const yt=[];if(de<=5)return Array.from({length:de},(Ts,at)=>at+1);yt.push(1),k>3&&yt.push("...");const bt=Math.max(2,k-1),ts=Math.min(de-1,k+1);for(let Ts=bt;Ts<=ts;Ts++)yt.push(Ts);return k<de-2&&yt.push("..."),yt.push(de),yt},we=async()=>{if(!j.length){await ee.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(m=="fixed"){if(se.length===0){await ee.fire({icon:"error",title:"Error",text:"Classification should not be empty.",timer:2e3,showConfirmButton:!0});return}}else if(m=="variable"&&(!a||!n)){await ee.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{H(!0),await ee.fire({icon:"success",title:"Success",text:"Successfully updated Employee Classification.",timer:2e3,showConfirmButton:!1}),g([]),C([]),r(""),l("")}catch(yt){console.error(yt),alert("Failed to update records")}finally{H(!1)}},I=yt=>{g($e=>$e.includes(yt)?$e.filter(bt=>bt!==yt):[...$e,yt])},Z=yt=>{C($e=>$e.includes(yt)?$e.filter(bt=>bt!==yt):[...$e,yt])},Q=()=>{y.length===mt.length?g([]):g(mt.map(yt=>yt.id))},We=()=>{j.length===ae.length?C([]):C(ae.map(yt=>yt.id))},ft=yt=>{const $e=yt.currentTarget.getBoundingClientRect();h({top:$e.bottom+5,left:$e.left}),d(yt.currentTarget.name)},$t=yt=>{i==="dateFrom"?r(yt):i==="dateTo"&&l(yt),d(null)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Employee Classification"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(gC,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Update employee classification records. Choose between fixed or variable classification types and set effective date ranges."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Fixed or variable classifications"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Bulk update with date range"})]})]})]})]})}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Hs},{name:"Branch",icon:ea},{name:"Department",icon:Zs},{name:"Division",icon:wr},{name:"Group Schedule",icon:_a},{name:"Pay House",icon:Ia},{name:"Section",icon:Ma},{name:"Unit",icon:ln}].map(yt=>e.jsxs("button",{onClick:()=>s(yt.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===yt.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(yt.icon,{className:"w-4 h-4"}),yt.name]},yt.name))})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:f,onChange:yt=>N(yt.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:y.length===mt.length&&mt.length>0,onChange:Q,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:V.map(yt=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:y.includes(yt.id),onChange:()=>I(yt.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:yt.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:yt.description})]},yt.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",ae.length===0?0:te+1," to ",Math.min(z,mt.length)," of ",mt.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>P(yt=>Math.max(yt-1,1)),disabled:S===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),X().map((yt,$e)=>yt==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${$e}`):e.jsx("button",{onClick:()=>P(yt),className:`px-2 py-1 rounded text-xs ${S===yt?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:yt},yt)),e.jsx("button",{onClick:()=>P(yt=>Math.min(yt+1,ce)),disabled:S===ce||ce===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:p,onChange:yt=>v(yt.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:j.length===ae.length&&ae.length>0,onChange:We,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:je.map(yt=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:j.includes(yt.id),onChange:()=>Z(yt.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:yt.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:yt.name})]},yt.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",_e+1," to ",Math.min(Te,ae.length)," of ",ae.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>E(yt=>Math.max(1,yt-1)),disabled:k===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),J().map((yt,$e)=>typeof yt=="number"?e.jsx("button",{onClick:()=>E(yt),className:`px-2 py-1 rounded text-xs ${k===yt?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:yt},$e):e.jsx("span",{className:"px-2",children:yt},$e)),e.jsx("button",{onClick:()=>E(yt=>Math.min(de,yt+1)),disabled:k===de,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"classificationType",value:"fixed",checked:m==="fixed",onChange:()=>b("fixed"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Fixed"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Classification"}),e.jsx("input",{type:"text",value:se,onChange:yt=>le(yt.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-40"}),e.jsx("button",{className:"p-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",onClick:()=>F(!0),children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",onClick:()=>{B(""),le("")},children:e.jsx(et,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"classificationType",value:"variable",checked:m==="variable",onChange:()=>b("variable"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Variable"})]})}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Date From"}),e.jsxs("div",{className:"relative flex items-center gap-1",children:[e.jsx("input",{type:"text",value:a,onChange:yt=>r(yt.target.value),onClick:ft,name:"dateFrom",className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:a,onChange:r})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Date To"}),e.jsxs("div",{className:"relative flex items-center gap-1",children:[e.jsx("input",{type:"text",value:n,onChange:yt=>l(yt.target.value),onClick:ft,name:"dateTo",className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:n,onChange:l})]})]})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",onClick:we,children:[e.jsx(to,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),i&&e.jsx(oX,{value:i==="dateFrom"?a:n,onChange:$t,onClose:()=>d(null),position:x}),e.jsx(Zt,{}),e.jsx(nX,{isOpen:R,onClose:()=>F(!1),onSelect:nt,employeeClassItems:Y,loading:re,error:pe})]})}function iX(){const[t,s]=o.useState("TK Group"),[a,r]=o.useState(""),[n,l]=o.useState(""),[i,d]=o.useState([]),[x,h]=o.useState([]),[m,b]=o.useState(1),[f,N]=o.useState(1),[p,v]=o.useState("fixed"),[y,g]=o.useState(!1),[j,C]=o.useState(1),S=10,[P,k]=o.useState(!1),[E,M]=o.useState(""),[L,O]=o.useState(""),[q,B]=o.useState(""),[se,le]=o.useState(""),[pe,U]=o.useState(""),[Y,W]=o.useState(""),[re,G]=o.useState(""),[R,F]=o.useState(""),[A,H]=o.useState([]),[D,_]=o.useState(""),[xe,ge]=o.useState(""),[Ne,Ce]=o.useState("");o.useEffect(()=>{b(1)},[t]);const[fe,ue]=o.useState(!1),[Oe,De]=o.useState([]),[Ae,Ee]=o.useState(!1),[ze,ot]=o.useState([]),[wt,Ie]=o.useState(!1),[ye,be]=o.useState([]),[Me,Re]=o.useState(!1),[st,He]=o.useState([]),[Ue,Ye]=o.useState(!1),[ht,ut]=o.useState([]),[vt,ve]=o.useState(!1),[Le,he]=o.useState([]),[Ve,xt]=o.useState(!1),[Pt,Lt]=o.useState([]),[It,qe]=o.useState(""),Nt=async()=>(await ne.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Q=>({id:Q.ID||Q.id,code:Q.groupCode||Q.code,description:Q.groupDescription||Q.description}));o.useEffect(()=>{(async()=>{const Q=await Nt();De(Q)})()},[]);const gt=async()=>(await ne.get("/Fs/Employment/BranchSetUp")).data.map(Q=>({id:Q.braID||Q.ID,code:Q.braCode||Q.code,description:Q.braDesc||Q.description}));o.useEffect(()=>{(async()=>{const Q=await gt();ot(Q)})()},[]);const dt=async()=>(await ne.get("/Fs/Employment/DepartmentSetUp")).data.map(Q=>({id:Q.depID||Q.ID,code:Q.depCode||Q.code,description:Q.depDesc||Q.description}));o.useEffect(()=>{(async()=>{const Q=await dt();be(Q)})()},[]);const kt=async()=>{const Z=await ne.get("/Fs/Employment/GroupSetUp");return(Array.isArray(Z.data)?Z.data:[]).map(We=>({id:We.grpSchID||We.id||We.ID,code:We.grpCode||We.code,description:We.grpDesc||We.description}))};o.useEffect(()=>{(async()=>{const Q=await kt();He(Q)})()},[]);const Dt=async()=>{const Z=await ne.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(Z.data)?Z.data:[]).map(We=>({id:We.lineID??We.ID??We.id,code:We.lineCode??We.code,description:We.lineDesc??We.Description??We.description}))};o.useEffect(()=>{(async()=>{const Q=await Dt();ut(Q)})()},[]);const Ge=async()=>{const Z=await ne.get("/Fs/Employment/SectionSetUp");return(Array.isArray(Z.data)?Z.data:[]).map(We=>({id:We.secID??We.ID??We.id,code:We.secCode??We.sectionCode??We.code,description:We.secDesc??We.Description??We.description}))};o.useEffect(()=>{(async()=>{const Q=await Ge();he(Q)})()},[]);const Ke=async()=>{const Z=await ne.get("/EmployeeMasterFile");return(Array.isArray(Z.data)?Z.data:[]).map(We=>({id:We.empID??We.ID??We.id,code:We.empCode||We.code||"",name:`${We.lName||""}, ${We.fName||""} ${We.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const Q=await Ke();Lt(Q)})()},[]);const ie=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Ze=(()=>{switch(t){case"Branch":return ze;case"Department":return ye;case"Group Schedule":return st;case"Pay House":return ht;case"Section":return Le;default:return Oe}})().filter(Z=>Z.code.toLowerCase().includes(a.toLowerCase())||Z.description.toLowerCase().includes(a.toLowerCase())),it=Pt.filter(Z=>Z.code.toLowerCase().includes(n.toLowerCase())||Z.name.toLowerCase().includes(n.toLowerCase())),_t=Math.ceil(Ze.length/S),nt=(m-1)*S,mt=nt+S,ae=Ze.slice((m-1)*S,m*S),ce=()=>{const Z=[];if(_t<=7)for(let Q=1;Q<=_t;Q++)Z.push(Q);else if(m<=4){for(let Q=1;Q<=5;Q++)Z.push(Q);Z.push("..."),Z.push(_t)}else if(m>=_t-3){Z.push(1),Z.push("...");for(let Q=_t-4;Q<=_t;Q++)Z.push(Q)}else{Z.push(1),Z.push("...");for(let Q=m-1;Q<=m+1;Q++)Z.push(Q);Z.push("..."),Z.push(_t)}return Z},te=Math.ceil(it.length/S),z=(f-1)*S,V=z+S,X=it.slice((f-1)*S,f*S),de=()=>{const Z=[];if(te<=5)return Array.from({length:te},($t,yt)=>yt+1);Z.push(1),f>3&&Z.push("...");const We=Math.max(2,f-1),ft=Math.min(te-1,f+1);for(let $t=We;$t<=ft;$t++)Z.push($t);return f<te-2&&Z.push("..."),Z.push(te),Z},_e=async()=>{if(!x.length){await ee.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(p=="fixed"){if(E==L||E==q||L==q){await ee.fire({icon:"error",title:"Error",text:"Restdays must not be equal.",timer:2e3,showConfirmButton:!0});return}}else if(p=="variable"){if(!se||!pe){await ee.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}if(D.length===0){await ee.fire({icon:"error",title:"Error",text:"Variable restday must add atleast 1 item.",timer:2e3,showConfirmButton:!0});return}}else if(p=="restday-setup"&&D.length===0){await ee.fire({icon:"error",title:"Error",text:"Reference number must not be empty.",timer:2e3,showConfirmButton:!0});return}try{k(!0),await ee.fire({icon:"success",title:"Success",text:"Successfully updated Batch Rest Day.",timer:2e3,showConfirmButton:!1}),d([]),h([])}catch(Z){console.error(Z),alert("Failed to update records")}finally{k(!1)}},Te=Z=>{d(Q=>Q.includes(Z)?Q.filter(We=>We!==Z):[...Q,Z])},je=Z=>{h(Q=>Q.includes(Z)?Q.filter(We=>We!==Z):[...Q,Z])},J=()=>{i.length===Ze.length?d([]):d(Ze.map(Z=>Z.id))},we=()=>{x.length===it.length?h([]):h(it.map(Z=>Z.id))},I=()=>{if(se&&pe){const Z={id:Date.now(),from:se,to:pe,restDay1:Y,restDay2:re,restDay3:R};H([...A,Z]),le(""),U("")}};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Batch Rest Day"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(ds,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Update employee rest day assignments in batch. Choose between fixed, variable, or by rest day setup configuration."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Bulk update rest days for multiple employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Configure fixed or variable rest day schedules"})]})]})]})]})}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Hs},{name:"Branch",icon:ea},{name:"Department",icon:Zs},{name:"Group Schedule",icon:_a},{name:"Pay House",icon:Ia},{name:"Section",icon:Ma}].map(Z=>e.jsxs("button",{onClick:()=>s(Z.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===Z.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Z.icon,{className:"w-4 h-4"}),Z.name]},Z.name))})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:a,onChange:Z=>r(Z.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:i.length===Ze.length&&Ze.length>0,onChange:J,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ae.map(Z=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:i.includes(Z.id),onChange:()=>Te(Z.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Z.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Z.description})]},Z.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",it.length===0?0:nt+1," to ",Math.min(mt,Ze.length)," of ",Ze.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>b(Z=>Math.max(Z-1,1)),disabled:m===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),ce().map((Z,Q)=>Z==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Q}`):e.jsx("button",{onClick:()=>b(Z),className:`px-2 py-1 rounded text-xs ${m===Z?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Z},Z)),e.jsx("button",{onClick:()=>b(Z=>Math.min(Z+1,_t)),disabled:m===_t||_t===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:n,onChange:Z=>l(Z.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:x.length===it.length&&it.length>0,onChange:we,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:X.map(Z=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:x.includes(Z.id),onChange:()=>je(Z.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Z.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Z.name})]},Z.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",z+1," to ",Math.min(V,it.length)," of ",it.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>N(Z=>Math.max(1,Z-1)),disabled:f===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),de().map((Z,Q)=>typeof Z=="number"?e.jsx("button",{onClick:()=>N(Z),className:`px-2 py-1 rounded text-xs ${f===Z?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Z},Q):e.jsx("span",{className:"px-2",children:Z},Q)),e.jsx("button",{onClick:()=>N(Z=>Math.min(te,Z+1)),disabled:f===te,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mb-4",children:[e.jsx("input",{type:"radio",name:"restDayMode",checked:p==="fixed",onChange:()=>v("fixed"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Fixed"})]}),p==="fixed"&&e.jsxs("div",{className:"ml-6 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"Rest Day 1"}),e.jsxs("select",{value:E,onChange:Z=>M(Z.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:""}),ie.map(Z=>e.jsx("option",{value:Z,children:Z},Z))]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"Rest Day 3"}),e.jsxs("select",{value:q,onChange:Z=>B(Z.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:""}),ie.map(Z=>e.jsx("option",{value:Z,children:Z},Z))]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"Rest Day 2"}),e.jsxs("select",{value:L,onChange:Z=>O(Z.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-40",children:[e.jsx("option",{value:""}),ie.map(Z=>e.jsx("option",{value:Z,children:Z},Z))]})]})]})]}),e.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mb-4",children:[e.jsx("input",{type:"radio",name:"restDayMode",checked:p==="variable",onChange:()=>v("variable"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Variable"})]}),p==="variable"&&e.jsxs("div",{className:"ml-6 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:I,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm",children:"Add"}),e.jsx("label",{className:"text-sm text-gray-700",children:"Date From"}),e.jsx("input",{readOnly:!0,type:"text",value:se,onChange:Z=>le(Z.target.value),placeholder:"MM/DD/YYYY",className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:se,onChange:le}),e.jsx("label",{className:"text-sm text-gray-700",children:"Date To"}),e.jsx("input",{readOnly:!0,type:"text",value:pe,onChange:Z=>U(Z.target.value),placeholder:"MM/DD/YYYY",className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:pe,onChange:U})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"Rest Day 1"}),e.jsxs("select",{value:Y,onChange:Z=>W(Z.target.value),className:"flex-1 px-2 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:""}),ie.map(Z=>e.jsx("option",{value:Z,children:Z},Z))]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"Rest Day 2"}),e.jsxs("select",{value:re,onChange:Z=>G(Z.target.value),className:"flex-1 px-2 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:""}),ie.map(Z=>e.jsx("option",{value:Z,children:Z},Z))]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"Rest Day 3"}),e.jsxs("select",{value:R,onChange:Z=>F(Z.target.value),className:"flex-1 px-2 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:""}),ie.map(Z=>e.jsx("option",{value:Z,children:Z},Z))]})]})]}),A.length>0&&e.jsx("div",{className:"mt-4 bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs text-gray-600",children:"From"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs text-gray-600",children:"To"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs text-gray-600",children:"Rest Day1"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs text-gray-600",children:"Rest Day2"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs text-gray-600",children:"Rest Day3"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:A.map(Z=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:Z.from}),e.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:Z.to}),e.jsx("td",{className:"px-3 py-2 text-sm text-gray-600",children:Z.restDay1}),e.jsx("td",{className:"px-3 py-2 text-sm text-gray-600",children:Z.restDay2}),e.jsx("td",{className:"px-3 py-2 text-sm text-gray-600",children:Z.restDay3})]},Z.id))})]})})]})]}),e.jsxs("div",{className:"pb-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mb-4",children:[e.jsx("input",{type:"radio",name:"restDayMode",checked:p==="restday-setup",onChange:()=>v("restday-setup"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"By RestDay Set Up"})]}),p==="restday-setup"&&e.jsxs("div",{className:"ml-6 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Ref No."}),e.jsx("input",{type:"text",value:D,onChange:Z=>_(Z.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm",children:"Search"}),e.jsx("button",{className:"p-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Date From"}),e.jsx("input",{type:"text",value:xe,onChange:Z=>ge(Z.target.value),placeholder:"MM/DD/YYYY",className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Date To"}),e.jsx("input",{type:"text",value:Ne,onChange:Z=>Ce(Z.target.value),placeholder:"MM/DD/YYYY",className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:y,onChange:Z=>g(Z.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Delete Existing Rest Day"})]}),e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",onClick:_e,children:[e.jsx(to,{className:"w-4 h-4"}),"Update"]})]})]})})]})]})]})]})}),e.jsx(Zt,{})]})}function cX(){const[t,s]=o.useState("TK Group"),[a,r]=o.useState("active"),[n,l]=o.useState("5/5/2021"),[i,d]=o.useState("05/05/2021"),[x,h]=o.useState("Rest Day"),[m,b]=o.useState(!1),[f,N]=o.useState(""),[p,v]=o.useState(""),[y,g]=o.useState([]),[j,C]=o.useState([]),[S,P]=o.useState(1),[k,E]=o.useState(1),[M,L]=o.useState(1),O=10;o.useEffect(()=>{P(1)},[t]);const[q,B]=o.useState(!1),[se,le]=o.useState([]),[pe,U]=o.useState(!1),[Y,W]=o.useState([]),[re,G]=o.useState(!1),[R,F]=o.useState([]),[A,H]=o.useState(!1),[D,_]=o.useState([]),[xe,ge]=o.useState(!1),[Ne,Ce]=o.useState([]),[fe,ue]=o.useState(!1),[Oe,De]=o.useState([]),[Ae,Ee]=o.useState(!1),[ze,ot]=o.useState([]),[wt,Ie]=o.useState(!1),[ye,be]=o.useState([]),[Me,Re]=o.useState(!1),[st,He]=o.useState([]),[Ue,Ye]=o.useState(""),ht=async()=>(await ne.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(te=>({id:te.ID||te.id,code:te.groupCode||te.code,description:te.groupDescription||te.description}));o.useEffect(()=>{(async()=>{const te=await ht();le(te)})()},[]);const ut=async()=>(await ne.get("/Fs/Employment/BranchSetUp")).data.map(te=>({id:te.braID||te.ID,code:te.braCode||te.code,description:te.braDesc||te.description}));o.useEffect(()=>{(async()=>{const te=await ut();W(te)})()},[]);const vt=async()=>(await ne.get("/Fs/Employment/DepartmentSetUp")).data.map(te=>({id:te.depID||te.ID,code:te.depCode||te.code,description:te.depDesc||te.description}));o.useEffect(()=>{(async()=>{const te=await vt();F(te)})()},[]);const ve=async()=>(await ne.get("/Fs/Employment/DivisionSetUp")).data.map(te=>({id:te.divID||te.ID,code:te.divCode||te.code,description:te.divDesc||te.description}));o.useEffect(()=>{(async()=>{const te=await ve();_(te)})()},[]);const Le=async()=>{const ce=await ne.get("/Fs/Employment/GroupSetUp");return(Array.isArray(ce.data)?ce.data:[]).map(z=>({id:z.grpSchID||z.id||z.ID,code:z.grpCode||z.code,description:z.grpDesc||z.description}))};o.useEffect(()=>{(async()=>{const te=await Le();Ce(te)})()},[]);const he=async()=>{const ce=await ne.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(ce.data)?ce.data:[]).map(z=>({id:z.lineID??z.ID??z.id,code:z.lineCode??z.code,description:z.lineDesc??z.Description??z.description}))};o.useEffect(()=>{(async()=>{const te=await he();De(te)})()},[]);const Ve=async()=>{const ce=await ne.get("/Fs/Employment/SectionSetUp");return(Array.isArray(ce.data)?ce.data:[]).map(z=>({id:z.secID??z.ID??z.id,code:z.secCode??z.sectionCode??z.code,description:z.secDesc??z.Description??z.description}))};o.useEffect(()=>{(async()=>{const te=await Ve();ot(te)})()},[]);const xt=async()=>(await ne.get("/Fs/Employment/UnitSetUp")).data.map(te=>({id:te.unitID||te.ID,code:te.unitCode||te.code,description:te.unitDesc||te.description}));o.useEffect(()=>{(async()=>{const te=await xt();be(te)})()},[]);const Pt=async()=>{const ce=await ne.get("/EmployeeMasterFile");return(Array.isArray(ce.data)?ce.data:[]).map(z=>({id:z.empID??z.ID??z.id,code:z.empCode||z.code||"",name:`${z.lName||""}, ${z.fName||""} ${z.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const te=await Pt();He(te)})()},[]);const qe=(()=>{switch(t){case"Branch":return Y;case"Department":return R;case"Division":return D;case"Group Schedule":return Ne;case"Pay House":return Oe;case"Section":return ze;case"Unit":return ye;default:return se}})().filter(ce=>ce.code.toLowerCase().includes(f.toLowerCase())||ce.description.toLowerCase().includes(f.toLowerCase())),Nt=st.filter(ce=>ce.code.toLowerCase().includes(p.toLowerCase())||ce.name.toLowerCase().includes(p.toLowerCase())),gt=Math.ceil(qe.length/O),dt=(S-1)*O,kt=dt+O,Dt=qe.slice((S-1)*O,S*O),Ge=()=>{const ce=[];if(gt<=7)for(let te=1;te<=gt;te++)ce.push(te);else if(S<=4){for(let te=1;te<=5;te++)ce.push(te);ce.push("..."),ce.push(gt)}else if(S>=gt-3){ce.push(1),ce.push("...");for(let te=gt-4;te<=gt;te++)ce.push(te)}else{ce.push(1),ce.push("...");for(let te=S-1;te<=S+1;te++)ce.push(te);ce.push("..."),ce.push(gt)}return ce},Ke=Math.ceil(Nt.length/O),ie=(k-1)*O,ke=ie+O,me=Nt.slice((k-1)*O,k*O),Ze=()=>{const ce=[];if(Ke<=5)return Array.from({length:Ke},(X,de)=>de+1);ce.push(1),k>3&&ce.push("...");const z=Math.max(2,k-1),V=Math.min(Ke-1,k+1);for(let X=z;X<=V;X++)ce.push(X);return k<Ke-2&&ce.push("..."),ce.push(Ke),ce},it=ce=>{g(te=>te.includes(ce)?te.filter(z=>z!==ce):[...te,ce])},_t=ce=>{C(te=>te.includes(ce)?te.filter(z=>z!==ce):[...te,ce])},nt=()=>{y.length===qe.length?g([]):g(qe.map(ce=>ce.id))},mt=()=>{j.length===Nt.length?C([]):C(Nt.map(ce=>ce.id))},ae=async()=>{if(!j.length){await ee.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!n||!i){await ee.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}if((await ee.fire({icon:"warning",title:"Confirm Delete",text:"Are you sure you want to delete Employee Transaction?",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed){try{await ee.fire({icon:"success",title:"Success",text:"Employee Transaction deleted successfully.",timer:2e3,showConfirmButton:!1})}catch(te){const z=te.response?.data?.message||te.message||"Failed to delete employee transaction";ee.fire({icon:"error",title:"Error",text:z})}g([]),C([])}};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Delete Employee Transactions"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(ls,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Delete employee transactions for selected groups and employees. Filter by date range and transaction type before deletion."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-4 h-4 text-red-600 mt-0.5 flex-shrink-0",children:""}),e.jsx("span",{className:"text-gray-600",children:"Permanent deletion - cannot be undone"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-4 h-4 text-red-600 mt-0.5 flex-shrink-0",children:""}),e.jsx("span",{className:"text-gray-600",children:"Filter by status and transaction type"})]})]})]})]})}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Hs},{name:"Branch",icon:ea},{name:"Department",icon:Zs},{name:"Division",icon:wr},{name:"Group Schedule",icon:_a},{name:"Pay House",icon:Ia},{name:"Section",icon:Ma},{name:"Unit",icon:ln}].map(ce=>e.jsxs("button",{onClick:()=>s(ce.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===ce.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(ce.icon,{className:"w-4 h-4"}),ce.name]},ce.name))})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:f,onChange:ce=>N(ce.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:y.length===qe.length&&qe.length>0,onChange:nt,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Dt.map(ce=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:y.includes(ce.id),onChange:()=>it(ce.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ce.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ce.description})]},ce.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Nt.length===0?0:dt+1," to ",Math.min(kt,qe.length)," of ",qe.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>P(ce=>Math.max(ce-1,1)),disabled:S===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Ge().map((ce,te)=>ce==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${te}`):e.jsx("button",{onClick:()=>P(ce),className:`px-2 py-1 rounded text-xs ${S===ce?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ce},ce)),e.jsx("button",{onClick:()=>P(ce=>Math.min(ce+1,gt)),disabled:S===gt||gt===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:p,onChange:ce=>v(ce.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:j.length===Nt.length&&Nt.length>0,onChange:mt,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:me.map(ce=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:j.includes(ce.id),onChange:()=>_t(ce.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ce.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ce.name})]},ce.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",ie+1," to ",Math.min(ke,Nt.length)," of ",Nt.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>E(ce=>Math.max(1,ce-1)),disabled:k===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Ze().map((ce,te)=>typeof ce=="number"?e.jsx("button",{onClick:()=>E(ce),className:`px-2 py-1 rounded text-xs ${k===ce?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ce},te):e.jsx("span",{className:"px-2",children:ce},te)),e.jsx("button",{onClick:()=>E(ce=>Math.min(Ke,ce+1)),disabled:k===Ke,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:a==="active",onChange:()=>r("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:a==="inactive",onChange:()=>r("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:a==="all",onChange:()=>r("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-32",children:"Date From"}),e.jsx("input",{type:"text",value:n,onChange:ce=>l(ce.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:n,onChange:l})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-32",children:"Date To"}),e.jsx("input",{type:"text",value:i,onChange:ce=>d(ce.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:i,onChange:d})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-32",children:"Transaction Type:"}),e.jsxs("select",{value:x,onChange:ce=>h(ce.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm flex-1",children:[e.jsx("option",{value:"Rest Day",children:"Rest Day"}),e.jsx("option",{value:"Overtime",children:"Overtime"}),e.jsx("option",{value:"Leave",children:"Leave"}),e.jsx("option",{value:"Workshift",children:"Workshift"}),e.jsx("option",{value:"All",children:"All"})]})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm flex items-center gap-2",onClick:ae,children:[e.jsx(ls,{className:"w-4 h-4"}),"Delete"]})})]})})]})]})]})]})}),e.jsx(Zt,{})]})}function dX(){const[t,s]=o.useState("");return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Rawdata Online"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(fp,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Update raw data online for processing and synchronization."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0",children:""}),e.jsx("span",{className:"text-gray-600",children:"Configure options before updating"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0",children:""}),e.jsx("span",{className:"text-gray-600",children:"Process will run immediately"})]})]})]})]})}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Option"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Option:"}),e.jsx("input",{type:"text",value:t,onChange:a=>s(a.target.value),className:"flex-1 max-w-md px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter option value"})]}),e.jsx("div",{className:"flex justify-start pt-4",children:e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(to,{className:"w-4 h-4"}),"Update"]})})]})]})]})]})}),e.jsx(Zt,{})]})}function uX({value:t,onChange:s,onClose:a,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&a()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[a]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,y=n.getFullYear(),g=`${v}/${p}/${y}`;s(g),a()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let g=x-1;g>=0;g--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-g},`prev-${g}`));for(let g=1;g<=d;g++)p.push(e.jsx("div",{onClick:()=>f(g),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:g},g));const y=42-p.length;for(let g=1;g<=y;g++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:g},`next-${g}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function xX(){const[t,s]=o.useState("5/5/2021"),[a,r]=o.useState("05/05/2021"),[n,l]=o.useState("dateIn"),[i,d]=o.useState(null),[x,h]=o.useState({top:0,left:0}),[m,b]=o.useState(""),[f,N]=o.useState([]),[p,v]=o.useState("contract"),[y,g]=o.useState(1),j=10,[C,S]=o.useState(!1),[P,k]=o.useState(!1),[E,M]=o.useState([]),L=async()=>(await ne.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(F=>({id:F.ID||F.id,code:F.groupCode||F.code,description:F.groupDescription||F.description}));o.useEffect(()=>{(async()=>{const F=await L();M(F)})()},[]);const O=E.filter(R=>R.code.toLowerCase().includes(m.toLowerCase())||R.description.toLowerCase().includes(m.toLowerCase())),q=E.filter(R=>R.code.toLowerCase().includes(m.toLowerCase())||R.description.toLowerCase().includes(m.toLowerCase())),B=Math.ceil(O.length/j),se=(y-1)*j,le=se+j;O.slice((y-1)*j,y*j);const pe=async()=>{if(!f.length){await ee.fire({icon:"error",title:"Error",text:"Please select TK Group item/s.",timer:2e3,showConfirmButton:!0});return}if(!t||!a){await ee.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{S(!0),await ee.fire({icon:"success",title:"Success",text:"Successfully updated Raw Day Type.",timer:2e3,showConfirmButton:!1}),N([])}catch(R){console.error(R),alert("Failed to update records")}finally{S(!1)}},U=q.slice((y-1)*j,y*j),Y=()=>{const R=[];if(B<=7)for(let F=1;F<=B;F++)R.push(F);else if(y<=4){for(let F=1;F<=5;F++)R.push(F);R.push("..."),R.push(B)}else if(y>=B-3){R.push(1),R.push("...");for(let F=B-4;F<=B;F++)R.push(F)}else{R.push(1),R.push("...");for(let F=y-1;F<=y+1;F++)R.push(F);R.push("..."),R.push(B)}return R},W=R=>{N(R?E.map(F=>F.id):[])},re=(R,F)=>{N(A=>F?[...A,R]:A.filter(H=>H!==R))},G=R=>{i==="dateFrom"?s(R):i==="dateTo"&&r(R)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Raw Day Type"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(dC,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Update day type in raw data for selected groups within a specified date range."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0",children:""}),e.jsx("span",{className:"text-gray-600",children:"Select groups and date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0",children:""}),e.jsx("span",{className:"text-gray-600",children:"Choose day type option before update"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:m,onChange:R=>b(R.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:f.length===E.length,onChange:R=>W(R.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:U.map(R=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:f.includes(R.id),onChange:F=>re(R.id,F.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:R.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:R.description})]},R.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",O.length===0?0:se+1," to ",Math.min(le,O.length)," of ",O.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>g(R=>Math.max(R-1,1)),disabled:y===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Y().map((R,F)=>R==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${F}`):e.jsx("button",{onClick:()=>g(R),className:`px-2 py-1 rounded text-xs ${y===R?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:R},R)),e.jsx("button",{onClick:()=>g(R=>Math.min(R+1,B)),disabled:y===B||B===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Date Range"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-16",children:"From:"}),e.jsx("input",{type:"text",value:t,onChange:R=>s(R.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:t,onChange:s})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-16",children:"To:"}),e.jsx("input",{type:"text",value:a,onChange:R=>r(R.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:a,onChange:r})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Option"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"dayTypeOption",value:"dateIn",checked:n==="dateIn",onChange:()=>l("dateIn"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Day Type [Date In]"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"dayTypeOption",value:"dateOut",checked:n==="dateOut",onChange:()=>l("dateOut"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Day Type [Date Out]"})]})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",onClick:pe,children:[e.jsx(to,{className:"w-4 h-4"}),"Update"]})})]})]})]})]})]})]})}),i&&e.jsx(uX,{value:i==="dateFrom"?t:a,onChange:G,onClose:()=>d(null),position:x}),e.jsx(Zt,{})]})}function hX({value:t,onChange:s,onClose:a,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&a()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[a]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,y=n.getFullYear(),g=`${v}/${p}/${y}`;s(g),a()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let g=x-1;g>=0;g--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-g},`prev-${g}`));for(let g=1;g<=d;g++)p.push(e.jsx("div",{onClick:()=>f(g),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:g},g));const y=42-p.length;for(let g=1;g<=y;g++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:g},`next-${g}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function mX(){const[t,s]=o.useState("5/5/2021"),[a,r]=o.useState("05/05/2021"),[n,l]=o.useState(null),[i,d]=o.useState({top:0,left:0}),[x,h]=o.useState(""),[m,b]=o.useState([]),[f,N]=o.useState(1),p=10,[v,y]=o.useState(!1),[g,j]=o.useState(!1),[C,S]=o.useState([]),P=async()=>(await ne.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Y=>({id:Y.ID||Y.id,code:Y.groupCode||Y.code,description:Y.groupDescription||Y.description}));o.useEffect(()=>{(async()=>{const Y=await P();S(Y)})()},[]);const k=C.filter(U=>U.code.toLowerCase().includes(x.toLowerCase())||U.description.toLowerCase().includes(x.toLowerCase())),E=Math.ceil(k.length/p),M=(f-1)*p,L=M+p,O=k.slice((f-1)*p,f*p),q=()=>{const U=[];if(E<=7)for(let Y=1;Y<=E;Y++)U.push(Y);else if(f<=4){for(let Y=1;Y<=5;Y++)U.push(Y);U.push("..."),U.push(E)}else if(f>=E-3){U.push(1),U.push("...");for(let Y=E-4;Y<=E;Y++)U.push(Y)}else{U.push(1),U.push("...");for(let Y=f-1;Y<=f+1;Y++)U.push(Y);U.push("..."),U.push(E)}return U},B=async()=>{if(!m.length){await ee.fire({icon:"error",title:"Error",text:"Please select TK Group item/s.",timer:2e3,showConfirmButton:!0});return}if(!t||!a){await ee.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{y(!0),await ee.fire({icon:"success",title:"Success",text:"Successfully updated Workshift in Raw Data.",timer:2e3,showConfirmButton:!1}),b([])}catch(U){console.error(U),alert("Failed to update records")}finally{y(!1)}},se=U=>{b(U?C.map(Y=>Y.id):[])},le=(U,Y)=>{b(W=>Y?[...W,U]:W.filter(re=>re!==U))},pe=U=>{n==="dateFrom"?s(U):n==="dateTo"&&r(U)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Workshift in Raw Data"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(xa,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Update workshift information in raw data for selected groups within a specified date range."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0",children:""}),e.jsx("span",{className:"text-gray-600",children:"Select groups and date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0",children:""}),e.jsx("span",{className:"text-gray-600",children:"Bulk update workshift data"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:x,onChange:U=>h(U.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:m.length===C.length,onChange:U=>se(U.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:O.map(U=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:m.includes(U.id),onChange:Y=>le(U.id,Y.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:U.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:U.description})]},U.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",k.length===0?0:M+1," to ",Math.min(L,k.length)," of ",k.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>N(U=>Math.max(U-1,1)),disabled:f===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),q().map((U,Y)=>U==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Y}`):e.jsx("button",{onClick:()=>N(U),className:`px-2 py-1 rounded text-xs ${f===U?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:U},U)),e.jsx("button",{onClick:()=>N(U=>Math.min(U+1,E)),disabled:f===E||E===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Date Range"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-16",children:"From:"}),e.jsx("input",{type:"text",value:t,onChange:U=>s(U.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:t,onChange:s})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-16",children:"To:"}),e.jsx("input",{type:"text",value:a,onChange:U=>r(U.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:a,onChange:r})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",onClick:B,children:[e.jsx(to,{className:"w-4 h-4"}),"Update"]})})]})]})})]})]})]})}),n&&e.jsx(hX,{value:n==="dateFrom"?t:a,onChange:pe,onClose:()=>l(null),position:i}),e.jsx(Zt,{})]})}function pX({value:t,onChange:s,onClose:a,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&a()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[a]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,y=n.getFullYear(),g=`${v}/${p}/${y}`;s(g),a()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let g=x-1;g>=0;g--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-g},`prev-${g}`));for(let g=1;g<=d;g++)p.push(e.jsx("div",{onClick:()=>f(g),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:g},g));const y=42-p.length;for(let g=1;g<=y;g++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:g},`next-${g}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function fX(){const[t,s]=o.useState("TK Group"),[a,r]=o.useState("5/5/2021"),[n,l]=o.useState("05/05/2021"),[i,d]=o.useState("active"),[x,h]=o.useState(null),[m,b]=o.useState({top:0,left:0}),[f,N]=o.useState(!1),[p,v]=o.useState(""),[y,g]=o.useState(""),[j,C]=o.useState([]),[S,P]=o.useState([]),[k,E]=o.useState(1),[M,L]=o.useState(1),[O,q]=o.useState(1),B=10;o.useEffect(()=>{E(1)},[t]);const[se,le]=o.useState(!1),[pe,U]=o.useState([]),[Y,W]=o.useState(!1),[re,G]=o.useState([]),[R,F]=o.useState(!1),[A,H]=o.useState([]),[D,_]=o.useState(!1),[xe,ge]=o.useState([]),[Ne,Ce]=o.useState(!1),[fe,ue]=o.useState([]),[Oe,De]=o.useState(!1),[Ae,Ee]=o.useState([]),[ze,ot]=o.useState(!1),[wt,Ie]=o.useState([]),[ye,be]=o.useState(!1),[Me,Re]=o.useState([]),[st,He]=o.useState(!1),[Ue,Ye]=o.useState([]),ht=async()=>(await ne.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(z=>({id:z.ID||z.id,code:z.groupCode||z.code,description:z.groupDescription||z.description}));o.useEffect(()=>{(async()=>{const z=await ht();U(z)})()},[]);const ut=async()=>(await ne.get("/Fs/Employment/BranchSetUp")).data.map(z=>({id:z.braID||z.ID,code:z.braCode||z.code,description:z.braDesc||z.description}));o.useEffect(()=>{(async()=>{const z=await ut();G(z)})()},[]);const vt=async()=>(await ne.get("/Fs/Employment/DepartmentSetUp")).data.map(z=>({id:z.depID||z.ID,code:z.depCode||z.code,description:z.depDesc||z.description}));o.useEffect(()=>{(async()=>{const z=await vt();H(z)})()},[]);const ve=async()=>(await ne.get("/Fs/Employment/DivisionSetUp")).data.map(z=>({id:z.divID||z.ID,code:z.divCode||z.code,description:z.divDesc||z.description}));o.useEffect(()=>{(async()=>{const z=await ve();ge(z)})()},[]);const Le=async()=>{const te=await ne.get("/Fs/Employment/GroupSetUp");return(Array.isArray(te.data)?te.data:[]).map(V=>({id:V.grpSchID||V.id||V.ID,code:V.grpCode||V.code,description:V.grpDesc||V.description}))};o.useEffect(()=>{(async()=>{const z=await Le();ue(z)})()},[]);const he=async()=>{const te=await ne.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(te.data)?te.data:[]).map(V=>({id:V.lineID??V.ID??V.id,code:V.lineCode??V.code,description:V.lineDesc??V.Description??V.description}))};o.useEffect(()=>{(async()=>{const z=await he();Ee(z)})()},[]);const Ve=async()=>{const te=await ne.get("/Fs/Employment/SectionSetUp");return(Array.isArray(te.data)?te.data:[]).map(V=>({id:V.secID??V.ID??V.id,code:V.secCode??V.sectionCode??V.code,description:V.secDesc??V.Description??V.description}))};o.useEffect(()=>{(async()=>{const z=await Ve();Ie(z)})()},[]);const xt=async()=>(await ne.get("/Fs/Employment/UnitSetUp")).data.map(z=>({id:z.unitID||z.ID,code:z.unitCode||z.code,description:z.unitDesc||z.description}));o.useEffect(()=>{(async()=>{const z=await xt();Re(z)})()},[]);const Pt=async()=>{const te=await ne.get("/EmployeeMasterFile");return(Array.isArray(te.data)?te.data:[]).map(V=>({id:V.empID??V.ID??V.id,code:V.empCode||V.code||"",name:`${V.lName||""}, ${V.fName||""} ${V.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const z=await Pt();Ye(z)})()},[]);const qe=(()=>{switch(t){case"Branch":return re;case"Department":return A;case"Division":return xe;case"Group Schedule":return fe;case"Pay House":return Ae;case"Section":return wt;case"Unit":return Me;default:return pe}})().filter(te=>te.code.toLowerCase().includes(p.toLowerCase())||te.description.toLowerCase().includes(p.toLowerCase())),Nt=Ue.filter(te=>te.code.toLowerCase().includes(y.toLowerCase())||te.name.toLowerCase().includes(y.toLowerCase())),gt=Math.ceil(qe.length/B),dt=(k-1)*B,kt=dt+B,Dt=qe.slice((k-1)*B,k*B),Ge=()=>{const te=[];if(gt<=7)for(let z=1;z<=gt;z++)te.push(z);else if(k<=4){for(let z=1;z<=5;z++)te.push(z);te.push("..."),te.push(gt)}else if(k>=gt-3){te.push(1),te.push("...");for(let z=gt-4;z<=gt;z++)te.push(z)}else{te.push(1),te.push("...");for(let z=k-1;z<=k+1;z++)te.push(z);te.push("..."),te.push(gt)}return te},Ke=Math.ceil(Nt.length/B),ie=(M-1)*B,ke=ie+B,me=Nt.slice((M-1)*B,M*B),Ze=()=>{const te=[];if(Ke<=5)return Array.from({length:Ke},(de,_e)=>_e+1);te.push(1),M>3&&te.push("...");const V=Math.max(2,M-1),X=Math.min(Ke-1,M+1);for(let de=V;de<=X;de++)te.push(de);return M<Ke-2&&te.push("..."),te.push(Ke),te},it=te=>{C(z=>z.includes(te)?z.filter(V=>V!==te):[...z,te])},_t=te=>{P(z=>z.includes(te)?z.filter(V=>V!==te):[...z,te])},nt=()=>{j.length===qe.length?C([]):C(qe.map(te=>te.id))},mt=()=>{S.length===Nt.length?P([]):P(Nt.map(te=>te.id))},ae=te=>{x==="dateFrom"?r(te):x==="dateTo"&&l(te)},ce=async()=>{if(!S.length){await ee.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!a||!n){await ee.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}if((await ee.fire({icon:"warning",title:"Confirm Delete",text:"Are you sure you want to delete Employee Transaction?",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed){try{await ee.fire({icon:"success",title:"Success",text:"Incomplete Logs deleted successfully.",timer:2e3,showConfirmButton:!1})}catch(z){const V=z.response?.data?.message||z.message||"Failed to delete employee transaction";ee.fire({icon:"error",title:"Error",text:V})}C([]),P([])}};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Delete Incomplete Logs"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(ls,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Batch delete incomplete attendance logs for selected employee groups. Remove partial or corrupted time entries from the system efficiently."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Review incomplete logs carefully"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Click delete to remove entries"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200",children:["TK Group","Branch","Department","Division","Group Schedule","Pay House","Section","Unit"].map(te=>{const V=(()=>{switch(te){case"TK Group":return Hs;case"Branch":return ea;case"Department":return Zs;case"Division":return vb;case"Group Schedule":return Vu;case"Pay House":return wr;case"Section":return Zs;case"Unit":return Vu;default:return Hs}})();return e.jsxs("button",{onClick:()=>s(te),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===te?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(V,{className:"w-4 h-4"}),te]},te)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:p,onChange:te=>v(te.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:j.length===qe.length&&qe.length>0,onChange:nt,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Dt.map(te=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:j.includes(te.id),onChange:()=>it(te.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:te.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:te.description})]},te.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Nt.length===0?0:dt+1," to ",Math.min(kt,qe.length)," of ",qe.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>E(te=>Math.max(te-1,1)),disabled:k===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Ge().map((te,z)=>te==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${z}`):e.jsx("button",{onClick:()=>E(te),className:`px-2 py-1 rounded text-xs ${k===te?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:te},te)),e.jsx("button",{onClick:()=>E(te=>Math.min(te+1,gt)),disabled:k===gt||gt===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:y,onChange:te=>g(te.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:S.length===Nt.length&&Nt.length>0,onChange:mt,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:me.map(te=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:S.includes(te.id),onChange:()=>_t(te.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:te.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:te.name})]},te.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",ie+1," to ",Math.min(ke,Nt.length)," of ",Nt.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>L(te=>Math.max(1,te-1)),disabled:M===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Ze().map((te,z)=>typeof te=="number"?e.jsx("button",{onClick:()=>L(te),className:`px-2 py-1 rounded text-xs ${M===te?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:te},z):e.jsx("span",{className:"px-2",children:te},z)),e.jsx("button",{onClick:()=>L(te=>Math.min(Ke,te+1)),disabled:M===Ke,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:i==="active",onChange:()=>d("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:i==="inactive",onChange:()=>d("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:i==="all",onChange:()=>d("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Date Range"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-16",children:"From:"}),e.jsx("input",{type:"text",value:a,onChange:te=>r(te.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:a,onChange:r})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-16",children:"To:"}),e.jsx("input",{type:"text",value:n,onChange:te=>l(te.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:n,onChange:l})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm flex items-center gap-2",onClick:ce,children:[e.jsx(ls,{className:"w-4 h-4"}),"Delete"]})})]})]})]})]})]})]})}),x&&e.jsx(pX,{value:x==="dateFrom"?a:n,onChange:ae,onClose:()=>h(null),position:m}),e.jsx(Zt,{})]})}function gX({value:t,onChange:s,onClose:a,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&a()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[a]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,y=n.getFullYear(),g=`${v}/${p}/${y}`;s(g),a()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let g=x-1;g>=0;g--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-g},`prev-${g}`));for(let g=1;g<=d;g++)p.push(e.jsx("div",{onClick:()=>f(g),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:g},g));const y=42-p.length;for(let g=1;g<=y;g++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:g},`next-${g}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function yX(){const[t,s]=o.useState("TK Group"),[a,r]=o.useState("5/5/2021"),[n,l]=o.useState("05/05/2021"),[i,d]=o.useState("active"),[x,h]=o.useState(null),[m,b]=o.useState({top:0,left:0}),[f,N]=o.useState(!1),[p,v]=o.useState(""),[y,g]=o.useState(""),[j,C]=o.useState([]),[S,P]=o.useState([]),[k,E]=o.useState(1),[M,L]=o.useState(1),[O,q]=o.useState(1),B=10;o.useEffect(()=>{E(1)},[t]);const[se,le]=o.useState(!1),[pe,U]=o.useState([]),[Y,W]=o.useState(!1),[re,G]=o.useState([]),[R,F]=o.useState(!1),[A,H]=o.useState([]),[D,_]=o.useState(!1),[xe,ge]=o.useState([]),[Ne,Ce]=o.useState(!1),[fe,ue]=o.useState([]),[Oe,De]=o.useState(!1),[Ae,Ee]=o.useState([]),[ze,ot]=o.useState(!1),[wt,Ie]=o.useState([]),[ye,be]=o.useState(!1),[Me,Re]=o.useState([]),[st,He]=o.useState(!1),[Ue,Ye]=o.useState([]),[ht,ut]=o.useState(""),vt=async()=>(await ne.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(X=>({id:X.ID||X.id,code:X.groupCode||X.code,description:X.groupDescription||X.description}));o.useEffect(()=>{(async()=>{const X=await vt();U(X)})()},[]);const ve=async()=>(await ne.get("/Fs/Employment/BranchSetUp")).data.map(X=>({id:X.braID||X.ID,code:X.braCode||X.code,description:X.braDesc||X.description}));o.useEffect(()=>{(async()=>{const X=await ve();G(X)})()},[]);const Le=async()=>(await ne.get("/Fs/Employment/DepartmentSetUp")).data.map(X=>({id:X.depID||X.ID,code:X.depCode||X.code,description:X.depDesc||X.description}));o.useEffect(()=>{(async()=>{const X=await Le();H(X)})()},[]);const he=async()=>(await ne.get("/Fs/Employment/DivisionSetUp")).data.map(X=>({id:X.divID||X.ID,code:X.divCode||X.code,description:X.divDesc||X.description}));o.useEffect(()=>{(async()=>{const X=await he();ge(X)})()},[]);const Ve=async()=>{const V=await ne.get("/Fs/Employment/GroupSetUp");return(Array.isArray(V.data)?V.data:[]).map(de=>({id:de.grpSchID||de.id||de.ID,code:de.grpCode||de.code,description:de.grpDesc||de.description}))};o.useEffect(()=>{(async()=>{const X=await Ve();ue(X)})()},[]);const xt=async()=>{const V=await ne.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(V.data)?V.data:[]).map(de=>({id:de.lineID??de.ID??de.id,code:de.lineCode??de.code,description:de.lineDesc??de.Description??de.description}))};o.useEffect(()=>{(async()=>{const X=await xt();Ee(X)})()},[]);const Pt=async()=>{const V=await ne.get("/Fs/Employment/SectionSetUp");return(Array.isArray(V.data)?V.data:[]).map(de=>({id:de.secID??de.ID??de.id,code:de.secCode??de.sectionCode??de.code,description:de.secDesc??de.Description??de.description}))};o.useEffect(()=>{(async()=>{const X=await Pt();Ie(X)})()},[]);const Lt=async()=>(await ne.get("/Fs/Employment/UnitSetUp")).data.map(X=>({id:X.unitID||X.ID,code:X.unitCode||X.code,description:X.unitDesc||X.description}));o.useEffect(()=>{(async()=>{const X=await Lt();Re(X)})()},[]);const It=async()=>{const V=await ne.get("/EmployeeMasterFile");return(Array.isArray(V.data)?V.data:[]).map(de=>({id:de.empID??de.ID??de.id,code:de.empCode||de.code||"",name:`${de.lName||""}, ${de.fName||""} ${de.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const X=await It();Ye(X)})()},[]);const gt=(()=>{switch(t){case"Branch":return re;case"Department":return A;case"Division":return xe;case"Group Schedule":return fe;case"Pay House":return Ae;case"Section":return wt;case"Unit":return Me;default:return pe}})().filter(V=>V.code.toLowerCase().includes(p.toLowerCase())||V.description.toLowerCase().includes(p.toLowerCase())),dt=Ue.filter(V=>V.code.toLowerCase().includes(y.toLowerCase())||V.name.toLowerCase().includes(y.toLowerCase())),kt=Math.ceil(gt.length/B),Dt=(k-1)*B,Ge=Dt+B,Ke=gt.slice((k-1)*B,k*B),ie=()=>{const V=[];if(kt<=7)for(let X=1;X<=kt;X++)V.push(X);else if(k<=4){for(let X=1;X<=5;X++)V.push(X);V.push("..."),V.push(kt)}else if(k>=kt-3){V.push(1),V.push("...");for(let X=kt-4;X<=kt;X++)V.push(X)}else{V.push(1),V.push("...");for(let X=k-1;X<=k+1;X++)V.push(X);V.push("..."),V.push(kt)}return V},ke=Math.ceil(dt.length/B),me=(M-1)*B,Ze=me+B,it=dt.slice((M-1)*B,M*B),_t=()=>{const V=[];if(ke<=5)return Array.from({length:ke},(Te,je)=>je+1);V.push(1),M>3&&V.push("...");const de=Math.max(2,M-1),_e=Math.min(ke-1,M+1);for(let Te=de;Te<=_e;Te++)V.push(Te);return M<ke-2&&V.push("..."),V.push(ke),V},nt=V=>{C(X=>X.includes(V)?X.filter(de=>de!==V):[...X,V])},mt=V=>{P(X=>X.includes(V)?X.filter(de=>de!==V):[...X,V])},ae=()=>{j.length===gt.length?C([]):C(gt.map(V=>V.id))},ce=()=>{S.length===dt.length?P([]):P(dt.map(V=>V.id))},te=V=>{x==="dateFrom"?r(V):x==="dateTo"&&l(V)},z=async()=>{if(!S.length){await ee.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!a||!n){await ee.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}if((await ee.fire({icon:"warning",title:"Confirm Delete",text:"Are you sure you want to delete Employee Transaction?",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed){try{await ee.fire({icon:"success",title:"Success",text:"Records in Raw Data deleted successfully.",timer:2e3,showConfirmButton:!1})}catch(X){const de=X.response?.data?.message||X.message||"Failed to delete employee transaction";ee.fire({icon:"error",title:"Error",text:de})}C([]),P([]),r(""),l("")}};return o.useEffect(()=>{const V=X=>{X.key==="Escape"&&f&&N(!1)};return f&&document.addEventListener("keydown",V),()=>{document.removeEventListener("keydown",V)}},[f]),e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Delete Records in Raw Data"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(ls,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Permanently delete raw attendance data for selected employee groups. Remove unprocessed time records from the system efficiently within a specified date range."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and date range to delete"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Review selected records carefully"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Deletion is permanent and cannot be undone"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200",children:["TK Group","Branch","Department","Division","Group Schedule","Pay House","Section","Unit"].map(V=>{const de=(()=>{switch(V){case"TK Group":return Hs;case"Branch":return ea;case"Department":return Zs;case"Division":return vb;case"Group Schedule":return Vu;case"Pay House":return wr;case"Section":return Zs;case"Unit":return Vu;default:return Hs}})();return e.jsxs("button",{onClick:()=>s(V),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===V?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(de,{className:"w-4 h-4"}),V]},V)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:p,onChange:V=>v(V.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:j.length===gt.length&&gt.length>0,onChange:ae,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Ke.map(V=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:j.includes(V.id),onChange:()=>nt(V.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:V.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:V.description})]},V.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",dt.length===0?0:Dt+1," to ",Math.min(Ge,gt.length)," of ",gt.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>E(V=>Math.max(V-1,1)),disabled:k===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),ie().map((V,X)=>V==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${X}`):e.jsx("button",{onClick:()=>E(V),className:`px-2 py-1 rounded text-xs ${k===V?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:V},V)),e.jsx("button",{onClick:()=>E(V=>Math.min(V+1,kt)),disabled:k===kt||kt===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:y,onChange:V=>g(V.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"mb-3 flex items-center gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"status",value:"active",checked:i==="active",onChange:()=>d("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"status",value:"inactive",checked:i==="inactive",onChange:()=>d("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"status",value:"all",checked:i==="all",onChange:()=>d("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:S.length===dt.length&&dt.length>0,onChange:ce,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:it.map(V=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:S.includes(V.id),onChange:()=>mt(V.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:V.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:V.name})]},V.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",me+1," to ",Math.min(Ze,dt.length)," of ",dt.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>L(V=>Math.max(1,V-1)),disabled:M===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),_t().map((V,X)=>typeof V=="number"?e.jsx("button",{onClick:()=>L(V),className:`px-2 py-1 rounded text-xs ${M===V?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:V},X):e.jsx("span",{className:"px-2",children:V},X)),e.jsx("button",{onClick:()=>L(V=>Math.min(ke,V+1)),disabled:M===ke,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Date Range"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-16",children:"From:"}),e.jsx("input",{type:"text",value:a,onChange:V=>r(V.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:a,onChange:r})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-16",children:"To:"}),e.jsx("input",{type:"text",value:n,onChange:V=>l(V.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:n,onChange:l})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm flex items-center gap-2",onClick:z,children:[e.jsx(ls,{className:"w-4 h-4"}),"Delete"]})})]})]}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(s7,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm text-red-800 mb-2",children:"Note"}),e.jsx("p",{className:"text-sm text-red-700",children:"This Process assumes that you really don't need the data in RAW DATA. You will not be able to UNDO the deletion after doing this process. You should could re-import again the DTR files."})]})]})})]})]})]})]})}),x&&e.jsx(gX,{value:x==="dateFrom"?a:n,onChange:te,onClose:()=>h(null),position:m}),e.jsx(Zt,{})]})}function bX({value:t,onChange:s,onClose:a,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&a()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[a]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,y=n.getFullYear(),g=`${v}/${p}/${y}`;s(g),a()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let g=x-1;g>=0;g--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-g},`prev-${g}`));for(let g=1;g<=d;g++)p.push(e.jsx("div",{onClick:()=>f(g),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:g},g));const y=42-p.length;for(let g=1;g<=y;g++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:g},`next-${g}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function vX(){const[t,s]=o.useState("TK Group"),[a,r]=o.useState("5/5/2021"),[n,l]=o.useState("05/05/2021"),[i,d]=o.useState("active"),[x,h]=o.useState(null),[m,b]=o.useState({top:0,left:0}),[f,N]=o.useState(""),[p,v]=o.useState(""),[y,g]=o.useState([]),[j,C]=o.useState([]),[S,P]=o.useState(1),[k,E]=o.useState(1),M=10,[L,O]=o.useState(!1),[q,B]=o.useState({tardiness:!1,otherEarnings:!1,noOfDaysWork:!1,selectAll:!1,undertime:!1,overtime:!1,leaveAndAbsences:!1,lateFiling:!1}),se=()=>{B({tardiness:!1,otherEarnings:!1,noOfDaysWork:!1,undertime:!1,overtime:!1,leaveAndAbsences:!1,lateFiling:!1,selectAll:!1})};o.useEffect(()=>{P(1)},[t]);const[le,pe]=o.useState(!1),[U,Y]=o.useState([]),[W,re]=o.useState(!1),[G,R]=o.useState([]),[F,A]=o.useState(!1),[H,D]=o.useState([]),[_,xe]=o.useState(!1),[ge,Ne]=o.useState([]),[Ce,fe]=o.useState(!1),[ue,Oe]=o.useState([]),[De,Ae]=o.useState(!1),[Ee,ze]=o.useState([]),[ot,wt]=o.useState(!1),[Ie,ye]=o.useState([]),[be,Me]=o.useState(!1),[Re,st]=o.useState([]),[He,Ue]=o.useState(!1),[Ye,ht]=o.useState([]),[ut,vt]=o.useState(""),ve=async()=>(await ne.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(_e=>({id:_e.ID||_e.id,code:_e.groupCode||_e.code,description:_e.groupDescription||_e.description}));o.useEffect(()=>{(async()=>{const _e=await ve();Y(_e)})()},[]);const Le=async()=>(await ne.get("/Fs/Employment/BranchSetUp")).data.map(_e=>({id:_e.braID||_e.ID,code:_e.braCode||_e.code,description:_e.braDesc||_e.description}));o.useEffect(()=>{(async()=>{const _e=await Le();R(_e)})()},[]);const he=async()=>(await ne.get("/Fs/Employment/DepartmentSetUp")).data.map(_e=>({id:_e.depID||_e.ID,code:_e.depCode||_e.code,description:_e.depDesc||_e.description}));o.useEffect(()=>{(async()=>{const _e=await he();D(_e)})()},[]);const Ve=async()=>(await ne.get("/Fs/Employment/DivisionSetUp")).data.map(_e=>({id:_e.divID||_e.ID,code:_e.divCode||_e.code,description:_e.divDesc||_e.description}));o.useEffect(()=>{(async()=>{const _e=await Ve();Ne(_e)})()},[]);const xt=async()=>{const de=await ne.get("/Fs/Employment/GroupSetUp");return(Array.isArray(de.data)?de.data:[]).map(Te=>({id:Te.grpSchID||Te.id||Te.ID,code:Te.grpCode||Te.code,description:Te.grpDesc||Te.description}))};o.useEffect(()=>{(async()=>{const _e=await xt();Oe(_e)})()},[]);const Pt=async()=>{const de=await ne.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(de.data)?de.data:[]).map(Te=>({id:Te.lineID??Te.ID??Te.id,code:Te.lineCode??Te.code,description:Te.lineDesc??Te.Description??Te.description}))};o.useEffect(()=>{(async()=>{const _e=await Pt();ze(_e)})()},[]);const Lt=async()=>{const de=await ne.get("/Fs/Employment/SectionSetUp");return(Array.isArray(de.data)?de.data:[]).map(Te=>({id:Te.secID??Te.ID??Te.id,code:Te.secCode??Te.sectionCode??Te.code,description:Te.secDesc??Te.Description??Te.description}))};o.useEffect(()=>{(async()=>{const _e=await Lt();ye(_e)})()},[]);const It=async()=>(await ne.get("/Fs/Employment/UnitSetUp")).data.map(_e=>({id:_e.unitID||_e.ID,code:_e.unitCode||_e.code,description:_e.unitDesc||_e.description}));o.useEffect(()=>{(async()=>{const _e=await It();st(_e)})()},[]);const qe=async()=>{const de=await ne.get("/EmployeeMasterFile");return(Array.isArray(de.data)?de.data:[]).map(Te=>({id:Te.empID??Te.ID??Te.id,code:Te.empCode||Te.code||"",name:`${Te.lName||""}, ${Te.fName||""} ${Te.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const _e=await qe();ht(_e)})()},[]);const dt=(()=>{switch(t){case"Branch":return G;case"Department":return H;case"Division":return ge;case"Group Schedule":return ue;case"Pay House":return Ee;case"Section":return Ie;case"Unit":return Re;default:return U}})().filter(de=>de.code.toLowerCase().includes(f.toLowerCase())||de.description.toLowerCase().includes(f.toLowerCase())),kt=Ye.filter(de=>de.code.toLowerCase().includes(p.toLowerCase())||de.name.toLowerCase().includes(p.toLowerCase())),Dt=Math.ceil(dt.length/M),Ge=(S-1)*M,Ke=Ge+M,ie=dt.slice((S-1)*M,S*M),ke=()=>{const de=[];if(Dt<=7)for(let _e=1;_e<=Dt;_e++)de.push(_e);else if(S<=4){for(let _e=1;_e<=5;_e++)de.push(_e);de.push("..."),de.push(Dt)}else if(S>=Dt-3){de.push(1),de.push("...");for(let _e=Dt-4;_e<=Dt;_e++)de.push(_e)}else{de.push(1),de.push("...");for(let _e=S-1;_e<=S+1;_e++)de.push(_e);de.push("..."),de.push(Dt)}return de},me=Math.ceil(kt.length/M),Ze=(k-1)*M,it=Ze+M,_t=kt.slice((k-1)*M,k*M),nt=()=>{const de=[];if(me<=5)return Array.from({length:me},(J,we)=>we+1);de.push(1),k>3&&de.push("...");const Te=Math.max(2,k-1),je=Math.min(me-1,k+1);for(let J=Te;J<=je;J++)de.push(J);return k<me-2&&de.push("..."),de.push(me),de},mt=async()=>{if(!j.length){await ee.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!a||!n){await ee.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}if(!Object.values(q).some(Boolean)){await ee.fire({icon:"error",title:"Error",text:"Please check atleast 1 transaction to unpost.",timer:2e3,showConfirmButton:!0});return}try{O(!0),await ee.fire({icon:"success",title:"Success",text:"Successfully Unpost Transactions.",timer:2e3,showConfirmButton:!1}),g([]),C([]),r(""),l(""),se()}catch(_e){console.error(_e),alert("Failed to update records")}finally{O(!1)}},ae=de=>{g(_e=>_e.includes(de)?_e.filter(Te=>Te!==de):[..._e,de])},ce=de=>{C(_e=>_e.includes(de)?_e.filter(Te=>Te!==de):[..._e,de])},te=()=>{y.length===dt.length?g([]):g(dt.map(de=>de.id))},z=()=>{j.length===kt.length?C([]):C(kt.map(de=>de.id))},V=de=>{if(de==="selectAll"){const _e=!q.selectAll;B({tardiness:_e,otherEarnings:_e,noOfDaysWork:_e,selectAll:_e,undertime:_e,overtime:_e,leaveAndAbsences:_e,lateFiling:_e})}else B(_e=>({..._e,[de]:!_e[de]}))},X=de=>{x==="dateFrom"?r(de):x==="dateTo"&&l(de)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Unpost Transaction"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(W0,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Batch unpost processed transactions for selected employee groups. Remove posted data from the system to make corrections or adjustments efficiently."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and date range to unpost"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Choose specific transaction types"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update to process changes"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Hs},{name:"Branch",icon:ea},{name:"Department",icon:Zs},{name:"Division",icon:wr},{name:"Group Schedule",icon:_a},{name:"Pay House",icon:Ia},{name:"Section",icon:Ma},{name:"Unit",icon:ln}].map(de=>e.jsxs("button",{onClick:()=>s(de.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===de.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(de.icon,{className:"w-4 h-4"}),de.name]},de.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:f,onChange:de=>N(de.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:y.length===dt.length&&dt.length>0,onChange:te,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ie.map(de=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:y.includes(de.id),onChange:()=>ae(de.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:de.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:de.description})]},de.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",kt.length===0?0:Ge+1," to ",Math.min(Ke,dt.length)," of ",dt.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>P(de=>Math.max(de-1,1)),disabled:S===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),ke().map((de,_e)=>de==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${_e}`):e.jsx("button",{onClick:()=>P(de),className:`px-2 py-1 rounded text-xs ${S===de?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:de},de)),e.jsx("button",{onClick:()=>P(de=>Math.min(de+1,Dt)),disabled:S===Dt||Dt===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:p,onChange:de=>v(de.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:j.length===kt.length&&kt.length>0,onChange:z,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:_t.map(de=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:j.includes(de.id),onChange:()=>ce(de.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:de.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:de.name})]},de.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",Ze+1," to ",Math.min(it,kt.length)," of ",kt.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>E(de=>Math.max(1,de-1)),disabled:k===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),nt().map((de,_e)=>typeof de=="number"?e.jsx("button",{onClick:()=>E(de),className:`px-2 py-1 rounded text-xs ${k===de?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:de},_e):e.jsx("span",{className:"px-2",children:de},_e)),e.jsx("button",{onClick:()=>E(de=>Math.min(me,de+1)),disabled:k===me,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:i==="active",onChange:()=>d("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:i==="inactive",onChange:()=>d("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:i==="all",onChange:()=>d("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Date Range"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-16",children:"From:"}),e.jsx("input",{type:"text",value:a,onChange:de=>r(de.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:a,onChange:r})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-16",children:"To:"}),e.jsx("input",{type:"text",value:n,onChange:de=>l(de.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:n,onChange:l})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Option"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:q.tardiness,onChange:()=>V("tardiness"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Tardiness"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:q.otherEarnings,onChange:()=>V("otherEarnings"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Other Earnings"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:q.noOfDaysWork,onChange:()=>V("noOfDaysWork"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"No. Of Days Work"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:q.selectAll,onChange:()=>V("selectAll"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Select All"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:q.undertime,onChange:()=>V("undertime"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Undertime"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:q.overtime,onChange:()=>V("overtime"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Overtime"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:q.leaveAndAbsences,onChange:()=>V("leaveAndAbsences"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Leave and Absences"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:q.lateFiling,onChange:()=>V("lateFiling"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Late Filing"})]})]})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200 mt-4",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:mt,children:[e.jsx(to,{className:"w-4 h-4"}),"Update"]})})]})]})]})]})]})}),x&&e.jsx(bX,{value:x==="dateFrom"?a:n,onChange:X,onClose:()=>h(null),position:m}),e.jsx(Zt,{})]})}function wX({value:t,onChange:s,onClose:a,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&a()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[a]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,y=n.getFullYear(),g=`${v}/${p}/${y}`;s(g),a()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let g=x-1;g>=0;g--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-g},`prev-${g}`));for(let g=1;g<=d;g++)p.push(e.jsx("div",{onClick:()=>f(g),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:g},g));const y=42-p.length;for(let g=1;g<=y;g++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:g},`next-${g}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function NX(){const[t,s]=o.useState("TK Group"),[a,r]=o.useState(""),[n,l]=o.useState("January"),[i,d]=o.useState(""),[x,h]=o.useState(""),[m,b]=o.useState("active"),[f,N]=o.useState(null),[p,v]=o.useState({top:0,left:0}),[y,g]=o.useState(""),[j,C]=o.useState(""),[S,P]=o.useState(""),[k,E]=o.useState(""),[M,L]=o.useState([]),[O,q]=o.useState([]),[B,se]=o.useState(1),[le,pe]=o.useState(1),[U,Y]=o.useState(1),W=10,[re,G]=o.useState(!1);o.useEffect(()=>{se(1)},[t]);const[R,F]=o.useState(!1),[A,H]=o.useState([]),[D,_]=o.useState(!1),[xe,ge]=o.useState([]),[Ne,Ce]=o.useState(!1),[fe,ue]=o.useState([]),[Oe,De]=o.useState(!1),[Ae,Ee]=o.useState([]),[ze,ot]=o.useState(!1),[wt,Ie]=o.useState([]),[ye,be]=o.useState(!1),[Me,Re]=o.useState([]),[st,He]=o.useState(!1),[Ue,Ye]=o.useState([]),[ht,ut]=o.useState(!1),[vt,ve]=o.useState([]),[Le,he]=o.useState(!1),[Ve,xt]=o.useState([]),[Pt,Lt]=o.useState(""),It=async()=>(await ne.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Z=>({id:Z.ID||Z.id,code:Z.groupCode||Z.code,description:Z.groupDescription||Z.description}));o.useEffect(()=>{(async()=>{const Z=await It();H(Z)})()},[]);const qe=async()=>(await ne.get("/Fs/Employment/BranchSetUp")).data.map(Z=>({id:Z.braID||Z.ID,code:Z.braCode||Z.code,description:Z.braDesc||Z.description}));o.useEffect(()=>{(async()=>{const Z=await qe();ge(Z)})()},[]);const Nt=async()=>(await ne.get("/Fs/Employment/DepartmentSetUp")).data.map(Z=>({id:Z.depID||Z.ID,code:Z.depCode||Z.code,description:Z.depDesc||Z.description}));o.useEffect(()=>{(async()=>{const Z=await Nt();ue(Z)})()},[]);const gt=async()=>(await ne.get("/Fs/Employment/DivisionSetUp")).data.map(Z=>({id:Z.divID||Z.ID,code:Z.divCode||Z.code,description:Z.divDesc||Z.description}));o.useEffect(()=>{(async()=>{const Z=await gt();Ee(Z)})()},[]);const dt=async()=>{const I=await ne.get("/Fs/Employment/GroupSetUp");return(Array.isArray(I.data)?I.data:[]).map(Q=>({id:Q.grpSchID||Q.id||Q.ID,code:Q.grpCode||Q.code,description:Q.grpDesc||Q.description}))};o.useEffect(()=>{(async()=>{const Z=await dt();Ie(Z)})()},[]);const kt=async()=>{const I=await ne.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(I.data)?I.data:[]).map(Q=>({id:Q.lineID??Q.ID??Q.id,code:Q.lineCode??Q.code,description:Q.lineDesc??Q.Description??Q.description}))};o.useEffect(()=>{(async()=>{const Z=await kt();Re(Z)})()},[]);const Dt=async()=>{const I=await ne.get("/Fs/Employment/SectionSetUp");return(Array.isArray(I.data)?I.data:[]).map(Q=>({id:Q.secID??Q.ID??Q.id,code:Q.secCode??Q.sectionCode??Q.code,description:Q.secDesc??Q.Description??Q.description}))};o.useEffect(()=>{(async()=>{const Z=await Dt();Ye(Z)})()},[]);const Ge=async()=>(await ne.get("/Fs/Employment/UnitSetUp")).data.map(Z=>({id:Z.unitID||Z.ID,code:Z.unitCode||Z.code,description:Z.unitDesc||Z.description}));o.useEffect(()=>{(async()=>{const Z=await Ge();ve(Z)})()},[]);const Ke=async()=>{const I=await ne.get("/EmployeeMasterFile");return(Array.isArray(I.data)?I.data:[]).map(Q=>({id:Q.empID??Q.ID??Q.id,code:Q.empCode||Q.code||"",name:`${Q.lName||""}, ${Q.fName||""} ${Q.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const Z=await Ke();xt(Z)})()},[]);const me=(()=>{switch(t){case"Branch":return xe;case"Department":return fe;case"Division":return Ae;case"Group Schedule":return wt;case"Pay House":return Me;case"Section":return Ue;case"Unit":return vt;default:return A}})().filter(I=>I.code.toLowerCase().includes(S.toLowerCase())||I.description.toLowerCase().includes(S.toLowerCase())),Ze=Ve.filter(I=>I.code.toLowerCase().includes(k.toLowerCase())||I.name.toLowerCase().includes(k.toLowerCase())),it=Math.ceil(me.length/W),_t=(B-1)*W,nt=_t+W,mt=me.slice((B-1)*W,B*W),ae=()=>{const I=[];if(it<=7)for(let Z=1;Z<=it;Z++)I.push(Z);else if(B<=4){for(let Z=1;Z<=5;Z++)I.push(Z);I.push("..."),I.push(it)}else if(B>=it-3){I.push(1),I.push("...");for(let Z=it-4;Z<=it;Z++)I.push(Z)}else{I.push(1),I.push("...");for(let Z=B-1;Z<=B+1;Z++)I.push(Z);I.push("..."),I.push(it)}return I},ce=Math.ceil(Ze.length/W),te=(le-1)*W,z=te+W,V=Ze.slice((le-1)*W,le*W),X=()=>{const I=[];if(ce<=5)return Array.from({length:ce},(ft,$t)=>$t+1);I.push(1),le>3&&I.push("...");const Q=Math.max(2,le-1),We=Math.min(ce-1,le+1);for(let ft=Q;ft<=We;ft++)I.push(ft);return le<ce-2&&I.push("..."),I.push(ce),I},de=async()=>{if(!O.length){await ee.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!y||!j){await ee.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{G(!0),await ee.fire({icon:"success",title:"Success",text:"Additional Hours per Week successfully updated.",timer:2e3,showConfirmButton:!1}),L([]),q([]),g(""),C("")}catch(I){console.error(I),alert("Failed to update records")}finally{G(!1)}},_e=I=>{L(Z=>Z.includes(I)?Z.filter(Q=>Q!==I):[...Z,I])},Te=I=>{q(Z=>Z.includes(I)?Z.filter(Q=>Q!==I):[...Z,I])},je=()=>{M.length===me.length?L([]):L(me.map(I=>I.id))},J=()=>{O.length===Ze.length?q([]):q(Ze.map(I=>I.id))},we=I=>{f==="year"?r(I):f==="dateFrom"?g(I):f==="dateTo"&&C(I)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Additional Hours Per Week"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(ya,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Batch update additional hours per week for selected employee groups. Configure weekly hour adjustments across multiple employees efficiently."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Search by reference code"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update to apply changes"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Hs},{name:"Branch",icon:ea},{name:"Department",icon:Zs},{name:"Division",icon:wr},{name:"Group Schedule",icon:_a},{name:"Pay House",icon:Ia},{name:"Section",icon:Ma},{name:"Unit",icon:ln}].map(I=>e.jsxs("button",{onClick:()=>s(I.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===I.name?"bg-blue-600 text-white":"text-gray-600 hover:bg-blue-50"}`,children:[e.jsx(I.icon,{className:"w-4 h-4"}),I.name]},I.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:S,onChange:I=>P(I.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:M.length===me.length&&me.length>0,onChange:je,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:mt.map(I=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:M.includes(I.id),onChange:()=>_e(I.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:I.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:I.description})]},I.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Ze.length===0?0:_t+1," to ",Math.min(nt,me.length)," of ",me.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>se(I=>Math.max(I-1,1)),disabled:B===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),ae().map((I,Z)=>I==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Z}`):e.jsx("button",{onClick:()=>se(I),className:`px-2 py-1 rounded text-xs ${B===I?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:I},I)),e.jsx("button",{onClick:()=>se(I=>Math.min(I+1,it)),disabled:B===it||it===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:k,onChange:I=>E(I.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:O.length===Ze.length&&Ze.length>0,onChange:J,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:V.map(I=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:O.includes(I.id),onChange:()=>Te(I.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:I.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:I.name})]},I.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",te+1," to ",Math.min(z,Ze.length)," of ",Ze.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>pe(I=>Math.max(1,I-1)),disabled:le===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),X().map((I,Z)=>typeof I=="number"?e.jsx("button",{onClick:()=>pe(I),className:`px-2 py-1 rounded text-xs ${le===I?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:I},Z):e.jsx("span",{className:"px-2",children:I},Z)),e.jsx("button",{onClick:()=>pe(I=>Math.min(ce,I+1)),disabled:le===ce,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:m==="active",onChange:()=>b("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:m==="inactive",onChange:()=>b("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:m==="all",onChange:()=>b("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:y,onChange:I=>g(I.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:y,onChange:g})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date To:"}),e.jsx("input",{type:"text",value:j,onChange:I=>C(I.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:j,onChange:C})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:de,children:[e.jsx(Aa,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),f&&e.jsx(wX,{value:f==="year"?a:f==="dateFrom"?y:j,onChange:we,onClose:()=>N(null),position:p}),e.jsx(Zt,{})]})}function jX({value:t,onChange:s,onClose:a,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&a()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[a]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,y=n.getFullYear(),g=`${v}/${p}/${y}`;s(g),a()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let g=x-1;g>=0;g--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-g},`prev-${g}`));for(let g=1;g<=d;g++)p.push(e.jsx("div",{onClick:()=>f(g),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:g},g));const y=42-p.length;for(let g=1;g<=y;g++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:g},`next-${g}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function CX(){const[t,s]=o.useState("TK Group"),[a,r]=o.useState(""),[n,l]=o.useState("January"),[i,d]=o.useState(""),[x,h]=o.useState(""),[m,b]=o.useState("active"),[f,N]=o.useState(null),[p,v]=o.useState({top:0,left:0}),[y,g]=o.useState(""),[j,C]=o.useState(""),[S,P]=o.useState(""),[k,E]=o.useState(""),[M,L]=o.useState([]),[O,q]=o.useState([]),[B,se]=o.useState(1),[le,pe]=o.useState(1),[U,Y]=o.useState(1),W=10,[re,G]=o.useState(!1);o.useEffect(()=>{se(1)},[t]);const[R,F]=o.useState(!1),[A,H]=o.useState([]),[D,_]=o.useState(!1),[xe,ge]=o.useState([]),[Ne,Ce]=o.useState(!1),[fe,ue]=o.useState([]),[Oe,De]=o.useState(!1),[Ae,Ee]=o.useState([]),[ze,ot]=o.useState(!1),[wt,Ie]=o.useState([]),[ye,be]=o.useState(!1),[Me,Re]=o.useState([]),[st,He]=o.useState(!1),[Ue,Ye]=o.useState([]),[ht,ut]=o.useState(!1),[vt,ve]=o.useState([]),[Le,he]=o.useState(!1),[Ve,xt]=o.useState([]),[Pt,Lt]=o.useState(""),It=async()=>(await ne.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Z=>({id:Z.ID||Z.id,code:Z.groupCode||Z.code,description:Z.groupDescription||Z.description}));o.useEffect(()=>{(async()=>{const Z=await It();H(Z)})()},[]);const qe=async()=>(await ne.get("/Fs/Employment/BranchSetUp")).data.map(Z=>({id:Z.braID||Z.ID,code:Z.braCode||Z.code,description:Z.braDesc||Z.description}));o.useEffect(()=>{(async()=>{const Z=await qe();ge(Z)})()},[]);const Nt=async()=>(await ne.get("/Fs/Employment/DepartmentSetUp")).data.map(Z=>({id:Z.depID||Z.ID,code:Z.depCode||Z.code,description:Z.depDesc||Z.description}));o.useEffect(()=>{(async()=>{const Z=await Nt();ue(Z)})()},[]);const gt=async()=>(await ne.get("/Fs/Employment/DivisionSetUp")).data.map(Z=>({id:Z.divID||Z.ID,code:Z.divCode||Z.code,description:Z.divDesc||Z.description}));o.useEffect(()=>{(async()=>{const Z=await gt();Ee(Z)})()},[]);const dt=async()=>{const I=await ne.get("/Fs/Employment/GroupSetUp");return(Array.isArray(I.data)?I.data:[]).map(Q=>({id:Q.grpSchID||Q.id||Q.ID,code:Q.grpCode||Q.code,description:Q.grpDesc||Q.description}))};o.useEffect(()=>{(async()=>{const Z=await dt();Ie(Z)})()},[]);const kt=async()=>{const I=await ne.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(I.data)?I.data:[]).map(Q=>({id:Q.lineID??Q.ID??Q.id,code:Q.lineCode??Q.code,description:Q.lineDesc??Q.Description??Q.description}))};o.useEffect(()=>{(async()=>{const Z=await kt();Re(Z)})()},[]);const Dt=async()=>{const I=await ne.get("/Fs/Employment/SectionSetUp");return(Array.isArray(I.data)?I.data:[]).map(Q=>({id:Q.secID??Q.ID??Q.id,code:Q.secCode??Q.sectionCode??Q.code,description:Q.secDesc??Q.Description??Q.description}))};o.useEffect(()=>{(async()=>{const Z=await Dt();Ye(Z)})()},[]);const Ge=async()=>(await ne.get("/Fs/Employment/UnitSetUp")).data.map(Z=>({id:Z.unitID||Z.ID,code:Z.unitCode||Z.code,description:Z.unitDesc||Z.description}));o.useEffect(()=>{(async()=>{const Z=await Ge();ve(Z)})()},[]);const Ke=async()=>{const I=await ne.get("/EmployeeMasterFile");return(Array.isArray(I.data)?I.data:[]).map(Q=>({id:Q.empID??Q.ID??Q.id,code:Q.empCode||Q.code||"",name:`${Q.lName||""}, ${Q.fName||""} ${Q.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const Z=await Ke();xt(Z)})()},[]);const me=(()=>{switch(t){case"Branch":return xe;case"Department":return fe;case"Division":return Ae;case"Group Schedule":return wt;case"Pay House":return Me;case"Section":return Ue;case"Unit":return vt;default:return A}})().filter(I=>I.code.toLowerCase().includes(S.toLowerCase())||I.description.toLowerCase().includes(S.toLowerCase())),Ze=Ve.filter(I=>I.code.toLowerCase().includes(k.toLowerCase())||I.name.toLowerCase().includes(k.toLowerCase())),it=Math.ceil(me.length/W),_t=(B-1)*W,nt=_t+W,mt=me.slice((B-1)*W,B*W),ae=()=>{const I=[];if(it<=7)for(let Z=1;Z<=it;Z++)I.push(Z);else if(B<=4){for(let Z=1;Z<=5;Z++)I.push(Z);I.push("..."),I.push(it)}else if(B>=it-3){I.push(1),I.push("...");for(let Z=it-4;Z<=it;Z++)I.push(Z)}else{I.push(1),I.push("...");for(let Z=B-1;Z<=B+1;Z++)I.push(Z);I.push("..."),I.push(it)}return I},ce=Math.ceil(Ze.length/W),te=(le-1)*W,z=te+W,V=Ze.slice((le-1)*W,le*W),X=()=>{const I=[];if(ce<=5)return Array.from({length:ce},(ft,$t)=>$t+1);I.push(1),le>3&&I.push("...");const Q=Math.max(2,le-1),We=Math.min(ce-1,le+1);for(let ft=Q;ft<=We;ft++)I.push(ft);return le<ce-2&&I.push("..."),I.push(ce),I},de=async()=>{if(!O.length){await ee.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!y||!j){await ee.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{G(!0),await ee.fire({icon:"success",title:"Success",text:"Overtime Allowances successfully.",timer:2e3,showConfirmButton:!1}),L([]),q([]),g(""),C("")}catch(I){console.error(I),alert("Failed to update records")}finally{G(!1)}},_e=I=>{L(Z=>Z.includes(I)?Z.filter(Q=>Q!==I):[...Z,I])},Te=I=>{q(Z=>Z.includes(I)?Z.filter(Q=>Q!==I):[...Z,I])},je=()=>{M.length===me.length?L([]):L(me.map(I=>I.id))},J=()=>{O.length===Ze.length?q([]):q(Ze.map(I=>I.id))},we=I=>{f==="year"?r(I):f==="dateFrom"?g(I):f==="dateTo"&&C(I)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Apply OT Allowances"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(ya,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Batch apply overtime allowances to selected employee groups. Configure OT compensation across multiple employees within a specified date range efficiently."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter employees by status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Review selected employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update to apply allowances"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Hs},{name:"Branch",icon:ea},{name:"Department",icon:Zs},{name:"Division",icon:wr},{name:"Group Schedule",icon:_a},{name:"Pay House",icon:Ia},{name:"Section",icon:Ma},{name:"Unit",icon:ln}].map(I=>e.jsxs("button",{onClick:()=>s(I.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===I.name?"bg-blue-600 text-white":"text-gray-600 hover:bg-blue-50"}`,children:[e.jsx(I.icon,{className:"w-4 h-4"}),I.name]},I.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:S,onChange:I=>P(I.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:M.length===me.length&&me.length>0,onChange:je,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:mt.map(I=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:M.includes(I.id),onChange:()=>_e(I.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:I.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:I.description})]},I.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Ze.length===0?0:_t+1," to ",Math.min(nt,me.length)," of ",me.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>se(I=>Math.max(I-1,1)),disabled:B===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),ae().map((I,Z)=>I==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Z}`):e.jsx("button",{onClick:()=>se(I),className:`px-2 py-1 rounded text-xs ${B===I?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:I},I)),e.jsx("button",{onClick:()=>se(I=>Math.min(I+1,it)),disabled:B===it||it===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:k,onChange:I=>E(I.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:O.length===Ze.length&&Ze.length>0,onChange:J,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:V.map(I=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:O.includes(I.id),onChange:()=>Te(I.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:I.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:I.name})]},I.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",te+1," to ",Math.min(z,Ze.length)," of ",Ze.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>pe(I=>Math.max(1,I-1)),disabled:le===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),X().map((I,Z)=>typeof I=="number"?e.jsx("button",{onClick:()=>pe(I),className:`px-2 py-1 rounded text-xs ${le===I?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:I},Z):e.jsx("span",{className:"px-2",children:I},Z)),e.jsx("button",{onClick:()=>pe(I=>Math.min(ce,I+1)),disabled:le===ce,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:m==="active",onChange:()=>b("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:m==="inactive",onChange:()=>b("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:m==="all",onChange:()=>b("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:y,onChange:I=>g(I.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:y,onChange:g})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date To:"}),e.jsx("input",{type:"text",value:j,onChange:I=>C(I.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:j,onChange:C})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsx("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:de,disabled:re,children:"Update"})})]})})]})]})]})]})}),f&&e.jsx(jX,{value:f==="year"?a:f==="dateFrom"?y:j,onChange:we,onClose:()=>N(null),position:p}),e.jsx(Zt,{})]})}function SX({value:t,onChange:s,onClose:a,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&a()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[a]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,y=n.getFullYear(),g=`${v}/${p}/${y}`;s(g),a()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let g=x-1;g>=0;g--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-g},`prev-${g}`));for(let g=1;g<=d;g++)p.push(e.jsx("div",{onClick:()=>f(g),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:g},g));const y=42-p.length;for(let g=1;g<=y;g++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:g},`next-${g}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function kX(){const[t,s]=o.useState(""),[a,r]=o.useState("5/5/2021"),[n,l]=o.useState("05/05/2021"),[i,d]=o.useState(null),[x,h]=o.useState({top:0,left:0}),[m,b]=o.useState(""),[f,N]=o.useState(""),[p,v]=o.useState([]),[y,g]=o.useState(1),j=10,[C,S]=o.useState(!1),[P,k]=o.useState(""),[E,M]=o.useState(""),[L,O]=o.useState(!1),[q,B]=o.useState(!1),[se,le]=o.useState([]),[pe,U]=o.useState(!1),[Y,W]=o.useState([]),[re,G]=o.useState("");o.useEffect(()=>{g(1)},[f,se]);const R=async()=>(await ne.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Ae=>({id:Ae.ID||Ae.id,code:Ae.groupCode||Ae.code,description:Ae.groupDescription||Ae.description}));o.useEffect(()=>{(async()=>{const Ae=await R();le(Ae)})()},[]),o.useEffect(()=>{F()},[]);const F=async()=>{U(!0),G("");try{const De=await ne.get("/EmployeeMasterFile");if(De.status===200&&De.data){const Ae=De.data.map(Ee=>({empCode:Ee.empCode||Ee.code||"",name:`${Ee.lName||""}, ${Ee.fName||""} ${Ee.mName||""}`.trim(),groupCode:Ee.grpCode||""}));W(Ae)}}catch(De){const Ae=De.response?.data?.message||De.message||"Failed to load employees";G(Ae),console.error("Error fetching employees:",De)}finally{U(!1)}},A=(De,Ae)=>{k(De),M(Ae),O(!1)},H=se.filter(De=>De.code.toLowerCase().includes(f.toLowerCase())||De.description.toLowerCase().includes(f.toLowerCase())),D=Math.ceil(H.length/j),_=(y-1)*j,xe=_+j,ge=H.slice((y-1)*j,y*j),Ne=()=>{const De=[];if(D<=7)for(let Ae=1;Ae<=D;Ae++)De.push(Ae);else if(y<=4){for(let Ae=1;Ae<=5;Ae++)De.push(Ae);De.push("..."),De.push(D)}else if(y>=D-3){De.push(1),De.push("...");for(let Ae=D-4;Ae<=D;Ae++)De.push(Ae)}else{De.push(1),De.push("...");for(let Ae=y-1;Ae<=y+1;Ae++)De.push(Ae);De.push("..."),De.push(D)}return De},Ce=De=>{v(De?ge.map(Ae=>Ae.id):[])},fe=(De,Ae)=>{v(Ee=>Ae?[...Ee,De]:Ee.filter(ze=>ze!==De))},ue=async()=>{if(!p.length){await ee.fire({icon:"error",title:"Error",text:"Please select TK Group item/s.",timer:2e3,showConfirmButton:!0});return}if(!P.length){await ee.fire({icon:"error",title:"Error",text:"Please select Employee.",timer:2e3,showConfirmButton:!0});return}if(!t){await ee.fire({icon:"error",title:"Error",text:"Please select Date to Apply.",timer:2e3,showConfirmButton:!0});return}if(!a||!n){await ee.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{S(!0),await ee.fire({icon:"success",title:"Success",text:"Successfully updated Break1 and Breaks Overbreak.",timer:2e3,showConfirmButton:!1}),v([]),M(""),k(""),s(""),r(""),l("")}catch(De){console.error(De),alert("Failed to update records")}finally{S(!1)}},Oe=De=>{i==="dateToApply"?s(De):i==="dateFrom"?r(De):i==="dateTo"&&l(De)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Apply Break1 and Breaks Overbreak"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(xa,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Apply break time adjustments and manage break overbreak for selected employee groups. Configure break periods and calculate grace periods efficiently."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Search employees by code or name"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Compute break adjustments"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update to apply changes"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx(Gt,{className:"w-4 h-4 text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Search...",value:f,onChange:De=>N(De.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:ge.length>0&&ge.every(De=>p.includes(De.id)),onChange:De=>Ce(De.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ge.map(De=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:p.includes(De.id),onChange:Ae=>fe(De.id,Ae.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:De.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:De.description})]},De.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",H.length===0?0:_+1," to ",Math.min(xe,H.length)," of ",H.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>g(De=>Math.max(De-1,1)),disabled:y===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Ne().map((De,Ae)=>De==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Ae}`):e.jsx("button",{onClick:()=>g(De),className:`px-2 py-1 rounded text-xs ${y===De?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:De},De)),e.jsx("button",{onClick:()=>g(De=>Math.min(De+1,D)),disabled:y===D||D===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Date Range"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-32",children:"Date To Apply:"}),e.jsx("input",{type:"text",value:t,onChange:De=>s(De.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm flex-1"}),e.jsx(xs,{date:t,onChange:s})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-32",children:"From:"}),e.jsx("input",{type:"text",value:a,onChange:De=>r(De.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:a,onChange:r}),e.jsx("label",{className:"text-sm text-gray-700",children:"To:"}),e.jsx("input",{type:"text",value:n,onChange:De=>l(De.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:n,onChange:l})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-32",children:"Employee:"}),e.jsx("input",{type:"text",value:P&&E?`${P} - ${E}`:"",onChange:De=>M(De.target.value),readOnly:!0,className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm flex-1"}),e.jsx("button",{onClick:()=>O(!0),className:"p-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center justify-center",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors flex items-center justify-center",children:e.jsx(et,{onClick:()=>{M(""),k("")},className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(EA,{className:"w-4 h-4"}),"Compute"]}),e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:ue,children:[e.jsx(Aa,{className:"w-4 h-4"}),"Update"]})]})]})]})]}),e.jsxs("div",{className:"mt-6 space-y-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"EmpCode"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"WorkShift"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"RawDate"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"RawBreak1Out"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"RawBreak1In"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"RawBreak3Out"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"RawBreak3In"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"AfterGrace"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"WithinGrace"})]})}),e.jsx("tbody",{children:e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"px-4 py-8 text-center text-sm text-gray-500",children:"No data available in table"})})})]})}),e.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{className:"text-sm text-gray-600 hover:text-gray-900",children:""}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-900",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-900",children:"Next"})]}),e.jsx("button",{className:"text-sm text-gray-600 hover:text-gray-900",children:""})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"EmpCode"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Deduct"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"AppDate"})]})}),e.jsx("tbody",{children:e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-sm text-gray-500",children:"No data available in table"})})})]})}),e.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{className:"text-sm text-gray-600 hover:text-gray-900",children:""}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-900",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-900",children:"Next"})]}),e.jsx("button",{className:"text-sm text-gray-600 hover:text-gray-900",children:""})]})]})]})]})]})}),i&&e.jsx(SX,{value:i==="dateToApply"?t:i==="dateFrom"?a:n,onChange:Oe,onClose:()=>d(null),position:x}),e.jsx(nr,{isOpen:L,onClose:()=>O(!1),onSelect:A,employees:Y,loading:pe,error:re}),e.jsx(Zt,{})]})}function DX({value:t,onChange:s,onClose:a,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&a()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[a]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,y=n.getFullYear(),g=`${v}/${p}/${y}`;s(g),a()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let g=x-1;g>=0;g--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-g},`prev-${g}`));for(let g=1;g<=d;g++)p.push(e.jsx("div",{onClick:()=>f(g),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:g},g));const y=42-p.length;for(let g=1;g<=y;g++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:g},`next-${g}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function EX(){const[t,s]=o.useState("TK Group"),[a,r]=o.useState(""),[n,l]=o.useState("January"),[i,d]=o.useState(""),[x,h]=o.useState(""),[m,b]=o.useState("active"),[f,N]=o.useState(null),[p,v]=o.useState({top:0,left:0}),[y,g]=o.useState(""),[j,C]=o.useState(""),[S,P]=o.useState(""),[k,E]=o.useState(""),[M,L]=o.useState([]),[O,q]=o.useState([]),[B,se]=o.useState(1),[le,pe]=o.useState(1),U=10,[Y,W]=o.useState(!1);o.useEffect(()=>{se(1)},[t]);const[re,G]=o.useState(!1),[R,F]=o.useState([]),[A,H]=o.useState(!1),[D,_]=o.useState([]),[xe,ge]=o.useState(!1),[Ne,Ce]=o.useState([]),[fe,ue]=o.useState(!1),[Oe,De]=o.useState([]),[Ae,Ee]=o.useState(!1),[ze,ot]=o.useState([]),[wt,Ie]=o.useState(!1),[ye,be]=o.useState([]),[Me,Re]=o.useState(!1),[st,He]=o.useState([]),Ue=async()=>(await ne.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(mt=>({id:mt.ID||mt.id,code:mt.groupCode||mt.code,description:mt.groupDescription||mt.description}));o.useEffect(()=>{(async()=>{const mt=await Ue();F(mt)})()},[]);const Ye=async()=>(await ne.get("/Fs/Employment/BranchSetUp")).data.map(mt=>({id:mt.braID||mt.ID,code:mt.braCode||mt.code,description:mt.braDesc||mt.description}));o.useEffect(()=>{(async()=>{const mt=await Ye();_(mt)})()},[]);const ht=async()=>(await ne.get("/Fs/Employment/DepartmentSetUp")).data.map(mt=>({id:mt.depID||mt.ID,code:mt.depCode||mt.code,description:mt.depDesc||mt.description}));o.useEffect(()=>{(async()=>{const mt=await ht();Ce(mt)})()},[]);const ut=async()=>{const nt=await ne.get("/Fs/Employment/GroupSetUp");return(Array.isArray(nt.data)?nt.data:[]).map(ae=>({id:ae.grpSchID||ae.id||ae.ID,code:ae.grpCode||ae.code,description:ae.grpDesc||ae.description}))};o.useEffect(()=>{(async()=>{const mt=await ut();De(mt)})()},[]);const vt=async()=>{const nt=await ne.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(nt.data)?nt.data:[]).map(ae=>({id:ae.lineID??ae.ID??ae.id,code:ae.lineCode??ae.code,description:ae.lineDesc??ae.Description??ae.description}))};o.useEffect(()=>{(async()=>{const mt=await vt();ot(mt)})()},[]);const ve=async()=>{const nt=await ne.get("/Fs/Employment/SectionSetUp");return(Array.isArray(nt.data)?nt.data:[]).map(ae=>({id:ae.secID??ae.ID??ae.id,code:ae.secCode??ae.sectionCode??ae.code,description:ae.secDesc??ae.Description??ae.description}))};o.useEffect(()=>{(async()=>{const mt=await ve();be(mt)})()},[]);const Le=async()=>{const nt=await ne.get("/EmployeeMasterFile");return(Array.isArray(nt.data)?nt.data:[]).map(ae=>({id:ae.empID??ae.ID??ae.id,code:ae.empCode||ae.code||"",name:`${ae.lName||""}, ${ae.fName||""} ${ae.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const mt=await Le();He(mt)})()},[]);const Ve=(()=>{switch(t){case"Branch":return D;case"Department":return Ne;case"Group Schedule":return Oe;case"Pay House":return ze;case"Section":return ye;default:return R}})(),xt=async()=>{if(!O.length){await ee.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!y||!j){await ee.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{W(!0),await ee.fire({icon:"success",title:"Success",text:"Successfully updated Allowance per Bracket.",timer:2e3,showConfirmButton:!1}),L([]),q([]),g(""),C("")}catch(nt){console.error(nt),alert("Failed to update records")}finally{W(!1)}},Pt=Ve.filter(nt=>nt.code.toLowerCase().includes(S.toLowerCase())||nt.description.toLowerCase().includes(S.toLowerCase())),Lt=st.filter(nt=>nt.code.toLowerCase().includes(k.toLowerCase())||nt.name.toLowerCase().includes(k.toLowerCase())),It=Math.ceil(Pt.length/U),qe=(B-1)*U,Nt=qe+U,gt=Pt.slice((B-1)*U,B*U),dt=()=>{const nt=[];if(It<=7)for(let mt=1;mt<=It;mt++)nt.push(mt);else if(B<=4){for(let mt=1;mt<=5;mt++)nt.push(mt);nt.push("..."),nt.push(It)}else if(B>=It-3){nt.push(1),nt.push("...");for(let mt=It-4;mt<=It;mt++)nt.push(mt)}else{nt.push(1),nt.push("...");for(let mt=B-1;mt<=B+1;mt++)nt.push(mt);nt.push("..."),nt.push(It)}return nt},kt=Math.ceil(Lt.length/U),Dt=(le-1)*U,Ge=Dt+U,Ke=Lt.slice((le-1)*U,le*U),ie=()=>{const nt=[];if(kt<=5)return Array.from({length:kt},(te,z)=>z+1);nt.push(1),le>3&&nt.push("...");const ae=Math.max(2,le-1),ce=Math.min(kt-1,le+1);for(let te=ae;te<=ce;te++)nt.push(te);return le<kt-2&&nt.push("..."),nt.push(kt),nt},ke=nt=>{L(mt=>mt.includes(nt)?mt.filter(ae=>ae!==nt):[...mt,nt])},me=nt=>{q(mt=>mt.includes(nt)?mt.filter(ae=>ae!==nt):[...mt,nt])},Ze=()=>{M.length===Pt.length?L([]):L(Pt.map(nt=>nt.id))},it=()=>{O.length===Lt.length?q([]):q(Lt.map(nt=>nt.id))},_t=nt=>{f==="year"?r(nt):f==="dateFrom"?g(nt):f==="dateTo"&&C(nt)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Allowance Per Bracket"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(ya,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Update allowance brackets for selected employee groups. Configure compensation brackets across multiple employees within specified date ranges efficiently."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Specify effective date"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update to apply changes"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Hs},{name:"Branch",icon:ea},{name:"Department",icon:Zs},{name:"Group Schedule",icon:_a},{name:"Pay House",icon:Ia},{name:"Section",icon:Ma}].map(nt=>e.jsxs("button",{onClick:()=>s(nt.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===nt.name?"bg-blue-600 text-white":"text-gray-600 hover:bg-blue-50"}`,children:[e.jsx(nt.icon,{className:"w-4 h-4"}),nt.name]},nt.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:S,onChange:nt=>P(nt.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:M.length===Pt.length&&Pt.length>0,onChange:Ze,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:gt.map(nt=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:M.includes(nt.id),onChange:()=>ke(nt.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:nt.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:nt.description})]},nt.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Pt.length===0?0:qe+1," to ",Math.min(Nt,Pt.length)," of ",Pt.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>se(nt=>Math.max(nt-1,1)),disabled:B===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),dt().map((nt,mt)=>nt==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${mt}`):e.jsx("button",{onClick:()=>se(nt),className:`px-2 py-1 rounded text-xs ${B===nt?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:nt},nt)),e.jsx("button",{onClick:()=>se(nt=>Math.min(nt+1,It)),disabled:B===It||It===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:k,onChange:nt=>E(nt.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:O.length===Lt.length&&Lt.length>0,onChange:it,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Ke.map(nt=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:O.includes(nt.id),onChange:()=>me(nt.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:nt.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:nt.name})]},nt.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",Dt+1," to ",Math.min(Ge,Lt.length)," of ",Lt.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>pe(nt=>Math.max(1,nt-1)),disabled:le===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),ie().map((nt,mt)=>typeof nt=="number"?e.jsx("button",{onClick:()=>pe(nt),className:`px-2 py-1 rounded text-xs ${le===nt?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:nt},mt):e.jsx("span",{className:"px-2",children:nt},mt)),e.jsx("button",{onClick:()=>pe(nt=>Math.min(kt,nt+1)),disabled:le===kt,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:m==="active",onChange:()=>b("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:m==="inactive",onChange:()=>b("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:m==="all",onChange:()=>b("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:y,onChange:nt=>g(nt.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:y,onChange:g})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date To:"}),e.jsx("input",{type:"text",value:j,onChange:nt=>C(nt.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:j,onChange:C})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:xt,disabled:Y,children:[e.jsx(Aa,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),f&&e.jsx(DX,{value:f==="year"?a:f==="dateFrom"?y:j,onChange:_t,onClose:()=>N(null),position:p}),e.jsx(Zt,{})]})}function TX({value:t,onChange:s,onClose:a,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&a()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[a]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,y=n.getFullYear(),g=`${v}/${p}/${y}`;s(g),a()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let g=x-1;g>=0;g--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-g},`prev-${g}`));for(let g=1;g<=d;g++)p.push(e.jsx("div",{onClick:()=>f(g),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:g},g));const y=42-p.length;for(let g=1;g<=y;g++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:g},`next-${g}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function AX(){const[t,s]=o.useState("TK Group"),[a,r]=o.useState(""),[n,l]=o.useState("January"),[i,d]=o.useState(""),[x,h]=o.useState(""),[m,b]=o.useState("active"),[f,N]=o.useState(null),[p,v]=o.useState({top:0,left:0}),[y,g]=o.useState(""),[j,C]=o.useState(""),[S,P]=o.useState(""),[k,E]=o.useState(""),[M,L]=o.useState([]),[O,q]=o.useState([]),[B,se]=o.useState(1),[le,pe]=o.useState(1),U=10,[Y,W]=o.useState(!1);o.useEffect(()=>{se(1)},[t]);const[re,G]=o.useState(!1),[R,F]=o.useState([]),[A,H]=o.useState(!1),[D,_]=o.useState([]),[xe,ge]=o.useState(!1),[Ne,Ce]=o.useState([]),[fe,ue]=o.useState(!1),[Oe,De]=o.useState([]),[Ae,Ee]=o.useState(!1),[ze,ot]=o.useState([]),[wt,Ie]=o.useState(!1),[ye,be]=o.useState([]),[Me,Re]=o.useState(!1),[st,He]=o.useState([]),[Ue,Ye]=o.useState(""),ht=async()=>(await ne.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(ce=>({id:ce.ID||ce.id,code:ce.groupCode||ce.code,description:ce.groupDescription||ce.description}));o.useEffect(()=>{(async()=>{const ce=await ht();F(ce)})()},[]);const ut=async()=>(await ne.get("/Fs/Employment/BranchSetUp")).data.map(ce=>({id:ce.braID||ce.ID,code:ce.braCode||ce.code,description:ce.braDesc||ce.description}));o.useEffect(()=>{(async()=>{const ce=await ut();_(ce)})()},[]);const vt=async()=>(await ne.get("/Fs/Employment/DepartmentSetUp")).data.map(ce=>({id:ce.depID||ce.ID,code:ce.depCode||ce.code,description:ce.depDesc||ce.description}));o.useEffect(()=>{(async()=>{const ce=await vt();Ce(ce)})()},[]);const ve=async()=>{const ae=await ne.get("/Fs/Employment/GroupSetUp");return(Array.isArray(ae.data)?ae.data:[]).map(te=>({id:te.grpSchID||te.id||te.ID,code:te.grpCode||te.code,description:te.grpDesc||te.description}))};o.useEffect(()=>{(async()=>{const ce=await ve();De(ce)})()},[]);const Le=async()=>{const ae=await ne.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(ae.data)?ae.data:[]).map(te=>({id:te.lineID??te.ID??te.id,code:te.lineCode??te.code,description:te.lineDesc??te.Description??te.description}))};o.useEffect(()=>{(async()=>{const ce=await Le();ot(ce)})()},[]);const he=async()=>{const ae=await ne.get("/Fs/Employment/SectionSetUp");return(Array.isArray(ae.data)?ae.data:[]).map(te=>({id:te.secID??te.ID??te.id,code:te.secCode??te.sectionCode??te.code,description:te.secDesc??te.Description??te.description}))};o.useEffect(()=>{(async()=>{const ce=await he();be(ce)})()},[]);const Ve=async()=>{const ae=await ne.get("/EmployeeMasterFile");return(Array.isArray(ae.data)?ae.data:[]).map(te=>({id:te.empID??te.ID??te.id,code:te.empCode||te.code||"",name:`${te.lName||""}, ${te.fName||""} ${te.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const ce=await Ve();He(ce)})()},[]);const Lt=(()=>{switch(t){case"Branch":return D;case"Department":return Ne;case"Group Schedule":return Oe;case"Pay House":return ze;case"Section":return ye;default:return R}})().filter(ae=>ae.code.toLowerCase().includes(S.toLowerCase())||ae.description.toLowerCase().includes(S.toLowerCase())),It=st.filter(ae=>ae.code.toLowerCase().includes(k.toLowerCase())||ae.name.toLowerCase().includes(k.toLowerCase())),qe=Math.ceil(Lt.length/U),Nt=(B-1)*U,gt=Nt+U,dt=Lt.slice((B-1)*U,B*U),kt=()=>{const ae=[];if(qe<=7)for(let ce=1;ce<=qe;ce++)ae.push(ce);else if(B<=4){for(let ce=1;ce<=5;ce++)ae.push(ce);ae.push("..."),ae.push(qe)}else if(B>=qe-3){ae.push(1),ae.push("...");for(let ce=qe-4;ce<=qe;ce++)ae.push(ce)}else{ae.push(1),ae.push("...");for(let ce=B-1;ce<=B+1;ce++)ae.push(ce);ae.push("..."),ae.push(qe)}return ae},Dt=Math.ceil(It.length/U),Ge=(le-1)*U,Ke=Ge+U,ie=It.slice((le-1)*U,le*U),ke=()=>{const ae=[];if(Dt<=5)return Array.from({length:Dt},(V,X)=>X+1);ae.push(1),le>3&&ae.push("...");const te=Math.max(2,le-1),z=Math.min(Dt-1,le+1);for(let V=te;V<=z;V++)ae.push(V);return le<Dt-2&&ae.push("..."),ae.push(Dt),ae},me=async()=>{if(!O.length){await ee.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!y||!j){await ee.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{W(!0);const ae={dateFrom:y,dateTo:j,empCode:O};console.log("Sending payload:",ae),await ne.put("/Utilities/UpdateGLCodeUtilityByDate,",ae),await ee.fire({icon:"success",title:"Success",text:`GL code policy settings successfully updated for employees: ${O.map(ce=>ce.toString()).join(", ")}`,timer:2e3,showConfirmButton:!1}),L([]),q([]),g(""),C("")}catch(ae){const ce=ae.response?.data?.message||ae.message||"An error occurred";await ee.fire({icon:"error",title:"Error",text:ce}),console.error("Error submitting form:",ae)}finally{W(!1)}},Ze=ae=>{L(ce=>ce.includes(ae)?ce.filter(te=>te!==ae):[...ce,ae])},it=ae=>{q(ce=>ce.includes(ae)?ce.filter(te=>te!==ae):[...ce,ae])},_t=()=>{M.length===Lt.length?L([]):L(Lt.map(ae=>ae.id))},nt=()=>{O.length===It.length?q([]):q(It.map(ae=>ae.id))},mt=ae=>{f==="year"?r(ae):f==="dateFrom"?g(ae):f==="dateTo"&&C(ae)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update GL Code Utility"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(ya,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Update General Ledger codes for processed timekeeping data. Apply GL code mappings to employee transactions for accounting integration and financial reporting purposes."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set date range for updates"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Batch update GL codes"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Hs},{name:"Branch",icon:ea},{name:"Department",icon:Zs},{name:"Group Schedule",icon:_a},{name:"Pay House",icon:Ia},{name:"Section",icon:Ma}].map(ae=>e.jsxs("button",{onClick:()=>s(ae.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===ae.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(ae.icon,{className:"w-4 h-4"}),ae.name]},ae.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:S,onChange:ae=>P(ae.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:M.length===Lt.length&&Lt.length>0,onChange:_t,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:dt.map(ae=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:M.includes(ae.id),onChange:()=>Ze(ae.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ae.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ae.description})]},ae.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",It.length===0?0:Nt+1," to ",Math.min(gt,Lt.length)," of ",Lt.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>se(ae=>Math.max(ae-1,1)),disabled:B===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),kt().map((ae,ce)=>ae==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${ce}`):e.jsx("button",{onClick:()=>se(ae),className:`px-2 py-1 rounded text-xs ${B===ae?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ae},ae)),e.jsx("button",{onClick:()=>se(ae=>Math.min(ae+1,qe)),disabled:B===qe||qe===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:k,onChange:ae=>E(ae.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:O.length===It.length&&It.length>0,onChange:nt,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ie.map(ae=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:O.includes(ae.id),onChange:()=>it(ae.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ae.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ae.name})]},ae.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",Ge+1," to ",Math.min(Ke,It.length)," of ",It.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>pe(ae=>Math.max(1,ae-1)),disabled:le===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),ke().map((ae,ce)=>typeof ae=="number"?e.jsx("button",{onClick:()=>pe(ae),className:`px-2 py-1 rounded text-xs ${le===ae?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ae},ce):e.jsx("span",{className:"px-2",children:ae},ce)),e.jsx("button",{onClick:()=>pe(ae=>Math.min(Dt,ae+1)),disabled:le===Dt,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:m==="active",onChange:()=>b("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:m==="inactive",onChange:()=>b("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:m==="all",onChange:()=>b("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:y,onChange:ae=>g(ae.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:y,onChange:g})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date To:"}),e.jsx("input",{type:"text",value:j,onChange:ae=>C(ae.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:j,onChange:C})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:me,disabled:Y,children:[e.jsx(Aa,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),f&&e.jsx(TX,{value:f==="year"?a:f==="dateFrom"?y:j,onChange:mt,onClose:()=>N(null),position:p}),e.jsx(Zt,{})]})}function FX({value:t,onChange:s,onClose:a,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&a()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[a]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,y=n.getFullYear(),g=`${v}/${p}/${y}`;s(g),a()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let g=x-1;g>=0;g--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-g},`prev-${g}`));for(let g=1;g<=d;g++)p.push(e.jsx("div",{onClick:()=>f(g),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:g},g));const y=42-p.length;for(let g=1;g<=y;g++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:g},`next-${g}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function PX(){const[t,s]=o.useState("TK Group"),[a,r]=o.useState(""),[n,l]=o.useState("January"),[i,d]=o.useState(""),[x,h]=o.useState(""),[m,b]=o.useState("active"),[f,N]=o.useState(null),[p,v]=o.useState({top:0,left:0}),[y,g]=o.useState(""),[j,C]=o.useState(""),[S,P]=o.useState(""),[k,E]=o.useState(""),[M,L]=o.useState([]),[O,q]=o.useState([]),[B,se]=o.useState(1),[le,pe]=o.useState(1),U=10,[Y,W]=o.useState(!1);o.useEffect(()=>{se(1)},[t]);const[re,G]=o.useState(!1),[R,F]=o.useState([]),[A,H]=o.useState(!1),[D,_]=o.useState([]),[xe,ge]=o.useState(!1),[Ne,Ce]=o.useState([]),[fe,ue]=o.useState(!1),[Oe,De]=o.useState([]),[Ae,Ee]=o.useState(!1),[ze,ot]=o.useState([]),[wt,Ie]=o.useState(!1),[ye,be]=o.useState([]),[Me,Re]=o.useState(!1),[st,He]=o.useState([]),[Ue,Ye]=o.useState(!1),[ht,ut]=o.useState([]),[vt,ve]=o.useState(!1),[Le,he]=o.useState([]),[Ve,xt]=o.useState(""),Pt=async()=>(await ne.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(we=>({id:we.ID||we.id,code:we.groupCode||we.code,description:we.groupDescription||we.description}));o.useEffect(()=>{(async()=>{const we=await Pt();F(we)})()},[]);const Lt=async()=>(await ne.get("/Fs/Employment/BranchSetUp")).data.map(we=>({id:we.braID||we.ID,code:we.braCode||we.code,description:we.braDesc||we.description}));o.useEffect(()=>{(async()=>{const we=await Lt();_(we)})()},[]);const It=async()=>(await ne.get("/Fs/Employment/DepartmentSetUp")).data.map(we=>({id:we.depID||we.ID,code:we.depCode||we.code,description:we.depDesc||we.description}));o.useEffect(()=>{(async()=>{const we=await It();Ce(we)})()},[]);const qe=async()=>(await ne.get("/Fs/Employment/DivisionSetUp")).data.map(we=>({id:we.divID||we.ID,code:we.divCode||we.code,description:we.divDesc||we.description}));o.useEffect(()=>{(async()=>{const we=await qe();De(we)})()},[]);const Nt=async()=>{const J=await ne.get("/Fs/Employment/GroupSetUp");return(Array.isArray(J.data)?J.data:[]).map(I=>({id:I.grpSchID||I.id||I.ID,code:I.grpCode||I.code,description:I.grpDesc||I.description}))};o.useEffect(()=>{(async()=>{const we=await Nt();ot(we)})()},[]);const gt=async()=>{const J=await ne.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(J.data)?J.data:[]).map(I=>({id:I.lineID??I.ID??I.id,code:I.lineCode??I.code,description:I.lineDesc??I.Description??I.description}))};o.useEffect(()=>{(async()=>{const we=await gt();be(we)})()},[]);const dt=async()=>{const J=await ne.get("/Fs/Employment/SectionSetUp");return(Array.isArray(J.data)?J.data:[]).map(I=>({id:I.secID??I.ID??I.id,code:I.secCode??I.sectionCode??I.code,description:I.secDesc??I.Description??I.description}))};o.useEffect(()=>{(async()=>{const we=await dt();He(we)})()},[]);const kt=async()=>(await ne.get("/Fs/Employment/UnitSetUp")).data.map(we=>({id:we.unitID||we.ID,code:we.unitCode||we.code,description:we.unitDesc||we.description}));o.useEffect(()=>{(async()=>{const we=await kt();ut(we)})()},[]);const Dt=async()=>{const J=await ne.get("/EmployeeMasterFile");return(Array.isArray(J.data)?J.data:[]).map(I=>({id:I.empID??I.ID??I.id,code:I.empCode||I.code||"",name:`${I.lName||""}, ${I.fName||""} ${I.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const we=await Dt();he(we)})()},[]);const ie=(()=>{switch(t){case"Branch":return D;case"Department":return Ne;case"Division":return Oe;case"Group Schedule":return ze;case"Pay House":return ye;case"Section":return st;case"Unit":return ht;default:return R}})().filter(J=>J.code.toLowerCase().includes(S.toLowerCase())||J.description.toLowerCase().includes(S.toLowerCase())),ke=Le.filter(J=>J.code.toLowerCase().includes(k.toLowerCase())||J.name.toLowerCase().includes(k.toLowerCase())),me=Math.ceil(ie.length/U),Ze=(B-1)*U,it=Ze+U,_t=ie.slice((B-1)*U,B*U),nt=()=>{const J=[];if(me<=7)for(let we=1;we<=me;we++)J.push(we);else if(B<=4){for(let we=1;we<=5;we++)J.push(we);J.push("..."),J.push(me)}else if(B>=me-3){J.push(1),J.push("...");for(let we=me-4;we<=me;we++)J.push(we)}else{J.push(1),J.push("...");for(let we=B-1;we<=B+1;we++)J.push(we);J.push("..."),J.push(me)}return J},mt=Math.ceil(ke.length/U),ae=(le-1)*U,ce=ae+U,te=ke.slice((le-1)*U,le*U),z=()=>{const J=[];if(mt<=5)return Array.from({length:mt},(Q,We)=>We+1);J.push(1),le>3&&J.push("...");const I=Math.max(2,le-1),Z=Math.min(mt-1,le+1);for(let Q=I;Q<=Z;Q++)J.push(Q);return le<mt-2&&J.push("..."),J.push(mt),J},V=async()=>{if(!O.length){await ee.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!y||!j){await ee.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{W(!0),await ee.fire({icon:"success",title:"Success",text:"Flexi Break settings successfully updated.",timer:2e3,showConfirmButton:!1}),L([]),q([]),g(""),C("")}catch(J){console.error(J),alert("Failed to update records")}finally{W(!1)}},X=J=>{L(we=>we.includes(J)?we.filter(I=>I!==J):[...we,J])},de=J=>{q(we=>we.includes(J)?we.filter(I=>I!==J):[...we,J])},_e=()=>{M.length===ie.length?L([]):L(ie.map(J=>J.id))},Te=()=>{O.length===ke.length?q([]):q(ke.map(J=>J.id))},je=J=>{f==="year"?r(J):f==="dateFrom"?g(J):f==="dateTo"&&C(J)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Flexi Break Utility"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(ya,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Update flexible break configurations for selected employees. Apply customized break time policies and manage break hour allocations based on workshift requirements."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set date range for updates"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Batch update flexi break settings"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Hs},{name:"Branch",icon:ea},{name:"Department",icon:Zs},{name:"Division",icon:wr},{name:"Group Schedule",icon:_a},{name:"Pay House",icon:Ia},{name:"Section",icon:Ma},{name:"Unit",icon:ln}].map(J=>e.jsxs("button",{onClick:()=>s(J.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===J.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(J.icon,{className:"w-4 h-4"}),J.name]},J.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:S,onChange:J=>P(J.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:M.length===ie.length&&ie.length>0,onChange:_e,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:_t.map(J=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:M.includes(J.id),onChange:()=>X(J.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:J.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:J.description})]},J.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",ke.length===0?0:Ze+1," to ",Math.min(it,ie.length)," of ",ie.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>se(J=>Math.max(J-1,1)),disabled:B===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),nt().map((J,we)=>J==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${we}`):e.jsx("button",{onClick:()=>se(J),className:`px-2 py-1 rounded text-xs ${B===J?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:J},J)),e.jsx("button",{onClick:()=>se(J=>Math.min(J+1,me)),disabled:B===me||me===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:k,onChange:J=>E(J.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:O.length===ke.length&&ke.length>0,onChange:Te,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:te.map(J=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:O.includes(J.id),onChange:()=>de(J.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:J.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:J.name})]},J.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",ae+1," to ",Math.min(ce,ke.length)," of ",ke.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>pe(J=>Math.max(1,J-1)),disabled:le===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),z().map((J,we)=>typeof J=="number"?e.jsx("button",{onClick:()=>pe(J),className:`px-2 py-1 rounded text-xs ${le===J?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:J},we):e.jsx("span",{className:"px-2",children:J},we)),e.jsx("button",{onClick:()=>pe(J=>Math.min(mt,J+1)),disabled:le===mt,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:m==="active",onChange:()=>b("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:m==="inactive",onChange:()=>b("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:m==="all",onChange:()=>b("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:y,onChange:J=>g(J.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:y,onChange:g})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date To:"}),e.jsx("input",{type:"text",value:j,onChange:J=>C(J.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:j,onChange:C})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:V,disabled:Y,children:[e.jsx(Aa,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),f&&e.jsx(FX,{value:f==="year"?a:f==="dateFrom"?y:j,onChange:je,onClose:()=>N(null),position:p}),e.jsx(Zt,{})]})}function MX({value:t,onChange:s,onClose:a,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&a()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[a]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,y=n.getFullYear(),g=`${v}/${p}/${y}`;s(g),a()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let g=x-1;g>=0;g--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-g},`prev-${g}`));for(let g=1;g<=d;g++)p.push(e.jsx("div",{onClick:()=>f(g),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:g},g));const y=42-p.length;for(let g=1;g<=y;g++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:g},`next-${g}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function IX(){const[t,s]=o.useState("5/5/2021"),[a,r]=o.useState("05/05/2021"),[n,l]=o.useState("5/5/2021"),[i,d]=o.useState(null),[x,h]=o.useState({top:0,left:0}),[m,b]=o.useState(""),[f,N]=o.useState(""),[p,v]=o.useState([]),[y,g]=o.useState(1),j=10,[C,S]=o.useState(!1),[P,k]=o.useState(""),[E,M]=o.useState(""),[L,O]=o.useState(!1),[q,B]=o.useState(!1),[se,le]=o.useState([]),[pe,U]=o.useState(!1),[Y,W]=o.useState([]),[re,G]=o.useState("");o.useEffect(()=>{g(1)},[f,se]);const R=async()=>(await ne.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Ee=>({id:Ee.ID||Ee.id,code:Ee.groupCode||Ee.code,description:Ee.groupDescription||Ee.description}));o.useEffect(()=>{(async()=>{const Ee=await R();le(Ee)})()},[]),o.useEffect(()=>{F()},[]);const F=async()=>{U(!0),G("");try{const Ae=await ne.get("/EmployeeMasterFile");if(Ae.status===200&&Ae.data){const Ee=Ae.data.map(ze=>({empCode:ze.empCode||ze.code||"",name:`${ze.lName||""}, ${ze.fName||""} ${ze.mName||""}`.trim(),groupCode:ze.grpCode||""}));W(Ee)}}catch(Ae){const Ee=Ae.response?.data?.message||Ae.message||"Failed to load employees";G(Ee),console.error("Error fetching employees:",Ae)}finally{U(!1)}},A=(Ae,Ee)=>{k(Ae),M(Ee),O(!1)},H=se.filter(Ae=>Ae.code.toLowerCase().includes(f.toLowerCase())||Ae.description.toLowerCase().includes(f.toLowerCase())),D=Math.ceil(H.length/j),_=(y-1)*j,xe=_+j,ge=H.slice((y-1)*j,y*j),Ne=()=>{const Ae=[];if(D<=7)for(let Ee=1;Ee<=D;Ee++)Ae.push(Ee);else if(y<=4){for(let Ee=1;Ee<=5;Ee++)Ae.push(Ee);Ae.push("..."),Ae.push(D)}else if(y>=D-3){Ae.push(1),Ae.push("...");for(let Ee=D-4;Ee<=D;Ee++)Ae.push(Ee)}else{Ae.push(1),Ae.push("...");for(let Ee=y-1;Ee<=y+1;Ee++)Ae.push(Ee);Ae.push("..."),Ae.push(D)}return Ae},Ce=async()=>{if(!p.length){await ee.fire({icon:"error",title:"Error",text:"Please select TK Group item/s.",timer:2e3,showConfirmButton:!0});return}if(!P.length){await ee.fire({icon:"error",title:"Error",text:"Please select employee to update.",timer:2e3,showConfirmButton:!0});return}if(!t||!a){await ee.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{S(!0),await ee.fire({icon:"success",title:"Success",text:"Successfully updated SSS Notification.",timer:2e3,showConfirmButton:!1}),v([]),s(""),r("")}catch(Ae){console.error(Ae),alert("Failed to update records")}finally{S(!1)}},fe=async()=>{if(!p.length){await ee.fire({icon:"error",title:"Error",text:"Please select TK Group item/s.",timer:2e3,showConfirmButton:!0});return}if(!t||!a){await ee.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{S(!0),await ee.fire({icon:"warning",title:"Success",text:"Successfully Unpost No. of Hours Per Week.",timer:2e3,background:"#da1526",showConfirmButton:!1}),v([]),s(""),r("")}catch(Ae){console.error(Ae),alert("Failed to update records")}finally{S(!1)}},ue=Ae=>{v(Ae?ge.map(Ee=>Ee.id):[])},Oe=(Ae,Ee)=>{v(ze=>Ee?[...ze,Ae]:ze.filter(ot=>ot!==Ae))},De=Ae=>{i==="dateFrom"?s(Ae):i==="dateTo"?r(Ae):i==="appliedDate"&&l(Ae)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update SSS Notification"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(vi,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Update SSS notification records for processed employees. Manage social security notifications and track applied dates efficiently."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Search employees by code"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set applied date for notifications"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update or unpost changes"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx(Gt,{className:"w-4 h-4 text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Search...",value:f,onChange:Ae=>N(Ae.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:ge.length>0&&ge.every(Ae=>p.includes(Ae.id)),onChange:Ae=>ue(Ae.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ge.map(Ae=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:p.includes(Ae.id),onChange:Ee=>Oe(Ae.id,Ee.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Ae.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Ae.description})]},Ae.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",H.length===0?0:_+1," to ",Math.min(xe,H.length)," of ",H.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>g(Ae=>Math.max(Ae-1,1)),disabled:y===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Ne().map((Ae,Ee)=>Ae==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Ee}`):e.jsx("button",{onClick:()=>g(Ae),className:`px-2 py-1 rounded text-xs ${y===Ae?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ae},Ae)),e.jsx("button",{onClick:()=>g(Ae=>Math.min(Ae+1,D)),disabled:y===D||D===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Date Range and Processed Employee"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"From:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:t,onChange:Ae=>s(Ae.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm flex-1"}),e.jsx(xs,{date:t,onChange:s})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"To:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:a,onChange:Ae=>r(Ae.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm flex-1"}),e.jsx(xs,{date:a,onChange:r})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-32",children:"Employee:"}),e.jsx("input",{type:"text",value:P&&E?`${P} - ${E}`:"",onChange:Ae=>M(Ae.target.value),readOnly:!0,className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm flex-1"}),e.jsx("button",{onClick:()=>O(!0),className:"p-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center justify-center",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors flex items-center justify-center",children:e.jsx(et,{onClick:()=>{M(""),k("")},className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:Ce,children:[e.jsx(Aa,{className:"w-4 h-4"}),"Update"]}),e.jsxs("button",{className:"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm flex items-center gap-2",onClick:fe,children:[e.jsx(W0,{className:"w-4 h-4"}),"Unpost"]})]})]})]})]})]})]})}),i&&e.jsx(MX,{value:i==="dateFrom"?t:i==="dateTo"?a:n,onChange:De,onClose:()=>d(null),position:x}),e.jsx(nr,{isOpen:L,onClose:()=>O(!1),onSelect:A,employees:Y,loading:pe,error:re})]})}function LX({value:t,onChange:s,onClose:a,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&a()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[a]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,y=n.getFullYear(),g=`${v}/${p}/${y}`;s(g),a()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let g=x-1;g>=0;g--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-g},`prev-${g}`));for(let g=1;g<=d;g++)p.push(e.jsx("div",{onClick:()=>f(g),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:g},g));const y=42-p.length;for(let g=1;g<=y;g++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:g},`next-${g}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function OX(){const[t,s]=o.useState("TK Group"),[a,r]=o.useState("5/5/2021"),[n,l]=o.useState("05/05/2021"),[i,d]=o.useState("5/5/2021"),[x,h]=o.useState("active"),[m,b]=o.useState(null),[f,N]=o.useState({top:0,left:0}),[p,v]=o.useState(""),[y,g]=o.useState(""),[j,C]=o.useState([]),[S,P]=o.useState([]),[k,E]=o.useState(1),[M,L]=o.useState(1),O=10,[q,B]=o.useState(!1);o.useEffect(()=>{E(1)},[t]);const[se,le]=o.useState(!1),[pe,U]=o.useState([]),[Y,W]=o.useState(!1),[re,G]=o.useState([]),[R,F]=o.useState(!1),[A,H]=o.useState([]),[D,_]=o.useState(!1),[xe,ge]=o.useState([]),[Ne,Ce]=o.useState(!1),[fe,ue]=o.useState([]),[Oe,De]=o.useState(!1),[Ae,Ee]=o.useState([]),[ze,ot]=o.useState(!1),[wt,Ie]=o.useState([]),ye=async()=>(await ne.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(me=>({id:me.ID||me.id,code:me.groupCode||me.code,description:me.groupDescription||me.description}));o.useEffect(()=>{(async()=>{const me=await ye();U(me)})()},[]);const be=async()=>(await ne.get("/Fs/Employment/BranchSetUp")).data.map(me=>({id:me.braID||me.ID,code:me.braCode||me.code,description:me.braDesc||me.description}));o.useEffect(()=>{(async()=>{const me=await be();G(me)})()},[]);const Me=async()=>(await ne.get("/Fs/Employment/DepartmentSetUp")).data.map(me=>({id:me.depID||me.ID,code:me.depCode||me.code,description:me.depDesc||me.description}));o.useEffect(()=>{(async()=>{const me=await Me();H(me)})()},[]);const Re=async()=>{const ke=await ne.get("/Fs/Employment/GroupSetUp");return(Array.isArray(ke.data)?ke.data:[]).map(Ze=>({id:Ze.grpSchID||Ze.id||Ze.ID,code:Ze.grpCode||Ze.code,description:Ze.grpDesc||Ze.description}))};o.useEffect(()=>{(async()=>{const me=await Re();ge(me)})()},[]);const st=async()=>{const ke=await ne.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(ke.data)?ke.data:[]).map(Ze=>({id:Ze.lineID??Ze.ID??Ze.id,code:Ze.lineCode??Ze.code,description:Ze.lineDesc??Ze.Description??Ze.description}))};o.useEffect(()=>{(async()=>{const me=await st();ue(me)})()},[]);const He=async()=>{const ke=await ne.get("/Fs/Employment/SectionSetUp");return(Array.isArray(ke.data)?ke.data:[]).map(Ze=>({id:Ze.secID??Ze.ID??Ze.id,code:Ze.secCode??Ze.sectionCode??Ze.code,description:Ze.secDesc??Ze.Description??Ze.description}))};o.useEffect(()=>{(async()=>{const me=await He();Ee(me)})()},[]);const Ue=async()=>{const ke=await ne.get("/EmployeeMasterFile");return(Array.isArray(ke.data)?ke.data:[]).map(Ze=>({id:Ze.empID??Ze.ID??Ze.id,code:Ze.empCode||Ze.code||"",name:`${Ze.lName||""}, ${Ze.fName||""} ${Ze.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const me=await Ue();Ie(me)})()},[]);const ht=(()=>{switch(t){case"Branch":return re;case"Department":return A;case"Group Schedule":return xe;case"Pay House":return fe;case"Section":return Ae;default:return pe}})(),ut=async()=>{if(!S.length){await ee.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!a||!n){await ee.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}if(!i){await ee.fire({icon:"error",title:"Error",text:"Please select Date to Apply.",timer:2e3,showConfirmButton:!0});return}try{B(!0),await ee.fire({icon:"success",title:"Success",text:"Successfully Updated No. of Hours Per Week.",timer:2e3,showConfirmButton:!1}),C([]),P([]),r(""),l(""),d("")}catch(ke){console.error(ke),alert("Failed to update records")}finally{B(!1)}},vt=async()=>{if(!S.length){await ee.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!a||!n){await ee.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}if(!i){await ee.fire({icon:"error",title:"Error",text:"Please select Date to Apply.",timer:2e3,showConfirmButton:!0});return}try{B(!0),await ee.fire({icon:"warning",title:"Success",text:"Successfully Unpost No. of Hours Per Week.",timer:2e3,background:"#da1526",showConfirmButton:!1}),C([]),P([]),r(""),l(""),d("")}catch(ke){console.error(ke),alert("Failed to update records")}finally{B(!1)}},ve=ht.filter(ke=>ke.code.toLowerCase().includes(p.toLowerCase())||ke.description.toLowerCase().includes(p.toLowerCase())),Le=wt.filter(ke=>ke.code.toLowerCase().includes(y.toLowerCase())||ke.name.toLowerCase().includes(y.toLowerCase())),he=Math.ceil(ve.length/O),Ve=(k-1)*O,xt=Ve+O,Pt=ve.slice((k-1)*O,k*O),Lt=()=>{const ke=[];if(he<=7)for(let me=1;me<=he;me++)ke.push(me);else if(k<=4){for(let me=1;me<=5;me++)ke.push(me);ke.push("..."),ke.push(he)}else if(k>=he-3){ke.push(1),ke.push("...");for(let me=he-4;me<=he;me++)ke.push(me)}else{ke.push(1),ke.push("...");for(let me=k-1;me<=k+1;me++)ke.push(me);ke.push("..."),ke.push(he)}return ke},It=Math.ceil(Le.length/O),qe=(M-1)*O,Nt=qe+O,gt=Le.slice((M-1)*O,M*O),dt=()=>{const ke=[];if(It<=5)return Array.from({length:It},(_t,nt)=>nt+1);ke.push(1),M>3&&ke.push("...");const Ze=Math.max(2,M-1),it=Math.min(It-1,M+1);for(let _t=Ze;_t<=it;_t++)ke.push(_t);return M<It-2&&ke.push("..."),ke.push(It),ke},kt=ke=>{C(me=>me.includes(ke)?me.filter(Ze=>Ze!==ke):[...me,ke])},Dt=ke=>{P(me=>me.includes(ke)?me.filter(Ze=>Ze!==ke):[...me,ke])},Ge=()=>{j.length===ve.length?C([]):C(ve.map(ke=>ke.id))},Ke=()=>{S.length===Le.length?P([]):P(Le.map(ke=>ke.id))},ie=ke=>{m==="dateToApply"?d(ke):m==="dateFrom"?r(ke):m==="dateTo"&&l(ke)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update No. of Hours Per Week"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(xa,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Update the number of hours per week for selected employee groups. Configure weekly hour requirements across multiple employees efficiently."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Specify effective dates"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update or unpost changes"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Hs},{name:"Branch",icon:ea},{name:"Department",icon:Zs},{name:"Group Schedule",icon:_a},{name:"Pay House",icon:Ia},{name:"Section",icon:Ma}].map(ke=>e.jsxs("button",{onClick:()=>s(ke.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===ke.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(ke.icon,{className:"w-4 h-4"}),ke.name]},ke.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:p,onChange:ke=>v(ke.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:j.length===ve.length&&ve.length>0,onChange:Ge,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Pt.map(ke=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:j.includes(ke.id),onChange:()=>kt(ke.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ke.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ke.description})]},ke.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Le.length===0?0:Ve+1," to ",Math.min(xt,ve.length)," of ",ve.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>E(ke=>Math.max(ke-1,1)),disabled:k===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Lt().map((ke,me)=>ke==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${me}`):e.jsx("button",{onClick:()=>E(ke),className:`px-2 py-1 rounded text-xs ${k===ke?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ke},ke)),e.jsx("button",{onClick:()=>E(ke=>Math.min(ke+1,he)),disabled:k===he||he===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:y,onChange:ke=>g(ke.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:S.length===Le.length&&Le.length>0,onChange:Ke,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:gt.map(ke=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:S.includes(ke.id),onChange:()=>Dt(ke.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ke.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ke.name})]},ke.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",qe+1," to ",Math.min(Nt,Le.length)," of ",Le.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>L(ke=>Math.max(1,ke-1)),disabled:M===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),dt().map((ke,me)=>typeof ke=="number"?e.jsx("button",{onClick:()=>L(ke),className:`px-2 py-1 rounded text-xs ${M===ke?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ke},me):e.jsx("span",{className:"px-2",children:ke},me)),e.jsx("button",{onClick:()=>L(ke=>Math.min(It,ke+1)),disabled:M===It,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:x==="active",onChange:()=>h("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:x==="inactive",onChange:()=>h("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:x==="all",onChange:()=>h("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Date Range"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:a,onChange:ke=>r(ke.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:a,onChange:r})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date To:"}),e.jsx("input",{type:"text",value:n,onChange:ke=>l(ke.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:n,onChange:l})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date Applied:"}),e.jsx("input",{type:"text",value:i,onChange:ke=>d(ke.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:i,onChange:d})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 mt-4",children:[e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:ut,children:[e.jsx(Aa,{className:"w-4 h-4"}),"Update"]}),e.jsxs("button",{className:"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm flex items-center gap-2",onClick:vt,children:[e.jsx(W0,{className:"w-4 h-4"}),"Unpost"]})]})]})]})]})]})]})}),m&&e.jsx(LX,{value:m==="dateToApply"?i:m==="dateFrom"?a:n,onChange:ie,onClose:()=>b(null),position:f})]})}function _X({value:t,onChange:s,onClose:a,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&a()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[a]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,y=n.getFullYear(),g=`${v}/${p}/${y}`;s(g),a()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let g=x-1;g>=0;g--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-g},`prev-${g}`));for(let g=1;g<=d;g++)p.push(e.jsx("div",{onClick:()=>f(g),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:g},g));const y=42-p.length;for(let g=1;g<=y;g++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:g},`next-${g}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function BX(){const[t,s]=o.useState("TK Group"),[a,r]=o.useState(""),[n,l]=o.useState("January"),[i,d]=o.useState(""),[x,h]=o.useState(""),[m,b]=o.useState("active"),[f,N]=o.useState(null),[p,v]=o.useState({top:0,left:0}),[y,g]=o.useState(""),[j,C]=o.useState(""),[S,P]=o.useState([]),[k,E]=o.useState([]),[M,L]=o.useState(1),[O,q]=o.useState(1),B=10,[se,le]=o.useState(!1);o.useEffect(()=>{L(1)},[t]);const[pe,U]=o.useState(!1),[Y,W]=o.useState([]),[re,G]=o.useState(!1),[R,F]=o.useState([]),[A,H]=o.useState(!1),[D,_]=o.useState([]),[xe,ge]=o.useState(!1),[Ne,Ce]=o.useState([]),[fe,ue]=o.useState(!1),[Oe,De]=o.useState([]),[Ae,Ee]=o.useState(!1),[ze,ot]=o.useState([]),[wt,Ie]=o.useState(!1),[ye,be]=o.useState([]),[Me,Re]=o.useState(!1),[st,He]=o.useState([]),[Ue,Ye]=o.useState(!1),[ht,ut]=o.useState([]),vt=async()=>(await ne.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(de=>({id:de.ID||de.id,code:de.groupCode||de.code,description:de.groupDescription||de.description}));o.useEffect(()=>{(async()=>{const de=await vt();W(de)})()},[]);const ve=async()=>(await ne.get("/Fs/Employment/BranchSetUp")).data.map(de=>({id:de.braID||de.ID,code:de.braCode||de.code,description:de.braDesc||de.description}));o.useEffect(()=>{(async()=>{const de=await ve();F(de)})()},[]);const Le=async()=>(await ne.get("/Fs/Employment/DepartmentSetUp")).data.map(de=>({id:de.depID||de.ID,code:de.depCode||de.code,description:de.depDesc||de.description})),he=async()=>(await ne.get("/Fs/Employment/DivisionSetUp")).data.map(de=>({id:de.divID||de.ID,code:de.divCode||de.code,description:de.divDesc||de.description}));o.useEffect(()=>{(async()=>{const de=await he();Ce(de)})()},[]),o.useEffect(()=>{(async()=>{const de=await Le();_(de)})()},[]);const Ve=async()=>{const X=await ne.get("/Fs/Employment/GroupSetUp");return(Array.isArray(X.data)?X.data:[]).map(_e=>({id:_e.grpSchID||_e.id||_e.ID,code:_e.grpCode||_e.code,description:_e.grpDesc||_e.description}))};o.useEffect(()=>{(async()=>{const de=await Ve();De(de)})()},[]);const xt=async()=>{const X=await ne.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(X.data)?X.data:[]).map(_e=>({id:_e.lineID??_e.ID??_e.id,code:_e.lineCode??_e.code,description:_e.lineDesc??_e.Description??_e.description}))};o.useEffect(()=>{(async()=>{const de=await xt();ot(de)})()},[]);const Pt=async()=>{const X=await ne.get("/Fs/Employment/SectionSetUp");return(Array.isArray(X.data)?X.data:[]).map(_e=>({id:_e.secID??_e.ID??_e.id,code:_e.secCode??_e.sectionCode??_e.code,description:_e.secDesc??_e.Description??_e.description}))};o.useEffect(()=>{(async()=>{const de=await Pt();be(de)})()},[]);const Lt=async()=>(await ne.get("/Fs/Employment/UnitSetUp")).data.map(de=>({id:de.unitID||de.ID,code:de.unitCode||de.code,description:de.unitDesc||de.description}));o.useEffect(()=>{(async()=>{const de=await Lt();He(de)})()},[]);const It=async()=>{const X=await ne.get("/EmployeeMasterFile");return(Array.isArray(X.data)?X.data:[]).map(_e=>({id:_e.empID??_e.ID??_e.id,code:_e.empCode||_e.code||"",name:`${_e.lName||""}, ${_e.fName||""} ${_e.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const de=await It();ut(de)})()},[]);const gt=(()=>{switch(t){case"Branch":return R;case"Department":return D;case"Division":return Ne;case"Group Schedule":return Oe;case"Pay House":return ze;case"Section":return ye;case"Unit":return st;default:return Y}})().filter(X=>X.code.toLowerCase().includes(y.toLowerCase())||X.description.toLowerCase().includes(y.toLowerCase())),dt=ht.filter(X=>X.code.toLowerCase().includes(j.toLowerCase())||X.name.toLowerCase().includes(j.toLowerCase())),kt=Math.ceil(gt.length/B),Dt=(M-1)*B,Ge=Dt+B,Ke=gt.slice((M-1)*B,M*B),ie=()=>{const X=[];if(kt<=7)for(let de=1;de<=kt;de++)X.push(de);else if(M<=4){for(let de=1;de<=5;de++)X.push(de);X.push("..."),X.push(kt)}else if(M>=kt-3){X.push(1),X.push("...");for(let de=kt-4;de<=kt;de++)X.push(de)}else{X.push(1),X.push("...");for(let de=M-1;de<=M+1;de++)X.push(de);X.push("..."),X.push(kt)}return X},ke=Math.ceil(dt.length/B),me=(O-1)*B,Ze=me+B,it=dt.slice((O-1)*B,O*B),_t=()=>{const X=[];if(ke<=5)return Array.from({length:ke},(je,J)=>J+1);X.push(1),O>3&&X.push("...");const _e=Math.max(2,O-1),Te=Math.min(ke-1,O+1);for(let je=_e;je<=Te;je++)X.push(je);return O<ke-2&&X.push("..."),X.push(ke),X},nt=async()=>{if(!k.length){await ee.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!n||!a){await ee.fire({icon:"error",title:"Error",text:"Invalid Month or Year.",timer:2e3,showConfirmButton:!0});return}if(!i||isNaN(Number(i))||Number(i)<=0){await ee.fire({icon:"error",title:"Error",text:"Please fill no of Tardiness.",timer:2e3,showConfirmButton:!0});return}if(!x||isNaN(Number(x))||Number(x)<0){await ee.fire({icon:"error",title:"Error",text:"Please fill Grace Period.",timer:2e3,showConfirmButton:!0});return}try{le(!0),await ee.fire({icon:"success",title:"Success",text:"Successfully updated Tardiness Penalty.",timer:2e3,showConfirmButton:!1}),E([])}catch(X){console.error(X),alert("Failed to update records")}finally{le(!1)}},mt=async()=>{if(!k.length){await ee.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!n.length||!a.length){await ee.fire({icon:"error",title:"Error",text:"Invalid Month or Year.",timer:2e3,showConfirmButton:!0});return}if(!i||isNaN(Number(i))||Number(i)<=0){await ee.fire({icon:"error",title:"Error",text:"Please fill no of Tardiness.",timer:2e3,showConfirmButton:!0});return}if(!x||isNaN(Number(x))||Number(x)<0){await ee.fire({icon:"error",title:"Error",text:"Please fill Grace Period.",timer:2e3,showConfirmButton:!0});return}try{le(!0),await ee.fire({icon:"warning",title:"Success",text:"Successfully unposted Tardiness Penalty.",timer:2e3,background:"#da1526",showConfirmButton:!1}),P([]),E([]),r(""),l(""),d(""),h("")}catch(X){console.error(X),alert("Failed to update records")}finally{le(!1)}},ae=X=>{P(de=>de.includes(X)?de.filter(_e=>_e!==X):[...de,X])},ce=X=>{E(de=>de.includes(X)?de.filter(_e=>_e!==X):[...de,X])},te=()=>{S.length===gt.length?P([]):P(gt.map(X=>X.id))},z=()=>{k.length===dt.length?E([]):E(dt.map(X=>X.id))},V=X=>{f==="year"&&r(X)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Tardiness Penalty"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(ya,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Update tardiness penalties for selected employee groups. Configure penalty settings based on tardiness frequency and grace periods efficiently."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set year, month, and penalty parameters"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update or unpost changes"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Hs},{name:"Branch",icon:ea},{name:"Department",icon:Zs},{name:"Division",icon:wr},{name:"Group Schedule",icon:_a},{name:"Pay House",icon:Ia},{name:"Section",icon:Ma},{name:"Unit",icon:ln}].map(X=>e.jsxs("button",{onClick:()=>s(X.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===X.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(X.icon,{className:"w-4 h-4"}),X.name]},X.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:y,onChange:X=>g(X.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:S.length===gt.length&&gt.length>0,onChange:te,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Ke.map(X=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:S.includes(X.id),onChange:()=>ae(X.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:X.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:X.description})]},X.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",dt.length===0?0:Dt+1," to ",Math.min(Ge,gt.length)," of ",gt.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>L(X=>Math.max(X-1,1)),disabled:M===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),ie().map((X,de)=>X==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${de}`):e.jsx("button",{onClick:()=>L(X),className:`px-2 py-1 rounded text-xs ${M===X?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:X},X)),e.jsx("button",{onClick:()=>L(X=>Math.min(X+1,kt)),disabled:M===kt||kt===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:j,onChange:X=>C(X.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:k.length===dt.length&&dt.length>0,onChange:z,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:it.map(X=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:k.includes(X.id),onChange:()=>ce(X.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:X.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:X.name})]},X.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",me+1," to ",Math.min(Ze,dt.length)," of ",dt.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>q(X=>Math.max(1,X-1)),disabled:O===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),_t().map((X,de)=>typeof X=="number"?e.jsx("button",{onClick:()=>q(X),className:`px-2 py-1 rounded text-xs ${O===X?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:X},de):e.jsx("span",{className:"px-2",children:X},de)),e.jsx("button",{onClick:()=>q(X=>Math.min(ke,X+1)),disabled:O===ke,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:m==="active",onChange:()=>b("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:m==="inactive",onChange:()=>b("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:m==="all",onChange:()=>b("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Year"}),e.jsx("input",{type:"text",value:a,onChange:X=>r(X.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-full"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Month"}),e.jsxs("select",{value:n,onChange:X=>l(X.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-full",children:[e.jsx("option",{value:"January",children:"January"}),e.jsx("option",{value:"February",children:"February"}),e.jsx("option",{value:"March",children:"March"}),e.jsx("option",{value:"April",children:"April"}),e.jsx("option",{value:"May",children:"May"}),e.jsx("option",{value:"June",children:"June"}),e.jsx("option",{value:"July",children:"July"}),e.jsx("option",{value:"August",children:"August"}),e.jsx("option",{value:"September",children:"September"}),e.jsx("option",{value:"October",children:"October"}),e.jsx("option",{value:"November",children:"November"}),e.jsx("option",{value:"December",children:"December"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"No of Tardiness"}),e.jsx("input",{type:"text",value:i,onChange:X=>d(X.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-full"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Grace Period [hh.mm]"}),e.jsx("input",{type:"text",value:x,onChange:X=>h(X.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-full"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:nt,children:[e.jsx(Aa,{className:"w-4 h-4"}),"Update"]}),e.jsxs("button",{className:"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm flex items-center gap-2",onClick:mt,children:[e.jsx(W0,{className:"w-4 h-4"}),"Unpost"]})]})]})})]})]})]})]})}),f&&e.jsx(_X,{value:f==="year"?a:"",onChange:V,onClose:()=>N(null),position:p})]})}function RX({value:t,onChange:s,onClose:a,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&a()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[a]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,y=n.getFullYear(),g=`${v}/${p}/${y}`;s(g),a()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let g=x-1;g>=0;g--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-g},`prev-${g}`));for(let g=1;g<=d;g++)p.push(e.jsx("div",{onClick:()=>f(g),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:g},g));const y=42-p.length;for(let g=1;g<=y;g++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:g},`next-${g}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function UX(){const[t,s]=o.useState("TK Group"),[a,r]=o.useState("5/5/2021"),[n,l]=o.useState("05/05/2021"),[i,d]=o.useState("active"),[x,h]=o.useState(null),[m,b]=o.useState({top:0,left:0}),[f,N]=o.useState(""),[p,v]=o.useState(""),[y,g]=o.useState([]),[j,C]=o.useState([]),[S,P]=o.useState(1),[k,E]=o.useState(1),M=10,[L,O]=o.useState(!1);o.useEffect(()=>{P(1)},[t]);const[q,B]=o.useState(!1),[se,le]=o.useState([]),[pe,U]=o.useState(!1),[Y,W]=o.useState([]),[re,G]=o.useState(!1),[R,F]=o.useState([]),[A,H]=o.useState(!1),[D,_]=o.useState([]),[xe,ge]=o.useState(!1),[Ne,Ce]=o.useState([]),[fe,ue]=o.useState(!1),[Oe,De]=o.useState([]),[Ae,Ee]=o.useState(!1),[ze,ot]=o.useState([]),wt=async()=>(await ne.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Ke=>({id:Ke.ID||Ke.id,code:Ke.groupCode||Ke.code,description:Ke.groupDescription||Ke.description}));o.useEffect(()=>{(async()=>{const Ke=await wt();le(Ke)})()},[]);const Ie=async()=>(await ne.get("/Fs/Employment/BranchSetUp")).data.map(Ke=>({id:Ke.braID||Ke.ID,code:Ke.braCode||Ke.code,description:Ke.braDesc||Ke.description}));o.useEffect(()=>{(async()=>{const Ke=await Ie();W(Ke)})()},[]);const ye=async()=>(await ne.get("/Fs/Employment/DepartmentSetUp")).data.map(Ke=>({id:Ke.depID||Ke.ID,code:Ke.depCode||Ke.code,description:Ke.depDesc||Ke.description}));o.useEffect(()=>{(async()=>{const Ke=await ye();F(Ke)})()},[]);const be=async()=>{const Ge=await ne.get("/Fs/Employment/GroupSetUp");return(Array.isArray(Ge.data)?Ge.data:[]).map(ie=>({id:ie.grpSchID||ie.id||ie.ID,code:ie.grpCode||ie.code,description:ie.grpDesc||ie.description}))};o.useEffect(()=>{(async()=>{const Ke=await be();_(Ke)})()},[]);const Me=async()=>{const Ge=await ne.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(Ge.data)?Ge.data:[]).map(ie=>({id:ie.lineID??ie.ID??ie.id,code:ie.lineCode??ie.code,description:ie.lineDesc??ie.Description??ie.description}))};o.useEffect(()=>{(async()=>{const Ke=await Me();Ce(Ke)})()},[]);const Re=async()=>{const Ge=await ne.get("/Fs/Employment/SectionSetUp");return(Array.isArray(Ge.data)?Ge.data:[]).map(ie=>({id:ie.secID??ie.ID??ie.id,code:ie.secCode??ie.sectionCode??ie.code,description:ie.secDesc??ie.Description??ie.description}))};o.useEffect(()=>{(async()=>{const Ke=await Re();De(Ke)})()},[]);const st=async()=>{const Ge=await ne.get("/EmployeeMasterFile");return(Array.isArray(Ge.data)?Ge.data:[]).map(ie=>({id:ie.empID??ie.ID??ie.id,code:ie.empCode||ie.code||"",name:`${ie.lName||""}, ${ie.fName||""} ${ie.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const Ke=await st();ot(Ke)})()},[]);const Ye=(()=>{switch(t){case"Branch":return Y;case"Department":return R;case"Group Schedule":return D;case"Pay House":return Ne;case"Section":return Oe;default:return se}})().filter(Ge=>Ge.code.toLowerCase().includes(f.toLowerCase())||Ge.description.toLowerCase().includes(f.toLowerCase())),ht=ze.filter(Ge=>Ge.code.toLowerCase().includes(p.toLowerCase())||Ge.name.toLowerCase().includes(p.toLowerCase())),ut=Math.ceil(Ye.length/M),vt=(S-1)*M,ve=vt+M,Le=Ye.slice((S-1)*M,S*M),he=()=>{const Ge=[];if(ut<=7)for(let Ke=1;Ke<=ut;Ke++)Ge.push(Ke);else if(S<=4){for(let Ke=1;Ke<=5;Ke++)Ge.push(Ke);Ge.push("..."),Ge.push(ut)}else if(S>=ut-3){Ge.push(1),Ge.push("...");for(let Ke=ut-4;Ke<=ut;Ke++)Ge.push(Ke)}else{Ge.push(1),Ge.push("...");for(let Ke=S-1;Ke<=S+1;Ke++)Ge.push(Ke);Ge.push("..."),Ge.push(ut)}return Ge},Ve=Math.ceil(ht.length/M),xt=(k-1)*M,Pt=xt+M,Lt=ht.slice((k-1)*M,k*M),It=()=>{const Ge=[];if(Ve<=5)return Array.from({length:Ve},(me,Ze)=>Ze+1);Ge.push(1),k>3&&Ge.push("...");const ie=Math.max(2,k-1),ke=Math.min(Ve-1,k+1);for(let me=ie;me<=ke;me++)Ge.push(me);return k<Ve-2&&Ge.push("..."),Ge.push(Ve),Ge},qe=async()=>{if(!j.length){await ee.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!a||!n){await ee.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{O(!0),await ee.fire({icon:"success",title:"Success",text:"Delete OT during restday successfully updated.",timer:2e3,showConfirmButton:!1}),g([]),C([]),r(""),l("")}catch(Ge){console.error(Ge),alert("Failed to update records")}finally{O(!1)}},Nt=Ge=>{g(Ke=>Ke.includes(Ge)?Ke.filter(ie=>ie!==Ge):[...Ke,Ge])},gt=Ge=>{C(Ke=>Ke.includes(Ge)?Ke.filter(ie=>ie!==Ge):[...Ke,Ge])},dt=()=>{y.length===Ye.length?g([]):g(Ye.map(Ge=>Ge.id))},kt=()=>{j.length===ht.length?C([]):C(ht.map(Ge=>Ge.id))},Dt=Ge=>{x==="dateFrom1"?r(Ge):x==="dateFrom2"&&l(Ge)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Delete OT During Restday If Absent or Incomplete in Previous Day"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(ls,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Automatically delete overtime entries during rest days if the employee was absent or had incomplete logs on the previous day. Process deletions efficiently within specified date ranges."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Specify date range for deletion"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update to apply changes"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Hs},{name:"Branch",icon:ea},{name:"Department",icon:Zs},{name:"Group Schedule",icon:_a},{name:"Pay House",icon:Ia},{name:"Section",icon:Ma}].map(Ge=>e.jsxs("button",{onClick:()=>s(Ge.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===Ge.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Ge.icon,{className:"w-4 h-4"}),Ge.name]},Ge.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:f,onChange:Ge=>N(Ge.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:y.length===Ye.length&&Ye.length>0,onChange:dt,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Le.map(Ge=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:y.includes(Ge.id),onChange:()=>Nt(Ge.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Ge.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Ge.description})]},Ge.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",ht.length===0?0:vt+1," to ",Math.min(ve,Ye.length)," of ",Ye.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>P(Ge=>Math.max(Ge-1,1)),disabled:S===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),he().map((Ge,Ke)=>Ge==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Ke}`):e.jsx("button",{onClick:()=>P(Ge),className:`px-2 py-1 rounded text-xs ${S===Ge?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ge},Ge)),e.jsx("button",{onClick:()=>P(Ge=>Math.min(Ge+1,ut)),disabled:S===ut||ut===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:p,onChange:Ge=>v(Ge.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:j.length===ht.length&&ht.length>0,onChange:kt,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Lt.map(Ge=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:j.includes(Ge.id),onChange:()=>gt(Ge.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Ge.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Ge.name})]},Ge.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",xt+1," to ",Math.min(Pt,ht.length)," of ",ht.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>E(Ge=>Math.max(1,Ge-1)),disabled:k===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),It().map((Ge,Ke)=>typeof Ge=="number"?e.jsx("button",{onClick:()=>E(Ge),className:`px-2 py-1 rounded text-xs ${k===Ge?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ge},Ke):e.jsx("span",{className:"px-2",children:Ge},Ke)),e.jsx("button",{onClick:()=>E(Ge=>Math.min(Ve,Ge+1)),disabled:k===Ve,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:i==="active",onChange:()=>d("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:i==="inactive",onChange:()=>d("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:i==="all",onChange:()=>d("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:a,onChange:Ge=>r(Ge.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:a,onChange:r})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:n,onChange:Ge=>l(Ge.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:n,onChange:l})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:qe,children:[e.jsx(Aa,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),x&&e.jsx(RX,{value:x==="dateFrom1"?a:n,onChange:Dt,onClose:()=>h(null),position:m})]})}function HX({value:t,onChange:s,onClose:a,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&a()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[a]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,y=n.getFullYear(),g=`${v}/${p}/${y}`;s(g),a()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let g=x-1;g>=0;g--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-g},`prev-${g}`));for(let g=1;g<=d;g++)p.push(e.jsx("div",{onClick:()=>f(g),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:g},g));const y=42-p.length;for(let g=1;g<=y;g++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:g},`next-${g}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function WX(){const[t,s]=o.useState("TK Group"),[a,r]=o.useState("5/5/2021"),[n,l]=o.useState("05/05/2021"),[i,d]=o.useState("5/5/2021"),[x,h]=o.useState(null),[m,b]=o.useState({top:0,left:0}),[f,N]=o.useState("all"),[p,v]=o.useState(""),[y,g]=o.useState(""),[j,C]=o.useState([]),[S,P]=o.useState([]),[k,E]=o.useState(1),[M,L]=o.useState(1),O=10,[q,B]=o.useState(!1);o.useEffect(()=>{E(1)},[t]);const[se,le]=o.useState(!1),[pe,U]=o.useState([]),[Y,W]=o.useState(!1),[re,G]=o.useState([]),[R,F]=o.useState(!1),[A,H]=o.useState([]),[D,_]=o.useState(!1),[xe,ge]=o.useState([]),[Ne,Ce]=o.useState(!1),[fe,ue]=o.useState([]),[Oe,De]=o.useState(!1),[Ae,Ee]=o.useState([]),[ze,ot]=o.useState(!1),[wt,Ie]=o.useState([]),ye=async()=>(await ne.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(ke=>({id:ke.ID||ke.id,code:ke.groupCode||ke.code,description:ke.groupDescription||ke.description}));o.useEffect(()=>{(async()=>{const ke=await ye();U(ke)})()},[]);const be=async()=>(await ne.get("/Fs/Employment/BranchSetUp")).data.map(ke=>({id:ke.braID||ke.ID,code:ke.braCode||ke.code,description:ke.braDesc||ke.description}));o.useEffect(()=>{(async()=>{const ke=await be();G(ke)})()},[]);const Me=async()=>(await ne.get("/Fs/Employment/DepartmentSetUp")).data.map(ke=>({id:ke.depID||ke.ID,code:ke.depCode||ke.code,description:ke.depDesc||ke.description}));o.useEffect(()=>{(async()=>{const ke=await Me();H(ke)})()},[]);const Re=async()=>{const ie=await ne.get("/Fs/Employment/GroupSetUp");return(Array.isArray(ie.data)?ie.data:[]).map(me=>({id:me.grpSchID||me.id||me.ID,code:me.grpCode||me.code,description:me.grpDesc||me.description}))};o.useEffect(()=>{(async()=>{const ke=await Re();ge(ke)})()},[]);const st=async()=>{const ie=await ne.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(ie.data)?ie.data:[]).map(me=>({id:me.lineID??me.ID??me.id,code:me.lineCode??me.code,description:me.lineDesc??me.Description??me.description}))};o.useEffect(()=>{(async()=>{const ke=await st();ue(ke)})()},[]);const He=async()=>{const ie=await ne.get("/Fs/Employment/SectionSetUp");return(Array.isArray(ie.data)?ie.data:[]).map(me=>({id:me.secID??me.ID??me.id,code:me.secCode??me.sectionCode??me.code,description:me.secDesc??me.Description??me.description}))};o.useEffect(()=>{(async()=>{const ke=await He();Ee(ke)})()},[]);const Ue=async()=>{const ie=await ne.get("/EmployeeMasterFile");return(Array.isArray(ie.data)?ie.data:[]).map(me=>({id:me.empID??me.ID??me.id,code:me.empCode||me.code||"",name:`${me.lName||""}, ${me.fName||""} ${me.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const ke=await Ue();Ie(ke)})()},[]);const ut=(()=>{switch(t){case"Branch":return re;case"Department":return A;case"Group Schedule":return xe;case"Pay House":return fe;case"Section":return Ae;default:return pe}})().filter(ie=>ie.code.toLowerCase().includes(p.toLowerCase())||ie.description.toLowerCase().includes(p.toLowerCase())),vt=wt.filter(ie=>ie.code.toLowerCase().includes(y.toLowerCase())||ie.name.toLowerCase().includes(y.toLowerCase())),ve=Math.ceil(ut.length/O),Le=(k-1)*O,he=Le+O,Ve=ut.slice((k-1)*O,k*O),xt=()=>{const ie=[];if(ve<=7)for(let ke=1;ke<=ve;ke++)ie.push(ke);else if(k<=4){for(let ke=1;ke<=5;ke++)ie.push(ke);ie.push("..."),ie.push(ve)}else if(k>=ve-3){ie.push(1),ie.push("...");for(let ke=ve-4;ke<=ve;ke++)ie.push(ke)}else{ie.push(1),ie.push("...");for(let ke=k-1;ke<=k+1;ke++)ie.push(ke);ie.push("..."),ie.push(ve)}return ie},Pt=Math.ceil(vt.length/O),Lt=(M-1)*O,It=Lt+O,qe=vt.slice((M-1)*O,M*O),Nt=()=>{const ie=[];if(Pt<=5)return Array.from({length:Pt},(it,_t)=>_t+1);ie.push(1),M>3&&ie.push("...");const me=Math.max(2,M-1),Ze=Math.min(Pt-1,M+1);for(let it=me;it<=Ze;it++)ie.push(it);return M<Pt-2&&ie.push("..."),ie.push(Pt),ie},gt=async()=>{if(!S.length){await ee.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!a||!n){await ee.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}if(!i){await ee.fire({icon:"error",title:"Error",text:"Please select Overtime Date.",timer:2e3,showConfirmButton:!0});return}try{B(!0),await ee.fire({icon:"success",title:"Success",text:"Process Overtime Per Cut-Off successfully updated.",timer:2e3,showConfirmButton:!1}),C([]),P([]),r(""),l(""),d("")}catch(ie){console.error(ie),alert("Failed to update records")}finally{B(!1)}},dt=ie=>{C(ke=>ke.includes(ie)?ke.filter(me=>me!==ie):[...ke,ie])},kt=ie=>{P(ke=>ke.includes(ie)?ke.filter(me=>me!==ie):[...ke,ie])},Dt=()=>{j.length===ut.length?C([]):C(ut.map(ie=>ie.id))},Ge=()=>{S.length===vt.length?P([]):P(vt.map(ie=>ie.id))},Ke=ie=>{x==="dateFrom"?r(ie):x==="dateTo"?l(ie):x==="overtimeDate"&&d(ie)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Process Overtime Per Cut-Off"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(xa,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Process overtime hours based on specified cut-off dates for selected employee groups. Configure overtime processing efficiently within defined date ranges."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Define date range and overtime date"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Specify overtime cut-off"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update to apply processing"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Hs},{name:"Branch",icon:ea},{name:"Department",icon:Zs},{name:"Group Schedule",icon:_a},{name:"Pay House",icon:Ia},{name:"Section",icon:Ma}].map(ie=>e.jsxs("button",{onClick:()=>s(ie.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===ie.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(ie.icon,{className:"w-4 h-4"}),ie.name]},ie.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:p,onChange:ie=>v(ie.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:j.length===ut.length&&ut.length>0,onChange:Dt,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Ve.map(ie=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:j.includes(ie.id),onChange:()=>dt(ie.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ie.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ie.description})]},ie.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",vt.length===0?0:Le+1," to ",Math.min(he,ut.length)," of ",ut.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>E(ie=>Math.max(ie-1,1)),disabled:k===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),xt().map((ie,ke)=>ie==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${ke}`):e.jsx("button",{onClick:()=>E(ie),className:`px-2 py-1 rounded text-xs ${k===ie?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ie},ie)),e.jsx("button",{onClick:()=>E(ie=>Math.min(ie+1,ve)),disabled:k===ve||ve===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:y,onChange:ie=>g(ie.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:S.length===vt.length&&vt.length>0,onChange:Ge,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:qe.map(ie=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:S.includes(ie.id),onChange:()=>kt(ie.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ie.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ie.name})]},ie.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",Lt+1," to ",Math.min(It,vt.length)," of ",vt.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>L(ie=>Math.max(1,ie-1)),disabled:M===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Nt().map((ie,ke)=>typeof ie=="number"?e.jsx("button",{onClick:()=>L(ie),className:`px-2 py-1 rounded text-xs ${M===ie?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ie},ke):e.jsx("span",{className:"px-2",children:ie},ke)),e.jsx("button",{onClick:()=>L(ie=>Math.min(Pt,ie+1)),disabled:M===Pt,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:f==="active",onChange:()=>N("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:f==="inactive",onChange:()=>N("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:f==="all",onChange:()=>N("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-32",children:"Date From:"}),e.jsx("input",{type:"text",value:a,onChange:ie=>r(ie.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:a,onChange:r})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-32",children:"Date To:"}),e.jsx("input",{type:"text",value:n,onChange:ie=>l(ie.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:n,onChange:l})]})]})}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-32",children:"Overtime Date:"}),e.jsx("input",{type:"text",value:i,onChange:ie=>d(ie.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:i,onChange:d})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:gt,disabled:q,children:[e.jsx(Aa,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),x&&e.jsx(HX,{value:x==="dateFrom"?a:x==="dateTo"?n:i,onChange:Ke,onClose:()=>h(null),position:m})]})}function GX({value:t,onChange:s,onClose:a,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&a()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[a]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,y=n.getFullYear(),g=`${v}/${p}/${y}`;s(g),a()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let g=x-1;g>=0;g--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-g},`prev-${g}`));for(let g=1;g<=d;g++)p.push(e.jsx("div",{onClick:()=>f(g),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:g},g));const y=42-p.length;for(let g=1;g<=y;g++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:g},`next-${g}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function $X(){const[t,s]=o.useState("TK Group"),[a,r]=o.useState(""),[n,l]=o.useState("January"),[i,d]=o.useState(""),[x,h]=o.useState(""),[m,b]=o.useState("active"),[f,N]=o.useState(null),[p,v]=o.useState({top:0,left:0}),[y,g]=o.useState(""),[j,C]=o.useState(""),[S,P]=o.useState(""),[k,E]=o.useState(""),[M,L]=o.useState([]),[O,q]=o.useState([]),[B,se]=o.useState(1),[le,pe]=o.useState(1),[U,Y]=o.useState(1),W=10,[re,G]=o.useState(!1);o.useEffect(()=>{se(1)},[t]);const[R,F]=o.useState(!1),[A,H]=o.useState([]),[D,_]=o.useState(!1),[xe,ge]=o.useState([]),[Ne,Ce]=o.useState(!1),[fe,ue]=o.useState([]),[Oe,De]=o.useState(!1),[Ae,Ee]=o.useState([]),[ze,ot]=o.useState(!1),[wt,Ie]=o.useState([]),[ye,be]=o.useState(!1),[Me,Re]=o.useState([]),[st,He]=o.useState(!1),[Ue,Ye]=o.useState([]),[ht,ut]=o.useState(!1),[vt,ve]=o.useState([]),[Le,he]=o.useState(!1),[Ve,xt]=o.useState([]),[Pt,Lt]=o.useState(""),It=async()=>(await ne.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Z=>({id:Z.ID||Z.id,code:Z.groupCode||Z.code,description:Z.groupDescription||Z.description}));o.useEffect(()=>{(async()=>{const Z=await It();H(Z)})()},[]);const qe=async()=>(await ne.get("/Fs/Employment/BranchSetUp")).data.map(Z=>({id:Z.braID||Z.ID,code:Z.braCode||Z.code,description:Z.braDesc||Z.description}));o.useEffect(()=>{(async()=>{const Z=await qe();ge(Z)})()},[]);const Nt=async()=>(await ne.get("/Fs/Employment/DepartmentSetUp")).data.map(Z=>({id:Z.depID||Z.ID,code:Z.depCode||Z.code,description:Z.depDesc||Z.description}));o.useEffect(()=>{(async()=>{const Z=await Nt();ue(Z)})()},[]);const gt=async()=>(await ne.get("/Fs/Employment/DivisionSetUp")).data.map(Z=>({id:Z.divID||Z.ID,code:Z.divCode||Z.code,description:Z.divDesc||Z.description}));o.useEffect(()=>{(async()=>{const Z=await gt();Ee(Z)})()},[]);const dt=async()=>{const I=await ne.get("/Fs/Employment/GroupSetUp");return(Array.isArray(I.data)?I.data:[]).map(Q=>({id:Q.grpSchID||Q.id||Q.ID,code:Q.grpCode||Q.code,description:Q.grpDesc||Q.description}))};o.useEffect(()=>{(async()=>{const Z=await dt();Ie(Z)})()},[]);const kt=async()=>{const I=await ne.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(I.data)?I.data:[]).map(Q=>({id:Q.lineID??Q.ID??Q.id,code:Q.lineCode??Q.code,description:Q.lineDesc??Q.Description??Q.description}))};o.useEffect(()=>{(async()=>{const Z=await kt();Re(Z)})()},[]);const Dt=async()=>{const I=await ne.get("/Fs/Employment/SectionSetUp");return(Array.isArray(I.data)?I.data:[]).map(Q=>({id:Q.secID??Q.ID??Q.id,code:Q.secCode??Q.sectionCode??Q.code,description:Q.secDesc??Q.Description??Q.description}))};o.useEffect(()=>{(async()=>{const Z=await Dt();Ye(Z)})()},[]);const Ge=async()=>(await ne.get("/Fs/Employment/UnitSetUp")).data.map(Z=>({id:Z.unitID||Z.ID,code:Z.unitCode||Z.code,description:Z.unitDesc||Z.description}));o.useEffect(()=>{(async()=>{const Z=await Ge();ve(Z)})()},[]);const Ke=async()=>{const I=await ne.get("/EmployeeMasterFile");return(Array.isArray(I.data)?I.data:[]).map(Q=>({id:Q.empID??Q.ID??Q.id,code:Q.empCode||Q.code||"",name:`${Q.lName||""}, ${Q.fName||""} ${Q.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const Z=await Ke();xt(Z)})()},[]);const me=(()=>{switch(t){case"Branch":return xe;case"Department":return fe;case"Division":return Ae;case"Group Schedule":return wt;case"Pay House":return Me;case"Section":return Ue;case"Unit":return vt;default:return A}})().filter(I=>I.code.toLowerCase().includes(S.toLowerCase())||I.description.toLowerCase().includes(S.toLowerCase())),Ze=Ve.filter(I=>I.code.toLowerCase().includes(k.toLowerCase())||I.name.toLowerCase().includes(k.toLowerCase())),it=Math.ceil(me.length/W),_t=(B-1)*W,nt=_t+W,mt=me.slice((B-1)*W,B*W),ae=()=>{const I=[];if(it<=7)for(let Z=1;Z<=it;Z++)I.push(Z);else if(B<=4){for(let Z=1;Z<=5;Z++)I.push(Z);I.push("..."),I.push(it)}else if(B>=it-3){I.push(1),I.push("...");for(let Z=it-4;Z<=it;Z++)I.push(Z)}else{I.push(1),I.push("...");for(let Z=B-1;Z<=B+1;Z++)I.push(Z);I.push("..."),I.push(it)}return I},ce=Math.ceil(Ze.length/W),te=(le-1)*W,z=te+W,V=Ze.slice((le-1)*W,le*W),X=()=>{const I=[];if(ce<=5)return Array.from({length:ce},(ft,$t)=>$t+1);I.push(1),le>3&&I.push("...");const Q=Math.max(2,le-1),We=Math.min(ce-1,le+1);for(let ft=Q;ft<=We;ft++)I.push(ft);return le<ce-2&&I.push("..."),I.push(ce),I},de=async()=>{if(!O.length){await ee.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!y||!j){await ee.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{G(!0),await ee.fire({icon:"success",title:"Success",text:"Assumed Days successfully updated.",timer:2e3,showConfirmButton:!1}),L([]),q([]),g(""),C("")}catch(I){console.error(I),alert("Failed to update records")}finally{G(!1)}},_e=I=>{L(Z=>Z.includes(I)?Z.filter(Q=>Q!==I):[...Z,I])},Te=I=>{q(Z=>Z.includes(I)?Z.filter(Q=>Q!==I):[...Z,I])},je=()=>{M.length===me.length?L([]):L(me.map(I=>I.id))},J=()=>{O.length===Ze.length?q([]):q(Ze.map(I=>I.id))},we=I=>{f==="year"?r(I):f==="dateFrom"?g(I):f==="dateTo"&&C(I)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Assumed Days"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(ya,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Update assumed working days for selected employee groups within specified date ranges. Configure attendance assumptions for payroll processing and reporting."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set date range for updates"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Bulk update processing"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Hs},{name:"Branch",icon:ea},{name:"Department",icon:Zs},{name:"Division",icon:wr},{name:"Group Schedule",icon:_a},{name:"Pay House",icon:Ia},{name:"Section",icon:Ma},{name:"Unit",icon:ln}].map(I=>e.jsxs("button",{onClick:()=>s(I.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===I.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(I.icon,{className:"w-4 h-4"}),I.name]},I.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:S,onChange:I=>P(I.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:M.length===me.length&&me.length>0,onChange:je,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:mt.map(I=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:M.includes(I.id),onChange:()=>_e(I.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:I.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:I.description})]},I.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Ze.length===0?0:_t+1," to ",Math.min(nt,me.length)," of ",me.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>se(I=>Math.max(I-1,1)),disabled:B===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),ae().map((I,Z)=>I==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Z}`):e.jsx("button",{onClick:()=>se(I),className:`px-2 py-1 rounded text-xs ${B===I?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:I},I)),e.jsx("button",{onClick:()=>se(I=>Math.min(I+1,it)),disabled:B===it||it===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:k,onChange:I=>E(I.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:O.length===Ze.length&&Ze.length>0,onChange:J,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:V.map(I=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:O.includes(I.id),onChange:()=>Te(I.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:I.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:I.name})]},I.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",te+1," to ",Math.min(z,Ze.length)," of ",Ze.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>pe(I=>Math.max(1,I-1)),disabled:le===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),X().map((I,Z)=>typeof I=="number"?e.jsx("button",{onClick:()=>pe(I),className:`px-2 py-1 rounded text-xs ${le===I?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:I},Z):e.jsx("span",{className:"px-2",children:I},Z)),e.jsx("button",{onClick:()=>pe(I=>Math.min(ce,I+1)),disabled:le===ce,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:m==="active",onChange:()=>b("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:m==="inactive",onChange:()=>b("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:m==="all",onChange:()=>b("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:y,onChange:I=>g(I.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:y,onChange:g})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date To:"}),e.jsx("input",{type:"text",value:j,onChange:I=>C(I.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:j,onChange:C})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:de,children:[e.jsx(Aa,{className:"w-4 h-4"}),"Update"]}),e.jsxs("button",{className:"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm flex items-center gap-2",onClick:de,children:[e.jsx(W0,{className:"w-4 h-4"}),"Unpost"]})]})]})})]})]})]})]})}),f&&e.jsx(GX,{value:f==="year"?a:f==="dateFrom"?y:j,onChange:we,onClose:()=>N(null),position:p})]})}function zX({value:t,onChange:s,onClose:a,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&a()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[a]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,y=n.getFullYear(),g=`${v}/${p}/${y}`;s(g),a()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let g=x-1;g>=0;g--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-g},`prev-${g}`));for(let g=1;g<=d;g++)p.push(e.jsx("div",{onClick:()=>f(g),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:g},g));const y=42-p.length;for(let g=1;g<=y;g++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:g},`next-${g}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function VX(){const[t,s]=o.useState("TK Group"),[a,r]=o.useState(""),[n,l]=o.useState("January"),[i,d]=o.useState(""),[x,h]=o.useState(""),[m,b]=o.useState("active"),[f,N]=o.useState(null),[p,v]=o.useState({top:0,left:0}),[y,g]=o.useState(""),[j,C]=o.useState(""),[S,P]=o.useState(""),[k,E]=o.useState(""),[M,L]=o.useState([]),[O,q]=o.useState([]),[B,se]=o.useState(1),[le,pe]=o.useState(1),U=10,[Y,W]=o.useState(!1);o.useEffect(()=>{se(1)},[t]);const[re,G]=o.useState(!1),[R,F]=o.useState([]),[A,H]=o.useState(!1),[D,_]=o.useState([]),[xe,ge]=o.useState(!1),[Ne,Ce]=o.useState([]),[fe,ue]=o.useState(!1),[Oe,De]=o.useState([]),[Ae,Ee]=o.useState(!1),[ze,ot]=o.useState([]),[wt,Ie]=o.useState(!1),[ye,be]=o.useState([]),[Me,Re]=o.useState(!1),[st,He]=o.useState([]),[Ue,Ye]=o.useState(!1),[ht,ut]=o.useState([]),[vt,ve]=o.useState(!1),[Le,he]=o.useState([]),Ve=async()=>(await ne.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(je=>({id:je.ID||je.id,code:je.groupCode||je.code,description:je.groupDescription||je.description}));o.useEffect(()=>{(async()=>{const je=await Ve();F(je)})()},[]);const xt=async()=>(await ne.get("/Fs/Employment/BranchSetUp")).data.map(je=>({id:je.braID||je.ID,code:je.braCode||je.code,description:je.braDesc||je.description}));o.useEffect(()=>{(async()=>{const je=await xt();_(je)})()},[]);const Pt=async()=>(await ne.get("/Fs/Employment/DepartmentSetUp")).data.map(je=>({id:je.depID||je.ID,code:je.depCode||je.code,description:je.depDesc||je.description}));o.useEffect(()=>{(async()=>{const je=await Pt();Ce(je)})()},[]);const Lt=async()=>(await ne.get("/Fs/Employment/DivisionSetUp")).data.map(je=>({id:je.divID||je.ID,code:je.divCode||je.code,description:je.divDesc||je.description}));o.useEffect(()=>{(async()=>{const je=await Lt();De(je)})()},[]);const It=async()=>{const Te=await ne.get("/Fs/Employment/GroupSetUp");return(Array.isArray(Te.data)?Te.data:[]).map(J=>({id:J.grpSchID||J.id||J.ID,code:J.grpCode||J.code,description:J.grpDesc||J.description}))};o.useEffect(()=>{(async()=>{const je=await It();ot(je)})()},[]);const qe=async()=>{const Te=await ne.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(Te.data)?Te.data:[]).map(J=>({id:J.lineID??J.ID??J.id,code:J.lineCode??J.code,description:J.lineDesc??J.Description??J.description}))};o.useEffect(()=>{(async()=>{const je=await qe();be(je)})()},[]);const Nt=async()=>{const Te=await ne.get("/Fs/Employment/SectionSetUp");return(Array.isArray(Te.data)?Te.data:[]).map(J=>({id:J.secID??J.ID??J.id,code:J.secCode??J.sectionCode??J.code,description:J.secDesc??J.Description??J.description}))};o.useEffect(()=>{(async()=>{const je=await Nt();He(je)})()},[]);const gt=async()=>(await ne.get("/Fs/Employment/UnitSetUp")).data.map(je=>({id:je.unitID||je.ID,code:je.unitCode||je.code,description:je.unitDesc||je.description}));o.useEffect(()=>{(async()=>{const je=await gt();ut(je)})()},[]);const dt=async()=>{const Te=await ne.get("/EmployeeMasterFile");return(Array.isArray(Te.data)?Te.data:[]).map(J=>({id:J.empID??J.ID??J.id,code:J.empCode||J.code||"",name:`${J.lName||""}, ${J.fName||""} ${J.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const je=await dt();he(je)})()},[]);const Ge=(()=>{switch(t){case"Branch":return D;case"Department":return Ne;case"Division":return Oe;case"Group Schedule":return ze;case"Pay House":return ye;case"Section":return st;case"Unit":return ht;default:return R}})().filter(Te=>Te.code.toLowerCase().includes(S.toLowerCase())||Te.description.toLowerCase().includes(S.toLowerCase())),Ke=Le.filter(Te=>Te.code.toLowerCase().includes(k.toLowerCase())||Te.name.toLowerCase().includes(k.toLowerCase())),ie=Math.ceil(Ge.length/U),ke=(B-1)*U,me=ke+U,Ze=Ge.slice((B-1)*U,B*U),it=()=>{const Te=[];if(ie<=7)for(let je=1;je<=ie;je++)Te.push(je);else if(B<=4){for(let je=1;je<=5;je++)Te.push(je);Te.push("..."),Te.push(ie)}else if(B>=ie-3){Te.push(1),Te.push("...");for(let je=ie-4;je<=ie;je++)Te.push(je)}else{Te.push(1),Te.push("...");for(let je=B-1;je<=B+1;je++)Te.push(je);Te.push("..."),Te.push(ie)}return Te},_t=Math.ceil(Ke.length/U),nt=(le-1)*U,mt=nt+U,ae=Ke.slice((le-1)*U,le*U),ce=()=>{const Te=[];if(_t<=5)return Array.from({length:_t},(I,Z)=>Z+1);Te.push(1),le>3&&Te.push("...");const J=Math.max(2,le-1),we=Math.min(_t-1,le+1);for(let I=J;I<=we;I++)Te.push(I);return le<_t-2&&Te.push("..."),Te.push(_t),Te},te=async()=>{if(!O.length){await ee.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!y||!j){await ee.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{W(!0),await ee.fire({icon:"success",title:"Success",text:"Deduct Absences with pay successfully updated.",timer:2e3,showConfirmButton:!1}),L([]),q([]),g(""),C("")}catch(Te){console.error(Te),alert("Failed to update records")}finally{W(!1)}},z=Te=>{L(je=>je.includes(Te)?je.filter(J=>J!==Te):[...je,Te])},V=Te=>{q(je=>je.includes(Te)?je.filter(J=>J!==Te):[...je,Te])},X=()=>{M.length===Ge.length?L([]):L(Ge.map(Te=>Te.id))},de=()=>{O.length===Ke.length?q([]):q(Ke.map(Te=>Te.id))},_e=Te=>{f==="year"?r(Te):f==="dateFrom"?g(Te):f==="dateTo"&&C(Te)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Deduct Absences in Excess of Total Hours with Pay if with Filed Leave"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(ya,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Process absence deductions when filed leave hours exceed total paid hours. Automatically adjusts leave balances and payroll calculations for accurate compensation."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set date range for processing"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Automatic deduction calculation"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Hs},{name:"Branch",icon:ea},{name:"Department",icon:Zs},{name:"Division",icon:wr},{name:"Group Schedule",icon:_a},{name:"Pay House",icon:Ia},{name:"Section",icon:Ma},{name:"Unit",icon:ln}].map(Te=>e.jsxs("button",{onClick:()=>s(Te.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===Te.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Te.icon,{className:"w-4 h-4"}),Te.name]},Te.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:S,onChange:Te=>P(Te.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:M.length===Ge.length&&Ge.length>0,onChange:X,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Ze.map(Te=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:M.includes(Te.id),onChange:()=>z(Te.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Te.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Te.description})]},Te.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Ke.length===0?0:ke+1," to ",Math.min(me,Ge.length)," of ",Ge.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>se(Te=>Math.max(Te-1,1)),disabled:B===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),it().map((Te,je)=>Te==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${je}`):e.jsx("button",{onClick:()=>se(Te),className:`px-2 py-1 rounded text-xs ${B===Te?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Te},Te)),e.jsx("button",{onClick:()=>se(Te=>Math.min(Te+1,ie)),disabled:B===ie||ie===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:k,onChange:Te=>E(Te.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:O.length===Ke.length&&Ke.length>0,onChange:de,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ae.map(Te=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:O.includes(Te.id),onChange:()=>V(Te.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Te.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Te.name})]},Te.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",nt+1," to ",Math.min(mt,Ke.length)," of ",Ke.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>pe(Te=>Math.max(1,Te-1)),disabled:le===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),ce().map((Te,je)=>typeof Te=="number"?e.jsx("button",{onClick:()=>pe(Te),className:`px-2 py-1 rounded text-xs ${le===Te?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Te},je):e.jsx("span",{className:"px-2",children:Te},je)),e.jsx("button",{onClick:()=>pe(Te=>Math.min(_t,Te+1)),disabled:le===_t,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:m==="active",onChange:()=>b("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:m==="inactive",onChange:()=>b("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:m==="all",onChange:()=>b("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:y,onChange:Te=>g(Te.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:y,onChange:g})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date To:"}),e.jsx("input",{type:"text",value:j,onChange:Te=>C(Te.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:j,onChange:C})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:te,children:[e.jsx(Aa,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),f&&e.jsx(zX,{value:f==="year"?a:f==="dateFrom"?y:j,onChange:_e,onClose:()=>N(null),position:p}),e.jsx(Zt,{})]})}function YX({value:t,onChange:s,onClose:a,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&a()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[a]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,y=n.getFullYear(),g=`${v}/${p}/${y}`;s(g),a()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let g=x-1;g>=0;g--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-g},`prev-${g}`));for(let g=1;g<=d;g++)p.push(e.jsx("div",{onClick:()=>f(g),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:g},g));const y=42-p.length;for(let g=1;g<=y;g++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:g},`next-${g}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function KX(){const[t,s]=o.useState("TK Group"),[a,r]=o.useState(""),[n,l]=o.useState("January"),[i,d]=o.useState(""),[x,h]=o.useState(""),[m,b]=o.useState("active"),[f,N]=o.useState(null),[p,v]=o.useState({top:0,left:0}),[y,g]=o.useState(""),[j,C]=o.useState(""),[S,P]=o.useState(""),[k,E]=o.useState(""),[M,L]=o.useState(""),[O,q]=o.useState([]),[B,se]=o.useState([]),[le,pe]=o.useState(1),[U,Y]=o.useState(1),[W,re]=o.useState(1),G=10,[R,F]=o.useState(!1);o.useEffect(()=>{pe(1)},[t]);const[A,H]=o.useState(!1),[D,_]=o.useState([]),[xe,ge]=o.useState(!1),[Ne,Ce]=o.useState([]),[fe,ue]=o.useState(!1),[Oe,De]=o.useState([]),[Ae,Ee]=o.useState(!1),[ze,ot]=o.useState([]),[wt,Ie]=o.useState(!1),[ye,be]=o.useState([]),[Me,Re]=o.useState(!1),[st,He]=o.useState([]),[Ue,Ye]=o.useState(!1),[ht,ut]=o.useState([]),[vt,ve]=o.useState(!1),[Le,he]=o.useState([]),[Ve,xt]=o.useState(!1),[Pt,Lt]=o.useState([]),[It,qe]=o.useState(""),Nt=async()=>(await ne.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(We=>({id:We.ID||We.id,code:We.groupCode||We.code,description:We.groupDescription||We.description}));o.useEffect(()=>{(async()=>{const We=await Nt();_(We)})()},[]);const gt=async()=>(await ne.get("/Fs/Employment/BranchSetUp")).data.map(We=>({id:We.braID||We.ID,code:We.braCode||We.code,description:We.braDesc||We.description}));o.useEffect(()=>{(async()=>{const We=await gt();Ce(We)})()},[]);const dt=async()=>(await ne.get("/Fs/Employment/DepartmentSetUp")).data.map(We=>({id:We.depID||We.ID,code:We.depCode||We.code,description:We.depDesc||We.description}));o.useEffect(()=>{(async()=>{const We=await dt();De(We)})()},[]);const kt=async()=>(await ne.get("/Fs/Employment/DivisionSetUp")).data.map(We=>({id:We.divID||We.ID,code:We.divCode||We.code,description:We.divDesc||We.description}));o.useEffect(()=>{(async()=>{const We=await kt();ot(We)})()},[]);const Dt=async()=>{const Q=await ne.get("/Fs/Employment/GroupSetUp");return(Array.isArray(Q.data)?Q.data:[]).map(ft=>({id:ft.grpSchID||ft.id||ft.ID,code:ft.grpCode||ft.code,description:ft.grpDesc||ft.description}))};o.useEffect(()=>{(async()=>{const We=await Dt();be(We)})()},[]);const Ge=async()=>{const Q=await ne.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(Q.data)?Q.data:[]).map(ft=>({id:ft.lineID??ft.ID??ft.id,code:ft.lineCode??ft.code,description:ft.lineDesc??ft.Description??ft.description}))};o.useEffect(()=>{(async()=>{const We=await Ge();He(We)})()},[]);const Ke=async()=>{const Q=await ne.get("/Fs/Employment/SectionSetUp");return(Array.isArray(Q.data)?Q.data:[]).map(ft=>({id:ft.secID??ft.ID??ft.id,code:ft.secCode??ft.sectionCode??ft.code,description:ft.secDesc??ft.Description??ft.description}))};o.useEffect(()=>{(async()=>{const We=await Ke();ut(We)})()},[]);const ie=async()=>(await ne.get("/Fs/Employment/UnitSetUp")).data.map(We=>({id:We.unitID||We.ID,code:We.unitCode||We.code,description:We.unitDesc||We.description}));o.useEffect(()=>{(async()=>{const We=await ie();he(We)})()},[]);const ke=async()=>{const Q=await ne.get("/EmployeeMasterFile");return(Array.isArray(Q.data)?Q.data:[]).map(ft=>({id:ft.empID??ft.ID??ft.id,code:ft.empCode||ft.code||"",name:`${ft.lName||""}, ${ft.fName||""} ${ft.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const We=await ke();Lt(We)})()},[]);const it=(()=>{switch(t){case"Branch":return Ne;case"Department":return Oe;case"Division":return ze;case"Group Schedule":return ye;case"Pay House":return st;case"Section":return ht;case"Unit":return Le;default:return D}})().filter(Q=>Q.code.toLowerCase().includes(k.toLowerCase())||Q.description.toLowerCase().includes(k.toLowerCase())),_t=Pt.filter(Q=>Q.code.toLowerCase().includes(M.toLowerCase())||Q.name.toLowerCase().includes(M.toLowerCase())),nt=Math.ceil(it.length/G),mt=(le-1)*G,ae=mt+G,ce=it.slice((le-1)*G,le*G),te=()=>{const Q=[];if(nt<=7)for(let We=1;We<=nt;We++)Q.push(We);else if(le<=4){for(let We=1;We<=5;We++)Q.push(We);Q.push("..."),Q.push(nt)}else if(le>=nt-3){Q.push(1),Q.push("...");for(let We=nt-4;We<=nt;We++)Q.push(We)}else{Q.push(1),Q.push("...");for(let We=le-1;We<=le+1;We++)Q.push(We);Q.push("..."),Q.push(nt)}return Q},z=Math.ceil(_t.length/G),V=(U-1)*G,X=V+G,de=_t.slice((U-1)*G,U*G),_e=()=>{const Q=[];if(z<=5)return Array.from({length:z},(yt,$e)=>$e+1);Q.push(1),U>3&&Q.push("...");const ft=Math.max(2,U-1),$t=Math.min(z-1,U+1);for(let yt=ft;yt<=$t;yt++)Q.push(yt);return U<z-2&&Q.push("..."),Q.push(z),Q},Te=async()=>{if(!B.length){await ee.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!y||!j){await ee.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}if(!S){await ee.fire({icon:"error",title:"Error",text:"Please select Overtime Date.",timer:2e3,showConfirmButton:!0});return}try{F(!0),await ee.fire({icon:"success",title:"Success",text:"Process overtime 24hours rule successfully updated.",timer:2e3,showConfirmButton:!1}),q([]),se([]),g(""),C(""),P("")}catch(Q){console.error(Q),alert("Failed to update records")}finally{F(!1)}},je=Q=>{q(We=>We.includes(Q)?We.filter(ft=>ft!==Q):[...We,Q])},J=Q=>{se(We=>We.includes(Q)?We.filter(ft=>ft!==Q):[...We,Q])},we=()=>{O.length===it.length?q([]):q(it.map(Q=>Q.id))},I=()=>{B.length===_t.length?se([]):se(_t.map(Q=>Q.id))},Z=Q=>{f==="year"?r(Q):f==="dateFrom"?g(Q):f==="dateTo"?C(Q):f==="overtimeDate"&&P(Q)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Process Overtime 24 Hours Rule"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(ya,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Apply the 24-hour overtime rule policy to process and validate overtime hours, ensuring compliance with labor regulations and company policies for maximum daily overtime limits."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set date range for processing"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Automatic 24-hour rule validation"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Hs},{name:"Branch",icon:ea},{name:"Department",icon:Zs},{name:"Division",icon:wr},{name:"Group Schedule",icon:_a},{name:"Pay House",icon:Ia},{name:"Section",icon:Ma},{name:"Unit",icon:ln}].map(Q=>e.jsxs("button",{onClick:()=>s(Q.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===Q.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Q.icon,{className:"w-4 h-4"}),Q.name]},Q.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:k,onChange:Q=>E(Q.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:O.length===it.length&&it.length>0,onChange:we,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ce.map(Q=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:O.includes(Q.id),onChange:()=>je(Q.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Q.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Q.description})]},Q.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",_t.length===0?0:mt+1," to ",Math.min(ae,it.length)," of ",it.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>pe(Q=>Math.max(Q-1,1)),disabled:le===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),te().map((Q,We)=>Q==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${We}`):e.jsx("button",{onClick:()=>pe(Q),className:`px-2 py-1 rounded text-xs ${le===Q?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Q},Q)),e.jsx("button",{onClick:()=>pe(Q=>Math.min(Q+1,nt)),disabled:le===nt||nt===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:M,onChange:Q=>L(Q.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:B.length===_t.length&&_t.length>0,onChange:I,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:de.map(Q=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:B.includes(Q.id),onChange:()=>J(Q.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Q.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Q.name})]},Q.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",V+1," to ",Math.min(X,_t.length)," of ",_t.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>Y(Q=>Math.max(1,Q-1)),disabled:U===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),_e().map((Q,We)=>typeof Q=="number"?e.jsx("button",{onClick:()=>Y(Q),className:`px-2 py-1 rounded text-xs ${U===Q?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Q},We):e.jsx("span",{className:"px-2",children:Q},We)),e.jsx("button",{onClick:()=>Y(Q=>Math.min(z,Q+1)),disabled:U===z,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:m==="active",onChange:()=>b("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:m==="inactive",onChange:()=>b("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:m==="all",onChange:()=>b("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-32",children:"Date From:"}),e.jsx("input",{type:"text",value:y,onChange:Q=>g(Q.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:y,onChange:g})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-32",children:"Date To:"}),e.jsx("input",{type:"text",value:j,onChange:Q=>C(Q.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:j,onChange:C})]})]})}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-32",children:"Overtime Date:"}),e.jsx("input",{type:"text",value:S,onChange:Q=>P(Q.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:S,onChange:P})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:Te,disabled:R,children:[e.jsx(Aa,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),f&&e.jsx(YX,{value:f==="year"?a:f==="dateFrom"?y:j,onChange:Z,onClose:()=>N(null),position:p}),e.jsx(Zt,{})]})}function qX({value:t,onChange:s,onClose:a,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&a()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[a]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,y=n.getFullYear(),g=`${v}/${p}/${y}`;s(g),a()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let g=x-1;g>=0;g--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-g},`prev-${g}`));for(let g=1;g<=d;g++)p.push(e.jsx("div",{onClick:()=>f(g),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:g},g));const y=42-p.length;for(let g=1;g<=y;g++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:g},`next-${g}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function XX(){const[t,s]=o.useState("TK Group"),[a,r]=o.useState(""),[n,l]=o.useState("January"),[i,d]=o.useState(""),[x,h]=o.useState(""),[m,b]=o.useState("active"),[f,N]=o.useState(null),[p,v]=o.useState({top:0,left:0}),[y,g]=o.useState(""),[j,C]=o.useState(""),[S,P]=o.useState(!1),[k,E]=o.useState(!1),[M,L]=o.useState(!1),[O,q]=o.useState(!1),[B,se]=o.useState(!1),[le,pe]=o.useState(!1),[U,Y]=o.useState(""),[W,re]=o.useState(""),[G,R]=o.useState([]),[F,A]=o.useState([]),[H,D]=o.useState(1),[_,xe]=o.useState(1),[ge,Ne]=o.useState(1),Ce=10,[fe,ue]=o.useState(!1),[Oe,De]=o.useState({tardiness:!1,otherEarnings:!1,noOfDaysWork:!1,selectAll:!1,undertime:!1,overtime:!1,leaveAndAbsences:!1,lateFiling:!1}),Ae=()=>{De({tardiness:!1,otherEarnings:!1,noOfDaysWork:!1,undertime:!1,overtime:!1,leaveAndAbsences:!1,lateFiling:!1,selectAll:!1})};o.useEffect(()=>{D(1)},[t]);const[Ee,ze]=o.useState(!1),[ot,wt]=o.useState([]),[Ie,ye]=o.useState(!1),[be,Me]=o.useState([]),[Re,st]=o.useState(!1),[He,Ue]=o.useState([]),[Ye,ht]=o.useState(!1),[ut,vt]=o.useState([]),[ve,Le]=o.useState(!1),[he,Ve]=o.useState([]),[xt,Pt]=o.useState(!1),[Lt,It]=o.useState([]),[qe,Nt]=o.useState(!1),[gt,dt]=o.useState([]),[kt,Dt]=o.useState(!1),[Ge,Ke]=o.useState([]),[ie,ke]=o.useState(!1),[me,Ze]=o.useState([]),[it,_t]=o.useState(""),nt=async()=>(await ne.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Ut=>({id:Ut.ID||Ut.id,code:Ut.groupCode||Ut.code,description:Ut.groupDescription||Ut.description}));o.useEffect(()=>{(async()=>{const Ut=await nt();wt(Ut)})()},[]);const mt=async()=>(await ne.get("/Fs/Employment/BranchSetUp")).data.map(Ut=>({id:Ut.braID||Ut.ID,code:Ut.braCode||Ut.code,description:Ut.braDesc||Ut.description}));o.useEffect(()=>{(async()=>{const Ut=await mt();Me(Ut)})()},[]);const ae=async()=>(await ne.get("/Fs/Employment/DepartmentSetUp")).data.map(Ut=>({id:Ut.depID||Ut.ID,code:Ut.depCode||Ut.code,description:Ut.depDesc||Ut.description}));o.useEffect(()=>{(async()=>{const Ut=await ae();Ue(Ut)})()},[]);const ce=async()=>(await ne.get("/Fs/Employment/DivisionSetUp")).data.map(Ut=>({id:Ut.divID||Ut.ID,code:Ut.divCode||Ut.code,description:Ut.divDesc||Ut.description}));o.useEffect(()=>{(async()=>{const Ut=await ce();vt(Ut)})()},[]);const te=async()=>{const Tt=await ne.get("/Fs/Employment/GroupSetUp");return(Array.isArray(Tt.data)?Tt.data:[]).map(hs=>({id:hs.grpSchID||hs.id||hs.ID,code:hs.grpCode||hs.code,description:hs.grpDesc||hs.description}))};o.useEffect(()=>{(async()=>{const Ut=await te();Ve(Ut)})()},[]);const z=async()=>{const Tt=await ne.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(Tt.data)?Tt.data:[]).map(hs=>({id:hs.lineID??hs.ID??hs.id,code:hs.lineCode??hs.code,description:hs.lineDesc??hs.Description??hs.description}))};o.useEffect(()=>{(async()=>{const Ut=await z();It(Ut)})()},[]);const V=async()=>{const Tt=await ne.get("/Fs/Employment/SectionSetUp");return(Array.isArray(Tt.data)?Tt.data:[]).map(hs=>({id:hs.secID??hs.ID??hs.id,code:hs.secCode??hs.sectionCode??hs.code,description:hs.secDesc??hs.Description??hs.description}))};o.useEffect(()=>{(async()=>{const Ut=await V();dt(Ut)})()},[]);const X=async()=>(await ne.get("/Fs/Employment/UnitSetUp")).data.map(Ut=>({id:Ut.unitID||Ut.ID,code:Ut.unitCode||Ut.code,description:Ut.unitDesc||Ut.description}));o.useEffect(()=>{(async()=>{const Ut=await X();Ke(Ut)})()},[]);const de=async()=>{const Tt=await ne.get("/EmployeeMasterFile");return(Array.isArray(Tt.data)?Tt.data:[]).map(hs=>({id:hs.empID??hs.ID??hs.id,code:hs.empCode||hs.code||"",name:`${hs.lName||""}, ${hs.fName||""} ${hs.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const Ut=await de();Ze(Ut)})()},[]);const je=(()=>{switch(t){case"Branch":return be;case"Department":return He;case"Division":return ut;case"Group Schedule":return he;case"Pay House":return Lt;case"Section":return gt;case"Unit":return Ge;default:return ot}})().filter(Tt=>Tt.code.toLowerCase().includes(U.toLowerCase())||Tt.description.toLowerCase().includes(U.toLowerCase())),J=me.filter(Tt=>Tt.code.toLowerCase().includes(W.toLowerCase())||Tt.name.toLowerCase().includes(W.toLowerCase())),we=Math.ceil(je.length/Ce),I=(H-1)*Ce,Z=I+Ce,Q=je.slice((H-1)*Ce,H*Ce),We=()=>{const Tt=[];if(we<=7)for(let Ut=1;Ut<=we;Ut++)Tt.push(Ut);else if(H<=4){for(let Ut=1;Ut<=5;Ut++)Tt.push(Ut);Tt.push("..."),Tt.push(we)}else if(H>=we-3){Tt.push(1),Tt.push("...");for(let Ut=we-4;Ut<=we;Ut++)Tt.push(Ut)}else{Tt.push(1),Tt.push("...");for(let Ut=H-1;Ut<=H+1;Ut++)Tt.push(Ut);Tt.push("..."),Tt.push(we)}return Tt},ft=Math.ceil(J.length/Ce),$t=(_-1)*Ce,yt=$t+Ce,$e=J.slice((_-1)*Ce,_*Ce),bt=()=>{const Tt=[];if(ft<=5)return Array.from({length:ft},(ha,ma)=>ma+1);Tt.push(1),_>3&&Tt.push("...");const hs=Math.max(2,_-1),Na=Math.min(ft-1,_+1);for(let ha=hs;ha<=Na;ha++)Tt.push(ha);return _<ft-2&&Tt.push("..."),Tt.push(ft),Tt},ts=async()=>{if(!F.length){await ee.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!y||!j){await ee.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}if(!Object.values(Oe).some(Boolean)){await ee.fire({icon:"error",title:"Error",text:"Please check atleast 1 transaction to unpost.",timer:2e3,showConfirmButton:!0});return}try{ue(!0),await ee.fire({icon:"success",title:"Success",text:"Successfully Unpost Transactions.",timer:2e3,showConfirmButton:!1}),R([]),A([]),g(""),C(""),Ae()}catch(Ut){console.error(Ut),alert("Failed to update records")}finally{ue(!1)}},Ts=Tt=>{R(Ut=>Ut.includes(Tt)?Ut.filter(hs=>hs!==Tt):[...Ut,Tt])},at=Tt=>{A(Ut=>Ut.includes(Tt)?Ut.filter(hs=>hs!==Tt):[...Ut,Tt])},Jt=()=>{G.length===je.length?R([]):R(je.map(Tt=>Tt.id))},jt=()=>{F.length===J.length?A([]):A(J.map(Tt=>Tt.id))},zt=Tt=>{f==="year"?r(Tt):f==="dateFrom"?g(Tt):f==="dateTo"&&C(Tt)},cs=()=>{const Tt=S&&k&&M&&O&&B&&le;P(!Tt),E(!Tt),L(!Tt),q(!Tt),se(!Tt),pe(!Tt)},Js=Tt=>{if(Tt==="selectAll"){const Ut=!Oe.selectAll;De({tardiness:Ut,otherEarnings:Ut,noOfDaysWork:Ut,selectAll:Ut,undertime:Ut,overtime:Ut,leaveAndAbsences:Ut,lateFiling:Ut})}else De(Ut=>({...Ut,[Tt]:!Ut[Tt]}))};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Post Processed Timekeeping Transaction"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(ya,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Finalize and post processed timekeeping transactions to the payroll system. Lock attendance records for the selected period and prepare data for payroll processing."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set date range for posting"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Batch transaction posting"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Hs},{name:"Branch",icon:ea},{name:"Department",icon:Zs},{name:"Division",icon:wr},{name:"Group Schedule",icon:_a},{name:"Pay House",icon:Ia},{name:"Section",icon:Ma},{name:"Unit",icon:ln}].map(Tt=>e.jsxs("button",{onClick:()=>s(Tt.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===Tt.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Tt.icon,{className:"w-4 h-4"}),Tt.name]},Tt.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:U,onChange:Tt=>Y(Tt.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:G.length===je.length&&je.length>0,onChange:Jt,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Q.map(Tt=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:G.includes(Tt.id),onChange:()=>Ts(Tt.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Tt.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Tt.description})]},Tt.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",J.length===0?0:I+1," to ",Math.min(Z,je.length)," of ",je.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>D(Tt=>Math.max(Tt-1,1)),disabled:H===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),We().map((Tt,Ut)=>Tt==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Ut}`):e.jsx("button",{onClick:()=>D(Tt),className:`px-2 py-1 rounded text-xs ${H===Tt?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Tt},Tt)),e.jsx("button",{onClick:()=>D(Tt=>Math.min(Tt+1,we)),disabled:H===we||we===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:W,onChange:Tt=>re(Tt.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:F.length===J.length&&J.length>0,onChange:jt,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:$e.map(Tt=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:F.includes(Tt.id),onChange:()=>at(Tt.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Tt.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Tt.name})]},Tt.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",$t+1," to ",Math.min(yt,J.length)," of ",J.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>xe(Tt=>Math.max(1,Tt-1)),disabled:_===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),bt().map((Tt,Ut)=>typeof Tt=="number"?e.jsx("button",{onClick:()=>xe(Tt),className:`px-2 py-1 rounded text-xs ${_===Tt?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Tt},Ut):e.jsx("span",{className:"px-2",children:Tt},Ut)),e.jsx("button",{onClick:()=>xe(Tt=>Math.min(ft,Tt+1)),disabled:_===ft,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:m==="active",onChange:()=>b("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:m==="inactive",onChange:()=>b("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:m==="all",onChange:()=>b("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:y,onChange:Tt=>g(Tt.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:y,onChange:g})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date To:"}),e.jsx("input",{type:"text",value:j,onChange:Tt=>C(Tt.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:j,onChange:C})]})]})}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Option"}),e.jsxs("div",{className:"grid grid-cols-2 gap-y-2 gap-x-8 space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:Oe.tardiness,onChange:()=>Js("tardiness"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Tardiness"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:Oe.leaveAndAbsences,onChange:()=>Js("leaveAndAbsences"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Leave and Absences"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:Oe.lateFiling,onChange:()=>Js("lateFiling"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Allowances"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:Oe.undertime,onChange:()=>Js("undertime"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Undertime"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:Oe.noOfDaysWork,onChange:()=>Js("noOfDaysWork"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"No. Of Days Work"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:Oe.overtime,onChange:()=>Js("overtime"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Overtime"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:S&&k&&M&&O&&B&&le,onChange:cs,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Select All"})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:ts,children:[e.jsx(fC,{className:"w-4 h-4"}),"Post"]})})})]})]})]})]})]})}),f&&e.jsx(qX,{value:f==="year"?a:f==="dateFrom"?y:j,onChange:zt,onClose:()=>N(null),position:p}),e.jsx(Zt,{})]})}function JX({value:t,onChange:s,onClose:a,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&a()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[a]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,y=n.getFullYear(),g=`${v}/${p}/${y}`;s(g),a()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let g=x-1;g>=0;g--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-g},`prev-${g}`));for(let g=1;g<=d;g++)p.push(e.jsx("div",{onClick:()=>f(g),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:g},g));const y=42-p.length;for(let g=1;g<=y;g++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:g},`next-${g}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function QX(){const[t,s]=o.useState("TK Group"),[a,r]=o.useState(""),[n,l]=o.useState("January"),[i,d]=o.useState(""),[x,h]=o.useState(""),[m,b]=o.useState("active"),[f,N]=o.useState(null),[p,v]=o.useState({top:0,left:0}),[y,g]=o.useState(""),[j,C]=o.useState(""),[S,P]=o.useState(""),[k,E]=o.useState(""),[M,L]=o.useState([]),[O,q]=o.useState([]),[B,se]=o.useState(1),[le,pe]=o.useState(1),U=10,[Y,W]=o.useState(!1);o.useEffect(()=>{se(1)},[t]);const[re,G]=o.useState(!1),[R,F]=o.useState([]),[A,H]=o.useState(!1),[D,_]=o.useState([]),[xe,ge]=o.useState(!1),[Ne,Ce]=o.useState([]),[fe,ue]=o.useState(!1),[Oe,De]=o.useState([]),[Ae,Ee]=o.useState(!1),[ze,ot]=o.useState([]),[wt,Ie]=o.useState(!1),[ye,be]=o.useState([]),[Me,Re]=o.useState(!1),[st,He]=o.useState([]),[Ue,Ye]=o.useState(!1),[ht,ut]=o.useState([]),[vt,ve]=o.useState(!1),[Le,he]=o.useState([]),[Ve,xt]=o.useState(""),Pt=async()=>(await ne.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(we=>({id:we.ID||we.id,code:we.groupCode||we.code,description:we.groupDescription||we.description}));o.useEffect(()=>{(async()=>{const we=await Pt();F(we)})()},[]);const Lt=async()=>(await ne.get("/Fs/Employment/BranchSetUp")).data.map(we=>({id:we.braID||we.ID,code:we.braCode||we.code,description:we.braDesc||we.description}));o.useEffect(()=>{(async()=>{const we=await Lt();_(we)})()},[]);const It=async()=>(await ne.get("/Fs/Employment/DepartmentSetUp")).data.map(we=>({id:we.depID||we.ID,code:we.depCode||we.code,description:we.depDesc||we.description}));o.useEffect(()=>{(async()=>{const we=await It();Ce(we)})()},[]);const qe=async()=>(await ne.get("/Fs/Employment/DivisionSetUp")).data.map(we=>({id:we.divID||we.ID,code:we.divCode||we.code,description:we.divDesc||we.description}));o.useEffect(()=>{(async()=>{const we=await qe();De(we)})()},[]);const Nt=async()=>{const J=await ne.get("/Fs/Employment/GroupSetUp");return(Array.isArray(J.data)?J.data:[]).map(I=>({id:I.grpSchID||I.id||I.ID,code:I.grpCode||I.code,description:I.grpDesc||I.description}))};o.useEffect(()=>{(async()=>{const we=await Nt();ot(we)})()},[]);const gt=async()=>{const J=await ne.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(J.data)?J.data:[]).map(I=>({id:I.lineID??I.ID??I.id,code:I.lineCode??I.code,description:I.lineDesc??I.Description??I.description}))};o.useEffect(()=>{(async()=>{const we=await gt();be(we)})()},[]);const dt=async()=>{const J=await ne.get("/Fs/Employment/SectionSetUp");return(Array.isArray(J.data)?J.data:[]).map(I=>({id:I.secID??I.ID??I.id,code:I.secCode??I.sectionCode??I.code,description:I.secDesc??I.Description??I.description}))};o.useEffect(()=>{(async()=>{const we=await dt();He(we)})()},[]);const kt=async()=>(await ne.get("/Fs/Employment/UnitSetUp")).data.map(we=>({id:we.unitID||we.ID,code:we.unitCode||we.code,description:we.unitDesc||we.description}));o.useEffect(()=>{(async()=>{const we=await kt();ut(we)})()},[]);const Dt=async()=>{const J=await ne.get("/EmployeeMasterFile");return(Array.isArray(J.data)?J.data:[]).map(I=>({id:I.empID??I.ID??I.id,code:I.empCode||I.code||"",name:`${I.lName||""}, ${I.fName||""} ${I.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const we=await Dt();he(we)})()},[]);const ie=(()=>{switch(t){case"Branch":return D;case"Department":return Ne;case"Division":return Oe;case"Group Schedule":return ze;case"Pay House":return ye;case"Section":return st;case"Unit":return ht;default:return R}})().filter(J=>J.code.toLowerCase().includes(S.toLowerCase())||J.description.toLowerCase().includes(S.toLowerCase())),ke=Le.filter(J=>J.code.toLowerCase().includes(k.toLowerCase())||J.name.toLowerCase().includes(k.toLowerCase())),me=Math.ceil(ie.length/U),Ze=(B-1)*U,it=Ze+U,_t=ie.slice((B-1)*U,B*U),nt=()=>{const J=[];if(me<=7)for(let we=1;we<=me;we++)J.push(we);else if(B<=4){for(let we=1;we<=5;we++)J.push(we);J.push("..."),J.push(me)}else if(B>=me-3){J.push(1),J.push("...");for(let we=me-4;we<=me;we++)J.push(we)}else{J.push(1),J.push("...");for(let we=B-1;we<=B+1;we++)J.push(we);J.push("..."),J.push(me)}return J},mt=Math.ceil(ke.length/U),ae=(le-1)*U,ce=ae+U,te=ke.slice((le-1)*U,le*U),z=()=>{const J=[];if(mt<=5)return Array.from({length:mt},(Q,We)=>We+1);J.push(1),le>3&&J.push("...");const I=Math.max(2,le-1),Z=Math.min(mt-1,le+1);for(let Q=I;Q<=Z;Q++)J.push(Q);return le<mt-2&&J.push("..."),J.push(mt),J},V=async()=>{if(!O.length){await ee.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!y||!j){await ee.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{W(!0),await ee.fire({icon:"success",title:"Success",text:"Time flag on set policy successfully updated.",timer:2e3,showConfirmButton:!1}),L([]),q([]),g(""),C("")}catch(J){console.error(J),alert("Failed to update records")}finally{W(!1)}},X=J=>{L(we=>we.includes(J)?we.filter(I=>I!==J):[...we,J])},de=J=>{q(we=>we.includes(J)?we.filter(I=>I!==J):[...we,J])},_e=()=>{M.length===ie.length?L([]):L(ie.map(J=>J.id))},Te=()=>{O.length===ke.length?q([]):q(ke.map(J=>J.id))},je=J=>{f==="year"?r(J):f==="dateFrom"?g(J):f==="dateTo"&&C(J)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Utility to Update the Time Flag Base on set Policy of Breaks"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(ya,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Update time flags based on configured break policies. Apply break time rules and automatically flag attendance records according to company break policy settings."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set date range for updates"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Auto-apply break policy rules"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Hs},{name:"Branch",icon:ea},{name:"Department",icon:Zs},{name:"Division",icon:wr},{name:"Group Schedule",icon:_a},{name:"Pay House",icon:Ia},{name:"Section",icon:Ma},{name:"Unit",icon:ln}].map(J=>e.jsxs("button",{onClick:()=>s(J.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===J.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(J.icon,{className:"w-4 h-4"}),J.name]},J.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:S,onChange:J=>P(J.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:M.length===ie.length&&ie.length>0,onChange:_e,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:_t.map(J=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:M.includes(J.id),onChange:()=>X(J.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:J.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:J.description})]},J.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",ke.length===0?0:Ze+1," to ",Math.min(it,ie.length)," of ",ie.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>se(J=>Math.max(J-1,1)),disabled:B===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),nt().map((J,we)=>J==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${we}`):e.jsx("button",{onClick:()=>se(J),className:`px-2 py-1 rounded text-xs ${B===J?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:J},J)),e.jsx("button",{onClick:()=>se(J=>Math.min(J+1,me)),disabled:B===me||me===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:k,onChange:J=>E(J.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:O.length===ke.length&&ke.length>0,onChange:Te,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:te.map(J=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:O.includes(J.id),onChange:()=>de(J.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:J.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:J.name})]},J.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",ae+1," to ",Math.min(ce,ke.length)," of ",ke.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>pe(J=>Math.max(1,J-1)),disabled:le===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),z().map((J,we)=>typeof J=="number"?e.jsx("button",{onClick:()=>pe(J),className:`px-2 py-1 rounded text-xs ${le===J?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:J},we):e.jsx("span",{className:"px-2",children:J},we)),e.jsx("button",{onClick:()=>pe(J=>Math.min(mt,J+1)),disabled:le===mt,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:m==="active",onChange:()=>b("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:m==="inactive",onChange:()=>b("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:m==="all",onChange:()=>b("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:y,onChange:J=>g(J.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:y,onChange:g})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date To:"}),e.jsx("input",{type:"text",value:j,onChange:J=>C(J.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:j,onChange:C})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:V,disabled:Y,children:[e.jsx(Aa,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),f&&e.jsx(JX,{value:f==="year"?a:f==="dateFrom"?y:j,onChange:je,onClose:()=>N(null),position:p}),e.jsx(Zt,{})]})}function ZX({value:t,onChange:s,onClose:a,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&a()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[a]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,y=n.getFullYear(),g=`${v}/${p}/${y}`;s(g),a()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let g=x-1;g>=0;g--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-g},`prev-${g}`));for(let g=1;g<=d;g++)p.push(e.jsx("div",{onClick:()=>f(g),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:g},g));const y=42-p.length;for(let g=1;g<=y;g++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:g},`next-${g}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function eJ(){const[t,s]=o.useState("TK Group"),[a,r]=o.useState(""),[n,l]=o.useState("January"),[i,d]=o.useState(""),[x,h]=o.useState(""),[m,b]=o.useState("active"),[f,N]=o.useState(null),[p,v]=o.useState({top:0,left:0}),[y,g]=o.useState(""),[j,C]=o.useState(""),[S,P]=o.useState(""),[k,E]=o.useState(""),[M,L]=o.useState([]),[O,q]=o.useState([]),[B,se]=o.useState(1),[le,pe]=o.useState(1),U=10,[Y,W]=o.useState(!1);o.useEffect(()=>{se(1)},[t]);const[re,G]=o.useState(!1),[R,F]=o.useState([]),[A,H]=o.useState(!1),[D,_]=o.useState([]),[xe,ge]=o.useState(!1),[Ne,Ce]=o.useState([]),[fe,ue]=o.useState(!1),[Oe,De]=o.useState([]),[Ae,Ee]=o.useState(!1),[ze,ot]=o.useState([]),[wt,Ie]=o.useState(!1),[ye,be]=o.useState([]),[Me,Re]=o.useState(!1),[st,He]=o.useState([]),[Ue,Ye]=o.useState(!1),[ht,ut]=o.useState([]),[vt,ve]=o.useState(!1),[Le,he]=o.useState([]),[Ve,xt]=o.useState(""),Pt=async()=>(await ne.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(we=>({id:we.ID||we.id,code:we.groupCode||we.code,description:we.groupDescription||we.description}));o.useEffect(()=>{(async()=>{const we=await Pt();F(we)})()},[]);const Lt=async()=>(await ne.get("/Fs/Employment/BranchSetUp")).data.map(we=>({id:we.braID||we.ID,code:we.braCode||we.code,description:we.braDesc||we.description}));o.useEffect(()=>{(async()=>{const we=await Lt();_(we)})()},[]);const It=async()=>(await ne.get("/Fs/Employment/DepartmentSetUp")).data.map(we=>({id:we.depID||we.ID,code:we.depCode||we.code,description:we.depDesc||we.description}));o.useEffect(()=>{(async()=>{const we=await It();Ce(we)})()},[]);const qe=async()=>(await ne.get("/Fs/Employment/DivisionSetUp")).data.map(we=>({id:we.divID||we.ID,code:we.divCode||we.code,description:we.divDesc||we.description}));o.useEffect(()=>{(async()=>{const we=await qe();De(we)})()},[]);const Nt=async()=>{const J=await ne.get("/Fs/Employment/GroupSetUp");return(Array.isArray(J.data)?J.data:[]).map(I=>({id:I.grpSchID||I.id||I.ID,code:I.grpCode||I.code,description:I.grpDesc||I.description}))};o.useEffect(()=>{(async()=>{const we=await Nt();ot(we)})()},[]);const gt=async()=>{const J=await ne.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(J.data)?J.data:[]).map(I=>({id:I.lineID??I.ID??I.id,code:I.lineCode??I.code,description:I.lineDesc??I.Description??I.description}))};o.useEffect(()=>{(async()=>{const we=await gt();be(we)})()},[]);const dt=async()=>{const J=await ne.get("/Fs/Employment/SectionSetUp");return(Array.isArray(J.data)?J.data:[]).map(I=>({id:I.secID??I.ID??I.id,code:I.secCode??I.sectionCode??I.code,description:I.secDesc??I.Description??I.description}))};o.useEffect(()=>{(async()=>{const we=await dt();He(we)})()},[]);const kt=async()=>(await ne.get("/Fs/Employment/UnitSetUp")).data.map(we=>({id:we.unitID||we.ID,code:we.unitCode||we.code,description:we.unitDesc||we.description}));o.useEffect(()=>{(async()=>{const we=await kt();ut(we)})()},[]);const Dt=async()=>{const J=await ne.get("/EmployeeMasterFile");return(Array.isArray(J.data)?J.data:[]).map(I=>({id:I.empID??I.ID??I.id,code:I.empCode||I.code||"",name:`${I.lName||""}, ${I.fName||""} ${I.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const we=await Dt();he(we)})()},[]);const ie=(()=>{switch(t){case"Branch":return D;case"Department":return Ne;case"Division":return Oe;case"Group Schedule":return ze;case"Pay House":return ye;case"Section":return st;case"Unit":return ht;default:return R}})().filter(J=>J.code.toLowerCase().includes(S.toLowerCase())||J.description.toLowerCase().includes(S.toLowerCase())),ke=Le.filter(J=>J.code.toLowerCase().includes(k.toLowerCase())||J.name.toLowerCase().includes(k.toLowerCase())),me=Math.ceil(ie.length/U),Ze=(B-1)*U,it=Ze+U,_t=ie.slice((B-1)*U,B*U),nt=()=>{const J=[];if(me<=7)for(let we=1;we<=me;we++)J.push(we);else if(B<=4){for(let we=1;we<=5;we++)J.push(we);J.push("..."),J.push(me)}else if(B>=me-3){J.push(1),J.push("...");for(let we=me-4;we<=me;we++)J.push(we)}else{J.push(1),J.push("...");for(let we=B-1;we<=B+1;we++)J.push(we);J.push("..."),J.push(me)}return J},mt=Math.ceil(ke.length/U),ae=(le-1)*U,ce=ae+U,te=ke.slice((le-1)*U,le*U),z=()=>{const J=[];if(mt<=5)return Array.from({length:mt},(Q,We)=>We+1);J.push(1),le>3&&J.push("...");const I=Math.max(2,le-1),Z=Math.min(mt-1,le+1);for(let Q=I;Q<=Z;Q++)J.push(Q);return le<mt-2&&J.push("..."),J.push(mt),J},V=async()=>{if(!O.length){await ee.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!y||!j){await ee.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{W(!0),await ee.fire({icon:"success",title:"Success",text:"Unpaid Lunch deduction successfully updated.",timer:2e3,showConfirmButton:!1}),L([]),q([]),g(""),C("")}catch(J){console.error(J),alert("Failed to update records")}finally{W(!1)}},X=J=>{L(we=>we.includes(J)?we.filter(I=>I!==J):[...we,J])},de=J=>{q(we=>we.includes(J)?we.filter(I=>I!==J):[...we,J])},_e=()=>{M.length===ie.length?L([]):L(ie.map(J=>J.id))},Te=()=>{O.length===ke.length?q([]):q(ke.map(J=>J.id))},je=J=>{f==="year"?r(J):f==="dateFrom"?g(J):f==="dateTo"&&C(J)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Unpaid Lunch Deduction Utility"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(ya,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Apply unpaid lunch break deductions for selected employees. Calculate and deduct lunch break hours based on configured brackets and company policy settings."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set date range for deductions"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Automated bracket calculation"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Hs},{name:"Branch",icon:ea},{name:"Department",icon:Zs},{name:"Division",icon:wr},{name:"Group Schedule",icon:_a},{name:"Pay House",icon:Ia},{name:"Section",icon:Ma},{name:"Unit",icon:ln}].map(J=>e.jsxs("button",{onClick:()=>s(J.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===J.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(J.icon,{className:"w-4 h-4"}),J.name]},J.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:S,onChange:J=>P(J.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:M.length===ie.length&&ie.length>0,onChange:_e,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:_t.map(J=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:M.includes(J.id),onChange:()=>X(J.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:J.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:J.description})]},J.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",ke.length===0?0:Ze+1," to ",Math.min(it,ie.length)," of ",ie.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>se(J=>Math.max(J-1,1)),disabled:B===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),nt().map((J,we)=>J==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${we}`):e.jsx("button",{onClick:()=>se(J),className:`px-2 py-1 rounded text-xs ${B===J?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:J},J)),e.jsx("button",{onClick:()=>se(J=>Math.min(J+1,me)),disabled:B===me||me===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:k,onChange:J=>E(J.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:O.length===ke.length&&ke.length>0,onChange:Te,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:te.map(J=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:O.includes(J.id),onChange:()=>de(J.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:J.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:J.name})]},J.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",ae+1," to ",Math.min(ce,ke.length)," of ",ke.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>pe(J=>Math.max(1,J-1)),disabled:le===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),z().map((J,we)=>typeof J=="number"?e.jsx("button",{onClick:()=>pe(J),className:`px-2 py-1 rounded text-xs ${le===J?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:J},we):e.jsx("span",{className:"px-2",children:J},we)),e.jsx("button",{onClick:()=>pe(J=>Math.min(mt,J+1)),disabled:le===mt,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:m==="active",onChange:()=>b("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:m==="inactive",onChange:()=>b("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:m==="all",onChange:()=>b("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:y,onChange:J=>g(J.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:y,onChange:g})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date To:"}),e.jsx("input",{type:"text",value:j,onChange:J=>C(J.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:j,onChange:C})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:V,disabled:Y,children:[e.jsx(Aa,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),f&&e.jsx(ZX,{value:f==="year"?a:f==="dateFrom"?y:j,onChange:je,onClose:()=>N(null),position:p}),e.jsx(Zt,{})]})}function tJ({value:t,onChange:s,onClose:a,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&a()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[a]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,y=n.getFullYear(),g=`${v}/${p}/${y}`;s(g),a()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let g=x-1;g>=0;g--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-g},`prev-${g}`));for(let g=1;g<=d;g++)p.push(e.jsx("div",{onClick:()=>f(g),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:g},g));const y=42-p.length;for(let g=1;g<=y;g++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:g},`next-${g}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function sJ(){const[t,s]=o.useState("TK Group"),[a,r]=o.useState("5/5/2021"),[n,l]=o.useState("05/05/2021"),[i,d]=o.useState("active"),[x,h]=o.useState(null),[m,b]=o.useState({top:0,left:0}),[f,N]=o.useState(""),[p,v]=o.useState(""),[y,g]=o.useState([]),[j,C]=o.useState([]),[S,P]=o.useState(1),[k,E]=o.useState(1),M=10,[L,O]=o.useState(!1);o.useEffect(()=>{P(1)},[t]);const[q,B]=o.useState(!1),[se,le]=o.useState([]),[pe,U]=o.useState(!1),[Y,W]=o.useState([]),[re,G]=o.useState(!1),[R,F]=o.useState([]),[A,H]=o.useState(!1),[D,_]=o.useState([]),[xe,ge]=o.useState(!1),[Ne,Ce]=o.useState([]),[fe,ue]=o.useState(!1),[Oe,De]=o.useState([]),[Ae,Ee]=o.useState(!1),[ze,ot]=o.useState([]),wt=async()=>(await ne.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Ke=>({id:Ke.ID||Ke.id,code:Ke.groupCode||Ke.code,description:Ke.groupDescription||Ke.description}));o.useEffect(()=>{(async()=>{const Ke=await wt();le(Ke)})()},[]);const Ie=async()=>(await ne.get("/Fs/Employment/BranchSetUp")).data.map(Ke=>({id:Ke.braID||Ke.ID,code:Ke.braCode||Ke.code,description:Ke.braDesc||Ke.description}));o.useEffect(()=>{(async()=>{const Ke=await Ie();W(Ke)})()},[]);const ye=async()=>(await ne.get("/Fs/Employment/DepartmentSetUp")).data.map(Ke=>({id:Ke.depID||Ke.ID,code:Ke.depCode||Ke.code,description:Ke.depDesc||Ke.description}));o.useEffect(()=>{(async()=>{const Ke=await ye();F(Ke)})()},[]);const be=async()=>{const Ge=await ne.get("/Fs/Employment/GroupSetUp");return(Array.isArray(Ge.data)?Ge.data:[]).map(ie=>({id:ie.grpSchID||ie.id||ie.ID,code:ie.grpCode||ie.code,description:ie.grpDesc||ie.description}))};o.useEffect(()=>{(async()=>{const Ke=await be();_(Ke)})()},[]);const Me=async()=>{const Ge=await ne.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(Ge.data)?Ge.data:[]).map(ie=>({id:ie.lineID??ie.ID??ie.id,code:ie.lineCode??ie.code,description:ie.lineDesc??ie.Description??ie.description}))};o.useEffect(()=>{(async()=>{const Ke=await Me();Ce(Ke)})()},[]);const Re=async()=>{const Ge=await ne.get("/Fs/Employment/SectionSetUp");return(Array.isArray(Ge.data)?Ge.data:[]).map(ie=>({id:ie.secID??ie.ID??ie.id,code:ie.secCode??ie.sectionCode??ie.code,description:ie.secDesc??ie.Description??ie.description}))};o.useEffect(()=>{(async()=>{const Ke=await Re();De(Ke)})()},[]);const st=async()=>{const Ge=await ne.get("/EmployeeMasterFile");return(Array.isArray(Ge.data)?Ge.data:[]).map(ie=>({id:ie.empID??ie.ID??ie.id,code:ie.empCode||ie.code||"",name:`${ie.lName||""}, ${ie.fName||""} ${ie.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const Ke=await st();ot(Ke)})()},[]);const Ye=(()=>{switch(t){case"Branch":return Y;case"Department":return R;case"Group Schedule":return D;case"Pay House":return Ne;case"Section":return Oe;default:return se}})().filter(Ge=>Ge.code.toLowerCase().includes(f.toLowerCase())||Ge.description.toLowerCase().includes(f.toLowerCase())),ht=ze.filter(Ge=>Ge.code.toLowerCase().includes(p.toLowerCase())||Ge.name.toLowerCase().includes(p.toLowerCase())),ut=Math.ceil(Ye.length/M),vt=(S-1)*M,ve=vt+M,Le=Ye.slice((S-1)*M,S*M),he=()=>{const Ge=[];if(ut<=7)for(let Ke=1;Ke<=ut;Ke++)Ge.push(Ke);else if(S<=4){for(let Ke=1;Ke<=5;Ke++)Ge.push(Ke);Ge.push("..."),Ge.push(ut)}else if(S>=ut-3){Ge.push(1),Ge.push("...");for(let Ke=ut-4;Ke<=ut;Ke++)Ge.push(Ke)}else{Ge.push(1),Ge.push("...");for(let Ke=S-1;Ke<=S+1;Ke++)Ge.push(Ke);Ge.push("..."),Ge.push(ut)}return Ge},Ve=Math.ceil(ht.length/M),xt=(k-1)*M,Pt=xt+M,Lt=ht.slice((k-1)*M,k*M),It=()=>{const Ge=[];if(Ve<=5)return Array.from({length:Ve},(me,Ze)=>Ze+1);Ge.push(1),k>3&&Ge.push("...");const ie=Math.max(2,k-1),ke=Math.min(Ve-1,k+1);for(let me=ie;me<=ke;me++)Ge.push(me);return k<Ve-2&&Ge.push("..."),Ge.push(Ve),Ge},qe=async()=>{if(!j.length){await ee.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!a||!n){await ee.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{O(!0),await ee.fire({icon:"success",title:"Success",text:"Tardiness to Overtime successfully updated.",timer:2e3,showConfirmButton:!1}),g([]),C([]),r(""),l("")}catch(Ge){console.error(Ge),alert("Failed to update records")}finally{O(!1)}},Nt=Ge=>{g(Ke=>Ke.includes(Ge)?Ke.filter(ie=>ie!==Ge):[...Ke,Ge])},gt=Ge=>{C(Ke=>Ke.includes(Ge)?Ke.filter(ie=>ie!==Ge):[...Ke,Ge])},dt=()=>{y.length===Ye.length?g([]):g(Ye.map(Ge=>Ge.id))},kt=()=>{j.length===ht.length?C([]):C(ht.map(Ge=>Ge.id))},Dt=Ge=>{x==="dateFrom1"?r(Ge):x==="dateFrom2"&&l(Ge)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Deduct Tardiness to Overtime of the Day"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(EF,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Automatically deduct tardiness from overtime hours of the same day for selected employee groups. Process time adjustments efficiently within specified date ranges."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Specify date range for deductions"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update to apply adjustments"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Hs},{name:"Branch",icon:ea},{name:"Department",icon:Zs},{name:"Group Schedule",icon:_a},{name:"Pay House",icon:Ia},{name:"Section",icon:Ma}].map(Ge=>e.jsxs("button",{onClick:()=>s(Ge.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===Ge.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Ge.icon,{className:"w-4 h-4"}),Ge.name]},Ge.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:f,onChange:Ge=>N(Ge.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:y.length===Ye.length&&Ye.length>0,onChange:dt,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Le.map(Ge=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:y.includes(Ge.id),onChange:()=>Nt(Ge.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Ge.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Ge.description})]},Ge.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",ht.length===0?0:vt+1," to ",Math.min(ve,Ye.length)," of ",Ye.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>P(Ge=>Math.max(Ge-1,1)),disabled:S===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),he().map((Ge,Ke)=>Ge==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Ke}`):e.jsx("button",{onClick:()=>P(Ge),className:`px-2 py-1 rounded text-xs ${S===Ge?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ge},Ge)),e.jsx("button",{onClick:()=>P(Ge=>Math.min(Ge+1,ut)),disabled:S===ut||ut===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:p,onChange:Ge=>v(Ge.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:j.length===ht.length&&ht.length>0,onChange:kt,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Lt.map(Ge=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:j.includes(Ge.id),onChange:()=>gt(Ge.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Ge.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Ge.name})]},Ge.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",xt+1," to ",Math.min(Pt,ht.length)," of ",ht.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>E(Ge=>Math.max(1,Ge-1)),disabled:k===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),It().map((Ge,Ke)=>typeof Ge=="number"?e.jsx("button",{onClick:()=>E(Ge),className:`px-2 py-1 rounded text-xs ${k===Ge?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ge},Ke):e.jsx("span",{className:"px-2",children:Ge},Ke)),e.jsx("button",{onClick:()=>E(Ge=>Math.min(Ve,Ge+1)),disabled:k===Ve,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:i==="active",onChange:()=>d("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:i==="inactive",onChange:()=>d("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:i==="all",onChange:()=>d("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:a,onChange:Ge=>r(Ge.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:a,onChange:r})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:n,onChange:Ge=>l(Ge.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(xs,{date:n,onChange:l})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:qe,children:[e.jsx(Aa,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),x&&e.jsx(tJ,{value:x==="dateFrom1"?a:n,onChange:Dt,onClose:()=>h(null),position:m})]})}function aJ(){const[t,s]=o.useState("TK Group"),[a,r]=o.useState("3/1/2020"),[n,l]=o.useState("03/15/2020"),[i,d]=o.useState("7/7/2021"),[x,h]=o.useState(!1),[m,b]=o.useState(!1),[f,N]=o.useState(!1),[p,v]=o.useState(!1),[y,g]=o.useState("tardiness"),j=o.useRef(null),[C,S]=o.useState(1),P=50,[k,E]=o.useState(""),[M,L]=o.useState(""),[O,q]=o.useState([]),[B,se]=o.useState([]),[le,pe]=o.useState(1),[U,Y]=o.useState(1),W=10,[re,G]=o.useState(null),[R,F]=o.useState(null),[A,H]=o.useState({tardiness:!1,allowances:!1,undertime:!1,overtime:!1,selectAll:!1,leaveAbsences:!1,nightDifferentials:!1,regularWorking:!1,holidayPay:!1});o.useEffect(()=>{pe(1)},[t]);const[D,_]=o.useState([]),[xe,ge]=o.useState([]),[Ne,Ce]=o.useState([]),[fe,ue]=o.useState([]),[Oe,De]=o.useState([]),[Ae,Ee]=o.useState([]),[ze,ot]=o.useState([]),[wt,Ie]=o.useState([]),[ye,be]=o.useState([]),Me=async()=>(await ne.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Z=>({id:Z.ID||Z.id,code:Z.groupCode||Z.code,description:Z.groupDescription||Z.description})),Re=async()=>(await ne.get("/Fs/Employment/BranchSetUp")).data.map(Z=>({id:Z.braID||Z.ID,code:Z.braCode||Z.code,description:Z.braDesc||Z.description})),st=async()=>(await ne.get("/Fs/Employment/DepartmentSetUp")).data.map(Z=>({id:Z.depID||Z.ID,code:Z.depCode||Z.code,description:Z.depDesc||Z.description})),He=async()=>(await ne.get("/Fs/Employment/DivisionSetUp")).data.map(Z=>({id:Z.divID||Z.ID,code:Z.divCode||Z.code,description:Z.divDesc||Z.description})),Ue=async()=>{const I=await ne.get("/Fs/Employment/GroupSetUp");return(Array.isArray(I.data)?I.data:[]).map(Q=>({id:Q.grpSchID||Q.id||Q.ID,code:Q.grpCode||Q.code,description:Q.grpDesc||Q.description}))},Ye=async()=>{const I=await ne.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(I.data)?I.data:[]).map(Q=>({id:Q.lineID??Q.ID??Q.id,code:Q.lineCode??Q.code,description:Q.lineDesc??Q.Description??Q.description}))},ht=async()=>{const I=await ne.get("/Fs/Employment/SectionSetUp");return(Array.isArray(I.data)?I.data:[]).map(Q=>({id:Q.secID??Q.ID??Q.id,code:Q.secCode??Q.sectionCode??Q.code,description:Q.secDesc??Q.Description??Q.description}))},ut=async()=>(await ne.get("/Fs/Employment/UnitSetUp")).data.map(Z=>({id:Z.unitID||Z.ID,code:Z.unitCode||Z.code,description:Z.unitDesc||Z.description})),vt=async()=>{const I=await ne.get("/Maintenance/EmployeeMasterFile");return(Array.isArray(I.data)?I.data:[]).map(Q=>({id:Q.empID??Q.ID??Q.id,code:Q.empCode||Q.code||"",name:`${Q.lName||""}, ${Q.fName||""} ${Q.mName||""}`.trim(),tkGroup:Q.tkGroup??Q.tKGroup??Q.groupCode??Q.tkGroupCode??"",branchCode:Q.braCode??Q.branchCode??Q.branch??"",departmentCode:Q.depCode??Q.departmentCode??Q.department??"",divisionCode:Q.divCode??Q.divisionCode??Q.division??"",groupScheduleCode:Q.grpCode??Q.groupSchedule??Q.grpSchCode??"",payHouseCode:Q.lineCode??Q.payCode??Q.payHouseCode??Q.payHouse??"",sectionCode:Q.secCode??Q.sectionCode??Q.section??"",unitCode:Q.unitCode??Q.unit??""}))};o.useEffect(()=>{Me().then(_)},[]),o.useEffect(()=>{Re().then(ge)},[]),o.useEffect(()=>{st().then(Ce)},[]),o.useEffect(()=>{He().then(ue)},[]),o.useEffect(()=>{Ue().then(De)},[]),o.useEffect(()=>{Ye().then(Ee)},[]),o.useEffect(()=>{ht().then(ot)},[]),o.useEffect(()=>{ut().then(Ie)},[]),o.useEffect(()=>{vt().then(be)},[]);const Le=(()=>{switch(t){case"Branch":return xe;case"Department":return Ne;case"Division":return fe;case"Group Schedule":return Oe;case"Pay House":return Ae;case"Section":return ze;case"Unit":return wt;default:return D}})(),he=()=>{switch(t){case"TK Group":return"TK Group Selection";case"Branch":return"Branch Selection";case"Department":return"Department Selection";case"Division":return"Division Selection";case"Group Schedule":return"Group Schedule Selection";case"Pay House":return"Pay House Selection";case"Section":return"Section Selection";case"Unit":return"Unit Selection";default:return"Selection"}},Ve=Le.filter(I=>I.code.toLowerCase().includes(k.toLowerCase())||I.description.toLowerCase().includes(k.toLowerCase())),xt=()=>{switch(t){case"TK Group":return"tkGroup";case"Branch":return"branchCode";case"Department":return"departmentCode";case"Division":return"divisionCode";case"Group Schedule":return"groupScheduleCode";case"Pay House":return"payHouseCode";case"Section":return"sectionCode";case"Unit":return"unitCode";default:return null}},Pt=new Set(Le.filter(I=>O.includes(I.id)).map(I=>I.code.trim().toLowerCase())),Lt=ye.filter(I=>{if(!(I.code.toLowerCase().includes(M.toLowerCase())||I.name.toLowerCase().includes(M.toLowerCase())))return!1;if(Pt.size===0)return!0;const Q=xt();if(!Q)return!0;const We=I[Q]?.trim().toLowerCase()??"";return Pt.has(We)}),It=Math.ceil(Ve.length/W),qe=(le-1)*W,Nt=qe+W,gt=Ve.slice(qe,Nt),dt=()=>{const I=[];if(It<=7)for(let Z=1;Z<=It;Z++)I.push(Z);else if(le<=4){for(let Z=1;Z<=5;Z++)I.push(Z);I.push("..."),I.push(It)}else if(le>=It-3){I.push(1),I.push("...");for(let Z=It-4;Z<=It;Z++)I.push(Z)}else{I.push(1),I.push("...");for(let Z=le-1;Z<=le+1;Z++)I.push(Z);I.push("..."),I.push(It)}return I},kt=Math.ceil(Lt.length/W),Dt=(U-1)*W,Ge=Dt+W,Ke=Lt.slice(Dt,Ge),ie=()=>{const I=[];if(kt<=5)return Array.from({length:kt},(We,ft)=>ft+1);I.push(1),U>3&&I.push("...");const Z=Math.max(2,U-1),Q=Math.min(kt-1,U+1);for(let We=Z;We<=Q;We++)I.push(We);return U<kt-2&&I.push("..."),I.push(kt),I},ke=I=>{q(Z=>Z.includes(I)?Z.filter(Q=>Q!==I):[...Z,I])},me=I=>{se(Z=>Z.includes(I)?Z.filter(Q=>Q!==I):[...Z,I])},Ze=()=>{O.length===Ve.length?q([]):q(Ve.map(I=>I.id))},it=()=>{B.length===Lt.length?se([]):se(Lt.map(I=>I.id))},_t=I=>{if(I==="selectAll"){const Z=!A.selectAll;H({tardiness:Z,allowances:Z,undertime:Z,overtime:Z,selectAll:Z,leaveAbsences:Z,nightDifferentials:Z,regularWorking:Z,holidayPay:Z})}else H(Z=>({...Z,[I]:!Z[I]}))},nt=()=>B.length>0?ye.filter(I=>B.includes(I.id)).map(I=>I.code):ye.map(I=>I.code),mt=I=>{try{return new Date(I).toISOString()}catch{return new Date().toISOString()}},ae=I=>{const Z=Math.floor(I/1e3),Q=Math.floor(Z/3600),We=Math.floor(Z%3600/60),ft=Z%60;return{h:Q,m:We,s:ft}},ce=async()=>{const I=nt();if(I.length===0){ee.fire({icon:"warning",title:"No Employees",text:"Please select at least one employee or group."});return}const Z={dateFrom:mt(a),dateTo:mt(n),dateApplied:mt(i),empCode:"",empCodes:I,tardiness:A.tardiness,undertime:A.undertime,leaveAndAbsences:A.leaveAbsences,regularWorkingDays:A.regularWorking,allowances:A.allowances,overtime:A.overtime,nightDiff:A.nightDifferentials,holidayPay:A.holidayPay,unprodWorkOnHoliday:!1,lateFiling:x,oldOvertimeProcess:!1,oldNighDiffProcess:!1,oldTardinessProcess:!1,userName:"currentUser"};v(!0),b(!1),G(null),F(null);const Q=Date.now();try{const We=await ne.post("/Populate/Populate",Z),ft=ae(Date.now()-Q),$t=We.data;console.log(We),G($t),F({...Z,allowances:A.allowances,undertime:A.undertime,overtime:A.overtime,nightDiff:A.nightDifferentials,holidayPay:A.holidayPay,regularWorkingDays:A.regularWorking,tardiness:A.tardiness,leaveAndAbsences:A.leaveAbsences,lateFiling:x,dataAllowance:$t.allowance??[],dataUndertime:$t.undertime??[],dataOvertime:$t.overtime??[],dataNightDiff:$t.nightDiff??[],dataHolidayPay:$t.holidayPay??[],dataRegularWorkingHours:$t.regularWorkingHours??[],dataTardiness:$t.tardiness??[],dataLeaveAbsences:$t.leaveAbsences??[],tardinessBelowThreshold:$t.tardinessBelowThreshold??[],tardinessAboveThreshold:$t.tardinessAboveThreshold??[],undertimeBelowThreshold:$t.undertimeBelowThreshold??[],undertimeAboveThreshold:$t.undertimeAboveThreshold??[]}),b(!0),g("tardiness"),await ee.fire({icon:"success",title:"Done Populating",html:`
          <div style="text-align:center">
            <p style="font-size:1rem;color:#374151;margin-bottom:8px">Elapsed time:</p>
            <p style="font-size:1.25rem;font-weight:600;color:#1d4ed8">
              ${ft.h} hour(s), ${ft.m} minute(s) and ${ft.s} second(s)
            </p>
          </div>
        `,confirmButtonText:"View Results",confirmButtonColor:"#2563eb"}),setTimeout(()=>{j.current?.scrollIntoView({behavior:"smooth",block:"start"})},100)}catch(We){const ft=We?.response?.data?.message??We?.message??"An unexpected error occurred.";ee.fire({icon:"error",title:"Populate Failed",text:ft})}finally{v(!1)}},te=async()=>{if(!R){ee.fire({icon:"warning",title:"Populate First",text:"Please run Populate before Process."});return}N(!0);const I=Date.now();try{const Z=await ne.post("/Populate/Process",R),Q=ae(Date.now()-I),We=Z.data;We?.isSuccessful===!1?ee.fire({icon:"error",title:"Process Error",text:We.message??"Process failed."}):await ee.fire({icon:"success",title:"Done Processing",html:`
            <div style="text-align:center">
              <p style="font-size:1rem;color:#374151;margin-bottom:8px">Elapsed time:</p>
              <p style="font-size:1.25rem;font-weight:600;color:#16a34a">
                ${Q.h} hour(s), ${Q.m} minute(s) and ${Q.s} second(s)
              </p>
            </div>
          `,confirmButtonText:"OK",confirmButtonColor:"#16a34a"})}catch(Z){const Q=Z?.response?.data?.message??Z?.message??"An unexpected error occurred.";ee.fire({icon:"error",title:"Process Failed",text:Q})}finally{N(!1)}};o.useEffect(()=>{S(1)},[y]);const z=[{id:"tardiness",label:"Tardiness"},{id:"undertime",label:"Undertime"},{id:"leave-absences",label:"Leave and Absences"},{id:"regular-working",label:"Regular Working Days/Hours"},{id:"allowances",label:"Allowances"},{id:"overtime",label:"Overtime"},{id:"night-differentials",label:"Night Differentials"},{id:"holiday-pay",label:"Holiday Pay"}],X=(()=>{if(!re)return[];switch(y){case"tardiness":return re.tardiness??[];case"undertime":return re.undertime??[];case"leave-absences":return re.leaveAbsences??[];case"regular-working":return re.regularWorkingHours??[];case"allowances":return re.allowance??[];case"overtime":return re.overtime??[];case"night-differentials":return re.nightDiff??[];case"holiday-pay":return re.holidayPay??[];default:return[]}})(),de=Math.ceil(X.length/P),_e=X.slice((C-1)*P,C*P),Te=()=>{const I=[];if(de<=7)for(let Z=1;Z<=de;Z++)I.push(Z);else if(C<=4){for(let Z=1;Z<=5;Z++)I.push(Z);I.push("..."),I.push(de)}else if(C>=de-3){I.push(1),I.push("...");for(let Z=de-4;Z<=de;Z++)I.push(Z)}else{I.push(1),I.push("...");for(let Z=C-1;Z<=C+1;Z++)I.push(Z);I.push("..."),I.push(de)}return I},je=I=>{if(!I)return"";try{return new Date(I).toLocaleDateString()}catch{return I}},J=I=>{if(!I)return"";try{return new Date(I).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return I}},we=I=>I!=null?I.toFixed(4):"";return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Process Data"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Process employee timekeeping data by various criteria including TK Group, branch, department, and more."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Process by multiple organizational groups","Generate comprehensive attendance reports","Track tardiness, undertime, and overtime","Monitor leave and absences efficiently"].map(I=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:I})]},I))})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Hs},{name:"Branch",icon:ea},{name:"Department",icon:Zs},{name:"Division",icon:wr},{name:"Group Schedule",icon:_a},{name:"Pay House",icon:Ia},{name:"Section",icon:Ma},{name:"Unit",icon:ln}].map(I=>e.jsxs("button",{onClick:()=>s(I.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===I.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[e.jsx(I.icon,{className:"w-4 h-4"}),I.name]},I.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:he()}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(Gt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search...",value:k,onChange:I=>E(I.target.value),className:"w-full pl-9 pr-4 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:O.length===Ve.length&&Ve.length>0,onChange:Ze,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:gt.map(I=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:O.includes(I.id),onChange:()=>ke(I.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:I.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:I.description})]},I.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Ve.length===0?0:qe+1," to ",Math.min(Nt,Ve.length)," of ",Ve.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>pe(I=>Math.max(I-1,1)),disabled:le===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50",children:"Previous"}),dt().map((I,Z)=>I==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`g-ellipsis-${Z}`):e.jsx("button",{onClick:()=>pe(I),className:`px-2 py-1 rounded text-xs ${le===I?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:I},I)),e.jsx("button",{onClick:()=>pe(I=>Math.min(I+1,It)),disabled:le===It||It===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50",children:"Next"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-gray-900",children:"Employees"}),e.jsxs("span",{className:"px-3 py-1 bg-teal-100 text-teal-700 rounded-full text-sm",children:[B.length," selected"]})]}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(Gt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search employees...",value:M,onChange:I=>L(I.target.value),className:"w-full pl-9 pr-4 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:B.length===Lt.length&&Lt.length>0,onChange:it,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Ke.map(I=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:B.includes(I.id),onChange:()=>me(I.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:I.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:I.name})]},I.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",Dt+1," to ",Math.min(Ge,Lt.length)," of ",Lt.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>Y(I=>Math.max(1,I-1)),disabled:U===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50",children:"Previous"}),ie().map((I,Z)=>typeof I=="number"?e.jsx("button",{onClick:()=>Y(I),className:`px-2 py-1 rounded text-xs ${U===I?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:I},Z):e.jsx("span",{className:"px-2",children:I},Z)),e.jsx("button",{onClick:()=>Y(I=>Math.min(kt,I+1)),disabled:U===kt,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50",children:"Next"})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-5 mb-6",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 mb-4",children:e.jsx("h2",{className:"text-gray-900",children:"Processing Options"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Date From"}),e.jsx(sr,{value:a,onChange:r})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Date To"}),e.jsx(sr,{value:n,onChange:l})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Date Applied"}),e.jsx(sr,{value:i,onChange:d})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x,onChange:I=>h(I.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Include Late Filing"})]})})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mb-3 pb-3 border-b border-blue-200",children:[e.jsx("input",{type:"checkbox",checked:A.selectAll,onChange:()=>_t("selectAll"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-900",children:"Select All"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[["tardiness","Tardiness"],["undertime","Undertime"],["overtime","Overtime"],["leaveAbsences","Leave/Absences"],["regularWorking","Regular Working"],["allowances","Allowances"],["nightDifferentials","Night Differential"],["holidayPay","Holiday Pay"]].map(([I,Z])=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:A[I],onChange:()=>_t(I),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:Z})]},I))})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:ce,disabled:p||f,className:"px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:p?e.jsxs(e.Fragment,{children:[e.jsx(to,{className:"w-4 h-4 animate-spin"}),"Populating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Hs,{className:"w-4 h-4"}),"Populate"]})}),e.jsx("button",{onClick:te,disabled:p||f||!R,className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",title:R?"":"Run Populate first",children:f?e.jsxs(e.Fragment,{children:[e.jsx(to,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(jb,{className:"w-4 h-4"}),"Process"]})})]}),!R&&e.jsxs("p",{className:"text-xs text-amber-600 mt-2",children:[" Run ",e.jsx("strong",{children:"Populate"})," first to enable the Process button."]})]}),m&&re&&e.jsxs("div",{ref:j,className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"px-5 py-3 bg-white border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-gray-900",children:"Populate Results"}),e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs",children:"Completed"})]}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"flex overflow-x-auto",children:z.map(I=>e.jsx("button",{onClick:()=>g(I.id),className:`px-4 py-3 whitespace-nowrap transition-all border-b-2 text-sm ${y===I.id?"border-blue-600 text-blue-600 bg-blue-50":"border-transparent text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:I.label},I.id))})}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full text-xs",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[y==="tardiness"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Emp Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date From"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date To"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Tardiness"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Within Grace"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Actual"})]}),y==="undertime"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Emp Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date From"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date To"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Undertime"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Within Grace"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Actual"})]}),y==="leave-absences"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Emp Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Leave Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Hours"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Reason"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Remarks"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"With Pay"})]}),y==="regular-working"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Emp Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date In"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Hours"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Remarks"})]}),y==="allowances"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Emp Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Allowance Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Amount"})]}),y==="overtime"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Emp Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date From"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date To"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"OT Hours"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"OT Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Reason"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Remarks"})]}),y==="night-differentials"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Emp Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date From"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date To"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"ND Hours"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"OT Code"})]}),y==="holiday-pay"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Emp Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date From"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date To"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Hours"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"OT Code"})]})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[y==="tardiness"&&_e.map((I,Z)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:I.empCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:I.empName||I.formattedName||""}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:je(I.dateFrom)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:je(I.dateTo)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:J(I.timeIn)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:J(I.timeOut)}),e.jsx("td",{className:"px-4 py-3 text-blue-600",children:I.workShift}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:we(I.tardiness)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:we(I.tardinessWithInGrace)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:we(I.actualTardiness)})]},Z)),y==="undertime"&&_e.map((I,Z)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:I.empCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:I.empName||I.formattedName||""}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:je(I.dateFrom)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:je(I.dateTo)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:J(I.timeIn)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:J(I.timeOut)}),e.jsx("td",{className:"px-4 py-3 text-blue-600",children:I.workShift}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:we(I.undertime)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:we(I.undertimeWithinGracePeriod)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:we(I.actualUndertime)})]},Z)),y==="leave-absences"&&_e.map((I,Z)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:I.empCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:I.empName||I.formattedName||""}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:je(I.dateL)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:I.leaveCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:we(I.hoursLeaveAbsent)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:I.reason}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:I.remarks}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"checkbox",checked:!!I.withPay,readOnly:!0,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded"})})]},Z)),y==="regular-working"&&_e.map((I,Z)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:I.empCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:I.empName||I.formattedName||""}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:je(I.dateIn)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:je(I.dateOut)}),e.jsx("td",{className:"px-4 py-3 text-blue-600",children:I.workshiftCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:we(I.noOfHours)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:I.remarks})]},Z)),y==="allowances"&&_e.map((I,Z)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:I.empCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:I.empName||I.formattedName||""}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:I.allowanceCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:je(I.date)}),e.jsx("td",{className:"px-4 py-3 text-blue-600",children:I.workshiftCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:I.amount?.toFixed(2)})]},Z)),y==="overtime"&&_e.map((I,Z)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:I.empCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:I.empName||I.formattedName||""}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:je(I.dateFrom)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:je(I.dateTo)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:J(I.timeIn)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:J(I.timeOut)}),e.jsx("td",{className:"px-4 py-3 text-blue-600",children:I.workShiftCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:we(I.overtime)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:I.otCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:I.reason}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:I.remarks})]},Z)),y==="night-differentials"&&_e.map((I,Z)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:I.empCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:I.empName||I.formattedName||""}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:je(I.dateFrom)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:je(I.dateTo)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:J(I.timeIn)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:J(I.timeOut)}),e.jsx("td",{className:"px-4 py-3 text-blue-600",children:I.workShiftCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:we(I.overtime)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:I.otCode})]},Z)),y==="holiday-pay"&&_e.map((I,Z)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:I.empCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:I.empName||I.formattedName||""}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:je(I.dateFrom)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:je(I.dateTo)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:J(I.timeIn)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:J(I.timeOut)}),e.jsx("td",{className:"px-4 py-3 text-blue-600",children:I.workShiftCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:we(I.overtime)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:I.otCode})]},Z)),X.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:11,className:"px-4 py-12 text-center text-gray-400 text-sm",children:"No data available for this category."})})]})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-between flex-wrap gap-2",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:["Showing"," ",X.length===0?0:(C-1)*P+1," ",""," ",Math.min(C*P,X.length)," ","of"," ",X.length," entries"]}),de>1&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>S(I=>Math.max(1,I-1)),disabled:C===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Te().map((I,Z)=>I==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`rp-ellipsis-${Z}`):e.jsx("button",{onClick:()=>S(I),className:`px-2 py-1 rounded text-xs ${C===I?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:I},I)),e.jsx("button",{onClick:()=>S(I=>Math.min(de,I+1)),disabled:C===de,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})}),e.jsx(Zt,{})]})}function rJ(){const[t,s]=o.useState("TK Group"),[a,r]=o.useState("3/1/2020"),[n,l]=o.useState("03/15/2020"),[i,d]=o.useState("7/7/2021"),[x,h]=o.useState(!1),[m,b]=o.useState(!1),[f,N]=o.useState(!1),[p,v]=o.useState(!1),[y,g]=o.useState("tardiness"),[j,C]=o.useState({hours:0,minutes:0,seconds:0}),S=o.useRef(null),[P,k]=o.useState(""),[E,M]=o.useState(""),[L,O]=o.useState([]),[q,B]=o.useState([]),[se,le]=o.useState(1),[pe,U]=o.useState(1),Y=10,[W,re]=o.useState({tardiness:!1,allowances:!1,undertime:!1,overtime:!1,selectAll:!1,leaveAbsences:!1,nightDifferentials:!1,regularWorking:!1,holidayPay:!1});o.useEffect(()=>{le(1)},[t]);const[G,R]=o.useState(!1),[F,A]=o.useState([]),[H,D]=o.useState(!1),[_,xe]=o.useState([]),[ge,Ne]=o.useState(!1),[Ce,fe]=o.useState([]),[ue,Oe]=o.useState(!1),[De,Ae]=o.useState([]),[Ee,ze]=o.useState(!1),[ot,wt]=o.useState([]),[Ie,ye]=o.useState(!1),[be,Me]=o.useState([]),[Re,st]=o.useState(!1),[He,Ue]=o.useState([]),[Ye,ht]=o.useState(!1),[ut,vt]=o.useState([]),[ve,Le]=o.useState(!1),[he,Ve]=o.useState([]),[xt,Pt]=o.useState(""),Lt=async()=>(await ne.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(bt=>({id:bt.ID||bt.id,code:bt.groupCode||bt.code,description:bt.groupDescription||bt.description}));o.useEffect(()=>{(async()=>{const bt=await Lt();A(bt)})()},[]);const It=async()=>(await ne.get("/Fs/Employment/BranchSetUp")).data.map(bt=>({id:bt.braID||bt.ID,code:bt.braCode||bt.code,description:bt.braDesc||bt.description}));o.useEffect(()=>{(async()=>{const bt=await It();xe(bt)})()},[]);const qe=async()=>(await ne.get("/Fs/Employment/DepartmentSetUp")).data.map(bt=>({id:bt.depID||bt.ID,code:bt.depCode||bt.code,description:bt.depDesc||bt.description}));o.useEffect(()=>{(async()=>{const bt=await qe();fe(bt)})()},[]);const Nt=async()=>(await ne.get("/Fs/Employment/DivisionSetUp")).data.map(bt=>({id:bt.divID||bt.ID,code:bt.divCode||bt.code,description:bt.divDesc||bt.description}));o.useEffect(()=>{(async()=>{const bt=await Nt();Ae(bt)})()},[]);const gt=async()=>{const $e=await ne.get("/Fs/Employment/GroupSetUp");return(Array.isArray($e.data)?$e.data:[]).map(ts=>({id:ts.grpSchID||ts.id||ts.ID,code:ts.grpCode||ts.code,description:ts.grpDesc||ts.description}))};o.useEffect(()=>{(async()=>{const bt=await gt();wt(bt)})()},[]);const dt=async()=>{const $e=await ne.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray($e.data)?$e.data:[]).map(ts=>({id:ts.lineID??ts.ID??ts.id,code:ts.lineCode??ts.code,description:ts.lineDesc??ts.Description??ts.description}))};o.useEffect(()=>{(async()=>{const bt=await dt();Me(bt)})()},[]);const kt=async()=>{const $e=await ne.get("/Fs/Employment/SectionSetUp");return(Array.isArray($e.data)?$e.data:[]).map(ts=>({id:ts.secID??ts.ID??ts.id,code:ts.secCode??ts.sectionCode??ts.code,description:ts.secDesc??ts.Description??ts.description}))};o.useEffect(()=>{(async()=>{const bt=await kt();Ue(bt)})()},[]);const Dt=async()=>(await ne.get("/Fs/Employment/UnitSetUp")).data.map(bt=>({id:bt.unitID||bt.ID,code:bt.unitCode||bt.code,description:bt.unitDesc||bt.description}));o.useEffect(()=>{(async()=>{const bt=await Dt();vt(bt)})()},[]);const Ge=async()=>{const $e=await ne.get("/EmployeeMasterFile");return(Array.isArray($e.data)?$e.data:[]).map(ts=>({id:ts.empID??ts.ID??ts.id,code:ts.empCode||ts.code||"",name:`${ts.lName||""}, ${ts.fName||""} ${ts.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const bt=await Ge();Ve(bt)})()},[]);const ie=(()=>{switch(t){case"Branch":return _;case"Department":return Ce;case"Division":return De;case"Group Schedule":return ot;case"Pay House":return be;case"Section":return He;case"Unit":return ut;default:return F}})(),ke=()=>{switch(t){case"TK Group":return"TK Group Selection";case"Branch":return"Branch Selection";case"Department":return"Department Selection";case"Division":return"Division Selection";case"Group Schedule":return"Group Schedule Selection";case"Pay House":return"Pay House Selection";case"Section":return"Section Selection";case"Unit":return"Unit Selection";default:return"Selection"}},me=ie.filter($e=>$e.code.toLowerCase().includes(P.toLowerCase())||$e.description.toLowerCase().includes(P.toLowerCase())),Ze=he.filter($e=>$e.code.toLowerCase().includes(E.toLowerCase())||$e.name.toLowerCase().includes(E.toLowerCase())),it=Math.ceil(me.length/Y),_t=(se-1)*Y,nt=_t+Y,mt=me.slice((se-1)*Y,se*Y),ae=()=>{const $e=[];if(it<=7)for(let bt=1;bt<=it;bt++)$e.push(bt);else if(se<=4){for(let bt=1;bt<=5;bt++)$e.push(bt);$e.push("..."),$e.push(it)}else if(se>=it-3){$e.push(1),$e.push("...");for(let bt=it-4;bt<=it;bt++)$e.push(bt)}else{$e.push(1),$e.push("...");for(let bt=se-1;bt<=se+1;bt++)$e.push(bt);$e.push("..."),$e.push(it)}return $e},ce=Math.ceil(Ze.length/Y),te=(pe-1)*Y,z=te+Y,V=Ze.slice((pe-1)*Y,pe*Y),X=()=>{const $e=[];if(ce<=5)return Array.from({length:ce},(at,Jt)=>Jt+1);$e.push(1),pe>3&&$e.push("...");const ts=Math.max(2,pe-1),Ts=Math.min(ce-1,pe+1);for(let at=ts;at<=Ts;at++)$e.push(at);return pe<ce-2&&$e.push("..."),$e.push(ce),$e},de=$e=>{O(bt=>bt.includes($e)?bt.filter(ts=>ts!==$e):[...bt,$e])},_e=$e=>{B(bt=>bt.includes($e)?bt.filter(ts=>ts!==$e):[...bt,$e])},Te=[{employeeCode:"D002",name:"BALETE, LORENZO MAGADDON",dateIn:"3/2/2020",dateOut:"3/2/2020",timeIn:"9:34 AM",timeOut:"6:49 PM",workshiftCode:"930AM730PM",undertime:"0.6800",undertimeWithinGrace:"0.00",actualUndertime:"0.6800"},{employeeCode:"D002",name:"BALETE, LORENZO MAGADDON",dateIn:"3/4/2020",dateOut:"3/4/2020",timeIn:"9:41 AM",timeOut:"6:47 PM",workshiftCode:"930AM730PM",undertime:"0.7200",undertimeWithinGrace:"0.00",actualUndertime:"0.7200"},{employeeCode:"D002",name:"BALETE, LORENZO MAGADDON",dateIn:"3/5/2020",dateOut:"3/5/2020",timeIn:"9:34 AM",timeOut:"6:00 PM",workshiftCode:"930AM730PM",undertime:"1.5000",undertimeWithinGrace:"0.00",actualUndertime:"1.5000"},{employeeCode:"D002",name:"BALETE, LORENZO MAGADDON",dateIn:"3/10/2020",dateOut:"3/10/2020",timeIn:"8:57 AM",timeOut:"6:57 PM",workshiftCode:"930AM730PM",undertime:"0.5500",undertimeWithinGrace:"0.00",actualUndertime:"0.5500"},{employeeCode:"D002",name:"BALETE, LORENZO MAGADDON",dateIn:"3/12/2020",dateOut:"3/12/2020",timeIn:"7:30 AM",timeOut:"6:00 PM",workshiftCode:"930AM730PM",undertime:"1.5000",undertimeWithinGrace:"0.00",actualUndertime:"1.5000"},{employeeCode:"D002",name:"BALETE, LORENZO MAGADDON",dateIn:"3/13/2020",dateOut:"3/13/2020",timeIn:"7:30 AM",timeOut:"6:00 PM",workshiftCode:"930AM730PM",undertime:"1.5000",undertimeWithinGrace:"0.00",actualUndertime:"1.5000"},{employeeCode:"L007",name:"ONG, KEVIN UMALI",dateIn:"3/2/2020",dateOut:"3/2/2020",timeIn:"8:27 AM",timeOut:"6:30 PM",workshiftCode:"930AM730PM",undertime:"1.0000",undertimeWithinGrace:"0.00",actualUndertime:"1.0000"},{employeeCode:"L007",name:"ONG, KEVIN UMALI",dateIn:"3/11/2020",dateOut:"3/11/2020",timeIn:"6:05 AM",timeOut:"6:00 PM",workshiftCode:"930AM730PM",undertime:"1.5000",undertimeWithinGrace:"0.00",actualUndertime:"1.5000"},{employeeCode:"L007",name:"ONG, KEVIN UMALI",dateIn:"3/12/2020",dateOut:"3/12/2020",timeIn:"7:30 AM",timeOut:"6:00 PM",workshiftCode:"930AM730PM",undertime:"1.5000",undertimeWithinGrace:"0.00",actualUndertime:"1.5000"},{employeeCode:"L007",name:"ONG, KEVIN UMALI",dateIn:"3/13/2020",dateOut:"3/13/2020",timeIn:"7:30 AM",timeOut:"6:00 PM",workshiftCode:"930AM730PM",undertime:"1.5000",undertimeWithinGrace:"0.00",actualUndertime:"1.5000"},{employeeCode:"M034",name:"ESQUILLO, HECTOR RIVERA",dateIn:"3/12/2020",dateOut:"3/12/2020",timeIn:"7:30 AM",timeOut:"6:00 PM",workshiftCode:"9AM7PM",undertime:"1.0000",undertimeWithinGrace:"0.00",actualUndertime:"1.0000"},{employeeCode:"M034",name:"ESQUILLO, HECTOR RIVERA",dateIn:"3/13/2020",dateOut:"3/13/2020",timeIn:"7:30 AM",timeOut:"6:00 PM",workshiftCode:"9AM7PM",undertime:"1.0000",undertimeWithinGrace:"0.00",actualUndertime:"1.0000"},{employeeCode:"V067",name:"ABAD, JULIE ROSE RAMOS",dateIn:"3/2/2020",dateOut:"3/2/2020",timeIn:"7:07 AM",timeOut:"5:33 PM",workshiftCode:"730AM06PM",undertime:"0.4500",undertimeWithinGrace:"0.00",actualUndertime:"0.4500"},{employeeCode:"V067",name:"ABAD, JULIE ROSE RAMOS",dateIn:"3/6/2020",dateOut:"3/6/2020",timeIn:"7:11 AM",timeOut:"5:47 PM",workshiftCode:"730AM06PM",undertime:"0.2200",undertimeWithinGrace:"0.00",actualUndertime:"0.2200"},{employeeCode:"Z1047",name:"PERLITA, MANALO LUCAS",dateIn:"3/9/2020",dateOut:"3/9/2020",timeIn:"7:53 AM",timeOut:"3:07 PM",workshiftCode:"730AM06PM",undertime:"2.8800",undertimeWithinGrace:"0.00",actualUndertime:"2.8800"},{employeeCode:"Z1399",name:"REYES, CANDIDO SALES",dateIn:"3/3/2020",dateOut:"3/3/2020",timeIn:"7:30 AM",timeOut:"5:32 PM",workshiftCode:"9AM7PM",undertime:"1.4700",undertimeWithinGrace:"0.00",actualUndertime:"1.4700"},{employeeCode:"Z1399",name:"REYES, CANDIDO SALES",dateIn:"3/4/2020",dateOut:"3/4/2020",timeIn:"7:29 AM",timeOut:"5:32 PM",workshiftCode:"9AM7PM",undertime:"1.4700",undertimeWithinGrace:"0.00",actualUndertime:"1.4700"},{employeeCode:"Z1399",name:"REYES, CANDIDO SALES",dateIn:"3/10/2020",dateOut:"3/10/2020",timeIn:"7:24 AM",timeOut:"5:33 PM",workshiftCode:"9AM7PM",undertime:"1.4500",undertimeWithinGrace:"0.00",actualUndertime:"1.4500"},{employeeCode:"Z1399",name:"REYES, CANDIDO SALES",dateIn:"3/2/2020",dateOut:"3/2/2020",timeIn:"7:27 AM",timeOut:"5:34 PM",workshiftCode:"9AM7PM",undertime:"1.4300",undertimeWithinGrace:"0.00",actualUndertime:"1.4300"},{employeeCode:"Y082",name:"VILLANUEVA, KEILYN TOLENTINO",dateIn:"3/5/2020",dateOut:"3/5/2020",timeIn:"6:54 AM",timeOut:"5:34 PM",workshiftCode:"9AM7PM",undertime:"1.4300",undertimeWithinGrace:"0.00",actualUndertime:"1.4300"},{employeeCode:"Z1399",name:"REYES, CANDIDO SALES",dateIn:"3/5/2020",dateOut:"3/5/2020",timeIn:"7:30 AM",timeOut:"5:35 PM",workshiftCode:"9AM7PM",undertime:"1.4200",undertimeWithinGrace:"0.00",actualUndertime:"1.4200"},{employeeCode:"Z1399",name:"REYES, CANDIDO SALES",dateIn:"3/9/2020",dateOut:"3/9/2020",timeIn:"7:23 AM",timeOut:"5:35 PM",workshiftCode:"9AM7PM",undertime:"1.4200",undertimeWithinGrace:"0.00",actualUndertime:"1.4200"}],je=[{employeeCode:"Z553",name:"CANILLA, ARVIN SERRANO",dateFrom:"3/2/2020",dateTo:"3/3/2020",timeIn:"10:05 PM",timeOut:"7:48 AM",workshiftCode:"10PM6AM",overtime:"7.92",otCode:"NDF8"},{employeeCode:"Z553",name:"CANILLA, ARVIN SERRANO",dateFrom:"3/3/2020",dateTo:"3/4/2020",timeIn:"9:35 PM",timeOut:"7:52 AM",workshiftCode:"10PM6AM",overtime:"8.00",otCode:"NDF8"},{employeeCode:"Z553",name:"CANILLA, ARVIN SERRANO",dateFrom:"3/4/2020",dateTo:"3/5/2020",timeIn:"10:11 PM",timeOut:"7:38 AM",workshiftCode:"10PM6AM",overtime:"7.82",otCode:"NDF8"},{employeeCode:"Z553",name:"CANILLA, ARVIN SERRANO",dateFrom:"3/5/2020",dateTo:"3/6/2020",timeIn:"9:55 PM",timeOut:"7:34 AM",workshiftCode:"10PM6AM",overtime:"8.00",otCode:"NDF8"},{employeeCode:"Z553",name:"CANILLA, ARVIN SERRANO",dateFrom:"3/6/2020",dateTo:"3/7/2020",timeIn:"9:44 PM",timeOut:"8:10 AM",workshiftCode:"10PM6AM",overtime:"8.00",otCode:"NDF8"},{employeeCode:"Z553",name:"CANILLA, ARVIN SERRANO",dateFrom:"3/9/2020",dateTo:"3/10/2020",timeIn:"10:18 PM",timeOut:"6:40 AM",workshiftCode:"10PM6AM",overtime:"7.70",otCode:"NDF8"},{employeeCode:"Z553",name:"CANILLA, ARVIN SERRANO",dateFrom:"3/10/2020",dateTo:"3/11/2020",timeIn:"10:01 PM",timeOut:"6:08 AM",workshiftCode:"10PM6AM",overtime:"7.98",otCode:"NDF8"},{employeeCode:"Z553",name:"CANILLA, ARVIN SERRANO",dateFrom:"3/11/2020",dateTo:"3/12/2020",timeIn:"10:06 PM",timeOut:"6:09 AM",workshiftCode:"10PM6AM",overtime:"7.90",otCode:"NDF8"},{employeeCode:"Z553",name:"CANILLA, ARVIN SERRANO",dateFrom:"3/12/2020",dateTo:"3/13/2020",timeIn:"9:55 PM",timeOut:"6:07 AM",workshiftCode:"10PM6AM",overtime:"8.00",otCode:"NDF8"},{employeeCode:"Z553",name:"CANILLA, ARVIN SERRANO",dateFrom:"3/13/2020",dateTo:"3/14/2020",timeIn:"8:00 PM",timeOut:"6:00 PM",workshiftCode:"10PM6AM",overtime:"8.00",otCode:"NDF8"}],J=[{employeeCode:"M034",name:"ESQUILLO, HECTOR RIVERA",date:"3/3/2020",leaveCode:"",hours:"9.00",reason:"",remarks:"No Log Out",withPay:!1},{employeeCode:"M034",name:"ESQUILLO, HECTOR RIVERA",date:"3/9/2020",leaveCode:"",hours:"9.00",reason:"",remarks:"No Log Out",withPay:!1},{employeeCode:"V067",name:"ABAD, JULIE ROSE RAMOS",date:"3/4/2020",leaveCode:"BL",hours:"8.00",reason:"",remarks:"Charged to Leave :",withPay:!0},{employeeCode:"V067",name:"ABAD, JULIE ROSE RAMOS",date:"3/4/2020",leaveCode:"",hours:"1.50",reason:"",remarks:"Absent - No Leave Application",withPay:!1},{employeeCode:"V067",name:"ABAD, JULIE ROSE RAMOS",date:"3/5/2020",leaveCode:"",hours:"1.50",reason:"",remarks:"Absent - No Leave Application",withPay:!1},{employeeCode:"V067",name:"ABAD, JULIE ROSE RAMOS",date:"3/5/2020",leaveCode:"BL",hours:"8.00",reason:"",remarks:"Charged to Leave :",withPay:!0},{employeeCode:"V067",name:"ABAD, JULIE ROSE RAMOS",date:"3/6/2020",leaveCode:"VL",hours:"9.50",reason:"",remarks:"Charged to Leave :",withPay:!0},{employeeCode:"Y082",name:"VILLANUEVA, KEILYN TOLENTINO",date:"3/9/2020",leaveCode:"",hours:"9.00",reason:"",remarks:"No Log Out",withPay:!1},{employeeCode:"Y082",name:"VILLANUEVA, KEILYN TOLENTINO",date:"3/2/2020",leaveCode:"SL",hours:"9.00",reason:"",remarks:"Charged to Leave :",withPay:!0},{employeeCode:"Z1047",name:"PERLITA, MANALO LUCAS",date:"3/4/2020",leaveCode:"",hours:"9.50",reason:"",remarks:"No Log Out",withPay:!1},{employeeCode:"Z1047",name:"PERLITA, MANALO LUCAS",date:"3/10/2020",leaveCode:"",hours:"9.50",reason:"",remarks:"No Log Out",withPay:!1},{employeeCode:"Z1399",name:"REYES, CANDIDO SALES",date:"3/12/2020",leaveCode:"",hours:"9.00",reason:"",remarks:"No Log Out",withPay:!1}],we=[{employeeCode:"128001",name:"TOLENTINO, KEILYN 11 MALANA",dateIn:"3/2/2020",dateOut:"3/2/2020",timeIn:"8:01 AM",timeOut:"7:00 PM",workshiftCode:"8AM5PM",tardiness:"0.02",tardinessWithinGrace:"0.02",actualTardiness:"0.02"},{employeeCode:"D002",name:"BALETE, LORENZO MAGADDON",dateIn:"3/2/2020",dateOut:"3/2/2020",timeIn:"9:34 AM",timeOut:"6:49 PM",workshiftCode:"930AM730PM",tardiness:"0.07",tardinessWithinGrace:"0.00",actualTardiness:"0.07"},{employeeCode:"D002",name:"BALETE, LORENZO MAGADDON",dateIn:"3/3/2020",dateOut:"3/3/2020",timeIn:"9:32 AM",timeOut:"7:44 PM",workshiftCode:"930AM730PM",tardiness:"0.03",tardinessWithinGrace:"0.00",actualTardiness:"0.03"},{employeeCode:"D002",name:"BALETE, LORENZO MAGADDON",dateIn:"3/4/2020",dateOut:"3/4/2020",timeIn:"9:41 AM",timeOut:"6:47 PM",workshiftCode:"930AM730PM",tardiness:"0.18",tardinessWithinGrace:"0.00",actualTardiness:"0.18"},{employeeCode:"D002",name:"BALETE, LORENZO MAGADDON",dateIn:"3/5/2020",dateOut:"3/5/2020",timeIn:"9:34 AM",timeOut:"6:00 PM",workshiftCode:"930AM730PM",tardiness:"0.07",tardinessWithinGrace:"0.00",actualTardiness:"0.07"},{employeeCode:"M034",name:"ESQUILLO, HECTOR RIVERA",dateIn:"3/6/2020",dateOut:"3/6/2020",timeIn:"12:44 PM",timeOut:"7:54 PM",workshiftCode:"9AM7PM",tardiness:"3.00",tardinessWithinGrace:"0.00",actualTardiness:"3.00"},{employeeCode:"Z1047",name:"PERLITA, MANALO LUCAS",dateIn:"3/2/2020",dateOut:"3/2/2020",timeIn:"7:44 AM",timeOut:"9:58 PM",workshiftCode:"730AM06PM",tardiness:"0.23",tardinessWithinGrace:"0.00",actualTardiness:"0.23"},{employeeCode:"Z1047",name:"PERLITA, MANALO LUCAS",dateIn:"3/6/2020",dateOut:"3/6/2020",timeIn:"7:43 AM",timeOut:"9:26 PM",workshiftCode:"730AM06PM",tardiness:"0.22",tardinessWithinGrace:"0.00",actualTardiness:"0.22"},{employeeCode:"Z1047",name:"PERLITA, MANALO LUCAS",dateIn:"3/9/2020",dateOut:"3/9/2020",timeIn:"7:53 AM",timeOut:"3:07 PM",workshiftCode:"730AM06PM",tardiness:"0.38",tardinessWithinGrace:"0.00",actualTardiness:"0.38"},{employeeCode:"Z1399",name:"REYES, CANDIDO SALES",dateIn:"3/11/2020",dateOut:"3/11/2020",timeIn:"9:21 AM",timeOut:"7:30 PM",workshiftCode:"9AM7PM",tardiness:"0.35",tardinessWithinGrace:"0.00",actualTardiness:"0.35"},{employeeCode:"Z553",name:"CANILLA, ARVIN SERRANO",dateIn:"3/2/2020",dateOut:"3/3/2020",timeIn:"10:05 PM",timeOut:"7:48 AM",workshiftCode:"10PM6AM",tardiness:"0.00",tardinessWithinGrace:"0.08",actualTardiness:"0.08"},{employeeCode:"Z553",name:"CANILLA, ARVIN SERRANO",dateIn:"3/4/2020",dateOut:"3/5/2020",timeIn:"10:11 PM",timeOut:"7:38 AM",workshiftCode:"10PM6AM",tardiness:"0.01",tardinessWithinGrace:"0.17",actualTardiness:"0.18"},{employeeCode:"Z553",name:"CANILLA, ARVIN SERRANO",dateIn:"3/9/2020",dateOut:"3/10/2020",timeIn:"10:18 PM",timeOut:"6:40 AM",workshiftCode:"10PM6AM",tardiness:"0.13",tardinessWithinGrace:"0.17",actualTardiness:"0.30"},{employeeCode:"Z553",name:"CANILLA, ARVIN SERRANO",dateIn:"3/10/2020",dateOut:"3/11/2020",timeIn:"10:01 PM",timeOut:"6:08 AM",workshiftCode:"10PM6AM",tardiness:"0.00",tardinessWithinGrace:"0.02",actualTardiness:"0.02"}],I=[{employeeCode:"128001",name:"TOLENTINO, KEILYN 11 MALANA",dateIn:"3/2/2020",dateOut:"3/2/2020",timeIn:"8:01 AM",timeOut:"7:00 PM",workshiftCode:"8AM5PM",hours:"9.00",remarks:""},{employeeCode:"D002",name:"BALETE, LORENZO MAGADDON",dateIn:"3/2/2020",dateOut:"3/2/2020",timeIn:"9:34 AM",timeOut:"6:49 PM",workshiftCode:"930AM730PM",hours:"9.00",remarks:""},{employeeCode:"D002",name:"BALETE, LORENZO MAGADDON",dateIn:"3/3/2020",dateOut:"3/3/2020",timeIn:"9:32 AM",timeOut:"7:44 PM",workshiftCode:"930AM730PM",hours:"9.00",remarks:""},{employeeCode:"D002",name:"BALETE, LORENZO MAGADDON",dateIn:"3/4/2020",dateOut:"3/4/2020",timeIn:"9:41 AM",timeOut:"6:47 PM",workshiftCode:"930AM730PM",hours:"9.00",remarks:""},{employeeCode:"D002",name:"BALETE, LORENZO MAGADDON",dateIn:"3/5/2020",dateOut:"3/5/2020",timeIn:"9:34 AM",timeOut:"6:00 PM",workshiftCode:"930AM730PM",hours:"7.50",remarks:""},{employeeCode:"L007",name:"ONG, KEVIN UMALI",dateIn:"3/2/2020",dateOut:"3/2/2020",timeIn:"8:27 AM",timeOut:"6:30 PM",workshiftCode:"930AM730PM",hours:"9.00",remarks:""},{employeeCode:"M034",name:"ESQUILLO, HECTOR RIVERA",dateIn:"3/2/2020",dateOut:"3/2/2020",timeIn:"8:45 AM",timeOut:"7:15 PM",workshiftCode:"9AM7PM",hours:"9.00",remarks:""},{employeeCode:"V067",name:"ABAD, JULIE ROSE RAMOS",dateIn:"3/2/2020",dateOut:"3/2/2020",timeIn:"7:07 AM",timeOut:"5:33 PM",workshiftCode:"730AM06PM",hours:"9.50",remarks:""},{employeeCode:"V067",name:"ABAD, JULIE ROSE RAMOS",dateIn:"3/3/2020",dateOut:"3/3/2020",timeIn:"7:05 AM",timeOut:"6:02 PM",workshiftCode:"730AM06PM",hours:"9.50",remarks:""},{employeeCode:"V067",name:"ABAD, JULIE ROSE RAMOS",dateIn:"3/6/2020",dateOut:"3/6/2020",timeIn:"7:11 AM",timeOut:"5:47 PM",workshiftCode:"730AM06PM",hours:"9.50",remarks:""},{employeeCode:"Y082",name:"VILLANUEVA, KEILYN TOLENTINO",dateIn:"3/3/2020",dateOut:"3/3/2020",timeIn:"8:45 AM",timeOut:"7:00 PM",workshiftCode:"9AM7PM",hours:"9.00",remarks:""},{employeeCode:"Y082",name:"VILLANUEVA, KEILYN TOLENTINO",dateIn:"3/4/2020",dateOut:"3/4/2020",timeIn:"8:52 AM",timeOut:"6:58 PM",workshiftCode:"9AM7PM",hours:"9.00",remarks:""},{employeeCode:"Y082",name:"VILLANUEVA, KEILYN TOLENTINO",dateIn:"3/5/2020",dateOut:"3/5/2020",timeIn:"6:54 AM",timeOut:"5:34 PM",workshiftCode:"9AM7PM",hours:"9.00",remarks:""},{employeeCode:"Z1047",name:"PERLITA, MANALO LUCAS",dateIn:"3/2/2020",dateOut:"3/2/2020",timeIn:"7:44 AM",timeOut:"9:58 PM",workshiftCode:"730AM06PM",hours:"9.50",remarks:""},{employeeCode:"Z1047",name:"PERLITA, MANALO LUCAS",dateIn:"3/3/2020",dateOut:"3/3/2020",timeIn:"7:29 AM",timeOut:"6:32 PM",workshiftCode:"730AM06PM",hours:"9.50",remarks:""},{employeeCode:"Z1399",name:"REYES, CANDIDO SALES",dateIn:"3/2/2020",dateOut:"3/2/2020",timeIn:"7:27 AM",timeOut:"5:34 PM",workshiftCode:"9AM7PM",hours:"9.00",remarks:""},{employeeCode:"Z1399",name:"REYES, CANDIDO SALES",dateIn:"3/3/2020",dateOut:"3/3/2020",timeIn:"7:30 AM",timeOut:"5:32 PM",workshiftCode:"9AM7PM",hours:"9.00",remarks:""},{employeeCode:"Z553",name:"CANILLA, ARVIN SERRANO",dateIn:"3/2/2020",dateOut:"3/3/2020",timeIn:"10:05 PM",timeOut:"7:48 AM",workshiftCode:"10PM6AM",hours:"8.00",remarks:""},{employeeCode:"Z553",name:"CANILLA, ARVIN SERRANO",dateIn:"3/3/2020",dateOut:"3/4/2020",timeIn:"9:35 PM",timeOut:"7:52 AM",workshiftCode:"10PM6AM",hours:"8.00",remarks:""}],Z=[{employeeCode:"D002",name:"BALETE, LORENZO MAGADDON",dateFrom:"3/3/2020",dateTo:"3/3/2020",numOTHoursApproved:"1.00",tkGroup:"CEBU",reason:"Project Deadline",remarks:"",otTimeBeforeShift:"0.00",breakNumOTHoursApproved:"0.00",startTimeOTOvertime:"7:30 PM"},{employeeCode:"128001",name:"TOLENTINO, KEILYN 11 MALANA",dateFrom:"3/2/2020",dateTo:"3/2/2020",numOTHoursApproved:"2.00",tkGroup:"MAKATI",reason:"Month-end Processing",remarks:"",otTimeBeforeShift:"0.00",breakNumOTHoursApproved:"0.00",startTimeOTOvertime:"5:00 PM"},{employeeCode:"V067",name:"ABAD, JULIE ROSE RAMOS",dateFrom:"3/3/2020",dateTo:"3/3/2020",numOTHoursApproved:"0.50",tkGroup:"MAKATI",reason:"Training",remarks:"",otTimeBeforeShift:"0.00",breakNumOTHoursApproved:"0.00",startTimeOTOvertime:"6:00 PM"},{employeeCode:"Z1047",name:"PERLITA, MANALO LUCAS",dateFrom:"3/2/2020",dateTo:"3/2/2020",numOTHoursApproved:"3.50",tkGroup:"CEBU",reason:"Inventory",remarks:"",otTimeBeforeShift:"0.00",breakNumOTHoursApproved:"0.00",startTimeOTOvertime:"6:00 PM"},{employeeCode:"Z1047",name:"PERLITA, MANALO LUCAS",dateFrom:"3/3/2020",dateTo:"3/3/2020",numOTHoursApproved:"0.50",tkGroup:"CEBU",reason:"Inventory",remarks:"",otTimeBeforeShift:"0.00",breakNumOTHoursApproved:"0.00",startTimeOTOvertime:"6:00 PM"},{employeeCode:"Y082",name:"VILLANUEVA, KEILYN TOLENTINO",dateFrom:"3/3/2020",dateTo:"3/3/2020",numOTHoursApproved:"1.00",tkGroup:"PASIG",reason:"Urgent Task",remarks:"",otTimeBeforeShift:"0.00",breakNumOTHoursApproved:"0.00",startTimeOTOvertime:"7:00 PM"}],Q=[{id:"tardiness",label:"Tardiness"},{id:"undertime",label:"Undertime"},{id:"leave-absences",label:"Leave and Absences"},{id:"regular-working",label:"Regular Working Days/Hours"},{id:"allowances",label:"Allowances"},{id:"overtime",label:"Overtime"},{id:"night-differentials",label:"Night Differentials"},{id:"holiday-pay",label:"Holiday Pay"}],We=()=>{L.length===me.length?O([]):O(me.map($e=>$e.id))},ft=()=>{q.length===Ze.length?B([]):B(Ze.map($e=>$e.id))},$t=$e=>{if($e==="selectAll"){const bt=!W.selectAll;re({tardiness:bt,allowances:bt,undertime:bt,overtime:bt,selectAll:bt,leaveAbsences:bt,nightDifferentials:bt,regularWorking:bt,holidayPay:bt})}else re(bt=>({...bt,[$e]:!bt[$e]}))},yt=()=>{const $e=Date.now();v(!0),setTimeout(()=>{const bt=Date.now(),ts=Math.floor((bt-$e)/1e3),Ts=Math.floor(ts/3600),at=Math.floor(ts%3600/60),Jt=ts%60;C({hours:Ts,minutes:at,seconds:Jt}),v(!1),N(!0),b(!0)},9e3)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Processing 2 Shifts In A Day"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Process employee timekeeping data by various criteria including TK Group, branch, department, and more. Generate comprehensive reports for tardiness, undertime, overtime, leave, and other attendance metrics."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Process by multiple organizational groups"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Generate comprehensive attendance reports"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Track tardiness, undertime, and overtime"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Monitor leave and absences efficiently"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Hs},{name:"Branch",icon:ea},{name:"Department",icon:Zs},{name:"Division",icon:wr},{name:"Group Schedule",icon:_a},{name:"Pay House",icon:Ia},{name:"Section",icon:Ma},{name:"Unit",icon:ln}].map($e=>e.jsxs("button",{onClick:()=>s($e.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===$e.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx($e.icon,{className:"w-4 h-4"}),$e.name]},$e.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:ke()}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(Gt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search code or description...",value:P,onChange:$e=>k($e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:L.length===me.length&&me.length>0,onChange:We,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:mt.map($e=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:L.includes($e.id),onChange:()=>de($e.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:$e.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:$e.description})]},$e.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Ze.length===0?0:_t+1," to ",Math.min(nt,me.length)," of ",me.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>le($e=>Math.max($e-1,1)),disabled:se===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),ae().map(($e,bt)=>$e==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${bt}`):e.jsx("button",{onClick:()=>le($e),className:`px-2 py-1 rounded text-xs ${se===$e?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:$e},$e)),e.jsx("button",{onClick:()=>le($e=>Math.min($e+1,it)),disabled:se===it||it===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Employee Selection"}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(Gt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search employee...",value:E,onChange:$e=>M($e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:q.length===Ze.length&&Ze.length>0,onChange:ft,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:V.map($e=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:q.includes($e.id),onChange:()=>_e($e.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:$e.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:$e.name})]},$e.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",te+1," to ",Math.min(z,Ze.length)," of ",Ze.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>U($e=>Math.max(1,$e-1)),disabled:pe===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),X().map(($e,bt)=>typeof $e=="number"?e.jsx("button",{onClick:()=>U($e),className:`px-2 py-1 rounded text-xs ${pe===$e?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:$e},bt):e.jsx("span",{className:"px-2",children:$e},bt)),e.jsx("button",{onClick:()=>U($e=>Math.min(ce,$e+1)),disabled:pe===ce,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 p-6 pt-0",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Date From"}),e.jsx(sr,{value:a,onChange:r})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Date To"}),e.jsx(sr,{value:n,onChange:l})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Date Applied"}),e.jsx(sr,{value:i,onChange:d})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"lateFiling",checked:x,onChange:$e=>h($e.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"lateFiling",className:"text-sm text-gray-700",children:"Include Late Filing"})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-5",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mb-3 pb-3 border-b border-blue-200",children:[e.jsx("input",{type:"checkbox",checked:W.selectAll,onChange:()=>$t("selectAll"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-900",children:"Select All"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:W.tardiness,onChange:()=>$t("tardiness"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Tardiness"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:W.undertime,onChange:()=>$t("undertime"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Undertime"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:W.overtime,onChange:()=>$t("overtime"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Overtime"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:W.leaveAbsences,onChange:()=>$t("leaveAbsences"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Leave/Absences"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:W.regularWorking,onChange:()=>$t("regularWorking"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Regular Working"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:W.allowances,onChange:()=>$t("allowances"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Allowances"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:W.nightDifferentials,onChange:()=>$t("nightDifferentials"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Night Differential"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:W.holidayPay,onChange:()=>$t("holidayPay"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Holiday Pay"})]})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:yt,disabled:p,className:"px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:p?e.jsxs(e.Fragment,{children:[e.jsx(xa,{className:"w-4 h-4 animate-spin"}),"Populating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Hs,{className:"w-4 h-4"}),"Populate"]})}),e.jsxs("button",{className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[e.jsx(jb,{className:"w-4 h-4"}),"Process"]})]})]}),m&&e.jsxs("div",{ref:S,className:"mt-6 bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-5 border-b border-gray-200",children:e.jsx("h2",{className:"text-gray-900",children:"Processing Results"})}),e.jsx("div",{className:"border-b border-gray-200 overflow-x-auto",children:e.jsx("div",{className:"flex min-w-max",children:Q.map($e=>e.jsx("button",{onClick:()=>g($e.id),className:`px-6 py-3 text-sm whitespace-nowrap transition-all ${y===$e.id?"bg-blue-600 text-white":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:$e.label},$e.id))})}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[y==="tardiness"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Employee Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Date In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Date Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Tardiness"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Within Grace"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Actual"})]}),y==="undertime"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Employee Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Date In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Date Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Undertime"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Within Grace"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Actual"})]}),y==="night-differentials"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Employee Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Date From"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Date To"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Overtime"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"OT Code"})]}),y==="leave-absences"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Employee Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Leave Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Hours"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Reason"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Remarks"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"With Pay"})]}),y==="regular-working"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Employee Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Date In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Date Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Hours"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Remarks"})]}),y==="overtime"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Employee Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Date From"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Date To"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"OT Hours"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"TK Group"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Reason"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Remarks"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Before Shift"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break OT"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Start Time"})]})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[y==="tardiness"&&we.map(($e,bt)=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:$e.employeeCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:$e.name}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.dateIn}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.dateOut}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.timeIn}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.timeOut}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"text-blue-600",children:$e.workshiftCode})}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.tardiness}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.tardinessWithinGrace}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.actualTardiness})]},bt)),y==="undertime"&&Te.map(($e,bt)=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:$e.employeeCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:$e.name}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.dateIn}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.dateOut}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.timeIn}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.timeOut}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"text-blue-600",children:$e.workshiftCode})}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.undertime}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.undertimeWithinGrace}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.actualUndertime})]},bt)),y==="night-differentials"&&je.map(($e,bt)=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:$e.employeeCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:$e.name}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.dateFrom}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.dateTo}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.timeIn}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.timeOut}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"text-blue-600",children:$e.workshiftCode})}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.overtime}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.otCode})]},bt)),y==="leave-absences"&&J.map(($e,bt)=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:$e.employeeCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:$e.name}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.date}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.leaveCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.hours}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.reason}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.remarks}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"checkbox",checked:$e.withPay,disabled:!0,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded"})})]},bt)),y==="regular-working"&&I.map(($e,bt)=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:$e.employeeCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:$e.name}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.dateIn}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.dateOut}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.timeIn}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.timeOut}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"text-blue-600",children:$e.workshiftCode})}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.hours}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.remarks})]},bt)),y==="overtime"&&Z.map(($e,bt)=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:$e.employeeCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:$e.name}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.dateFrom}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.dateTo}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.numOTHoursApproved}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.tkGroup}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.reason}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.remarks}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.otTimeBeforeShift}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.breakNumOTHoursApproved}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$e.startTimeOTOvertime})]},bt)),(y==="allowances"||y==="holiday-pay")&&e.jsx("tr",{children:e.jsx("td",{colSpan:11,className:"px-4 py-12 text-center text-gray-500",children:"No data available for this category"})})]})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:["Showing ",y==="tardiness"?we.length:y==="undertime"?Te.length:y==="night-differentials"?je.length:y==="leave-absences"?J.length:y==="regular-working"?I.length:y==="overtime"?Z.length:0," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{className:"w-6 h-6 flex items-center justify-center rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:""}),e.jsx("button",{className:"w-6 h-6 flex items-center justify-center rounded bg-blue-500 text-white text-xs",children:"1"}),e.jsx("button",{className:"w-6 h-6 flex items-center justify-center rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:""})]})]})]}),f&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4 pointer-events-none",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full pointer-events-auto",children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(gl,{className:"w-10 h-10 text-green-600"})}),e.jsx("h2",{className:"text-gray-900 mb-2",children:"Done Populating."}),e.jsxs("p",{className:"text-gray-700 mb-6",children:["Elapsed time: ",j.hours," hour(s), ",j.minutes," minute(s) and ",j.seconds," second(s)"]}),e.jsx("button",{onClick:()=>{N(!1),setTimeout(()=>{S.current?.scrollIntoView({behavior:"smooth",block:"start"})},100)},className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"View Results"})]})})})]})}),e.jsx(Zt,{})]})}function _2({date:t,onChange:s}){const[a,r]=o.useState(!1),[n,l]=o.useState(new Date),i=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),d=new Date(n.getFullYear(),n.getMonth(),1).getDay(),x=["January","February","March","April","May","June","July","August","September","October","November","December"],h=new Date().getFullYear(),m=[];for(let S=1900;S<=h+10;S++)m.push(S);const b=[];for(let S=1;S<=i;S++)b.push(S);const f=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},N=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},p=S=>{l(new Date(n.getFullYear(),S,1))},v=S=>{l(new Date(S,n.getMonth(),1))},y=S=>{const P=(n.getMonth()+1).toString().padStart(2,"0"),k=S.toString().padStart(2,"0"),E=n.getFullYear();s(`${P}/${k}/${E}`),r(!1)},g=S=>{const P=(n.getMonth()+1).toString().padStart(2,"0"),k=S.toString().padStart(2,"0"),E=n.getFullYear();s(`${P}/${k}/${E}`),r(!1)},j=()=>{const S=new Date,P=(S.getMonth()+1).toString().padStart(2,"0"),k=S.getDate().toString().padStart(2,"0"),E=S.getFullYear();s(`${P}/${k}/${E}`),r(!1)},C=[];for(let S=0;S<d;S++)C.push(e.jsx("div",{className:"h-8"},`empty-${S}`));for(let S=1;S<=i;S++)C.push(e.jsx("button",{onClick:()=>g(S),type:"button",className:"h-8 flex items-center justify-center rounded hover:bg-blue-100 text-sm text-gray-700 hover:text-blue-600 transition-colors",children:S},S));return e.jsxs(Cx,{open:a,onOpenChange:r,children:[e.jsx(Sx,{asChild:!0,children:e.jsx("button",{type:"button",className:"p-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:e.jsx(ds,{className:"w-5 h-5"})})}),e.jsx(kx,{children:e.jsxs(Dx,{className:"z-[9999] bg-white border border-gray-200 rounded-lg shadow-xl p-4 w-80 animate-in fade-in-0 zoom-in-95",align:"end",sideOffset:5,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:f,type:"button",className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx(H0,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("select",{value:n.getMonth(),onChange:S=>p(Number(S.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:x.map((S,P)=>e.jsx("option",{value:P,children:S},S))}),e.jsxs("select",{onChange:S=>y(Number(S.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700 w-16",children:[e.jsx("option",{value:"",children:"Day"}),b.map(S=>e.jsx("option",{value:S,children:S},S))]}),e.jsx("select",{value:n.getFullYear(),onChange:S=>v(Number(S.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:m.map(S=>e.jsx("option",{value:S,children:S},S))})]}),e.jsx("button",{onClick:N,type:"button",className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx(fi,{className:"w-5 h-5 text-gray-600"})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(S=>e.jsx("div",{className:"h-8 flex items-center justify-center text-xs text-gray-500",children:S},S))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:C}),e.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:e.jsx("button",{onClick:j,type:"button",className:"w-full px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 text-sm transition-colors",children:"Today"})})]})})]})}function nJ(){const[t,s]=o.useState("3/1/2020"),[a,r]=o.useState("03/15/2020"),[n,l]=o.useState(!1),[i,d]=o.useState("active"),[x,h]=o.useState(""),[m,b]=o.useState("designation"),[f,N]=o.useState(""),[p,v]=o.useState([1,2,3]),[y,g]=o.useState("Accumulation"),[j,C]=o.useState(!1),[S,P]=o.useState(!1),[k,E]=o.useState(!1),M=[{id:1,code:"BAT",description:"BATANGAS"},{id:2,code:"DASH-TEST",description:"CEBU"},{id:3,code:"ddfdsf",description:"MAKATI"},{id:4,code:"PASIG",description:"PASIG"},{id:5,code:"QC",description:"QUEZON CITY"}],L=[{id:1,code:"BATANGAS",description:"Batangass"},{id:2,code:"BICOL",description:"Bicol"},{id:3,code:"BIC-DARAGA",description:"Bicol-Daraga"},{id:4,code:"CAVITE",description:"Cavite"},{id:5,code:"CAR",description:"Cordillera Administrative Region"},{id:6,code:"URDANETA",description:"DN Steel Marketing, Inc. - Urdaneta"},{id:7,code:"LAUNION",description:"La Union"},{id:8,code:"MAIN",description:"Main"},{id:9,code:"NCR",description:"National Capital Region"},{id:10,code:"NUEVA",description:"NUEVA ECIJA"},{id:11,code:"PAMPANGA",description:"Pampanga"},{id:12,code:"PAM-BULACAN",description:"Pampanga-Bulacan Satellite"},{id:13,code:"TARLAC",description:"Tarlac"}],O=[{id:1,code:"-",description:"-"},{id:2,code:"A",description:"A"},{id:3,code:"108",description:"Accounting"},{id:4,code:"FNGCLRK",description:"Accounting Clerk"},{id:5,code:"330",description:"Audit"},{id:6,code:"600",description:"Building Administration"},{id:7,code:"106",description:"Building Administration_old"},{id:8,code:"134CS",description:"CAVITE SATELLITE"},{id:9,code:"231",description:"Contract"},{id:10,code:"233",description:"Creative"},{id:11,code:"112",description:"Credit & Collection_old"},{id:12,code:"420",description:"Credit and Collection"},{id:13,code:"D",description:"D"},{id:14,code:"215",description:"Dealers Market"},{id:15,code:"132",description:"Delivery"},{id:16,code:"251",description:"Delivery Operations"},{id:17,code:"127",description:"DNRM (Dealer)-old"},{id:18,code:"220",description:"Engineering"},{id:19,code:"125",description:"Engineering-OLD"},{id:20,code:"221",description:"Estimation"},{id:21,code:"230",description:"Executive"},{id:22,code:"235",description:"Finance"},{id:23,code:"240",description:"General Affairs"},{id:24,code:"107",description:"HR"},{id:25,code:"250",description:"Human Resources"},{id:26,code:"260",description:"Information Technology"},{id:27,code:"270",description:"Internal Audit"}],q=[{id:1,code:"2",description:"ASSISTANT MANAGER"},{id:2,code:"1",description:"MANAGER"},{id:3,code:"3",description:"RANK AND FILE"}],B=[{id:1,code:"a",description:"a"},{id:2,code:"i",description:"i"},{id:3,code:"s",description:"s"},{id:4,code:"-",description:"-"}],se=[{id:1,code:"-",description:"-"},{id:2,code:"ACCT1",description:"Accounting 1"},{id:3,code:"ACCT2",description:"Accounting 2"},{id:4,code:"ACCT3",description:"Accounting 3"},{id:5,code:"ACCT4",description:"Accounting 4"},{id:6,code:"ACCT5",description:"Accounting 5"},{id:7,code:"ACCT6",description:"Accounting 6"},{id:8,code:"ACMES",description:"ACTUAL MEASURERS"},{id:9,code:"AUDIT",description:"AUDIT"},{id:10,code:"BATPLNT1",description:"BATANGAS - PLANT 1"}],pe=(()=>{switch(m){case"tk-group":return M;case"branch":return L;case"department":return O;case"designation":return q;case"division":return B;case"section":return se;default:return q}})(),U=[{seqNo:1,empCode:"V067",fullName:"ABAD, JULIE ROSE RAMOS",dailyRecords:[{date:"1-Mar-2020",day:"Sun",restDay:!0,timeIn:"",timeOut:"",workShift:"RestDay",noOfHrs:"0.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"2-Mar-2020",day:"Mon",restDay:!1,timeIn:"7:07:00AM",timeOut:"5:33:00PM",workShift:"730 AM 6PM",noOfHrs:"9.05",tardiness:"0.00",undertime:"0.45",absences:"0.00",leaveWithPay:"0.00"},{date:"3-Mar-2020",day:"Tue",restDay:!1,timeIn:"7:11:00AM",timeOut:"5:47:00PM",workShift:"730 AM 6PM",noOfHrs:"9.28",tardiness:"0.00",undertime:"0.22",absences:"0.00",leaveWithPay:"0.00"},{date:"4-Mar-2020",day:"Wed",restDay:!1,timeIn:"",timeOut:"",workShift:"RegDay",noOfHrs:"8.00",tardiness:"0.00",undertime:"0.00",absences:"1.50",leaveWithPay:"8.00"},{date:"5-Mar-2020",day:"Thu",restDay:!1,timeIn:"",timeOut:"",workShift:"RegDay",noOfHrs:"8.00",tardiness:"0.00",undertime:"0.00",absences:"1.50",leaveWithPay:"8.00"},{date:"6-Mar-2020",day:"Fri",restDay:!1,timeIn:"",timeOut:"",workShift:"",noOfHrs:"9.50",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"9.50"},{date:"7-Mar-2020",day:"Sat",restDay:!1,timeIn:"",timeOut:"",workShift:"RestDay",noOfHrs:"0.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"8-Mar-2020",day:"Sun",restDay:!0,timeIn:"",timeOut:"",workShift:"RestDay",noOfHrs:"0.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"9-Mar-2020",day:"Mon",restDay:!1,timeIn:"7:12:00AM",timeOut:"5:30:00PM",workShift:"730 AM 6PM",noOfHrs:"9.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"10-Mar-2020",day:"Tue",restDay:!1,timeIn:"7:04:00AM",timeOut:"5:32:00PM",workShift:"730 AM 6PM",noOfHrs:"9.03",tardiness:"0.00",undertime:"0.47",absences:"0.00",leaveWithPay:"0.00"},{date:"11-Mar-2020",day:"Wed",restDay:!1,timeIn:"6:45:00AM",timeOut:"7:30:00PM",workShift:"730 AM 6PM",noOfHrs:"9.50",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"12-Mar-2020",day:"Thu",restDay:!1,timeIn:"7:30:00AM",timeOut:"6:00:00PM",workShift:"730 AM 6PM",noOfHrs:"9.50",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"13-Mar-2020",day:"Fri",restDay:!1,timeIn:"7:30:00AM",timeOut:"6:00:00PM",workShift:"730 AM 6PM",noOfHrs:"9.50",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"14-Mar-2020",day:"Sat",restDay:!1,timeIn:"",timeOut:"",workShift:"RestDay",noOfHrs:"0.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"15-Mar-2020",day:"Sun",restDay:!0,timeIn:"",timeOut:"",workShift:"RestDay",noOfHrs:"0.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"}],subtotal:{noOfHrs:"90.36",tardiness:"0.00",undertime:"1.14",absences:"3.00",leaveWithPay:"25.50"}},{seqNo:2,empCode:"D002",fullName:"BALETE, LORENZO MAGADDON",dailyRecords:[{date:"1-Mar-2020",day:"Sun",restDay:!0,timeIn:"",timeOut:"",workShift:"RestDay",noOfHrs:"0.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"2-Mar-2020",day:"Mon",restDay:!1,timeIn:"9:34:00AM",timeOut:"6:49:00PM",workShift:"930AM730PM",noOfHrs:"9.00",tardiness:"0.07",undertime:"0.68",absences:"0.00",leaveWithPay:"0.00"},{date:"3-Mar-2020",day:"Tue",restDay:!1,timeIn:"9:32:00AM",timeOut:"7:44:00PM",workShift:"930AM730PM",noOfHrs:"9.00",tardiness:"0.03",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"4-Mar-2020",day:"Wed",restDay:!1,timeIn:"9:41:00AM",timeOut:"6:47:00PM",workShift:"930AM730PM",noOfHrs:"9.00",tardiness:"0.18",undertime:"0.72",absences:"0.00",leaveWithPay:"0.00"},{date:"5-Mar-2020",day:"Thu",restDay:!1,timeIn:"9:34:00AM",timeOut:"6:00:00PM",workShift:"930AM730PM",noOfHrs:"7.50",tardiness:"0.07",undertime:"1.50",absences:"0.00",leaveWithPay:"0.00"},{date:"6-Mar-2020",day:"Fri",restDay:!1,timeIn:"9:30:00AM",timeOut:"8:00:00PM",workShift:"930AM730PM",noOfHrs:"9.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"7-Mar-2020",day:"Sat",restDay:!1,timeIn:"",timeOut:"",workShift:"RestDay",noOfHrs:"0.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"8-Mar-2020",day:"Sun",restDay:!0,timeIn:"",timeOut:"",workShift:"RestDay",noOfHrs:"0.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"9-Mar-2020",day:"Mon",restDay:!1,timeIn:"9:30:00AM",timeOut:"7:30:00PM",workShift:"930AM730PM",noOfHrs:"9.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"10-Mar-2020",day:"Tue",restDay:!1,timeIn:"8:57:00AM",timeOut:"6:57:00PM",workShift:"930AM730PM",noOfHrs:"9.00",tardiness:"0.00",undertime:"0.55",absences:"0.00",leaveWithPay:"0.00"},{date:"11-Mar-2020",day:"Wed",restDay:!1,timeIn:"9:30:00AM",timeOut:"7:30:00PM",workShift:"930AM730PM",noOfHrs:"9.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"12-Mar-2020",day:"Thu",restDay:!1,timeIn:"7:30:00AM",timeOut:"6:00:00PM",workShift:"930AM730PM",noOfHrs:"9.00",tardiness:"0.00",undertime:"1.50",absences:"0.00",leaveWithPay:"0.00"},{date:"13-Mar-2020",day:"Fri",restDay:!1,timeIn:"7:30:00AM",timeOut:"6:00:00PM",workShift:"930AM730PM",noOfHrs:"9.00",tardiness:"0.00",undertime:"1.50",absences:"0.00",leaveWithPay:"0.00"},{date:"14-Mar-2020",day:"Sat",restDay:!1,timeIn:"",timeOut:"",workShift:"RestDay",noOfHrs:"0.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"15-Mar-2020",day:"Sun",restDay:!0,timeIn:"",timeOut:"",workShift:"RestDay",noOfHrs:"0.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"}],subtotal:{noOfHrs:"88.50",tardiness:"0.35",undertime:"6.45",absences:"0.00",leaveWithPay:"0.00"}}],Y=[{id:"tk-group",label:"TK Group",icon:Hs},{id:"branch",label:"Branch",icon:ea},{id:"department",label:"Department",icon:Zs},{id:"designation",label:"Designation",icon:vb},{id:"division",label:"Division",icon:wr},{id:"section",label:"Section",icon:Ma}],W=H=>{v(D=>D.includes(H)?D.filter(_=>_!==H):[...D,H])},re=()=>{p.length===pe.length?v([]):v(pe.map(H=>H.id))},G=()=>{console.log("Searching...")},R=()=>{h("")},F=()=>{E(!0)},A=()=>{window.print()};return k?e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6 print:hidden",children:[e.jsx("button",{onClick:()=>E(!1),className:"px-6 py-3 bg-yellow-500 text-gray-700 rounded-xl hover:bg-yellow-600 transition-colors",children:" Back to Filters"}),e.jsxs("button",{onClick:A,className:"flex items-center space-x-2 px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors",children:[e.jsx(IF,{className:"w-5 h-5"}),e.jsx("span",{children:"Print Report"})]})]}),e.jsxs("div",{className:"bg-white shadow-sm border border-gray-200 p-8",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h1",{className:"text-gray-900 mb-2",children:"Daily Time Report"}),e.jsx("p",{className:"text-gray-600",children:"Period From Mar 01, 2020 to Mar 15, 2020"})]}),e.jsx("div",{className:"border-t-4 border-black mb-6"}),e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-2 border-black",children:[e.jsx("th",{className:"px-2 py-2 text-left",style:{width:"40px"},children:"Seq. No."}),e.jsx("th",{className:"px-2 py-2 text-left",style:{width:"80px"},children:"EmpCode"}),e.jsx("th",{className:"px-2 py-2 text-left",style:{width:"200px"},children:"Full Name"}),e.jsx("th",{className:"px-2 py-2 text-center",style:{width:"90px"},children:"IN"}),e.jsx("th",{className:"px-2 py-2 text-center",style:{width:"90px"},children:"OUT"}),e.jsx("th",{className:"px-2 py-2 text-center",style:{width:"100px"},children:"Work Shift"}),e.jsx("th",{className:"px-2 py-2 text-right",style:{width:"70px"},children:"No of Hrs"}),e.jsx("th",{className:"px-2 py-2 text-right",style:{width:"70px"},children:"Tardiness"}),e.jsx("th",{className:"px-2 py-2 text-right",style:{width:"70px"},children:"Undertime"}),e.jsx("th",{className:"px-2 py-2 text-right",style:{width:"70px"},children:"Absences"}),e.jsx("th",{className:"px-2 py-2 text-right",style:{width:"70px"},children:"Leave With Pay"})]})}),e.jsx("tbody",{children:U.map(H=>e.jsxs(z2.Fragment,{children:[e.jsxs("tr",{className:"bg-gray-100",children:[e.jsxs("td",{className:"px-2 py-2 align-top",children:[H.seqNo,"."]}),e.jsx("td",{className:"px-2 py-2 align-top",children:H.empCode}),e.jsx("td",{className:"px-2 py-2 align-top",colSpan:9,children:H.fullName})]}),H.dailyRecords.map((D,_)=>e.jsxs("tr",{className:D.restDay?"bg-gray-50":"",children:[e.jsx("td",{className:"px-2 py-1"}),e.jsx("td",{className:"px-2 py-1 text-xs",children:D.date}),e.jsx("td",{className:"px-2 py-1 text-xs",children:D.day}),e.jsx("td",{className:"px-2 py-1 text-xs text-center",children:D.timeIn}),e.jsx("td",{className:"px-2 py-1 text-xs text-center",children:D.timeOut}),e.jsx("td",{className:"px-2 py-1 text-xs text-center",children:D.workShift}),e.jsx("td",{className:"px-2 py-1 text-xs text-right",children:D.noOfHrs}),e.jsx("td",{className:"px-2 py-1 text-xs text-right",children:D.tardiness}),e.jsx("td",{className:"px-2 py-1 text-xs text-right",children:D.undertime}),e.jsx("td",{className:"px-2 py-1 text-xs text-right",children:D.absences}),e.jsx("td",{className:"px-2 py-1 text-xs text-right",children:D.leaveWithPay})]},_)),e.jsxs("tr",{className:"border-t border-gray-300 bg-gray-200",children:[e.jsx("td",{className:"px-2 py-2",colSpan:6,children:e.jsx("span",{className:"text-right block",children:"Subtotal:"})}),e.jsx("td",{className:"px-2 py-2 text-right",children:H.subtotal.noOfHrs}),e.jsx("td",{className:"px-2 py-2 text-right",children:H.subtotal.tardiness}),e.jsx("td",{className:"px-2 py-2 text-right",children:H.subtotal.undertime}),e.jsx("td",{className:"px-2 py-2 text-right",children:H.subtotal.absences}),e.jsx("td",{className:"px-2 py-2 text-right",children:H.subtotal.leaveWithPay})]}),e.jsx("tr",{className:"h-4"})]},H.empCode))})]})]})]})}),e.jsx(Zt,{})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Daily Time Record Monitoring"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-blue-100 border-l-4 border-blue-500 rounded-lg p-5",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx(xa,{className:"w-5 h-5 text-white"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Monitor and generate daily time record reports for employees. Filter by date range, employee status, and organizational groups."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Filter by date range"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Export to Excel format"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Multiple report types"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Print ready reports"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-gray-900 mb-6",children:"Date Range"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Date From"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:t,onChange:H=>s(H.target.value),className:"w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"MM/DD/YYYY"})]}),e.jsx(_2,{date:t,onChange:s})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Date To"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:a,onChange:H=>r(H.target.value),className:"w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"MM/DD/YYYY"})]}),e.jsx(_2,{date:a,onChange:r})]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:n,onChange:H=>l(H.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-700",children:"Sort Alphabetically"})]})}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsx("input",{type:"radio",name:"status",checked:i==="active",onChange:()=>d("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsx("input",{type:"radio",name:"status",checked:i==="inactive",onChange:()=>d("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsx("input",{type:"radio",name:"status",checked:i==="all",onChange:()=>d("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-700",children:"All"})]})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Employee Code"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"text",value:x,onChange:H=>h(H.target.value),className:"flex-1 px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter employee code"}),e.jsx("button",{onClick:G,className:"px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-5 h-5"})}),e.jsx("button",{onClick:R,className:"px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("select",{value:y,onChange:H=>g(H.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 appearance-none cursor-pointer",children:[e.jsx("option",{value:"Accumulation",children:"Accumulation"}),e.jsx("option",{value:"Adjustment",children:"Adjustment"}),e.jsx("option",{value:"Allowance",children:"Allowance"}),e.jsx("option",{value:"Application Report",children:"Application Report"}),e.jsx("option",{value:"Assumed Days",children:"Assumed Days"}),e.jsx("option",{value:"Attendance Ratio",children:"Attendance Ratio"}),e.jsx("option",{value:"Attendance Summary",children:"Attendance Summary"}),e.jsx("option",{value:"Consecutive Absences",children:"Consecutive Absences"}),e.jsx("option",{value:"Count Of Employee Per Workshift",children:"Count Of Employee Per Workshift"}),e.jsx("option",{value:"Daily Time",children:"Daily Time"}),e.jsx("option",{value:"Device Code Report",children:"Device Code Report"}),e.jsx("option",{value:"Employees Raw Data Report",children:"Employees Raw Data Report"}),e.jsx("option",{value:"Employees Raw In And Out (From Update Rawdata)",children:"Employees Raw In And Out (From Update Rawdata)"}),e.jsx("option",{value:"Employees With No Workshift",children:"Employees With No Workshift"}),e.jsx("option",{value:"Exemption Report",children:"Exemption Report"}),e.jsx("option",{value:"In And Out By Position",children:"In And Out By Position"}),e.jsx("option",{value:"Leave And Absences",children:"Leave And Absences"}),e.jsx("option",{value:"Man Hours",children:"Man Hours"}),e.jsx("option",{value:"Man Hours By Division-Branch-Category-Dept-Section",children:"Man Hours By Division-Branch-Category-Dept-Section"}),e.jsx("option",{value:"No In And Out",children:"No In And Out"}),e.jsx("option",{value:"Overtime",children:"Overtime"}),e.jsx("option",{value:"Perfect Attendance",children:"Perfect Attendance"}),e.jsx("option",{value:"Questionable Entries",children:"Questionable Entries"}),e.jsx("option",{value:"Questionable Workshifts",children:"Questionable Workshifts"}),e.jsx("option",{value:"Restday in a Week",children:"Restday in a Week"}),e.jsx("option",{value:"Tardiness",children:"Tardiness"}),e.jsx("option",{value:"Tardiness/ Overbreak/ Undertime Violation",children:"Tardiness/ Overbreak/ Undertime Violation"}),e.jsx("option",{value:"Tardiness And Undertime Report",children:"Tardiness And Undertime Report"}),e.jsx("option",{value:"Tardiness Penalty",children:"Tardiness Penalty"}),e.jsx("option",{value:"Timesheet",children:"Timesheet"}),e.jsx("option",{value:"Unauthorized Absences",children:"Unauthorized Absences"}),e.jsx("option",{value:"Undertime",children:"Undertime"}),e.jsx("option",{value:"User Group Access",children:"User Group Access"}),e.jsx("option",{value:"User TK Group Access",children:"User TK Group Access"})]})}),e.jsxs("div",{className:"mb-6 space-y-2",children:[e.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:j,onChange:H=>C(H.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-700",children:"To Excel File"})]}),e.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:S,onChange:H=>P(H.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-700",children:"Convert To HH:MM"})]})]}),e.jsx("button",{onClick:F,className:"w-full px-6 py-3 bg-gradient-to-r from-blue-600 to-cyan-600 text-white rounded-xl hover:from-blue-700 hover:to-cyan-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 shadow-lg shadow-blue-500/30",children:"Display"})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap p-6 pb-0",children:Y.map(H=>e.jsxs("button",{onClick:()=>b(H.id),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${m===H.id?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(H.icon,{className:"w-4 h-4"}),H.label]},H.id))}),e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("div",{className:"flex items-center justify-end",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:f,onChange:H=>N(H.target.value),className:"px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Search..."})]})})}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"border border-gray-200 rounded-xl overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-center",style:{width:"50px"},children:e.jsx("input",{type:"checkbox",checked:p.length===pe.length,onChange:re,className:"w-4 h-4 text-blue-600 bg-gray-50 border-gray-300 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer"})}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:pe.map(H=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("input",{type:"checkbox",checked:p.includes(H.id),onChange:()=>W(H.id),className:"w-4 h-4 text-blue-600 bg-gray-50 border-gray-300 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer"})}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:H.code}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:H.description})]},H.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx("p",{className:"text-gray-600",style:{fontSize:"0.875rem"},children:"Showing 1 to 3 of 3 entries"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"px-3 py-1 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded-lg",children:"1"}),e.jsx("button",{className:"px-3 py-1 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:"Next"})]})]})]})]})})]})]})]})}),e.jsx(Zt,{})]})}function oJ(){const[t,s]=o.useState("1"),[a,r]=o.useState("MANAGER"),[n,l]=o.useState("1"),[i,d]=o.useState("MANAGER"),[x,h]=o.useState("03/01/2020"),[m,b]=o.useState("03/15/2020"),[f,N]=o.useState("March"),[p,v]=o.useState(""),[y,g]=o.useState(""),j=[{code:"2",description:"ASSISTANT MANAGER",appliesAll:!1},{code:"3",description:"RANK AND FILE",appliesAll:!1}],C=["January","February","March","April","May","June","July","August","September","October","November","December"];return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-gray-900 mb-2",children:"TKS Group Setup Definition"}),e.jsx("p",{className:"text-gray-600",children:"Manage timekeeping group definitions and configurations"})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{className:"flex items-center gap-2 px-6 py-2.5 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-colors shadow-sm",children:[e.jsx(Aa,{className:"w-4 h-4"}),"Save"]}),e.jsxs("button",{className:"flex items-center gap-2 px-6 py-2.5 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors",children:[e.jsx(et,{className:"w-4 h-4"}),"Cancel"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(ea,{className:"w-5 h-5 text-blue-600"}),e.jsx("h3",{className:"text-gray-900",children:"Group Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"TKS Group Code"}),e.jsx("input",{type:"text",value:t,onChange:S=>s(S.target.value),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter group code"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"TKS Group Description"}),e.jsx("input",{type:"text",value:a,onChange:S=>r(S.target.value),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter group description"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Payroll Location Code"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:n,onChange:S=>l(S.target.value),className:"flex-1 px-4 py-2.5 bg-white border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Code"}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors shadow-sm",children:[e.jsx(Gt,{className:"w-4 h-4"}),"Search"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Payroll Description"}),e.jsx("input",{type:"text",value:i,onChange:S=>d(S.target.value),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter payroll description"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6 border border-green-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(ds,{className:"w-5 h-5 text-green-600"}),e.jsx("h3",{className:"text-gray-900",children:"Time Keep Cut-Off Dates"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"From"}),e.jsx(sr,{value:x,onChange:S=>h(S),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"MM/DD/YYYY"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"To"}),e.jsx(sr,{value:m,onChange:S=>b(S),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"MM/DD/YYYY"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Month"}),e.jsx("select",{value:f,onChange:S=>N(S.target.value),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 appearance-none cursor-pointer",children:C.map(S=>e.jsx("option",{value:S,children:S},S))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Period"}),e.jsx("input",{type:"text",value:p,onChange:S=>v(S.target.value),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"Enter period"})]}),e.jsxs("div",{className:"md:col-span-2 lg:col-span-1",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Terminal ID"}),e.jsx("input",{type:"text",value:y,onChange:S=>g(S.target.value),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"Enter terminal ID"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 rounded-xl p-6 border border-orange-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(Hs,{className:"w-5 h-5 text-orange-600"}),e.jsx("h3",{className:"text-gray-900",children:"Group List"})]}),e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-slate-700 via-slate-800 to-slate-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-white",children:"TKS Group Code"}),e.jsx("th",{className:"px-6 py-4 text-left text-white",children:"Description"}),e.jsx("th",{className:"px-6 py-4 text-center text-white",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(zF,{className:"w-4 h-4"}),"Applies to All"]})})]})}),e.jsx("tbody",{children:j.map((S,P)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-gray-900",children:S.code}),e.jsx("td",{className:"px-6 py-4 text-gray-700",children:S.description}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsx("input",{type:"checkbox",checked:S.appliesAll,className:"w-4 h-4 text-blue-600 bg-white border-gray-300 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer",readOnly:!0})})]},P))})]})})]})]})})})]})}function lJ({onBack:t}){const[s,a]=o.useState(!1),[r,n]=o.useState(!0),[l,i]=o.useState(null),[d,x]=o.useState(null),[h,m]=o.useState({}),b=C=>h[C]===!0;o.useEffect(()=>{f()},[]);const f=()=>{const C=localStorage.getItem("loginPayload");if(C)try{const k=(JSON.parse(C).permissions||[]).filter(M=>rs(M.formName)==="CompanyInformationSetUp"),E={};k.forEach(M=>{const L=rs(M.accessTypeName);L&&(E[L]=!0)}),m(E)}catch(S){console.error("Error parsing or decrypting payload",S)}};o.useEffect(()=>{N()},[]);const N=async()=>{n(!0);try{const C=await ne.get("/Fs/System/CompanyInformation");if(C.status===200&&C.data){const S=Array.isArray(C.data)?C.data[0]:C.data;i(S),x(S)}}catch(C){const S=C.response?.data?.message||C.message||"Failed to load company information";await ee.fire({icon:"error",title:"Error",text:S}),console.error("Error fetching company information:",C)}finally{n(!1)}},p=()=>{a(!0)},v=async()=>{if(d)try{n(!0);const C=await ne.put("/Fs/System/CompanyInformation",d);if(C.status===200){const S=C.data;i(S),x(S),a(!1),await ee.fire({icon:"success",title:"Success",text:"Company information updated successfully!",timer:2e3,showConfirmButton:!1})}}catch(C){const S=C.response?.data?.message||C.message||"Failed to save changes";await ee.fire({icon:"error",title:"Error",text:S}),console.error("Error updating company information:",C)}finally{n(!1)}},y=()=>{x(l),a(!1)},g=(C,S)=>{d&&x({...d,[C]:S})},j=C=>C?new Date(C).toLocaleDateString("en-US"):"";return r&&!d?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"text-gray-600",children:"Loading company information..."})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Company Information"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure essential company details including identification numbers, addresses, contact information, database paths, and system policies. Upload company and site logos to customize the application appearance."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Company registration details"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Government ID numbers"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Database path configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Logo and branding management"})]})]})]})]})}),b("View")?e.jsxs("div",{className:"grid grid-cols-12 gap-6 p-6 pt-0",children:[e.jsx("div",{className:"col-span-3",children:e.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 bg-gray-50",children:[e.jsx("div",{className:"aspect-square bg-white border-2 border-dashed border-gray-300 rounded-lg mb-4 flex items-center justify-center",children:d?.companyLogo?e.jsx("img",{src:d.companyLogo,alt:"Company Logo",className:"max-w-full max-h-full object-contain"}):e.jsx("span",{className:"text-gray-400",children:"Company Logo"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block",children:[e.jsx("input",{type:"file",className:"hidden",disabled:!s}),e.jsx("span",{className:`block w-full px-4 py-2 bg-gray-200 text-gray-700 text-center rounded transition-colors ${s?"cursor-pointer hover:bg-gray-300":"cursor-not-allowed opacity-50"}`,children:"Choose File"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:!s,children:[e.jsx(ur,{className:"w-4 h-4"}),"Upload"]}),e.jsxs("button",{className:"flex-1 px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:!s,children:[e.jsx(et,{className:"w-4 h-4"}),"Remove"]})]})]})]})}),e.jsxs("div",{className:"col-span-9 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"col-span-2",children:[b("View")&&e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-gray-700",children:"Code"}),e.jsx("div",{className:"flex gap-2",children:b("Edit")&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 shadow-sm ${s?"bg-green-600 text-white hover:bg-green-700":"bg-gray-600 text-white hover:bg-gray-700"}`,onClick:s?v:p,disabled:r,children:s?e.jsxs(e.Fragment,{children:[e.jsx(Aa,{className:"w-4 h-4"}),"Save"]}):e.jsxs(e.Fragment,{children:[e.jsx(cl,{className:"w-4 h-4"}),"Edit"]})}),s&&e.jsxs("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 shadow-sm",onClick:y,disabled:r,children:[e.jsx(et,{className:"w-4 h-4"}),"Cancel"]})]})})]}),e.jsx("input",{type:"text",value:d?.companyCode||"",onChange:C=>g("companyCode",C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Name"}),e.jsx("input",{type:"text",value:d?.companyName||"",onChange:C=>g("companyName",C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Address"}),e.jsx("input",{type:"text",value:d?.address||"",onChange:C=>g("address",C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"City"}),e.jsx("input",{type:"text",value:d?.city||"",onChange:C=>g("city",C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Province"}),e.jsx("input",{type:"text",value:d?.province||"",onChange:C=>g("province",C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"ZIP Code"}),e.jsx("input",{type:"text",value:d?.zipCode||"",onChange:C=>g("zipCode",C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"SSS No."}),e.jsx("input",{type:"text",value:d?.sssNo||"",onChange:C=>g("sssNo",C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Philhealth No"}),e.jsx("input",{type:"text",value:d?.philHealthNo||"",onChange:C=>g("philHealthNo",C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Pagibig No :"}),e.jsx("input",{type:"text",value:d?.pag_Ibig||"",onChange:C=>g("pag_Ibig",C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Tin No :"}),e.jsx("input",{type:"text",value:d?.tin||"",onChange:C=>g("tin",C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Branch Code (BIR) :"}),e.jsx("input",{type:"text",value:d?.biR_BRNCode||"",onChange:C=>g("biR_BRNCode",C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"GSIS No."}),e.jsx("input",{type:"text",value:d?.gsisNo||"",onChange:C=>g("gsisNo",C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Business Cycle From"}),e.jsx("input",{type:"text",value:d?.busFr?j(d.busFr):"",onChange:C=>g("busFr",C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Business Cycle To"}),e.jsx("input",{type:"text",value:d?.busTo?j(d.busTo):"",onChange:C=>g("busTo",C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Telephone"}),e.jsx("input",{type:"text",defaultValue:"128PC-87\\SQL2022",className:"w-40 px-3 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:d?.email||"",onChange:C=>g("email",C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Hrs Database Path:"}),e.jsx("input",{type:"text",value:d?.hrisPath||"",onChange:C=>g("hrisPath",C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Payroll Database Path:"}),e.jsx("input",{type:"text",value:d?.payrollPath||"",onChange:C=>g("payrollPath",C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"TKS Photo Path:"}),e.jsx("input",{type:"text",value:d?.tksPhotoPath||"",onChange:C=>g("tksPhotoPath",C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:d?.otPremiumFlag||!1,onChange:C=>g("otPremiumFlag",C.target.checked),disabled:!s}),e.jsx("span",{className:"text-gray-700",children:"Use OT Premium Breakdown"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:d?.terminalID||!1,onChange:C=>g("terminalID",C.target.checked),disabled:!s}),e.jsx("span",{className:"text-gray-700",children:"With Terminal"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:d?.validateLogs||!1,onChange:C=>g("validateLogs",C.target.checked),disabled:!s}),e.jsx("span",{className:"text-gray-700",children:"Logs Validate"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:d?.readOnlyTxtDate||!1,onChange:C=>g("readOnlyTxtDate",C.target.checked),disabled:!s}),e.jsx("span",{className:"text-gray-700",children:"Read Only Textbox Date"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:d?.exportEmail||!1,onChange:C=>g("exportEmail",C.target.checked),disabled:!s}),e.jsx("span",{className:"text-gray-700",children:"Export with Sending Email"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:d?.exportLateFilingDateFlag||!1,onChange:C=>g("exportLateFilingDateFlag",C.target.checked),disabled:!s}),e.jsx("span",{className:"text-gray-700",children:"Export Late Filing Date"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:d?.enableAutoPairingLogsFlag||!1,onChange:C=>g("enableAutoPairingLogsFlag",C.target.checked),disabled:!s}),e.jsx("span",{className:"text-gray-700",children:"Enable Auto Pairing Logs"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:d?.enableAppOTRawDataFlag||!1,onChange:C=>g("enableAppOTRawDataFlag",C.target.checked),disabled:!s}),e.jsx("span",{className:"text-gray-700",children:"Enable Approved OT"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:d?.enable2ndShiftRawDataFlag||!1,onChange:C=>g("enable2ndShiftRawDataFlag",C.target.checked),disabled:!s}),e.jsx("span",{className:"text-gray-700",children:"Enable 2nd Shift in Raw Data"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 border border-gray-300 rounded-lg p-4",children:[e.jsx("h3",{className:"text-gray-800 mb-4",children:"Company Config"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-gray-700",children:"Number of Attempts"}),e.jsx("input",{type:"text",defaultValue:"5",className:"w-40 px-3 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-gray-700",children:"Policy"}),e.jsx("input",{type:"text",value:d?.policy||"",onChange:C=>g("policy",C.target.value),className:"w-40 px-3 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-gray-700",children:"Password Age"}),e.jsx("input",{type:"text",defaultValue:"5",className:"w-40 px-3 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:d?.passwordHistory||!1,onChange:C=>g("passwordHistory",C.target.checked),disabled:!s}),e.jsx("span",{className:"text-gray-700",children:"Enforce Password History"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-300 rounded-lg p-4",children:[e.jsx("h3",{className:"text-gray-800 mb-4",children:"License Policy"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-gray-700",children:"Server Name:"}),e.jsx("input",{type:"text",defaultValue:"TIMEKEEP128_VERSION910_Test",className:"w-32 px-3 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-gray-700",children:"Max No Companies:"}),e.jsx("input",{type:"text",defaultValue:"Unlimited",className:"w-40 px-3 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-gray-700",children:"Max No Employees:"}),e.jsx("input",{type:"text",defaultValue:"Unlimited",className:"w-40 px-3 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-gray-700",children:"Registered Database:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",defaultValue:"TIMEKEEP128",className:"w-32 px-3 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s}),e.jsx("button",{className:"px-3 py-1 bg-gray-300 hover:bg-gray-400 rounded transition-colors",disabled:!s,children:""})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Site Logo :"}),e.jsx("div",{className:"flex gap-2 mb-2",children:e.jsxs("label",{className:"flex-1",children:[e.jsx("input",{type:"file",className:"hidden",disabled:!s}),e.jsx("span",{className:`block w-full px-4 py-2 bg-gray-200 text-gray-700 text-center rounded transition-colors ${s?"cursor-pointer hover:bg-gray-300":"cursor-not-allowed opacity-50"}`,children:"Choose File"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:!s,children:"Upload"}),e.jsx("button",{className:"flex-1 px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:!s,children:"Remove"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Site Content :"}),e.jsx("div",{className:"flex gap-2 mb-2",children:e.jsxs("label",{className:"flex-1",children:[e.jsx("input",{type:"file",className:"hidden",disabled:!s}),e.jsx("span",{className:`block w-full px-4 py-2 bg-gray-200 text-gray-700 text-center rounded transition-colors ${s?"cursor-pointer hover:bg-gray-300":"cursor-not-allowed opacity-50"}`,children:"Choose File"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:!s,children:"Upload"}),e.jsx("button",{className:"flex-1 px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:!s,children:"Remove"})]})]})]})]})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})]})]})}),e.jsx(Zt,{})]})}function iJ({onBack:t}){const[s,a]=o.useState(!1),[r,n]=o.useState(""),[l,i]=o.useState(""),[d,x]=o.useState(null),[h,m]=o.useState("2026"),[b,f]=o.useState(!1),[N,p]=o.useState(1),v=100,[y,g]=o.useState({year:"2026",month:"January",day:"1",description:"",holidayType:"Legal Holiday",time:""}),[j,C]=o.useState([]),[S,P]=o.useState(!1),[k,E]=o.useState(""),[M,L]=o.useState([]),[O,q]=o.useState(!1),[B,se]=o.useState(""),[le,pe]=o.useState([]),U=["January","February","March","April","May","June","July","August","September","October","November","December"],Y=[{value:"Legal Holiday",label:"Legal Holiday"},{value:"Special Holiday",label:"Special Holiday"},{value:"Special1",label:"Special1"},{value:"Special2",label:"Special2"}],[W,re]=o.useState({}),G=Ee=>W[Ee]===!0;o.useEffect(()=>{R()},[]);const R=()=>{const Ee=localStorage.getItem("loginPayload");if(Ee)try{const wt=(JSON.parse(Ee).permissions||[]).filter(ye=>rs(ye.formName)==="CalendarSetUp"),Ie={};wt.forEach(ye=>{const be=rs(ye.accessTypeName);be&&(Ie[be]=!0)}),re(Ie)}catch(ze){console.error("Error parsing or decrypting payload",ze)}};o.useEffect(()=>{F(),A()},[]);const F=async()=>{P(!0),E("");try{const Ee=await ne.get("/Fs/Process/CalendarSetUp");if(Ee.status===200&&Ee.data){const ze=Ee.data.map(ot=>({id:ot.id?.toString()||"",year:ot.year||"",day:ot.day||"",month:ot.month||"",description:ot.description||"",holidayType:ot.holidayType||"",branch:ot.branch||"",time:ot.time||null,tdate:ot.tdate||"",time2:ot.time2||null}));C(ze)}}catch(Ee){const ze=Ee.response?.data?.message||Ee.message||"Failed to load holidays";E(ze),console.error("Error fetching holidays:",Ee)}finally{P(!1)}},A=async()=>{q(!0),se("");try{const Ee=await ne.get("/Fs/Employment/BranchSetUp");if(Ee.status===200&&Ee.data){const ze=Ee.data.map(ot=>({branchId:ot.braID||ot.id||"",code:ot.braCode||ot.code||"",description:ot.braDesc||ot.description||"",branchManager:ot.braMngr||ot.branchManager||"",branchManagerCode:ot.braMngrCode||"",deviceName:ot.deviceName||ot.DeviceName||""}));L(ze)}}catch(Ee){const ze=Ee.response?.data?.message||Ee.message||"Failed to load branches";se(ze),console.error("Error fetching branches:",Ee)}finally{q(!1)}},H=j.filter(Ee=>(Ee.description?.toLowerCase().includes(r.toLowerCase())||Ee.month?.toLowerCase().includes(r.toLowerCase())||Ee.branch?.toLowerCase().includes(r.toLowerCase()))&&Ee.year===h),D=M.filter(Ee=>Ee.code.toLowerCase().includes(l.toLowerCase())||Ee.description.toLowerCase().includes(l.toLowerCase())),_=Math.ceil(H.length/v),xe=(N-1)*v,ge=H.slice(xe,xe+v);o.useEffect(()=>{p(1)},[r,h]);const Ne=()=>{x(null),g({year:h,month:"January",day:"1",description:"",holidayType:"Legal Holiday",time:""}),pe([]),a(!0)},Ce=Ee=>{x(Ee),g({year:Ee.year,month:Ee.month,day:Ee.day,description:Ee.description,holidayType:Ee.holidayType,time:Ee.time||""});const ze=Ee.branch?Ee.branch.split(",").map(ot=>ot.trim()):[];pe(ze),a(!0)},fe=async Ee=>{if((await ee.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete holiday "${Ee.description}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ne.delete(`/Fs/Process/CalendarSetUp/${Ee.id}`),await ee.fire({icon:"success",title:"Success",text:"Holiday deleted successfully.",timer:2e3,showConfirmButton:!1}),await F()}catch(ot){const wt=ot.response?.data?.message||ot.message||"Failed to delete holiday";await ee.fire({icon:"error",title:"Error",text:wt}),console.error("Error deleting holiday:",ot)}},ue=Ee=>{pe(ze=>ze.includes(Ee)?ze.filter(ot=>ot!==Ee):[...ze,Ee])},Oe=async()=>{if(!y.description){await ee.fire({icon:"warning",title:"Validation Error",text:"Please enter a description."});return}f(!0);try{const Ee=U.indexOf(y.month)+1,ze=`${y.year}-${Ee.toString().padStart(2,"0")}-${y.day.padStart(2,"0")}T00:00:00`,ot={id:d?parseInt(d.id):0,year:y.year,day:y.day,month:y.month,description:y.description,holidayType:y.holidayType,branch:le.join(", "),time:y.time||null,tdate:ze,time2:null};d?(await ne.put(`/Fs/Process/CalendarSetUp/${d.id}`,ot),await ee.fire({icon:"success",title:"Success",text:"Holiday updated successfully.",timer:2e3,showConfirmButton:!1})):(await ne.post("/Fs/Process/CalendarSetUp",ot),await ee.fire({icon:"success",title:"Success",text:"Holiday created successfully.",timer:2e3,showConfirmButton:!1})),await F(),a(!1),x(null),pe([])}catch(Ee){const ze=Ee.response?.data?.message||Ee.message||"An error occurred";await ee.fire({icon:"error",title:"Error",text:ze}),console.error("Error submitting holiday:",Ee)}finally{f(!1)}},De=()=>{a(!1),x(null),pe([])};o.useEffect(()=>{const Ee=ze=>{ze.key==="Escape"&&s&&(a(!1),x(null))};return s&&document.addEventListener("keydown",Ee),()=>{document.removeEventListener("keydown",Ee)}},[s]);const Ae=Array.from({length:20},(Ee,ze)=>(new Date().getFullYear()-5+ze).toString());return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Holiday Calendar"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Manage company holidays, special occasions, and branch-specific observances. This calendar is used to calculate holiday pay and overtime rates for employees."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsxs("span",{className:"text-gray-600",children:[e.jsx("span",{className:"text-blue-600",children:"Legal Holidays:"})," Regular pay + holiday premium"]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsxs("span",{className:"text-gray-600",children:[e.jsx("span",{className:"text-orange-600",children:"Special Holidays:"})," Standard pay rates apply"]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Configure branch-specific holidays for regional offices"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Copy holidays from previous years for efficiency"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[G("Add")&&G("View")&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Year:"}),e.jsx("select",{value:h,onChange:Ee=>m(Ee.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",children:Ae.map(Ee=>e.jsx("option",{value:Ee,children:Ee},Ee))})]}),e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:Ne,children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]})]}),G("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:r,onChange:Ee=>n(Ee.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:S?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading holidays..."})}):k?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:k})}):G("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Year"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Month"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Day"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Holiday Type"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Branch"}),(G("View")||G("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:ge.length>0?ge.map(Ee=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 text-blue-600",children:Ee.year}),e.jsx("td",{className:"px-4 py-2",children:Ee.month}),e.jsx("td",{className:"px-4 py-2",children:Ee.day}),e.jsx("td",{className:"px-4 py-2",children:Ee.description}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("span",{className:Ee.holidayType==="Legal Holiday"?"text-blue-600":"text-orange-600",children:Ee.holidayType})}),e.jsx("td",{className:"px-4 py-2",children:Ee.branch}),(G("Edit")||G("Delete"))&&e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[G("Edit")&&e.jsx("button",{onClick:()=>Ce(Ee),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),G("Edit")&&G("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),G("Delete")&&e.jsx("button",{onClick:()=>fe(Ee),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},Ee.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-6 py-16 text-center",children:e.jsxs("div",{className:"text-gray-500",children:["No holidays found for ",h]})})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),G("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",H.length>0?xe+1:0," to ",Math.min(xe+v,H.length)," of ",H.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>p(Ee=>Math.max(Ee-1,1)),disabled:N===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:_},(Ee,ze)=>ze+1).map(Ee=>e.jsx("button",{onClick:()=>p(Ee),className:`px-3 py-1 rounded ${N===Ee?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ee},Ee)),e.jsx("button",{onClick:()=>p(Ee=>Math.min(Ee+1,_)),disabled:N>=_||H.length===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-900 font-semibold",children:d?"Edit Holiday":"Create New Holiday"}),e.jsx("button",{onClick:De,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4 font-semibold",children:"Holiday Calendar"}),e.jsxs("div",{className:"space-y-3 text-sm mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-700 font-medium w-40",children:"Year :"}),e.jsx("input",{type:"text",value:y.year,onChange:Ee=>g({...y,year:Ee.target.value}),className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-32"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-700 font-medium w-40",children:"Month :"}),e.jsx("select",{value:y.month,onChange:Ee=>g({...y,month:Ee.target.value}),className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-48",children:U.map(Ee=>e.jsx("option",{value:Ee,children:Ee},Ee))})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-700 font-medium w-40",children:"Day :"}),e.jsx("select",{value:y.day,onChange:Ee=>g({...y,day:Ee.target.value}),className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-24",children:Array.from({length:31},(Ee,ze)=>ze+1).map(Ee=>e.jsx("option",{value:Ee.toString(),children:Ee},Ee))})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-700 font-medium w-40",children:"Description :"}),e.jsx("input",{type:"text",value:y.description,onChange:Ee=>g({...y,description:Ee.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-700 font-medium w-40",children:"Holiday Type :"}),e.jsx("select",{value:y.holidayType,onChange:Ee=>g({...y,holidayType:Ee.target.value}),className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-48",children:Y.map(Ee=>e.jsx("option",{value:Ee.value,children:Ee.label},Ee.value))})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-700 font-medium w-40",children:"Time :"}),e.jsx("input",{type:"text",value:y.time,onChange:Ee=>g({...y,time:Ee.target.value}),className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-32",placeholder:"Optional"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-gray-700 font-medium mb-3",children:"Select Branches:"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Search:"}),e.jsx("input",{type:"text",value:l,onChange:Ee=>i(Ee.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Search by code or description..."})]}),e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden max-h-64 overflow-y-auto",children:O?e.jsx("div",{className:"p-4 text-center text-gray-600 text-sm",children:"Loading branches..."}):B?e.jsx("div",{className:"p-4 text-center text-red-600 text-sm",children:B}):e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-gray-100 border-b border-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left w-16",children:e.jsx("input",{type:"checkbox",className:"w-4 h-4",checked:le.length===D.length&&D.length>0,onChange:Ee=>{Ee.target.checked?pe(D.map(ze=>ze.code)):pe([])}})}),e.jsx("th",{className:"px-3 py-2 text-left text-gray-700 font-medium",children:"Code"}),e.jsx("th",{className:"px-3 py-2 text-left text-gray-700 font-medium",children:"Description"})]})}),e.jsx("tbody",{children:D.length>0?D.map(Ee=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50 cursor-pointer",onClick:()=>ue(Ee.code),children:[e.jsx("td",{className:"px-3 py-2",children:e.jsx("input",{type:"checkbox",className:"w-4 h-4",checked:le.includes(Ee.code),onChange:()=>ue(Ee.code),onClick:ze=>ze.stopPropagation()})}),e.jsx("td",{className:"px-3 py-2 text-gray-900",children:Ee.code}),e.jsx("td",{className:"px-3 py-2 text-gray-600",children:Ee.description})]},Ee.branchId)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-3 py-8 text-center text-gray-500",children:"No branches found"})})})]})}),le.length>0&&e.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Selected: ",e.jsx("span",{className:"font-medium text-blue-600",children:le.length})," branch(es)"]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm text-sm font-medium",onClick:Oe,disabled:b,children:b?"Saving...":d?"Update":"Submit"}),e.jsx("button",{className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm text-sm font-medium",onClick:De,disabled:b,children:"Back to List"})]})]})]})})]})]})}),e.jsx(Zt,{})]})}const cJ=[{code:"Legal1",label:"Legal Holiday"},{code:"Special1",label:"Special Holiday"},{code:"Calamity1",label:"Calamity"},{code:"NoGrace1",label:"No Grace Period"},{code:"Early1",label:"Early Dismissal"},{code:"2LEGHOL",label:"Double Legal Holiday"},{code:"SPH2",label:"Special Holiday 2"},{code:"NonWrk1",label:"Non-Working Holiday"}];function dJ(){const[t,s]=o.useState(!1),[a,r]=o.useState(null),[n,l]=o.useState(!1),[i,d]=o.useState(!1),[x,h]=o.useState(""),[m,b]=o.useState(""),[f,N]=o.useState(1),[p,v]=o.useState([]),[y,g]=o.useState(!1),[j,C]=o.useState(""),[S,P]=o.useState([]),[k,E]=o.useState(!1),[M,L]=o.useState({code:"",desc:"",holidayType:"",withintheShift:"",withintheShiftwithND:"",otPremiumWithintheShiftwithND:"",aftetheShift:"",aftertheShiftwithND:"",otPremiumAftertheShiftwithND:"",withintheShiftandRestday:"",withintheShiftandRestdaywithND:"",otPremiumWithintheShiftandRestdaywithND:"",aftertheShiftandRestday:"",aftertheShiftandRestdaywithND:"",otPremiumAftertheShiftandRestdaywithND:"",unworkedHolidayPay:"",unworkedHolidayPayRestday:"",unprodWorkHolidayRegDay:"",unprodWorkHolidayRestDay:"",eqOTCodeWinShf:"",eqOTCodeWinShfRest:"",eqOTCodeAftrShfForNoOfHrs:"",eqOTCodeAftrShfRDForNoOfHrs:"",eqOTCodeAftrShfNDForNoOfHrs:"",eqOTCodeAftrShfRDNDForNoOfHrs:""});o.useEffect(()=>{O()},[]);const O=async()=>{g(!0),C("");try{const De=await ne.get("/Fs/Process/Overtime/HolidayOTRateSetUp");De.status===200&&De.data&&(v(De.data),De.data.length>0&&(r(0),F(De.data[0])))}catch(De){const Ae=De.response?.data?.message||De.message||"Failed to load holiday OT rates";C(Ae),console.error("Error fetching holiday OT rates:",De)}finally{g(!1)}},q=async()=>{E(!0);try{const De=await ne.get("/Fs/Process/Overtime/OverTimeFileSetUp");De.status===200&&De.data&&P(De.data)}catch(De){console.error("Error fetching OT codes:",De)}finally{E(!1)}},B=S.filter(De=>De.otfCode.toLowerCase().includes(m.toLowerCase())||De.description.toLowerCase().includes(m.toLowerCase())),se=10,le=Math.ceil(B.length/se),pe=(f-1)*se,U=pe+se,Y=B.slice(pe,U),[W,re]=o.useState({}),G=De=>W[De]===!0;o.useEffect(()=>{R()},[]);const R=()=>{const De=localStorage.getItem("loginPayload");if(De)try{const ze=(JSON.parse(De).permissions||[]).filter(wt=>rs(wt.formName)==="HolidayOTRatesSetUp"),ot={};ze.forEach(wt=>{const Ie=rs(wt.accessTypeName);Ie&&(ot[Ie]=!0)}),re(ot)}catch(Ae){console.error("Error parsing or decrypting payload",Ae)}},F=De=>{L({code:De.code,desc:De.desc,holidayType:De.holidayType,withintheShift:De.withintheShift,withintheShiftwithND:De.withintheShiftwithND,otPremiumWithintheShiftwithND:De.otPremiumWithintheShiftwithND,aftetheShift:De.aftetheShift,aftertheShiftwithND:De.aftertheShiftwithND,otPremiumAftertheShiftwithND:De.otPremiumAftertheShiftwithND,withintheShiftandRestday:De.withintheShiftandRestday,withintheShiftandRestdaywithND:De.withintheShiftandRestdaywithND,otPremiumWithintheShiftandRestdaywithND:De.otPremiumWithintheShiftandRestdaywithND,aftertheShiftandRestday:De.aftertheShiftandRestday,aftertheShiftandRestdaywithND:De.aftertheShiftandRestdaywithND,otPremiumAftertheShiftandRestdaywithND:De.otPremiumAftertheShiftandRestdaywithND,unworkedHolidayPay:De.unworkedHolidayPay,unworkedHolidayPayRestday:De.unworkedHolidayPayRestday,unprodWorkHolidayRegDay:De.unprodWorkHolidayRegDay,unprodWorkHolidayRestDay:De.unprodWorkHolidayRestDay,eqOTCodeWinShf:De.eqOTCodeWinShf,eqOTCodeWinShfRest:De.eqOTCodeWinShfRest,eqOTCodeAftrShfForNoOfHrs:De.eqOTCodeAftrShfForNoOfHrs,eqOTCodeAftrShfRDForNoOfHrs:De.eqOTCodeAftrShfRDForNoOfHrs,eqOTCodeAftrShfNDForNoOfHrs:De.eqOTCodeAftrShfNDForNoOfHrs,eqOTCodeAftrShfRDNDForNoOfHrs:De.eqOTCodeAftrShfRDNDForNoOfHrs})},A=De=>{h(De),b(""),N(1),q(),d(!0)},H=De=>{L(Ae=>({...Ae,[x]:De})),d(!1)},D=De=>{L(Ae=>({...Ae,[De]:""}))},_=()=>{if(a===null){ee.fire({icon:"warning",title:"No Record Selected",text:"Please select a record to edit."});return}s(!0)},xe=async()=>{if(!M.code.trim()){await ee.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(!M.desc.trim()){await ee.fire({icon:"warning",title:"Validation Error",text:"Description is required."});return}l(!0);try{const De={id:a!==null?p[a].id:0,code:M.code,desc:M.desc,withintheShift:M.withintheShift,aftetheShift:M.aftetheShift,withintheShiftwithND:M.withintheShiftwithND,aftertheShiftwithND:M.aftertheShiftwithND,withintheShiftandRestday:M.withintheShiftandRestday,aftertheShiftandRestday:M.aftertheShiftandRestday,withintheShiftandRestdaywithND:M.withintheShiftandRestdaywithND,aftertheShiftandRestdaywithND:M.aftertheShiftandRestdaywithND,unworkedHolidayPay:M.unworkedHolidayPay,unworkedHolidayPayRestday:M.unworkedHolidayPayRestday,holidayType:M.holidayType,unprodWorkHolidayRegDay:M.unprodWorkHolidayRegDay,unprodWorkHolidayRestDay:M.unprodWorkHolidayRestDay,otPremiumWithintheShiftwithND:M.otPremiumWithintheShiftwithND,otPremiumAftertheShiftwithND:M.otPremiumAftertheShiftwithND,otPremiumWithintheShiftandRestdaywithND:M.otPremiumWithintheShiftandRestdaywithND,otPremiumAftertheShiftandRestdaywithND:M.otPremiumAftertheShiftandRestdaywithND,eqOTCodeWinShf:M.eqOTCodeWinShf,eqOTCodeWinShfRest:M.eqOTCodeWinShfRest,eqOTCodeAftrShfForNoOfHrs:M.eqOTCodeAftrShfForNoOfHrs,eqOTCodeAftrShfRDForNoOfHrs:M.eqOTCodeAftrShfRDForNoOfHrs,eqOTCodeAftrShfNDForNoOfHrs:M.eqOTCodeAftrShfNDForNoOfHrs,eqOTCodeAftrShfRDNDForNoOfHrs:M.eqOTCodeAftrShfRDNDForNoOfHrs};a!==null&&p[a]?(await ne.put(`/Fs/Process/Overtime/HolidayOTRateSetUp/${p[a].id}`,De),await ee.fire({icon:"success",title:"Success",text:"Holiday OT rate updated successfully.",timer:2e3,showConfirmButton:!1})):(await ne.post("/Fs/Process/Overtime/HolidayOTRateSetUp",De),await ee.fire({icon:"success",title:"Success",text:"Holiday OT rate created successfully.",timer:2e3,showConfirmButton:!1})),await O(),s(!1)}catch(De){const Ae=De.response?.data?.message||De.message||"An error occurred";await ee.fire({icon:"error",title:"Error",text:Ae}),console.error("Error saving holiday OT rate:",De)}finally{l(!1)}},ge=()=>{s(!1),a!==null&&p[a]&&F(p[a])},Ne=()=>{s(!0),r(null),L({code:"",desc:"",holidayType:"",withintheShift:"",withintheShiftwithND:"",otPremiumWithintheShiftwithND:"",aftetheShift:"",aftertheShiftwithND:"",otPremiumAftertheShiftwithND:"",withintheShiftandRestday:"",withintheShiftandRestdaywithND:"",otPremiumWithintheShiftandRestdaywithND:"",aftertheShiftandRestday:"",aftertheShiftandRestdaywithND:"",otPremiumAftertheShiftandRestdaywithND:"",unworkedHolidayPay:"",unworkedHolidayPayRestday:"",unprodWorkHolidayRegDay:"",unprodWorkHolidayRestDay:"",eqOTCodeWinShf:"",eqOTCodeWinShfRest:"",eqOTCodeAftrShfForNoOfHrs:"",eqOTCodeAftrShfRDForNoOfHrs:"",eqOTCodeAftrShfNDForNoOfHrs:"",eqOTCodeAftrShfRDNDForNoOfHrs:""})},Ce=async()=>{if(a===null||!p[a]){await ee.fire({icon:"warning",title:"No Record Selected",text:"Please select a record to delete."});return}const De=p[a];if((await ee.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete holiday OT rate "${De.code} - ${De.desc}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ne.delete(`/Fs/Process/Overtime/HolidayOTRateSetUp/${De.id}`),await ee.fire({icon:"success",title:"Success",text:"Holiday OT rate deleted successfully.",timer:2e3,showConfirmButton:!1}),await O(),r(null)}catch(Ee){const ze=Ee.response?.data?.message||Ee.message||"Failed to delete holiday OT rate";await ee.fire({icon:"error",title:"Error",text:ze}),console.error("Error deleting holiday OT rate:",Ee)}},fe=(De,Ae)=>{L(Ee=>({...Ee,[De]:Ae}))},ue=De=>{if(!t){r(De);const Ae=p[De];F(Ae)}},Oe=(De,Ae,Ee=!1)=>e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 mb-2",children:[De," ",Ee&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:M[Ae],readOnly:!0,className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-600 cursor-default"}),e.jsx("button",{type:"button",onClick:()=>A(Ae),disabled:!t,className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Search"}),e.jsx("button",{type:"button",onClick:()=>D(Ae),disabled:!t,className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]})]});return o.useEffect(()=>{const De=Ae=>{Ae.key==="Escape"&&i&&d(!1)};return i&&document.addEventListener("keydown",De),()=>document.removeEventListener("keydown",De)},[i]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Holiday OT Rate Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define overtime rate codes and premium calculations for holidays. Configure rates for regular shifts, night differential, rest days, and their combinations to ensure accurate holiday pay computations."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Within shift and after shift OT rates","Night differential premium calculations","Rest day combination rates","Unworked holiday pay configuration"].map(De=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:De})]},De))})]})]})}),G("View")&&e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[!t&&G("Add")&&e.jsxs("button",{onClick:Ne,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(fs,{className:"w-4 h-4"})," Create New"]}),G("Edit")&&(t?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:xe,disabled:n,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Aa,{className:"w-4 h-4"}),n?"Saving...":"Save"]}),e.jsxs("button",{onClick:ge,disabled:n,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(wb,{className:"w-4 h-4"})," Cancel"]})]}):e.jsxs("button",{onClick:_,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(cl,{className:"w-4 h-4"})," Edit"]})),!t&&G("Delete")&&e.jsxs("button",{onClick:Ce,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(ls,{className:"w-4 h-4"})," Delete"]})]}),G("View")?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden mb-6",children:y?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading holiday OT rates..."})}):j?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:j})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsxs("button",{className:"flex items-center gap-1 text-gray-700 hover:text-gray-900 transition-colors",children:["Code"," ",e.jsx(Rg,{className:"w-4 h-4 text-gray-400"})]})}),e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsxs("button",{className:"flex items-center gap-1 text-gray-700 hover:text-gray-900 transition-colors",children:["Description"," ",e.jsx(Rg,{className:"w-4 h-4 text-gray-400"})]})}),e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsxs("button",{className:"flex items-center gap-1 text-gray-700 hover:text-gray-900 transition-colors",children:["Holiday Type"," ",e.jsx(Rg,{className:"w-4 h-4 text-gray-400"})]})})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:p.length>0?p.map((De,Ae)=>e.jsxs("tr",{onClick:()=>ue(Ae),className:`cursor-pointer transition-colors ${a===Ae?"bg-blue-50 hover:bg-blue-100":"hover:bg-gray-50"}`,children:[e.jsx("td",{className:"px-6 py-3 text-gray-900",children:De.code}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:De.desc}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:De.holidayType})]},De.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-6 py-8 text-center text-gray-500",children:"No records found"})})})]})})}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 mb-2",children:["Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:M.code,maxLength:10,onChange:De=>fe("code",De.target.value),disabled:!t,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50 disabled:text-gray-600"})]}),Oe("Within the Shift","withintheShift",!0),Oe("After the Shift","aftetheShift",!0),Oe("Within the Shift and Restday","withintheShiftandRestday",!0),Oe("After the Shift and Restday","aftertheShiftandRestday",!0),Oe("Unworked Holiday Pay","unworkedHolidayPay",!0),Oe("Unworked Holiday Pay (Restday)","unworkedHolidayPayRestday",!0)]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 mb-2",children:["Description ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:M.desc,onChange:De=>fe("desc",De.target.value),disabled:!t,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50 disabled:text-gray-600"})]}),Oe("Within the Shift With ND","withintheShiftwithND",!0),Oe("After the Shift With ND","aftertheShiftwithND",!0),Oe("Within the Shift and Restday with ND","withintheShiftandRestdaywithND",!0),Oe("After the Shift and Restday with ND","aftertheShiftandRestdaywithND",!0)]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 mb-2",children:["Holiday Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:M.holidayType,onChange:De=>fe("holidayType",De.target.value),disabled:!t,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50 disabled:text-gray-600",children:[e.jsx("option",{value:"",children:"Select Holiday Type"}),cJ.map(De=>e.jsx("option",{value:De.code,children:De.label},De.code))]})]}),Oe("OT Premium Within the Shift with ND","otPremiumWithintheShiftwithND",!0),Oe("OT Premium After the Shift with ND","otPremiumAftertheShiftwithND",!0),Oe("OT Premium Within the Shift and Restday with ND","otPremiumWithintheShiftandRestdaywithND",!0),Oe("OT Premium After the Shift and Restday with ND","otPremiumAftertheShiftandRestdaywithND",!0),Oe("Equivalent OT Code of Within in the Shift","eqOTCodeWinShf"),Oe("Equivalent OT Code of Within in the Shift and Rest Day","eqOTCodeWinShfRest")]})]})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8",children:[e.jsx("h3",{className:"text-gray-900 mb-6",children:"Equivalent OT Code for No of Hrs"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Oe("After The Shift","eqOTCodeAftrShfForNoOfHrs"),Oe("After The Shift and Rest Day","eqOTCodeAftrShfRDForNoOfHrs"),Oe("After The Shift With ND","eqOTCodeAftrShfNDForNoOfHrs"),Oe("After The Shift and Rest Day With ND","eqOTCodeAftrShfRDNDForNoOfHrs")]})]}),e.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("span",{className:"font-semibold",children:"Note:"})," Fields marked with ",e.jsx("span",{className:"text-red-500",children:"*"})," are required. Holiday OT rates are used to calculate overtime premiums for employees working during holidays."]})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})]})]})}),i&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg flex-shrink-0",children:[e.jsx("h2",{className:"text-gray-900",children:"Overtime Code"}),e.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 py-3 border-b border-gray-100 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:m,onChange:De=>b(De.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-80"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:k?e.jsx("div",{className:"py-8 text-center text-gray-500 text-sm",children:"Loading OT codes..."}):e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b-2 border-gray-300 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Description "}),e.jsx("th",{className:"px-4 py-2 text-right text-gray-700 text-sm",children:"Rate "}),e.jsx("th",{className:"px-4 py-2 text-right text-gray-700 text-sm",children:"Default Amount "})]})}),e.jsx("tbody",{children:Y.length>0?Y.map(De=>e.jsxs("tr",{onClick:()=>H(De.otfCode),className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",children:[e.jsx("td",{className:"px-4 py-2 text-sm text-blue-600 font-medium",children:De.otfCode}),e.jsx("td",{className:"px-4 py-2 text-sm",children:De.description}),e.jsx("td",{className:"px-4 py-2 text-sm text-right",children:De.rate1.toFixed(2)}),e.jsx("td",{className:"px-4 py-2 text-sm text-right",children:De.defAmt.toFixed(2)})]},De.otfid)):e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"py-8 text-center text-gray-500 text-sm",children:"No OT codes found."})})})]})}),e.jsx("div",{className:"px-6 py-3 border-t border-gray-200 bg-gray-50 rounded-b-lg flex-shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-gray-600 text-sm",children:["Showing ",pe+1," to"," ",Math.min(U,B.length)," of"," ",B.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>N(De=>Math.max(1,De-1)),disabled:f===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 text-sm",children:"Previous"}),Array.from({length:Math.min(5,le)},(De,Ae)=>Ae+1).map(De=>e.jsx("button",{onClick:()=>N(De),className:`px-3 py-1 rounded text-sm ${f===De?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:De},De)),e.jsx("button",{onClick:()=>N(De=>Math.min(le,De+1)),disabled:f===le,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 text-sm",children:"Next"})]})]})})]})}),e.jsx(Zt,{})]})}function uJ({onBack:t}){const[s,a]=o.useState(!1),[r,n]=o.useState(""),[l,i]=o.useState(null),[d,x]=o.useState(!1),[h,m]=o.useState({otfCode:"",earnCode:"",rate1:"0",rate2:"0",defAmt:"0.00",incPayslip:"",incColaOT:"",incColaBasic:"",description:"",isExemptionRpt:!1}),[b,f]=o.useState([]),[N,p]=o.useState(!1),[v,y]=o.useState("");o.useEffect(()=>{g()},[]);const g=async()=>{p(!0),y("");try{const U=await ne.get("/Fs/Process/Overtime/OverTimeFileSetUp");U.status===200&&U.data&&f(U.data)}catch(U){const Y=U.response?.data?.message||U.message||"Failed to load overtime data";y(Y),console.error("Error fetching overtime data:",U)}finally{p(!1)}},j=b.filter(U=>U.otfCode.toLowerCase().includes(r.toLowerCase())||U.description.toLowerCase().includes(r.toLowerCase())||U.earnCode.toLowerCase().includes(r.toLowerCase())),[C,S]=o.useState(1),P=25,k=Math.ceil(j.length/P),E=(C-1)*P,M=E+P,L=j.slice(E,M);o.useEffect(()=>{S(1)},[r]);const O=U=>{i(U),m({otfCode:U.otfCode,earnCode:U.earnCode,rate1:U.rate1.toString(),rate2:U.rate2.toString(),defAmt:U.defAmt.toFixed(2),incPayslip:U.incPayslip,incColaOT:U.incColaOT,incColaBasic:U.incColaBasic,description:U.description,isExemptionRpt:U.isExemptionRpt}),a(!0)},q=()=>{i(null),m({otfCode:"",earnCode:"",rate1:"0",rate2:"0",defAmt:"0.00",incPayslip:"",incColaOT:"",incColaBasic:"",description:"",isExemptionRpt:!1}),a(!0)},B=async U=>{if((await ee.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete overtime code "${U.otfCode} - ${U.description}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ne.delete(`/Fs/Process/Overtime/OverTimeFileSetUp/${U.otfid}`),await ee.fire({icon:"success",title:"Success",text:"Overtime code deleted successfully.",timer:2e3,showConfirmButton:!1}),await g()}catch(W){const re=W.response?.data?.message||W.message||"Failed to delete overtime code";await ee.fire({icon:"error",title:"Error",text:re}),console.error("Error deleting overtime code:",W)}},se=async U=>{if(U.preventDefault(),!h.otfCode.trim()){await ee.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(!h.description.trim()){await ee.fire({icon:"warning",title:"Validation Error",text:"Description is required."});return}if(b.some(W=>W.otfCode.toLowerCase()===h.otfCode.trim().toLowerCase())){await ee.fire({icon:"error",title:"Duplicate Code",text:"This overtime code is already in use. Please use a different code."});return}x(!0);try{const W={otfid:0,otfCode:h.otfCode,earnCode:h.earnCode,rate1:parseFloat(h.rate1)||0,rate2:parseFloat(h.rate2)||0,defAmt:parseFloat(h.defAmt)||0,incPayslip:h.incPayslip,incColaOT:h.incColaOT,incColaBasic:h.incColaBasic,description:h.description,isExemptionRpt:h.isExemptionRpt};await ne.post("/Fs/Process/Overtime/OverTimeFileSetUp",W),await ee.fire({icon:"success",title:"Success",text:"Overtime code created successfully.",timer:2e3,showConfirmButton:!1}),await g(),a(!1)}catch(W){const re=W.response?.data?.message||W.message||"An error occurred";await ee.fire({icon:"error",title:"Error",text:re}),console.error("Error creating overtime code:",W)}finally{x(!1)}},le=async U=>{if(U.preventDefault(),!l)return;if(!h.otfCode.trim()){await ee.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(!h.description.trim()){await ee.fire({icon:"warning",title:"Validation Error",text:"Description is required."});return}if(b.some(W=>W.otfid!==l.otfid&&W.otfCode.toLowerCase()===h.otfCode.trim().toLowerCase())){await ee.fire({icon:"error",title:"Duplicate Code",text:"This overtime code is already in use. Please use a different code."});return}x(!0);try{const W={otfid:l.otfid,otfCode:h.otfCode,earnCode:h.earnCode,rate1:parseFloat(h.rate1)||0,rate2:parseFloat(h.rate2)||0,defAmt:parseFloat(h.defAmt)||0,incPayslip:h.incPayslip,incColaOT:h.incColaOT,incColaBasic:h.incColaBasic,description:h.description,isExemptionRpt:h.isExemptionRpt};await ne.put(`/Fs/Process/Overtime/OverTimeFileSetUp/${l.otfid}`,W),await ee.fire({icon:"success",title:"Success",text:"Overtime code updated successfully.",timer:2e3,showConfirmButton:!1}),await g(),a(!1),i(null)}catch(W){const re=W.response?.data?.message||W.message||"An error occurred";await ee.fire({icon:"error",title:"Error",text:re}),console.error("Error updating overtime code:",W)}finally{x(!1)}},pe=U=>{l?le(U):se(U)};return o.useEffect(()=>{const U=Y=>{Y.key==="Escape"&&s&&(a(!1),i(null))};return s&&document.addEventListener("keydown",U),()=>{document.removeEventListener("keydown",U)}},[s]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Overtime File Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure overtime codes with their respective rates and default amounts. These codes are used throughout the system for calculating overtime pay and generating reports."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Define overtime rate codes"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set default amounts per code"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Configure exemption from reports"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Manage basic and premium rates"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:q,children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:r,onChange:U=>n(U.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-64 text-sm"})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:N?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading overtime data..."})}):v?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:v})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Earn Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Rate 1"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Rate 2"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Default Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Is Exempted Rpt"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs text-gray-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:L.length>0?L.map(U=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:U.otfCode}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:U.description}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:U.earnCode}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:U.rate1.toFixed(2)}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:U.rate2.toFixed(2)}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:U.defAmt.toFixed(2)}),e.jsx("td",{className:"px-6 py-4 text-sm",children:e.jsx("input",{type:"checkbox",checked:U.isExemptionRpt,readOnly:!0,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>O(U),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>B(U),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},U.otfid)):e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]})})}),e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",j.length>0?E+1:0," to ",Math.min(M,j.length)," of ",j.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>S(U=>Math.max(1,U-1)),disabled:C===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:k},(U,Y)=>Y+1).map(U=>e.jsx("button",{onClick:()=>S(U),className:`px-3 py-1 rounded transition-colors ${C===U?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:U},U)),e.jsx("button",{onClick:()=>S(U=>Math.min(k||1,U+1)),disabled:C>=k||j.length===0,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0",children:[e.jsx("h2",{className:"text-gray-900",children:l?"Edit":"Create New"}),e.jsx("button",{onClick:()=>{a(!1),i(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:pe,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Overtime File Setup"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Code :"}),e.jsx("input",{type:"text",value:h.otfCode,maxLength:10,onChange:U=>m({...h,otfCode:U.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Description :"}),e.jsx("input",{type:"text",value:h.description,onChange:U=>m({...h,description:U.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Earn Code :"}),e.jsx("input",{type:"text",value:h.earnCode,onChange:U=>m({...h,earnCode:U.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Rate 1 :"}),e.jsx("input",{type:"number",step:"0.01",value:h.rate1,onChange:U=>m({...h,rate1:U.target.value}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Rate 2 :"}),e.jsx("input",{type:"number",step:"0.01",value:h.rate2,onChange:U=>m({...h,rate2:U.target.value}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Default Amount :"}),e.jsx("input",{type:"number",step:"0.01",value:h.defAmt,onChange:U=>m({...h,defAmt:U.target.value}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Inc Payslip :"}),e.jsx("input",{type:"text",value:h.incPayslip,onChange:U=>m({...h,incPayslip:U.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Inc Cola OT :"}),e.jsx("input",{type:"text",value:h.incColaOT,onChange:U=>m({...h,incColaOT:U.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Inc Cola Basic :"}),e.jsx("input",{type:"text",value:h.incColaBasic,onChange:U=>m({...h,incColaBasic:U.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Is Exempted Rpt :"}),e.jsx("input",{type:"checkbox",checked:h.isExemptionRpt,onChange:U=>m({...h,isExemptionRpt:U.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:d,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:d?l?"Updating...":"Submitting...":l?"Update":"Submit"}),e.jsx("button",{type:"button",onClick:()=>{a(!1),i(null)},disabled:d,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]})]})}),e.jsx(Zt,{})]})}function xJ(){const[t,s]=o.useState(!1),[a,r]=o.useState(""),[n,l]=o.useState(!1),[i,d]=o.useState(null),[x,h]=o.useState(1),m=100,[b,f]=o.useState(!1),[N,p]=o.useState(""),[v,y]=o.useState(""),[g,j]=o.useState(""),[C,S]=o.useState(null),[P,k]=o.useState([]),[E,M]=o.useState(!1),[L,O]=o.useState(""),[q,B]=o.useState({}),se=_=>q[_]===!0;o.useEffect(()=>{le()},[]);const le=()=>{const _=localStorage.getItem("loginPayload");if(_)try{const Ne=(JSON.parse(_).permissions||[]).filter(fe=>rs(fe.formName)==="AllowBracketingCode"),Ce={};Ne.forEach(fe=>{const ue=rs(fe.accessTypeName);ue&&(Ce[ue]=!0)}),B(Ce)}catch(xe){console.error("Error parsing or decrypting payload",xe)}};o.useEffect(()=>{pe()},[]);const pe=async()=>{M(!0),O("");try{const _=await ne.get("/Fs/Process/AllowanceAndEarnings/AllowanceBracketCodeSetUp");if(_.status===200&&_.data){const xe=_.data.map(ge=>({id:ge.id||"",code:ge.code||"",description:ge.description||""}));k(xe)}}catch(_){const xe=_.response?.data?.message||_.message||"Failed to load allowance bracket codes";O(xe),console.error("Error fetching allowance bracket codes:",_)}finally{M(!1)}};o.useEffect(()=>{const _=xe=>{xe.key==="Escape"&&t&&s(!1)};return t&&document.addEventListener("keydown",_),()=>{document.removeEventListener("keydown",_)}},[t]);const U=()=>{l(!1),d(null),S(null),p(""),y(""),j(""),s(!0)},Y=(_,xe)=>{l(!0),d(xe),S(_.id||null),p(_.code),y(""),j(_.description),s(!0)},W=async _=>{if((await ee.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete allowance bracket code ${_.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ne.delete(`/Fs/Process/AllowanceAndEarnings/AllowanceBracketCodeSetUp/${_.id}`),await ee.fire({icon:"success",title:"Success",text:"Allowance bracket code deleted successfully.",timer:2e3,showConfirmButton:!1}),await pe()}catch(ge){const Ne=ge.response?.data?.message||ge.message||"Failed to delete allowance bracket code";await ee.fire({icon:"error",title:"Error",text:Ne}),console.error("Error deleting allowance bracket code:",ge)}},re=_=>{p(_),_.length>10?y("Code maximum 10 characters"):y("")},G=async()=>{if(!N.trim()||N.length>10){await ee.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(P.some((xe,ge)=>n&&i===ge?!1:xe.code.toLowerCase()===N.trim().toLowerCase())){await ee.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}f(!0);try{const xe={id:n&&C?parseInt(C):0,code:N,description:g};n&&C?(await ne.put(`/Fs/Process/AllowanceAndEarnings/AllowanceBracketCodeSetUp/${xe.id}`,xe),await ee.fire({icon:"success",title:"Success",text:"Allowance bracket code updated successfully.",timer:2e3,showConfirmButton:!1}),await pe()):(await ne.post("/Fs/Process/AllowanceAndEarnings/AllowanceBracketCodeSetUp",xe),await ee.fire({icon:"success",title:"Success",text:"Allowance bracket code created successfully.",timer:2e3,showConfirmButton:!1}),await pe()),s(!1),p(""),y(""),j(""),S(null),l(!1),d(null)}catch(xe){const ge=xe.response?.data?.message||xe.message||"An error occurred";await ee.fire({icon:"error",title:"Error",text:ge}),console.error("Error submitting form:",xe)}finally{f(!1)}},R=P.filter(_=>_.code.toLowerCase().includes(a.toLowerCase())||_.description.toLowerCase().includes(a.toLowerCase())),F=Math.ceil(R.length/m),A=(x-1)*m,H=A+m,D=R.slice(A,H);return o.useEffect(()=>{h(1)},[a]),e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Allowance Bracket Code Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define and manage allowance bracket codes used for categorizing and organizing different types of employee allowances and benefits within the payroll system."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Bracket code creation and management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Allowance categorization"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Flexible bracket configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Integration with allowance bracketing"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[se("Add")&&se("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:U,children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),se("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:a,onChange:_=>r(_.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:E?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading allowance bracket codes..."})}):L?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:L})}):se("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Description"}),(se("View")||se("Delete"))&&e.jsx("th",{className:"px-6 py-3 text-center text-xs text-gray-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{children:D.map((_,xe)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 text-gray-900",children:_.code}),e.jsx("td",{className:"px-4 py-2 text-gray-600",children:_.description}),(se("Edit")||se("Delete"))&&e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[se("Edit")&&e.jsx("button",{onClick:()=>Y(_,xe),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),se("Edit")&&se("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),se("Delete")&&e.jsx("button",{onClick:()=>W(_),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},xe))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),se("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",R.length===0?0:A+1," to ",Math.min(H,R.length)," of ",R.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(_=>Math.max(_-1,1)),disabled:x===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:F},(_,xe)=>xe+1).map(_=>e.jsx("button",{onClick:()=>h(_),className:`px-3 py-1 rounded transition-colors ${x===_?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:_},_)),e.jsx("button",{onClick:()=>h(_=>Math.min(_+1,F)),disabled:x===F||F===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>s(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Allowance Bracket Code":"Create New Allowance Bracket Code"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Allowance Bracket Code Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:N,onChange:_=>re(_.target.value),maxLength:10,className:`flex-1 px-3 py-1.5 border rounded focus:outline-none focus:ring-2 text-sm ${v?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`})]}),v&&e.jsx("p",{className:"ml-32 text-red-500 text-xs mt-1",children:v}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:g,onChange:_=>j(_.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:G,disabled:b,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:b?"Saving...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),disabled:b,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]})]})]})}),e.jsx(Zt,{})]})}function hJ(){const[t,s]=o.useState(!1),[a,r]=o.useState(!1),[n,l]=o.useState(!1),[i,d]=o.useState(1),[x,h]=o.useState(""),[m,b]=o.useState(""),[f,N]=o.useState(""),[p,v]=o.useState("RegDay"),[y,g]=o.useState(!1),[j,C]=o.useState(!1),[S,P]=o.useState({noOfHours:"",amount:"",earningCode:""}),[k,E]=o.useState(null),[M,L]=o.useState(!1),[O,q]=o.useState([]),[B,se]=o.useState(!1),[le,pe]=o.useState(""),[U,Y]=o.useState([]),[W,re]=o.useState(!1),G=100,[R,F]=o.useState({}),A=He=>R[He]===!0;o.useEffect(()=>{H()},[]);const H=()=>{const He=localStorage.getItem("loginPayload");if(He)try{const ht=(JSON.parse(He).permissions||[]).filter(vt=>rs(vt.formName)==="AllowBracketing"),ut={};ht.forEach(vt=>{const ve=rs(vt.accessTypeName);ve&&(ut[ve]=!0)}),F(ut)}catch(Ue){console.error("Error parsing or decrypting payload",Ue)}};o.useEffect(()=>{D(),_()},[]);const D=async()=>{se(!0),pe("");try{const He=await ne.get("/Fs/Process/AllowanceAndEarnings/AllowanceBracketingSetUp");if(He.status===200&&He.data){const Ue=He.data.map(Ye=>({id:Ye.id?.toString()||"",dayType:Ye.dayType||"",noOfHrs:Ye.noOfHrs||0,earningCode:Ye.earningCode||"",amount:Ye.amount||0,code:Ye.code||"",workShiftCode:Ye.workShiftCode||"",byEmploymentStatFlag:Ye.byEmploymentStatFlag||!1,employmentStatus:Ye.employmentStatus||""}));q(Ue)}}catch(He){const Ue=He.response?.data?.message||He.message||"Failed to load allowance bracketing data";pe(Ue),console.error("Error fetching allowance bracketing data:",He)}finally{se(!1)}},_=async()=>{re(!0);try{const He=await ne.get("/Fs/Process/AllowanceAndEarnings/EarningsSetUp");if(He.status===200&&He.data){const Ue=He.data.map(Ye=>({id:Ye.earnID?.toString()||Ye.id||"",code:Ye.earnCode||Ye.code||"",description:Ye.earnDesc||Ye.description||""}));Y(Ue)}}catch(He){console.error("Error fetching earning codes:",He)}finally{re(!1)}},xe=U.filter(He=>He.code.toLowerCase().includes(x.toLowerCase())||He.description.toLowerCase().includes(x.toLowerCase())),ge=Math.ceil(O.length/G),Ne=(i-1)*G,Ce=O.slice(Ne,Ne+G),fe=10,[ue,Oe]=o.useState(1),De=Math.ceil(xe.length/fe),Ae=(ue-1)*fe,Ee=xe.slice(Ae,Ae+fe);o.useEffect(()=>{d(1)},[m,f]),o.useEffect(()=>{Oe(1)},[x]);const ze=()=>{P({noOfHours:"",amount:"",earningCode:""}),s(!0)},ot=He=>{E(He),P({noOfHours:He.noOfHrs.toString(),amount:He.amount.toString(),earningCode:He.earningCode}),r(!0)},wt=async He=>{if((await ee.fire({icon:"warning",title:"Confirm Delete",text:"Are you sure you want to delete this entry?",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ne.delete(`/Fs/Process/AllowanceAndEarnings/AllowanceBracketingSetUp/${He.id}`),await ee.fire({icon:"success",title:"Success",text:"Allowance bracketing entry deleted successfully.",timer:2e3,showConfirmButton:!1}),await D()}catch(Ye){const ht=Ye.response?.data?.message||Ye.message||"Failed to delete entry";await ee.fire({icon:"error",title:"Error",text:ht}),console.error("Error deleting entry:",Ye)}},Ie=async He=>{if(He.preventDefault(),!S.noOfHours||!S.amount||!S.earningCode){await ee.fire({icon:"warning",title:"Validation Error",text:"Please fill in all required fields."});return}L(!0);try{const Ue={id:0,dayType:p,noOfHrs:parseFloat(S.noOfHours),earningCode:S.earningCode,amount:parseFloat(S.amount),code:m,workShiftCode:f,byEmploymentStatFlag:j,employmentStatus:""};await ne.post("/Fs/Process/AllowanceAndEarnings/AllowanceBracketingSetUp",Ue),await ee.fire({icon:"success",title:"Success",text:"Allowance bracketing entry created successfully.",timer:2e3,showConfirmButton:!1}),await D(),s(!1),P({noOfHours:"",amount:"",earningCode:""})}catch(Ue){const Ye=Ue.response?.data?.message||Ue.message||"An error occurred";await ee.fire({icon:"error",title:"Error",text:Ye}),console.error("Error creating entry:",Ue)}finally{L(!1)}},ye=async He=>{if(He.preventDefault(),!!k){if(!S.noOfHours||!S.amount||!S.earningCode){await ee.fire({icon:"warning",title:"Validation Error",text:"Please fill in all required fields."});return}L(!0);try{const Ue={id:parseInt(k.id),dayType:k.dayType,noOfHrs:parseFloat(S.noOfHours),earningCode:S.earningCode,amount:parseFloat(S.amount),code:k.code,workShiftCode:k.workShiftCode,byEmploymentStatFlag:k.byEmploymentStatFlag,employmentStatus:k.employmentStatus};await ne.put(`/Fs/Process/AllowanceAndEarnings/AllowanceBracketingSetUp/${k.id}`,Ue),await ee.fire({icon:"success",title:"Success",text:"Allowance bracketing entry updated successfully.",timer:2e3,showConfirmButton:!1}),await D(),r(!1),E(null),P({noOfHours:"",amount:"",earningCode:""})}catch(Ue){const Ye=Ue.response?.data?.message||Ue.message||"An error occurred";await ee.fire({icon:"error",title:"Error",text:Ye}),console.error("Error updating entry:",Ue)}finally{L(!1)}}},be=()=>{s(!1),r(!1),E(null),P({noOfHours:"",amount:"",earningCode:""})},Me=()=>{h(""),l(!0)},Re=He=>{P({...S,earningCode:He}),l(!1),h("")};o.useEffect(()=>{const He=Ue=>{if(Ue.key==="Escape"){if(t||a){Ue.preventDefault(),Ue.stopPropagation(),t?(s(!1),P({noOfHours:"",amount:"",earningCode:""})):a&&(r(!1),E(null),P({noOfHours:"",amount:"",earningCode:""}));return}if(n){Ue.preventDefault(),l(!1),h("");return}}};return(t||a||n)&&document.addEventListener("keydown",He,!0),()=>{document.removeEventListener("keydown",He,!0)}},[t,a,n]);const st=[{value:"RegDay",label:"Regular Day"},{value:"SpecHol",label:"Special Holiday"},{value:"RegHol",label:"Regular Holiday"},{value:"RestDay",label:"Rest Day"}];return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Allowance Bracketing Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure allowance bracketing rules based on hours worked or other criteria, linking bracket codes with specific earning codes and amounts for automated payroll calculations."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Hours-based allowance rules"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Earning code integration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Flexible amount configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Automated allowance processing"})]})]})]})]})}),e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[A("Add")&&A("View")&&e.jsxs("button",{onClick:ze,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),A("View")&&e.jsxs(e.Fragment,{children:[e.jsx("select",{value:p,onChange:He=>v(He.target.value),className:"px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-white",children:st.map(He=>e.jsx("option",{value:He.value,children:He.label},He.value))}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:y,onChange:He=>g(He.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Include Within The Shift"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:j,onChange:He=>C(He.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"By Employment Status"})]})]})]}),A("View")&&e.jsxs("div",{className:"flex items-center gap-4 mb-6 bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 relative",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"Allowance Bracket Code :"}),e.jsx("input",{type:"text",value:m,onChange:He=>b(He.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("button",{onClick:D,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:"Search"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"Workshift Code :"}),e.jsx("input",{type:"text",value:f,onChange:He=>N(He.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("button",{onClick:D,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:"Search"})]})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:B?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading allowance bracketing data..."})}):le?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:le})}):A("View")?e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"No of Hours [hh.mm]"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Earning Code"}),(A("Edit")||A("Delete"))&&e.jsx("th",{className:"px-6 py-3 text-center text-xs text-gray-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Ce.length>0?Ce.map(He=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:He.noOfHrs}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:He.amount}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:He.earningCode}),(A("Edit")||A("Delete"))&&e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[A("Edit")&&e.jsx("button",{onClick:()=>ot(He),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),A("Edit")&&A("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),A("Delete")&&e.jsx("button",{onClick:()=>wt(He),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},He.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),A("View")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",O.length>0?Ne+1:0," to ",Math.min(Ne+G,O.length)," of ",O.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>d(He=>Math.max(1,He-1)),disabled:i===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:ge},(He,Ue)=>Ue+1).map(He=>e.jsx("button",{onClick:()=>d(He),className:`px-3 py-1 rounded transition-colors ${i===He?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:He},He)),e.jsx("button",{onClick:()=>d(He=>Math.min(ge||1,He+1)),disabled:i>=ge||O.length===0,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})]})}),n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg",children:[e.jsx("h2",{className:"text-gray-900",children:"Search Earning Code"}),e.jsx("button",{onClick:()=>{l(!1),h("")},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Earnings Code"}),e.jsxs("div",{className:"flex items-center justify-end gap-2 mb-4",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:x,onChange:He=>h(He.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:W?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading earning codes..."})}):e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Ee.map(He=>e.jsxs("tr",{className:"hover:bg-blue-50 cursor-pointer",onClick:()=>Re(He.code),children:[e.jsx("td",{className:"px-6 py-3 text-sm text-gray-900",children:He.code}),e.jsx("td",{className:"px-6 py-3 text-sm text-gray-600",children:He.description})]},He.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",xe.length>0?Ae+1:0," to ",Math.min(Ae+fe,xe.length)," of ",xe.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Oe(He=>Math.max(He-1,1)),disabled:ue===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:De},(He,Ue)=>Ue+1).map(He=>e.jsx("button",{onClick:()=>Oe(He),className:`px-3 py-1 rounded ${ue===He?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:He},He)),e.jsx("button",{onClick:()=>Oe(He=>Math.min(He+1,De)),disabled:ue>=De||xe.length===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60] p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-900",children:"Create New"}),e.jsx("button",{onClick:be,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:Ie,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Allowance Bracketing Setup"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-32",children:"No of Hours :"}),e.jsx("input",{type:"number",step:"0.01",value:S.noOfHours,onChange:He=>P({...S,noOfHours:He.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-32",children:"Amount :"}),e.jsx("input",{type:"number",step:"0.01",value:S.amount,onChange:He=>P({...S,amount:He.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"40",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-32",children:"Earning Code :"}),e.jsx("input",{type:"text",value:S.earningCode,readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 cursor-pointer",placeholder:"Click Search to select"}),e.jsx("button",{type:"button",onClick:Me,className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{type:"submit",disabled:M,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:M?"Saving...":"Submit"}),e.jsx("button",{type:"button",onClick:be,disabled:M,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),a&&k&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60] p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-900",children:"Edit"}),e.jsx("button",{onClick:be,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:ye,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Allowance Bracketing Setup"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-32",children:"No of Hours :"}),e.jsx("input",{type:"number",step:"0.01",value:S.noOfHours,onChange:He=>P({...S,noOfHours:He.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-32",children:"Amount :"}),e.jsx("input",{type:"number",step:"0.01",value:S.amount,onChange:He=>P({...S,amount:He.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-32",children:"Earning Code :"}),e.jsx("input",{type:"text",value:S.earningCode,readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 cursor-pointer"}),e.jsx("button",{type:"button",onClick:Me,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Search"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{type:"submit",disabled:M,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:M?"Updating...":"Update"}),e.jsx("button",{type:"button",onClick:be,disabled:M,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),e.jsx(Zt,{})]})}const im="/Fs/Process/AllowanceAndEarnings/AllowancePerClassificationSetUp";function mJ(){const[t,s]=o.useState(""),[a,r]=o.useState(!1),[n,l]=o.useState(!1),[i,d]=o.useState(!1),[x,h]=o.useState(!1),[m,b]=o.useState(!1),[f,N]=o.useState(!1),[p,v]=o.useState(1),[y,g]=o.useState(null),[j,C]=o.useState(null),[S,P]=o.useState(""),[k,E]=o.useState(""),[M,L]=o.useState(""),[O,q]=o.useState(!1),[B,se]=o.useState(null),[le,pe]=o.useState({refNo:"",allowanceCode:"",workShiftCode:"",classificationCode:"",minHrsRegDay:0,minAmtRegDay:0,maxHrsRegDay:0,maxAmtRegDay:0,minHrsRestDay:0,minAmtRestDay:0,maxHrsRestDay:0,maxAmtRestDay:0,minHrsHoliday:0,minAmtHoliday:0,maxHrsHoliday:0,maxAmtHoliday:0,minHrsHolidayRestDay:0,minAmountHolidayRestDay:0,maxHrsHolidayRestDay:0,maxAmountHolidayRestDay:0}),[U,Y]=o.useState([]),[W,re]=o.useState([]),[G,R]=o.useState([]),[F,A]=o.useState([]);o.useEffect(()=>{H(),D(),_(),xe()},[]);const H=async()=>{try{q(!0),se(null);const Ue=await ne.get(im);Ue.status===200&&Ue.data&&Y(Ue.data)}catch(Ue){se(Ue.message||"Failed to fetch data"),console.error("Error fetching allowance per classification:",Ue)}finally{q(!1)}},D=async()=>{try{const Ue=await ne.get("/Fs/Process/AllowanceAndEarnings/EarningsSetUp");if(Ue.status===200&&Ue.data){const Ye=Ue.data.map(ht=>({id:ht.earnID?.toString()||ht.id||"",code:ht.earnCode||ht.code||"",description:ht.earnDesc||ht.description||"",earnType:ht.earnType||"",sysId:ht.sysId||""}));re(Ye)}}catch(Ue){console.error("Error fetching earning codes:",Ue)}},_=async()=>{try{const Ue=await ne.get("/Fs/Process/AllowanceAndEarnings/WorkshiftSetUp");if(Ue.status===200&&Ue.data){const Ye=Ue.data.map(ht=>({code:ht.workShiftCode||ht.code||"",description:ht.workShiftDesc||ht.description||""}));R(Ye)}}catch(Ue){console.error("Error fetching workshift codes:",Ue)}},xe=async()=>{try{const Ue=await ne.get("/Fs/Process/AllowanceAndEarnings/ClassificationSetUp");if(Ue.status===200&&Ue.data){const Ye=Ue.data.map(ht=>({id:ht.classId||"",code:ht.classCode||"",description:ht.classDesc||""}));A(Ye)}}catch(Ue){console.error("Error fetching classification codes:",Ue)}},ge=U.filter(Ue=>Ue.refNo.toLowerCase().includes(t.toLowerCase())||Ue.allowanceCode.toLowerCase().includes(t.toLowerCase())||Ue.workShiftCode.toLowerCase().includes(t.toLowerCase())||Ue.classificationCode&&Ue.classificationCode.toLowerCase().includes(t.toLowerCase())),Ne=10,Ce=Math.ceil(ge.length/Ne),fe=(p-1)*Ne,ue=ge.slice(fe,fe+Ne),Oe=W.filter(Ue=>Ue.code.toLowerCase().includes(S.toLowerCase())||Ue.description.toLowerCase().includes(S.toLowerCase())),De=G.filter(Ue=>Ue.code.toLowerCase().includes(k.toLowerCase())||Ue.description.toLowerCase().includes(k.toLowerCase())),Ae=F.filter(Ue=>Ue.code.toLowerCase().includes(M.toLowerCase())||Ue.description.toLowerCase().includes(M.toLowerCase())),Ee=()=>{pe({refNo:"",allowanceCode:"",workShiftCode:"",classificationCode:"",minHrsRegDay:0,minAmtRegDay:0,maxHrsRegDay:0,maxAmtRegDay:0,minHrsRestDay:0,minAmtRestDay:0,maxHrsRestDay:0,maxAmtRestDay:0,minHrsHoliday:0,minAmtHoliday:0,maxHrsHoliday:0,maxAmtHoliday:0,minHrsHolidayRestDay:0,minAmountHolidayRestDay:0,maxHrsHolidayRestDay:0,maxAmountHolidayRestDay:0}),r(!0)},ze=Ue=>{g(Ue),pe({refNo:Ue.refNo,allowanceCode:Ue.allowanceCode,workShiftCode:Ue.workShiftCode,classificationCode:Ue.classificationCode||"",minHrsRegDay:Ue.minHrsRegDay,minAmtRegDay:Ue.minAmtRegDay,maxHrsRegDay:Ue.maxHrsRegDay,maxAmtRegDay:Ue.maxAmtRegDay,minHrsRestDay:Ue.minHrsRestDay,minAmtRestDay:Ue.minAmtRestDay,maxHrsRestDay:Ue.maxHrsRestDay,maxAmtRestDay:Ue.maxAmtRestDay,minHrsHoliday:Ue.minHrsHoliday,minAmtHoliday:Ue.minAmtHoliday,maxHrsHoliday:Ue.maxHrsHoliday,maxAmtHoliday:Ue.maxAmtHoliday,minHrsHolidayRestDay:Ue.minHrsHolidayRestDay,minAmountHolidayRestDay:Ue.minAmountHolidayRestDay,maxHrsHolidayRestDay:Ue.maxHrsHolidayRestDay,maxAmountHolidayRestDay:Ue.maxAmountHolidayRestDay}),l(!0)},ot=Ue=>{C(Ue),d(!0)},wt=async Ue=>{if(confirm("Are you sure you want to delete this entry?"))try{q(!0);const Ye=await ne.delete(`${im}/${Ue}`);(Ye.status===200||Ye.status===204)&&(await H(),alert("Entry deleted successfully"))}catch(Ye){se(Ye.message||"Failed to delete entry"),alert("Failed to delete entry")}finally{q(!1)}},Ie=async Ue=>{Ue.preventDefault();try{q(!0);const Ye={...le,classificationCode:le.classificationCode||null},ht=await ne.post(im,Ye);(ht.status===200||ht.status===201)&&(await H(),r(!1),alert("Entry created successfully"))}catch(Ye){se(Ye.message||"Failed to create entry"),alert("Failed to create entry")}finally{q(!1)}},ye=async Ue=>{if(Ue.preventDefault(),y)try{q(!0);const Ye={...le,classificationCode:le.classificationCode||null};(await ne.put(`${im}/${y.id}`,Ye)).status===200&&(await H(),l(!1),g(null),alert("Entry updated successfully"))}catch(Ye){se(Ye.message||"Failed to update entry"),alert("Failed to update entry")}finally{q(!1)}},be=()=>{r(!1),l(!1),d(!1),h(!1),b(!1),N(!1),g(null),C(null)};o.useEffect(()=>{const Ue=Ye=>{Ye.key==="Escape"&&(x?h(!1):m?b(!1):f?N(!1):a?r(!1):n?(l(!1),g(null)):i&&(d(!1),C(null)))};return(a||n||i||x||m||f)&&document.addEventListener("keydown",Ue),()=>{document.removeEventListener("keydown",Ue)}},[a,n,i,x,m,f]);const[Me,Re]=o.useState({}),st=Ue=>Me[Ue]===!0;o.useEffect(()=>{He()},[]);const He=()=>{const Ue=localStorage.getItem("loginPayload");if(Ue)try{const ut=(JSON.parse(Ue).permissions||[]).filter(ve=>rs(ve.formName)==="AllowancePerClassificationSetUp"),vt={};ut.forEach(ve=>{const Le=rs(ve.accessTypeName);Le&&(vt[Le]=!0)}),Re(vt)}catch(Ye){console.error("Error parsing or decrypting payload",Ye)}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white text-2xl font-bold",children:"Allowance Per Classification Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[B&&e.jsx("div",{className:"mb-4 bg-red-50 border-l-4 border-red-500 p-4 rounded",children:e.jsx("p",{className:"text-red-700",children:B})}),e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Set up classification-based allowance rules with flexible amounts and earning codes, enabling tailored compensation structures for different employee classifications."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Classification-specific allowances"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Customizable earning codes"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Flexible amount configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Multi-classification support"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4 flex-wrap",children:[st("Add")&&st("View")&&e.jsxs("button",{onClick:Ee,disabled:O,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50",children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),st("View")&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:t,onChange:Ue=>s(Ue.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:st("View")?e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Reference Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Allowance Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Workshift Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Classification Code"}),(st("Edit")||st("Delete"))&&e.jsx("th",{className:"px-6 py-3 text-center text-xs text-gray-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:O?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"Loading..."})})}):ue.length>0?ue.map(Ue=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:Ue.refNo}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Ue.allowanceCode}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Ue.workShiftCode}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Ue.classificationCode||"-"}),(st("Edit")||st("Delete"))&&e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>ot(Ue),className:"p-1 text-green-600 hover:bg-green-100 rounded transition-colors",children:e.jsx(qp,{className:"w-4 h-4"})}),st("Edit")&&e.jsx("span",{className:"text-gray-300",children:"|"}),st("Edit")&&e.jsx("button",{onClick:()=>ze(Ue),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),st("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),st("Delete")&&e.jsx("button",{onClick:()=>wt(Ue.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",disabled:O,children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},Ue.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),st("View")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",fe+1," to ",Math.min(fe+Ne,ge.length)," of ",ge.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>v(Ue=>Math.max(1,Ue-1)),disabled:p===1,className:"px-4 py-2 text-blue-600 hover:text-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-500 text-white rounded",children:p}),e.jsx("button",{onClick:()=>v(Ue=>Math.min(Ce||1,Ue+1)),disabled:p>=Ce||ge.length===0,className:"px-4 py-2 text-blue-600 hover:text-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Next"})]})]})]})]})}),a&&e.jsx(B2,{title:"Create New",formData:le,setFormData:pe,onSubmit:Ie,onClose:be,loading:O,setShowAllowanceCodeModal:h,setShowWorkshiftCodeModal:b,setShowClassificationCodeModal:N,submitButtonText:"Submit"}),n&&y&&e.jsx(B2,{title:"Edit",formData:le,setFormData:pe,onSubmit:ye,onClose:be,loading:O,setShowAllowanceCodeModal:h,setShowWorkshiftCodeModal:b,setShowClassificationCodeModal:N,submitButtonText:"Update"}),i&&j&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[50vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-900 font-semibold",children:"Details"}),e.jsx("button",{onClick:be,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4 font-semibold",children:"Allowance Per Classification Details"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Reference Code : "}),e.jsx("span",{className:"text-gray-900",children:j.refNo})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Allowance Code : "}),e.jsx("span",{className:"text-gray-900",children:j.allowanceCode})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Workshift Code : "}),e.jsx("span",{className:"text-gray-900",children:j.workShiftCode})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Classification : "}),e.jsx("span",{className:"text-gray-900",children:j.classificationCode||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Min. Hours for Regular Day : "}),e.jsx("span",{className:"text-gray-900",children:j.minHrsRegDay})," ",e.jsx("span",{className:"text-gray-700 font-medium",children:"Amount: "}),e.jsx("span",{className:"text-gray-900",children:j.minAmtRegDay})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Max. Hours for Regular Day : "}),e.jsx("span",{className:"text-gray-900",children:j.maxHrsRegDay})," ",e.jsx("span",{className:"text-gray-700 font-medium",children:"Amount: "}),e.jsx("span",{className:"text-gray-900",children:j.maxAmtRegDay})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Min. Hours for Rest Day : "}),e.jsx("span",{className:"text-gray-900",children:j.minHrsRestDay})," ",e.jsx("span",{className:"text-gray-700 font-medium",children:"Amount: "}),e.jsx("span",{className:"text-gray-900",children:j.minAmtRestDay})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Max. Hours for Rest Day : "}),e.jsx("span",{className:"text-gray-900",children:j.maxHrsRestDay})," ",e.jsx("span",{className:"text-gray-700 font-medium",children:"Amount: "}),e.jsx("span",{className:"text-gray-900",children:j.maxAmtRestDay})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Min. Hours for Holiday : "}),e.jsx("span",{className:"text-gray-900",children:j.minHrsHoliday})," ",e.jsx("span",{className:"text-gray-700 font-medium",children:"Amount: "}),e.jsx("span",{className:"text-gray-900",children:j.minAmtHoliday})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Max. Hours for Holiday : "}),e.jsx("span",{className:"text-gray-900",children:j.maxHrsHoliday})," ",e.jsx("span",{className:"text-gray-700 font-medium",children:"Amount: "}),e.jsx("span",{className:"text-gray-900",children:j.maxAmtHoliday})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Min. Hours for Holiday and Restday : "}),e.jsx("span",{className:"text-gray-900",children:j.minHrsHolidayRestDay})," ",e.jsx("span",{className:"text-gray-700 font-medium",children:"Amount: "}),e.jsx("span",{className:"text-gray-900",children:j.minAmountHolidayRestDay})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Max. Hours for Holiday and Restday : "}),e.jsx("span",{className:"text-gray-900",children:j.maxHrsHolidayRestDay})," ",e.jsx("span",{className:"text-gray-700 font-medium",children:"Amount: "}),e.jsx("span",{className:"text-gray-900",children:j.maxAmountHolidayRestDay})]})]})]})]})}),x&&e.jsx(yy,{title:"Earnings Code",searchTerm:S,setSearchTerm:P,data:Oe,onSelect:Ue=>{pe({...le,allowanceCode:Ue}),h(!1),P("")},onClose:()=>h(!1)}),m&&e.jsx(yy,{title:"Workshift Code",searchTerm:k,setSearchTerm:E,data:De,onSelect:Ue=>{pe({...le,workShiftCode:Ue}),b(!1),E("")},onClose:()=>b(!1)}),f&&e.jsx(yy,{title:"Classification Code",searchTerm:M,setSearchTerm:L,data:Ae,onSelect:Ue=>{pe({...le,classificationCode:Ue}),N(!1),L("")},onClose:()=>N(!1)}),e.jsx(Zt,{})]})}function B2({title:t,formData:s,setFormData:a,onSubmit:r,onClose:n,loading:l,setShowAllowanceCodeModal:i,setShowWorkshiftCodeModal:d,setShowClassificationCodeModal:x,submitButtonText:h}){return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[75vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl flex-shrink-0",children:[e.jsx("h2",{className:"text-gray-800 font-semibold",children:t}),e.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"overflow-y-auto flex-1",children:e.jsxs("form",{onSubmit:r,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4 font-semibold",children:"Allowance Per Classification"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Reference Code :"}),e.jsx("input",{type:"text",value:s.refNo,onChange:m=>a({...s,refNo:m.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Allowance Code :"}),e.jsx("input",{type:"text",value:s.allowanceCode,onChange:m=>a({...s,allowanceCode:m.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0}),e.jsx("button",{type:"button",onClick:()=>i(!0),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>a({...s,allowanceCode:""}),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Workshift Code :"}),e.jsx("input",{type:"text",value:s.workShiftCode,onChange:m=>a({...s,workShiftCode:m.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0}),e.jsx("button",{type:"button",onClick:()=>d(!0),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>a({...s,workShiftCode:""}),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Classification :"}),e.jsx("input",{type:"text",value:s.classificationCode,onChange:m=>a({...s,classificationCode:m.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("button",{type:"button",onClick:()=>x(!0),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>a({...s,classificationCode:""}),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Min. Hours for Regular Day :"}),e.jsx("input",{type:"number",step:"0.01",value:s.minHrsRegDay,onChange:m=>a({...s,minHrsRegDay:parseFloat(m.target.value)||0}),className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:"Amount :"}),e.jsx("input",{type:"number",step:"0.01",value:s.minAmtRegDay,onChange:m=>a({...s,minAmtRegDay:parseFloat(m.target.value)||0}),className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Max. Hours for Regular Day :"}),e.jsx("input",{type:"number",step:"0.01",value:s.maxHrsRegDay,onChange:m=>a({...s,maxHrsRegDay:parseFloat(m.target.value)||0}),className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:"Amount :"}),e.jsx("input",{type:"number",step:"0.01",value:s.maxAmtRegDay,onChange:m=>a({...s,maxAmtRegDay:parseFloat(m.target.value)||0}),className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Min. Hours for Rest Day :"}),e.jsx("input",{type:"number",step:"0.01",value:s.minHrsRestDay,onChange:m=>a({...s,minHrsRestDay:parseFloat(m.target.value)||0}),className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:"Amount :"}),e.jsx("input",{type:"number",step:"0.01",value:s.minAmtRestDay,onChange:m=>a({...s,minAmtRestDay:parseFloat(m.target.value)||0}),className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Max. Hours for Rest Day :"}),e.jsx("input",{type:"number",step:"0.01",value:s.maxHrsRestDay,onChange:m=>a({...s,maxHrsRestDay:parseFloat(m.target.value)||0}),className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:"Amount :"}),e.jsx("input",{type:"number",step:"0.01",value:s.maxAmtRestDay,onChange:m=>a({...s,maxAmtRestDay:parseFloat(m.target.value)||0}),className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Min. Hours for Holiday :"}),e.jsx("input",{type:"number",step:"0.01",value:s.minHrsHoliday,onChange:m=>a({...s,minHrsHoliday:parseFloat(m.target.value)||0}),className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:"Amount :"}),e.jsx("input",{type:"number",step:"0.01",value:s.minAmtHoliday,onChange:m=>a({...s,minAmtHoliday:parseFloat(m.target.value)||0}),className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Max. Hours for Holiday :"}),e.jsx("input",{type:"number",step:"0.01",value:s.maxHrsHoliday,onChange:m=>a({...s,maxHrsHoliday:parseFloat(m.target.value)||0}),className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:"Amount :"}),e.jsx("input",{type:"number",step:"0.01",value:s.maxAmtHoliday,onChange:m=>a({...s,maxAmtHoliday:parseFloat(m.target.value)||0}),className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Min. Hours for Holiday and Restday :"}),e.jsx("input",{type:"number",step:"0.01",value:s.minHrsHolidayRestDay,onChange:m=>a({...s,minHrsHolidayRestDay:parseFloat(m.target.value)||0}),className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:"Amount :"}),e.jsx("input",{type:"number",step:"0.01",value:s.minAmountHolidayRestDay,onChange:m=>a({...s,minAmountHolidayRestDay:parseFloat(m.target.value)||0}),className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Max. Hours for Holiday and Restday :"}),e.jsx("input",{type:"number",step:"0.01",value:s.maxHrsHolidayRestDay,onChange:m=>a({...s,maxHrsHolidayRestDay:parseFloat(m.target.value)||0}),className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:"Amount :"}),e.jsx("input",{type:"number",step:"0.01",value:s.maxAmountHolidayRestDay,onChange:m=>a({...s,maxAmountHolidayRestDay:parseFloat(m.target.value)||0}),className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{type:"submit",disabled:l,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm disabled:opacity-50",children:h}),e.jsx("button",{type:"button",onClick:n,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})})]})})}function yy({title:t,searchTerm:s,setSearchTerm:a,data:r,onSelect:n,onClose:l,style:i}){return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{style:i,className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800 text-sm font-semibold",children:"Search"}),e.jsx("button",{onClick:l,className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm font-semibold",children:t}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:"Search:"}),e.jsx("input",{type:"text",value:s,onChange:d=>a(d.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Type to filter..."})]}),e.jsx("div",{className:"border border-gray-200 rounded overflow-hidden",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white z-10",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm font-semibold",children:"Code"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm font-semibold",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:r.length>0?r.map(d=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>n(d.code),children:[e.jsx("td",{className:"px-3 py-1.5 text-gray-900 font-medium",children:d.code}),e.jsx("td",{className:"px-3 py-1.5 text-gray-600",children:d.description})]},d.id||d.code)):e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-3 py-8 text-center text-gray-500 italic",children:"No entries found"})})})]})})]})]})})}function pJ(){const[t,s]=o.useState(""),[a,r]=o.useState(!1),[n,l]=o.useState(!1),[i,d]=o.useState(1),[x,h]=o.useState({code:"",description:""}),[m,b]=o.useState(null),[f,N]=o.useState(!1),[p,v]=o.useState(""),[y,g]=o.useState([]),[j,C]=o.useState(!1),[S,P]=o.useState(""),k=100,[E,M]=o.useState({}),L=A=>E[A]===!0;o.useEffect(()=>{O()},[]);const O=()=>{const A=localStorage.getItem("loginPayload");if(A)try{const _=(JSON.parse(A).permissions||[]).filter(ge=>rs(ge.formName)==="ClassificationSetUp"),xe={};_.forEach(ge=>{const Ne=rs(ge.accessTypeName);Ne&&(xe[Ne]=!0)}),M(xe)}catch(H){console.error("Error parsing or decrypting payload",H)}};o.useEffect(()=>{q()},[]);const q=async()=>{C(!0),P("");try{const A=await ne.get("/Fs/Process/AllowanceAndEarnings/ClassificationSetUp");if(A.status===200&&A.data){const H=A.data.map(D=>({id:D.classId||"",code:D.classCode||"",description:D.classDesc||""}));g(H)}}catch(A){const H=A.response?.data?.message||A.message||"Failed to load classifications";P(H),console.error("Error fetching classifications:",A)}finally{C(!1)}},B=y.filter(A=>A.code.toLowerCase().includes(t.toLowerCase())||A.description.toLowerCase().includes(t.toLowerCase())),se=Math.ceil(B.length/k),le=(i-1)*k,pe=B.slice(le,le+k);o.useEffect(()=>{d(1)},[t]);const U=()=>{h({code:"",description:""}),v(""),r(!0)},Y=A=>{b(A),h({code:A.code,description:A.description}),v(""),l(!0)},W=async A=>{if((await ee.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete classification ${A.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ne.delete(`/Fs/Process/AllowanceAndEarnings/ClassificationSetUp/${A.id}`),await ee.fire({icon:"success",title:"Success",text:"Classification deleted successfully.",timer:2e3,showConfirmButton:!1}),await q()}catch(D){const _=D.response?.data?.message||D.message||"Failed to delete classification";await ee.fire({icon:"error",title:"Error",text:_}),console.error("Error deleting classification:",D)}},re=A=>{h({...x,code:A}),A.length>10?v("Code maximum 10 characters"):v("")},G=async A=>{if(A.preventDefault(),!x.code.trim()||x.code.length>10){await ee.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(y.some(D=>D.code.toLowerCase()===x.code.trim().toLowerCase())){await ee.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}N(!0);try{const D={classId:0,classCode:x.code,classDesc:x.description};await ne.post("/Fs/Process/AllowanceAndEarnings/ClassificationSetUp",D),await ee.fire({icon:"success",title:"Success",text:"Classification created successfully.",timer:2e3,showConfirmButton:!1}),await q(),r(!1),h({code:"",description:""}),v("")}catch(D){const _=D.response?.data?.message||D.message||"An error occurred";await ee.fire({icon:"error",title:"Error",text:_}),console.error("Error creating classification:",D)}finally{N(!1)}},R=async A=>{if(A.preventDefault(),!m)return;if(!x.code.trim()||x.code.length>10){await ee.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(y.some(D=>D.id!==m.id&&D.code.toLowerCase()===x.code.trim().toLowerCase())){await ee.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}N(!0);try{const D={classId:parseInt(m.id),classCode:x.code,classDesc:x.description};await ne.put(`/Fs/Process/AllowanceAndEarnings/ClassificationSetUp/${m.id}`,D),await ee.fire({icon:"success",title:"Success",text:"Classification updated successfully.",timer:2e3,showConfirmButton:!1}),await q(),l(!1),b(null),h({code:"",description:""}),v("")}catch(D){const _=D.response?.data?.message||D.message||"An error occurred";await ee.fire({icon:"error",title:"Error",text:_}),console.error("Error updating classification:",D)}finally{N(!1)}},F=()=>{r(!1),l(!1),b(null),h({code:"",description:""}),v("")};return o.useEffect(()=>{const A=H=>{H.key==="Escape"&&(a?r(!1):n&&(l(!1),b(null)))};return(a||n)&&document.addEventListener("keydown",A),()=>{document.removeEventListener("keydown",A)}},[a,n]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Classification Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define and manage employee classification categories for organizing and categorizing employees based on job types, employment status, or other organizational criteria."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Custom classification codes"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Flexible categorization structure"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Employee grouping support"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Payroll integration ready"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4 flex-wrap",children:[L("Add")&&L("View")&&e.jsxs("button",{onClick:U,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),L("View")&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:t,onChange:A=>s(A.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:j?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading classifications..."})}):S?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:S})}):L("View")?e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs text-gray-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:pe.length>0?pe.map(A=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:A.code}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:A.description}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[L("Edit")&&e.jsx("button",{onClick:()=>Y(A),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),L("Edit")&&L("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),L("Delete")&&e.jsx("button",{onClick:()=>W(A),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},A.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),L("View")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",B.length>0?le+1:0," to ",Math.min(le+k,B.length)," of ",B.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>d(A=>Math.max(1,A-1)),disabled:i===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:se},(A,H)=>H+1).map(A=>e.jsx("button",{onClick:()=>d(A),className:`px-3 py-1 rounded transition-colors ${i===A?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:A},A)),e.jsx("button",{onClick:()=>d(A=>Math.min(se||1,A+1)),disabled:i>=se||B.length===0,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})]})}),a&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-2xl",children:[e.jsx("h2",{className:"text-gray-900",children:"Create New Classification"}),e.jsx("button",{onClick:F,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:G,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-6",children:"Classification Setup"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Code :"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"text",value:x.code,onChange:A=>re(A.target.value),maxLength:10,className:`w-full px-4 py-2.5 border rounded-lg focus:outline-none focus:ring-2 ${p?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`,required:!0}),p&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:p})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Description :"}),e.jsx("input",{type:"text",value:x.description,onChange:A=>h({...x,description:A.target.value}),className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:f,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:f?"Saving...":"Submit"}),e.jsx("button",{type:"button",onClick:F,disabled:f,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),n&&m&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-2xl",children:[e.jsx("h2",{className:"text-gray-900",children:"Edit Classification"}),e.jsx("button",{onClick:F,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:R,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-6",children:"Classification Setup"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Code :"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"text",value:x.code,onChange:A=>re(A.target.value),maxLength:10,className:`w-full px-4 py-2.5 border rounded-lg focus:outline-none focus:ring-2 ${p?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`,required:!0}),p&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:p})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Description :"}),e.jsx("input",{type:"text",value:x.description,onChange:A=>h({...x,description:A.target.value}),className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:f,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:f?"Updating...":"Update"}),e.jsx("button",{type:"button",onClick:F,disabled:f,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),e.jsx(Zt,{})]})}function fJ(){const[t,s]=o.useState(""),[a,r]=o.useState(!1),[n,l]=o.useState(!1),[i,d]=o.useState(1),[x,h]=o.useState({code:"",description:""}),[m,b]=o.useState(null),[f,N]=o.useState(!1),[p,v]=o.useState(""),[y,g]=o.useState([]),[j,C]=o.useState(!1),[S,P]=o.useState(""),k=100,[E,M]=o.useState({}),L=A=>E[A]===!0;o.useEffect(()=>{O()},[]);const O=()=>{const A=localStorage.getItem("loginPayload");if(A)try{const _=(JSON.parse(A).permissions||[]).filter(ge=>rs(ge.formName)==="EarningSetUp"),xe={};_.forEach(ge=>{const Ne=rs(ge.accessTypeName);Ne&&(xe[Ne]=!0)}),M(xe)}catch(H){console.error("Error parsing or decrypting payload",H)}};o.useEffect(()=>{q()},[]);const q=async()=>{C(!0),P("");try{const A=await ne.get("/Fs/Process/AllowanceAndEarnings/EarningsSetUp");if(A.status===200&&A.data){const H=A.data.map(D=>({id:D.earnID?.toString()||D.id||"",code:D.earnCode||D.code||"",description:D.earnDesc||D.description||"",earnType:D.earnType||"",sysId:D.sysId||""}));g(H)}}catch(A){const H=A.response?.data?.message||A.message||"Failed to load earnings";P(H),console.error("Error fetching earnings:",A)}finally{C(!1)}},B=y.filter(A=>A.code.toLowerCase().includes(t.toLowerCase())||A.description.toLowerCase().includes(t.toLowerCase())),se=Math.ceil(B.length/k),le=(i-1)*k,pe=B.slice(le,le+k);o.useEffect(()=>{d(1)},[t]);const U=()=>{h({code:"",description:""}),v(""),r(!0)},Y=A=>{b(A),h({code:A.code,description:A.description}),v(""),l(!0)},W=async A=>{if((await ee.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete earning ${A.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ne.delete(`/Fs/Process/AllowanceAndEarnings/EarningsSetUp/${A.id}`),await ee.fire({icon:"success",title:"Success",text:"Earning deleted successfully.",timer:2e3,showConfirmButton:!1}),await q()}catch(D){const _=D.response?.data?.message||D.message||"Failed to delete earning";await ee.fire({icon:"error",title:"Error",text:_}),console.error("Error deleting earning:",D)}},re=A=>{h({...x,code:A}),A.length>10?v("Code maximum 10 characters"):v("")},G=async A=>{if(A.preventDefault(),!x.code.trim()||x.code.length>10){await ee.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(y.some(D=>D.code.toLowerCase()===x.code.trim().toLowerCase())){await ee.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}N(!0);try{const D={earnID:0,earnCode:x.code,earnDesc:x.description,earnType:"USR",sysId:null};await ne.post("/Fs/Process/AllowanceAndEarnings/EarningsSetUp",D),await ee.fire({icon:"success",title:"Success",text:"Earning created successfully.",timer:2e3,showConfirmButton:!1}),await q(),r(!1),h({code:"",description:""}),v("")}catch(D){const _=D.response?.data?.message||D.message||"An error occurred";await ee.fire({icon:"error",title:"Error",text:_}),console.error("Error creating earning:",D)}finally{N(!1)}},R=async A=>{if(A.preventDefault(),!m)return;if(!x.code.trim()||x.code.length>10){await ee.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(y.some(D=>D.id!==m.id&&D.code.toLowerCase()===x.code.trim().toLowerCase())){await ee.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}N(!0);try{const D={earnID:parseInt(m.id),earnCode:x.code,earnDesc:x.description,earnType:m.earnType||"USR",sysId:m.sysId||null};await ne.put(`/Fs/Process/AllowanceAndEarnings/EarningsSetUp/${m.id}`,D),await ee.fire({icon:"success",title:"Success",text:"Earning updated successfully.",timer:2e3,showConfirmButton:!1}),await q(),l(!1),b(null),h({code:"",description:""}),v("")}catch(D){const _=D.response?.data?.message||D.message||"An error occurred";await ee.fire({icon:"error",title:"Error",text:_}),console.error("Error updating earning:",D)}finally{N(!1)}},F=()=>{r(!1),l(!1),b(null),h({code:"",description:""}),v("")};return o.useEffect(()=>{const A=H=>{H.key==="Escape"&&(a?r(!1):n&&(l(!1),b(null)))};return(a||n)&&document.addEventListener("keydown",A),()=>{document.removeEventListener("keydown",A)}},[a,n]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Earnings Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure earning codes, rates, and default amounts for various compensation types including regular pay, overtime, allowances, and other payroll-related earnings."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Earning code management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Rate and amount configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Multiple earning types support"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Payroll calculation integration"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4 flex-wrap",children:[L("Add")&&L("View")&&e.jsxs("button",{onClick:U,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),L("View")&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:t,onChange:A=>s(A.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:j?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading earnings..."})}):S?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:S})}):L("View")?e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Description"}),(L("Edit")||L("Delete"))&&e.jsx("th",{className:"px-6 py-3 text-center text-xs text-gray-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:pe.length>0?pe.map(A=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:A.code}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:A.description}),(L("Edit")||L("Delete"))&&e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[L("Edit")&&e.jsx("button",{onClick:()=>Y(A),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),L("Edit")&&L("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),L("Delete")&&e.jsx("button",{onClick:()=>W(A),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},A.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),L("View")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",B.length>0?le+1:0," to ",Math.min(le+k,B.length)," of ",B.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>d(A=>Math.max(1,A-1)),disabled:i===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:se},(A,H)=>H+1).map(A=>e.jsx("button",{className:`px-3 py-1 rounded transition-colors ${i===A?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,onClick:()=>d(A),children:A},A)),e.jsx("button",{onClick:()=>d(A=>Math.min(se||1,A+1)),disabled:i>=se||B.length===0,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})]})}),a&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-2xl",children:[e.jsx("h2",{className:"text-gray-900",children:"Create New Earning"}),e.jsx("button",{onClick:F,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:G,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-6",children:"Earnings Setup"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Code :"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"text",value:x.code,onChange:A=>re(A.target.value),maxLength:10,className:`w-full px-4 py-2.5 border rounded-lg focus:outline-none focus:ring-2 ${p?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`,required:!0}),p&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:p})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Description :"}),e.jsx("input",{type:"text",value:x.description,onChange:A=>h({...x,description:A.target.value}),className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:f,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:f?"Saving...":"Submit"}),e.jsx("button",{type:"button",onClick:F,disabled:f,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),n&&m&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-2xl",children:[e.jsx("h2",{className:"text-gray-900",children:"Edit Earning"}),e.jsx("button",{onClick:F,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:R,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-6",children:"Earnings Setup"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Code :"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"text",value:x.code,onChange:A=>re(A.target.value),maxLength:10,className:`w-full px-4 py-2.5 border rounded-lg focus:outline-none focus:ring-2 ${p?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`,required:!0}),p&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:p})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Description :"}),e.jsx("input",{type:"text",value:x.description,onChange:A=>h({...x,description:A.target.value}),className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:f,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:f?"Updating...":"Update"}),e.jsx("button",{type:"button",onClick:F,disabled:f,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),e.jsx(Zt,{})]})}function gJ(){const[t,s]=o.useState({id:0,regularDay:"",restDay:"",legalHoliday:"",specialHoliday:"",legalHolidayFallRestDay:"",specialHolidayFallRestDay:"",doubleLegalHoliday:"",doubleLegalHolidayFallRestday:"",specialHoliday2:"",specialHoliday2FallRestDay:"",nonWorkingHoliday:"",nonWorkingHolidayFallRestDay:""}),[a,r]=o.useState(null),[n,l]=o.useState(!1),[i,d]=o.useState(!0),[x,h]=o.useState(!1),[m,b]=o.useState(""),[f,N]=o.useState({}),p=k=>f[k]===!0;o.useEffect(()=>{v()},[]);const v=()=>{const k=localStorage.getItem("loginPayload");if(k)try{const L=(JSON.parse(k).permissions||[]).filter(q=>rs(q.formName)==="DayTypeSetUp"),O={};L.forEach(q=>{const B=rs(q.accessTypeName);B&&(O[B]=!0)}),N(O)}catch(E){console.error("Error parsing or decrypting payload",E)}},y=[{label:"Regular Day:",fieldName:"regularDay"},{label:"Rest Day:",fieldName:"restDay"},{label:"Legal Holiday:",fieldName:"legalHoliday"},{label:"Special Holiday:",fieldName:"specialHoliday"},{label:"Legal Holiday that Falls on Restday:",fieldName:"legalHolidayFallRestDay"},{label:"Special Holiday that Falls on Restday:",fieldName:"specialHolidayFallRestDay"},{label:"Double Legal Holiday:",fieldName:"doubleLegalHoliday"},{label:"Double Legal Holiday Falling on Restday:",fieldName:"doubleLegalHolidayFallRestday"},{label:"Special Holiday 2:",fieldName:"specialHoliday2"},{label:"Special Holiday 2 Falling on the Rest Day:",fieldName:"specialHoliday2FallRestDay"},{label:"Non-Working Holiday:",fieldName:"nonWorkingHoliday"},{label:"Non-Working Holiday Falling on the Rest Day:",fieldName:"nonWorkingHolidayFallRestDay"}];o.useEffect(()=>{g()},[]);const g=async()=>{d(!0),b("");try{const k=await ne.get("/Fs/Process/DayTypeSetUp");if(k.status===200&&k.data){const E=Array.isArray(k.data)?k.data[0]:k.data;s(E),r(E)}}catch(k){const E=k.response?.data?.message||k.message||"Failed to load day type configuration";b(E),console.error("Error fetching day type data:",k)}finally{d(!1)}},j=()=>{l(!0)},C=async()=>{h(!0);try{const k=await ne.put(`/Fs/Process/DayTypeSetUp/${t.id}`,t);if(k.status===200){const E=k.data;s(E),r(E),l(!1),await ee.fire({icon:"success",title:"Success",text:"Day Type Setup saved successfully!",timer:2e3,showConfirmButton:!1})}}catch(k){const E=k.response?.data?.message||k.message||"Failed to save changes";await ee.fire({icon:"error",title:"Error",text:E}),console.error("Error saving day type data:",k)}finally{h(!1)}},S=()=>{a&&s(a),l(!1)},P=(k,E)=>{s(M=>({...M,[k]:E}))};return i?e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsx("div",{className:"text-gray-600",children:"Loading day type configuration..."})}):e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Day Type Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure day type classifications for different working days including regular days, special holidays, regular holidays, rest days, and premium days with corresponding earning codes."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Multiple day type categories"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Earning code mapping"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Holiday rate configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Automated payroll calculations"})]})]})]})]})}),m&&e.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),m]}),p("View")?e.jsxs(e.Fragment,{children:[p("Edit")&&e.jsx("div",{className:"flex items-center gap-3 mb-6",children:n?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:C,disabled:x,className:"px-5 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Aa,{className:"w-4 h-4"}),x?"Saving...":"Save Changes"]}),e.jsxs("button",{onClick:S,disabled:x,className:"px-5 py-2.5 bg-red-500 text-white rounded-lg hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(et,{className:"w-4 h-4"}),"Cancel"]})]}):e.jsx("button",{onClick:j,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:"Edit Configuration"})}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:y.map((k,E)=>e.jsxs("div",{className:"flex items-center gap-4 py-2 border-b border-gray-100 last:border-b-0",children:[e.jsx("label",{className:"text-gray-700 text-sm w-80 flex-shrink-0",children:k.label}),n?e.jsx("input",{type:"text",value:t[k.fieldName],onChange:M=>P(k.fieldName,M.target.value),className:"flex-1 max-w-xs px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}):e.jsx("div",{className:"flex-1 max-w-xs px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-900",children:t[k.fieldName]})]},E))})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."}),p("View")&&e.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("p",{className:"mb-1",children:"These day type codes are used throughout the timekeeping system to classify different types of days for payroll calculation."}),e.jsx("p",{children:"Ensure codes are unique and recognizable for proper processing."})]})]})})]})]})}),e.jsx(Zt,{})]})}function yJ(){const[t,s]=o.useState(""),[a,r]=o.useState(!1),[n,l]=o.useState(!1),[i,d]=o.useState(1),[x,h]=o.useState(null),[m,b]=o.useState(!1),[f,N]=o.useState(!1),[p,v]=o.useState(""),[y,g]=o.useState([]),[j,C]=o.useState(!1),[S,P]=o.useState({ipAdd:"",port:"",machID:0,wDeviceCode:!1,flagCode:""}),[k,E]=o.useState([]),[M,L]=o.useState(!1),[O,q]=o.useState(""),B=10,[se,le]=o.useState({}),pe=fe=>se[fe]===!0;o.useEffect(()=>{U()},[]);const U=()=>{const fe=localStorage.getItem("loginPayload");if(fe)try{const De=(JSON.parse(fe).permissions||[]).filter(Ee=>rs(Ee.formName)==="SDKListSetup"),Ae={};De.forEach(Ee=>{const ze=rs(Ee.accessTypeName);ze&&(Ae[ze]=!0)}),le(Ae)}catch(ue){console.error("Error parsing or decrypting payload",ue)}};o.useEffect(()=>{Y()},[]);const Y=async()=>{L(!0),q("");try{const fe=await ne.get("/Fs/Process/Device/SDKListSetUp");fe.status===200&&fe.data&&E(fe.data)}catch(fe){const ue=fe.response?.data?.message||fe.message||"Failed to load SDK list";q(ue),console.error("Error fetching SDK list:",fe)}finally{L(!1)}},W=async()=>{C(!0);try{const fe=await ne.get("/Fs/Process/Device/DTRFlagSetUp");fe.status===200&&fe.data&&g(fe.data)}catch(fe){console.error("Error fetching DTR flags:",fe)}finally{C(!1)}},re=()=>{v(""),W(),N(!0)},G=k.filter(fe=>fe.ipAdd.toLowerCase().includes(t.toLowerCase())||fe.port.toLowerCase().includes(t.toLowerCase())||fe.machID.toString().includes(t)||fe.flagCode.toLowerCase().includes(t.toLowerCase())),R=Math.ceil(G.length/B),F=(i-1)*B,A=G.slice(F,F+B);o.useEffect(()=>{d(1)},[t]);const H=()=>{P({ipAdd:"",port:"",machID:0,wDeviceCode:!1,flagCode:""}),r(!0)},D=fe=>{h(fe),P({ipAdd:fe.ipAdd,port:fe.port,machID:fe.machID,wDeviceCode:fe.wDeviceCode,flagCode:fe.flagCode}),l(!0)},_=async fe=>{if((await ee.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete SDK item "${fe.ipAdd}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ne.delete(`/Fs/Process/Device/SDKListSetUp/${fe.id}`),await ee.fire({icon:"success",title:"Success",text:"SDK item deleted successfully.",timer:2e3,showConfirmButton:!1}),await Y()}catch(Oe){await ee.fire({icon:"error",title:"Error",text:Oe.response?.data?.message||Oe.message||"Failed to delete SDK item"})}},xe=async fe=>{if(fe.preventDefault(),!S.ipAdd.trim()){await ee.fire({icon:"warning",title:"Validation Error",text:"IP Address is required."});return}if(k.some(ue=>ue.ipAdd.toLowerCase()===S.ipAdd.trim().toLowerCase())){await ee.fire({icon:"error",title:"Duplicate IP Address",text:"This IP address is already in use."});return}b(!0);try{await ne.post("/Fs/Process/Device/SDKListSetUp",{id:0,...S}),await ee.fire({icon:"success",title:"Success",text:"SDK item created successfully.",timer:2e3,showConfirmButton:!1}),await Y(),r(!1)}catch(ue){await ee.fire({icon:"error",title:"Error",text:ue.response?.data?.message||ue.message||"An error occurred"})}finally{b(!1)}},ge=async fe=>{if(fe.preventDefault(),!!x){if(!S.ipAdd.trim()){await ee.fire({icon:"warning",title:"Validation Error",text:"IP Address is required."});return}if(k.some(ue=>ue.id!==x.id&&ue.ipAdd.toLowerCase()===S.ipAdd.trim().toLowerCase())){await ee.fire({icon:"error",title:"Duplicate IP Address",text:"This IP address is already in use."});return}b(!0);try{await ne.put(`/Fs/Process/Device/SDKListSetUp/${x.id}`,{id:x.id,...S}),await ee.fire({icon:"success",title:"Success",text:"SDK item updated successfully.",timer:2e3,showConfirmButton:!1}),await Y(),l(!1),h(null)}catch(ue){await ee.fire({icon:"error",title:"Error",text:ue.response?.data?.message||ue.message||"An error occurred"})}finally{b(!1)}}},Ne=()=>{r(!1),l(!1),h(null),N(!1)};o.useEffect(()=>{const fe=ue=>{ue.key==="Escape"&&(f?N(!1):a?r(!1):n&&(l(!1),h(null)))};return(a||n||f)&&document.addEventListener("keydown",fe),()=>{document.removeEventListener("keydown",fe)}},[a,n,f]);const Ce=(fe,ue)=>e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto relative",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0 z-[1]",children:[e.jsx("h2",{className:"text-gray-900",children:fe?"Edit SDK Item":"Create New"}),e.jsx("button",{onClick:Ne,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:ue,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"SDK List Setup"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-40",children:"IP Address :"}),e.jsx("input",{type:"text",value:S.ipAdd,onChange:Oe=>P({...S,ipAdd:Oe.target.value}),placeholder:"e.g. 192.168.1.100",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-40",children:"Port :"}),e.jsx("input",{type:"text",value:S.port,onChange:Oe=>P({...S,port:Oe.target.value}),placeholder:"e.g. 4370",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-40",children:"Machine ID :"}),e.jsx("input",{type:"number",value:S.machID,onChange:Oe=>P({...S,machID:parseInt(Oe.target.value)||0}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-40",children:"With Device Code :"}),e.jsx("input",{type:"checkbox",checked:S.wDeviceCode,onChange:Oe=>P({...S,wDeviceCode:Oe.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer"}),e.jsx("span",{className:"text-gray-500 text-sm",children:S.wDeviceCode?"Yes":"No"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-40",children:"Flag Code :"}),e.jsx("input",{type:"text",value:S.flagCode,readOnly:!0,placeholder:"Select flag code...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-sm cursor-default focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{type:"button",onClick:re,className:"w-10 h-10 bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center justify-center",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>P({...S,flagCode:""}),className:"w-10 h-10 bg-red-600 text-white rounded hover:bg-red-700 transition-colors flex items-center justify-center",children:e.jsx(et,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:m,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm text-sm",children:m?fe?"Updating...":"Submitting...":fe?"Update":"Submit"}),e.jsx("button",{type:"button",onClick:Ne,disabled:m,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm text-sm",children:"Back to List"})]})]}),f&&e.jsx("div",{className:"absolute inset-0 bg-transparent flex items-center justify-center z-[10] rounded-lg p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-5xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0",children:[e.jsx("h2",{className:"text-gray-900",children:"Search"}),e.jsx("button",{type:"button",onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"DTR Flag"}),e.jsxs("div",{className:"flex items-center justify-end gap-2 mb-4",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",autoFocus:!0,value:p,onChange:Oe=>v(Oe.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden max-h-96 overflow-y-auto",children:j?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading flag codes..."})}):e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase",children:"Flag Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase",children:"Break1 Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase",children:"Break1 In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase",children:"Break2 Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase",children:"Break2 In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase",children:"Break3 Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase",children:"Break3 In"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:(()=>{const Oe=y.filter(De=>De.flagCode.toLowerCase().includes(p.toLowerCase()));return Oe.length>0?Oe.map(De=>e.jsxs("tr",{className:"hover:bg-blue-50 cursor-pointer transition-colors",onClick:()=>{P(Ae=>({...Ae,flagCode:De.flagCode})),N(!1)},children:[e.jsx("td",{className:"px-4 py-3 text-sm text-blue-600 hover:underline",children:De.flagCode}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:De.timeIn}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:De.timeOut}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:De.break1Out}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:De.break1In}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:De.break2Out}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:De.break2In}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:De.break3Out}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:De.break3In})]},De.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"px-4 py-8 text-center text-gray-500",children:"No flag codes available"})})})()})]})})]})]})})]})});return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"SDK List Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Manage SDK (Software Development Kit) configurations for biometric device integration. Register SDK libraries and connection parameters for direct device communication and data retrieval."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Real-time device connection","SDK library management","Direct data access","Device registration"].map(fe=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:fe})]},fe))})]})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4 flex-wrap",children:[pe("Add")&&pe("View")&&e.jsxs("button",{onClick:H,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(fs,{className:"w-4 h-4"})," Create New"]}),pe("View")&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:t,onChange:fe=>s(fe.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:M?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading SDK list..."})}):O?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:O})}):pe("View")?e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"IP Address"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Port"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Machine ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"With Device Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Flag Code"}),(pe("Edit")||pe("Delete"))&&e.jsx("th",{className:"px-6 py-3 text-center text-xs text-gray-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:A.length>0?A.map(fe=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:fe.ipAdd}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:fe.port}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:fe.machID}),e.jsx("td",{className:"px-6 py-4 text-sm",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${fe.wDeviceCode?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:fe.wDeviceCode?"Yes":"No"})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:fe.flagCode}),(pe("Edit")||pe("Delete"))&&e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[pe("Edit")&&e.jsx("button",{onClick:()=>D(fe),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),pe("Edit")&&pe("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),pe("Delete")&&e.jsx("button",{onClick:()=>_(fe),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},fe.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),pe("View")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",G.length>0?F+1:0," to ",Math.min(F+B,G.length)," of ",G.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>d(fe=>Math.max(1,fe-1)),disabled:i===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:R},(fe,ue)=>ue+1).map(fe=>e.jsx("button",{onClick:()=>d(fe),className:`px-3 py-1 rounded transition-colors ${i===fe?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:fe},fe)),e.jsx("button",{onClick:()=>d(fe=>Math.min(R||1,fe+1)),disabled:i>=R||G.length===0,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})]})}),a&&Ce(!1,xe),n&&x&&Ce(!0,ge),e.jsx(Zt,{})]})}const cm={absent:"/Fs/Process/Device/EquivHoursDeductionSetUp/ForAbsent","no-login":"/Fs/Process/Device/EquivHoursDeductionSetUp/ForNoLogin","no-logout":"/Fs/Process/Device/EquivHoursDeductionSetUp/ForNoLogout","no-break2-out":"/Fs/Process/Device/EquivHoursDeductionSetUp/ForNoBreak2Out","no-break2-in":"/Fs/Process/Device/EquivHoursDeductionSetUp/ForNoBreak2In"};function bJ(){const[t,s]=o.useState("absent"),[a,r]=o.useState(""),[n,l]=o.useState(!1),[i,d]=o.useState(1),[x,h]=o.useState(null),[m,b]=o.useState(!1),[f,N]=o.useState({id:0,code:"",desc:"",monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:""}),[p,v]=o.useState([]),[y,g]=o.useState([]),[j,C]=o.useState([]),[S,P]=o.useState([]),[k,E]=o.useState([]),[M,L]=o.useState(!1),[O,q]=o.useState(""),B=10;o.useEffect(()=>{se()},[t]);const se=async()=>{L(!0),q("");try{const Oe=cm[t],De=await ne.get(Oe);De.status===200&&De.data&&pe(De.data)}catch(Oe){const De=Oe.response?.data?.message||Oe.message||"Failed to load deduction data";q(De),console.error("Error fetching deduction data:",Oe)}finally{L(!1)}},le=()=>{switch(t){case"absent":return p;case"no-login":return y;case"no-logout":return j;case"no-break2-out":return S;case"no-break2-in":return k;default:return[]}},pe=Oe=>{switch(t){case"absent":v(Oe);break;case"no-login":g(Oe);break;case"no-logout":C(Oe);break;case"no-break2-out":P(Oe);break;case"no-break2-in":E(Oe);break}},U=le(),Y=U.filter(Oe=>Oe.code.toLowerCase().includes(a.toLowerCase())||Oe.desc.toLowerCase().includes(a.toLowerCase())),W=Math.ceil(Y.length/B),re=(i-1)*B,G=Y.slice(re,re+B);o.useEffect(()=>{d(1)},[a]);const R=()=>{N({id:0,code:"",desc:"",monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:""}),h(null),l(!0)},F=Oe=>{h(Oe),N({id:Oe.id,code:Oe.code,desc:Oe.desc,monday:Oe.monday.toString(),tuesday:Oe.tuesday.toString(),wednesday:Oe.wednesday.toString(),thursday:Oe.thursday.toString(),friday:Oe.friday.toString(),saturday:Oe.saturday.toString(),sunday:Oe.sunday.toString()}),l(!0)},A=async Oe=>{if((await ee.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete "${Oe.code} - ${Oe.desc}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{const Ae=cm[t];await ne.delete(`${Ae}/${Oe.id}`),await ee.fire({icon:"success",title:"Success",text:"Deduction item deleted successfully.",timer:2e3,showConfirmButton:!1}),await se()}catch(Ae){const Ee=Ae.response?.data?.message||Ae.message||"Failed to delete deduction item";await ee.fire({icon:"error",title:"Error",text:Ee}),console.error("Error deleting deduction item:",Ae)}},H=async Oe=>{if(Oe.preventDefault(),!f.code.trim()){await ee.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(U.some(Ae=>Ae.code.toLowerCase()===f.code.trim().toLowerCase())){await ee.fire({icon:"error",title:"Duplicate Code",text:"This deduction code is already in use. Please use a different code."});return}b(!0);try{const Ae={id:0,code:f.code,desc:f.desc,monday:parseFloat(f.monday)||0,tuesday:parseFloat(f.tuesday)||0,wednesday:parseFloat(f.wednesday)||0,thursday:parseFloat(f.thursday)||0,friday:parseFloat(f.friday)||0,saturday:parseFloat(f.saturday)||0,sunday:parseFloat(f.sunday)||0},Ee=cm[t];await ne.post(Ee,Ae),await ee.fire({icon:"success",title:"Success",text:"Deduction item created successfully.",timer:2e3,showConfirmButton:!1}),await se(),l(!1)}catch(Ae){const Ee=Ae.response?.data?.message||Ae.message||"An error occurred";await ee.fire({icon:"error",title:"Error",text:Ee}),console.error("Error creating deduction item:",Ae)}finally{b(!1)}},D=async Oe=>{if(Oe.preventDefault(),!x)return;if(!f.code.trim()){await ee.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(U.some(Ae=>Ae.id!==x.id&&Ae.code.toLowerCase()===f.code.trim().toLowerCase())){await ee.fire({icon:"error",title:"Duplicate Code",text:"This deduction code is already in use. Please use a different code."});return}b(!0);try{const Ae={id:x.id,code:f.code,desc:f.desc,monday:parseFloat(f.monday)||0,tuesday:parseFloat(f.tuesday)||0,wednesday:parseFloat(f.wednesday)||0,thursday:parseFloat(f.thursday)||0,friday:parseFloat(f.friday)||0,saturday:parseFloat(f.saturday)||0,sunday:parseFloat(f.sunday)||0},Ee=cm[t];await ne.put(`${Ee}/${Ae.id}`,Ae),await ee.fire({icon:"success",title:"Success",text:"Deduction item updated successfully.",timer:2e3,showConfirmButton:!1}),await se(),l(!1),h(null)}catch(Ae){const Ee=Ae.response?.data?.message||Ae.message||"An error occurred";await ee.fire({icon:"error",title:"Error",text:Ee}),console.error("Error updating deduction item:",Ae)}finally{b(!1)}},_=Oe=>{x?D(Oe):H(Oe)},xe=()=>{l(!1),h(null)};o.useEffect(()=>{const Oe=De=>{De.key==="Escape"&&n&&(l(!1),h(null))};return n&&document.addEventListener("keydown",Oe),()=>{document.removeEventListener("keydown",Oe)}},[n]);const ge=[{id:"absent",label:"For Absent",icon:o7},{id:"no-login",label:"For No Login",icon:NF},{id:"no-logout",label:"For No Logout",icon:mC},{id:"no-break2-out",label:"For No Break2 Out",icon:XA},{id:"no-break2-in",label:"For No Break2 In",icon:xC}],[Ne,Ce]=o.useState({}),fe=Oe=>Ne[Oe]===!0;o.useEffect(()=>{ue()},[]);const ue=()=>{const Oe=localStorage.getItem("loginPayload");if(Oe)try{const Ee=(JSON.parse(Oe).permissions||[]).filter(ot=>rs(ot.formName)==="EquivHoursDeduction"),ze={};Ee.forEach(ot=>{const wt=rs(ot.accessTypeName);wt&&(ze[wt]=!0)}),Ce(ze)}catch(De){console.error("Error parsing or decrypting payload",De)}};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Equivalent Hours Deduction Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure equivalent hours deduction for various attendance scenarios including absences, missing login/logout, and break violations. Set specific deduction hours for each day of the week to ensure accurate timekeeping calculations."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Day-specific deduction configurations"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Multiple deduction scenarios"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Flexible hours calculation"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Accurate attendance tracking"})]})]})]})]})}),fe("View")&&e.jsx("div",{className:"flex gap-1 mb-6 border-b border-gray-200",children:ge.map(Oe=>e.jsxs("button",{onClick:()=>{s(Oe.id),d(1),r("")},className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===Oe.id?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Oe.icon,{className:"w-4 h-4"}),Oe.label,t===Oe.id&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-600"})]},Oe.id))}),fe("View")&&fe("Edit")&&e.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4 flex-wrap",children:[fe("Add")&&e.jsxs("button",{onClick:R,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:a,onChange:Oe=>r(Oe.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})]}),fe("View")?e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Monday"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Tuesday"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Wednesday"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Thursday"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Friday"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Saturday"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Sunday"}),(fe("Edit")||fe("Delete"))&&e.jsx("th",{className:"px-6 py-3 text-center text-xs text-gray-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:G.length>0?G.map(Oe=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:Oe.code}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Oe.description}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Oe.monday}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Oe.tuesday}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Oe.wednesday}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Oe.thursday}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Oe.friday}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Oe.saturday}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Oe.sunday}),(fe("Edit")||fe("Delete"))&&e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[fe("Edit")&&e.jsx("button",{onClick:()=>F(Oe),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),fe("Edit")&&fe("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),fe("Delete")&&e.jsx("button",{onClick:()=>A(Oe.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},Oe.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:10,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]})}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."}),fe("View")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",Y.length>0?re+1:0," to ",Math.min(re+B,Y.length)," of ",Y.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>d(Oe=>Math.max(1,Oe-1)),disabled:i===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:W},(Oe,De)=>De+1).map(Oe=>e.jsx("button",{onClick:()=>d(Oe),className:`px-3 py-1 rounded transition-colors ${i===Oe?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Oe},Oe)),e.jsx("button",{onClick:()=>d(Oe=>Math.min(W||1,Oe+1)),disabled:i>=W||Y.length===0,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})]})}),n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-900",children:x?"Edit":"Create New"}),e.jsx("button",{onClick:xe,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:_,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Equivalent Hours Deduction"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"Code :"}),e.jsx("input",{type:"text",value:f.code,maxLength:10,onChange:Oe=>N({...f,code:Oe.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"Description :"}),e.jsx("input",{type:"text",value:f.desc,onChange:Oe=>N({...f,desc:Oe.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"Monday :"}),e.jsx("input",{type:"number",step:"0.01",value:f.monday,onChange:Oe=>N({...f,monday:Oe.target.value}),className:"w-24 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"Tuesday :"}),e.jsx("input",{type:"number",step:"0.01",value:f.tuesday,onChange:Oe=>N({...f,tuesday:Oe.target.value}),className:"w-24 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"Wednesday :"}),e.jsx("input",{type:"number",step:"0.01",value:f.wednesday,onChange:Oe=>N({...f,wednesday:Oe.target.value}),className:"w-24 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"Thursday :"}),e.jsx("input",{type:"number",step:"0.01",value:f.thursday,onChange:Oe=>N({...f,thursday:Oe.target.value}),className:"w-24 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"Friday :"}),e.jsx("input",{type:"number",step:"0.01",value:f.friday,onChange:Oe=>N({...f,friday:Oe.target.value}),className:"w-24 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"Saturday :"}),e.jsx("input",{type:"number",step:"0.01",value:f.saturday,onChange:Oe=>N({...f,saturday:Oe.target.value}),className:"w-24 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"Sunday :"}),e.jsx("input",{type:"number",step:"0.01",value:f.sunday,onChange:Oe=>N({...f,sunday:Oe.target.value}),className:"w-24 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:m,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:m?x?"Updating...":"Submitting...":x?"Update":"Submit"}),e.jsx("button",{type:"button",onClick:xe,disabled:m,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),e.jsx(Zt,{})]})}const vJ=async()=>(await ne.get("/Fs/Process/Overtime/OverTimeFileSetUp")).data??[],wJ=async()=>(await ne.get("/AdditonalOTHoursPerWeek/PerDay")).data??[],by=async t=>{const s={...t,refCode:String(t.refCode).trim()};return(await ne.post("/AdditonalOTHoursPerWeek/PerDay",s)).data},R2=async(t,s)=>{const a={...s,refCode:String(s.refCode).trim()};return(await ne.put(`/AdditonalOTHoursPerWeek/PerDay/${t}`,a)).data},NJ=async t=>{await ne.delete(`/AdditonalOTHoursPerWeek/PerDay/${t}`)},jJ=async()=>(await ne.get("/AdditonalOTHoursPerWeek/PerWeek")).data??[],vy=async t=>{const s={...t,refCode:String(t.refCode).trim()};return(await ne.post("/AdditonalOTHoursPerWeek/PerWeek",s)).data},U2=async(t,s)=>{const a={...s,refCode:String(s.refCode).trim()};return(await ne.put(`/AdditonalOTHoursPerWeek/PerWeek/${t}`,a)).data},CJ=async t=>{await ne.delete(`/AdditonalOTHoursPerWeek/PerWeek/${t}`)},nD=async()=>(await ne.get("/AdditonalOTHoursPerWeek/OTWeek")).data??[],SJ=async t=>{const s={...t,refCode:String(t.refCode||"").trim()};return(await ne.post("/AdditonalOTHoursPerWeek/OTWeek",s)).data},kJ=async(t,s)=>{const a={...s,refCode:String(s.refCode).trim()};return(await ne.put(`/AdditonalOTHoursPerWeek/OTWeek/${t.trim()}`,a)).data},DJ=nD;function EJ(){const[t,s]=o.useState(""),[a,r]=o.useState(null),[n,l]=o.useState(null),[i,d]=o.useState(!1),[x,h]=o.useState(!1),[m,b]=o.useState(!1),[f,N]=o.useState(!1),[p,v]=o.useState(null),[y,g]=o.useState(null),[j,C]=o.useState(1),[S,P]=o.useState(1),[k,E]=o.useState(""),[M,L]=o.useState(""),[O,q]=o.useState(!1),[B,se]=o.useState([]),[le,pe]=o.useState([]),[U,Y]=o.useState([]),[W,re]=o.useState([]),[G,R]=o.useState({refCode:"",day:"Monday",regularDay:"",restDay:"",legal:"",special:"",paidLeave:!1}),[F,A]=o.useState(!1),[H,D]=o.useState(!1),[_,xe]=o.useState(!1),[ge,Ne]=o.useState(!1),[Ce,fe]=o.useState(!1),[ue,Oe]=o.useState(!1),[De,Ae]=o.useState(null),[Ee,ze]=o.useState({noHours:"",equalHours:""}),[ot,wt]=o.useState({noHoursPerWeek:"",equalHoursPerWeek:""}),Ie=10,[ye,be]=o.useState({}),Me=qe=>ye[qe]===!0;o.useEffect(()=>{Re()},[]);const Re=()=>{const qe=localStorage.getItem("loginPayload");if(qe)try{const dt=(JSON.parse(qe).permissions||[]).filter(Dt=>rs(Dt.formName)==="AdditionalOTHoursPerWeek"),kt={};dt.forEach(Dt=>{const Ge=rs(Dt.accessTypeName);Ge&&(kt[Ge]=!0)}),be(kt)}catch(Nt){console.error("Error parsing or decrypting payload",Nt)}},st=o.useCallback(async qe=>{if(qe){A(!0);try{const[Nt,gt,dt]=await Promise.allSettled([wJ(),jJ(),nD()]),kt=qe.trim();if(Nt.status==="fulfilled"){const Dt=(Nt.value??[]).filter(Ge=>String(Ge.refCode).trim()===kt);Y(Dt),console.log("Looking for refCode:",kt),console.log("Per Day - All data:",Nt.value),console.log("Per Day - Filtered:",Dt)}else Y([]);if(gt.status==="fulfilled"){const Dt=gt.value??[];console.log("Per Week - All data:",Dt),console.log("Per Week - Looking for refCode:",kt,"type:",typeof kt),Dt.forEach(Ke=>{console.log("  - Record refCode:",Ke.refCode,"trimmed:",String(Ke.refCode).trim(),"type:",typeof Ke.refCode,"matches:",String(Ke.refCode).trim()===kt)});const Ge=Dt.filter(Ke=>String(Ke.refCode).trim()===kt);re(Ge),console.log("Per Week - Filtered:",Ge)}else re([]);if(dt.status==="fulfilled"){const Dt=(dt.value??[]).find(Ge=>String(Ge.refCode).trim()===kt);R(Dt||{refCode:kt,day:"Monday",regularDay:"",restDay:"",legal:"",special:"",paidLeave:!1})}else R({refCode:kt,day:"Monday",regularDay:"",restDay:"",legal:"",special:"",paidLeave:!1});r(null),l(null)}catch(Nt){ee.fire({icon:"error",title:"Error",text:Nt.response?.data?.message||Nt.message||"Failed to load data"})}finally{A(!1)}}},[]),He=async()=>{if(!(B.length>0)){D(!0);try{const qe=await vJ();se(qe??[])}catch(qe){ee.fire({icon:"error",title:"Error",text:qe.response?.data?.message||qe.message||"Failed to load OT codes"})}finally{D(!1)}}},Ue=qe=>{L(qe),E(""),C(1),b(!0),He()},Ye=qe=>{R(Nt=>({...Nt,[M==="regularDay"?"regularDay":M==="restDay"?"restDay":M==="legalHoliday"?"legal":"special"]:qe})),b(!1)},ht=()=>{s(""),Y([]),re([]),R({refCode:"",day:"Monday",regularDay:"",restDay:"",legal:"",special:"",paidLeave:!1}),q(!0)},ut=()=>q(!0),vt=async()=>{Ne(!0);try{const qe=!t||t.trim()==="";let Nt;if(qe){const gt={...G,refCode:""},dt=await SJ(gt);if(Nt=dt.refCode,s(Nt),R(dt),U.length>0){const kt=await Promise.all(U.map(Dt=>by({refCode:Nt,noHours:Dt.noHours,equalHours:Dt.equalHours})));Y(kt)}if(W.length>0){const kt=await Promise.all(W.map(Dt=>vy({refCode:Nt,noHoursPerWeek:Dt.noHoursPerWeek,equalHoursPerWeek:Dt.equalHoursPerWeek})));re(kt)}}else{const gt={...G,refCode:t},dt=await kJ(t,gt);if(R(dt),U.length>0){const kt=await Promise.all(U.map(Dt=>Dt.id<0?by({refCode:t,noHours:Dt.noHours,equalHours:Dt.equalHours}):R2(Dt.id,Dt)));Y(kt)}if(W.length>0){const kt=await Promise.all(W.map(Dt=>Dt.id<0?vy({refCode:t,noHoursPerWeek:Dt.noHoursPerWeek,equalHoursPerWeek:Dt.equalHoursPerWeek}):U2(Dt.id,Dt)));re(kt)}}ee.fire({icon:"success",title:"Saved",text:"Record saved successfully.",timer:1800,showConfirmButton:!1}),q(!1)}catch(qe){ee.fire({icon:"error",title:"Error",text:qe.response?.data?.message||qe.message||"Failed to save"})}finally{Ne(!1)}},ve=()=>{q(!1),st(t)},Le=async()=>{N(!0),P(1),E(""),xe(!0);try{const qe=await DJ();pe(qe??[])}catch(qe){ee.fire({icon:"error",title:"Error",text:qe.response?.data?.message||qe.message||"Failed to load records"})}finally{xe(!1)}},he=async()=>{if(!Ee.noHours||!Ee.equalHours)return;const qe=G.refCode||t||"";if(qe===""&&O){const Nt=-(U.length+1);Y(gt=>[...gt,{id:Nt,refCode:"",noHours:Ee.noHours,equalHours:Ee.equalHours}]),ze({noHours:"",equalHours:""}),d(!1);return}fe(!0);try{const Nt=await by({refCode:qe,noHours:Ee.noHours,equalHours:Ee.equalHours});Y(gt=>[...gt,Nt]),ze({noHours:"",equalHours:""}),d(!1),ee.fire({icon:"success",title:"Added",text:"Entry added successfully.",timer:1500,showConfirmButton:!1})}catch(Nt){ee.fire({icon:"error",title:"Error",text:Nt.response?.data?.message||Nt.message||"Failed to add entry"})}finally{fe(!1)}},Ve=async()=>{if(p){fe(!0);try{const qe=await R2(p.id,p);Y(Nt=>Nt.map(gt=>gt.id===qe.id?qe:gt)),v(null),ee.fire({icon:"success",title:"Updated",text:"Entry updated successfully.",timer:1500,showConfirmButton:!1})}catch(qe){ee.fire({icon:"error",title:"Error",text:qe.response?.data?.message||qe.message||"Failed to update"})}finally{fe(!1)}}},xt=async qe=>{if(qe<0){Y(gt=>gt.filter(dt=>dt.id!==qe));return}if((await ee.fire({icon:"warning",title:"Delete Entry",text:"Are you sure you want to delete this entry? This action cannot be undone.",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#6b7280",confirmButtonText:"Yes, delete it",cancelButtonText:"Cancel"})).isConfirmed){Ae(qe);try{await NJ(qe),Y(gt=>gt.filter(dt=>dt.id!==qe)),ee.fire({icon:"success",title:"Deleted",text:"Entry deleted successfully.",timer:1500,showConfirmButton:!1})}catch(gt){ee.fire({icon:"error",title:"Error",text:gt.response?.data?.message||gt.message||"Failed to delete"})}finally{Ae(null)}}},Pt=async()=>{if(!ot.noHoursPerWeek||!ot.equalHoursPerWeek)return;const qe=G.refCode||t||"";if(qe===""&&O){const Nt=-(W.length+1);re(gt=>[...gt,{id:Nt,refCode:"",noHoursPerWeek:ot.noHoursPerWeek,equalHoursPerWeek:ot.equalHoursPerWeek}]),wt({noHoursPerWeek:"",equalHoursPerWeek:""}),h(!1);return}Oe(!0);try{const Nt=await vy({refCode:qe,noHoursPerWeek:ot.noHoursPerWeek,equalHoursPerWeek:ot.equalHoursPerWeek});re(gt=>[...gt,Nt]),wt({noHoursPerWeek:"",equalHoursPerWeek:""}),h(!1),ee.fire({icon:"success",title:"Added",text:"Entry added successfully.",timer:1500,showConfirmButton:!1})}catch(Nt){ee.fire({icon:"error",title:"Error",text:Nt.response?.data?.message||Nt.message||"Failed to add entry"})}finally{Oe(!1)}},Lt=async()=>{if(y){Oe(!0);try{const qe=await U2(y.id,y);re(Nt=>Nt.map(gt=>gt.id===qe.id?qe:gt)),g(null),ee.fire({icon:"success",title:"Updated",text:"Entry updated successfully.",timer:1500,showConfirmButton:!1})}catch(qe){ee.fire({icon:"error",title:"Error",text:qe.response?.data?.message||qe.message||"Failed to update"})}finally{Oe(!1)}}},It=async qe=>{if(qe<0){re(gt=>gt.filter(dt=>dt.id!==qe));return}if((await ee.fire({icon:"warning",title:"Delete Entry",text:"Are you sure you want to delete this entry? This action cannot be undone.",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#6b7280",confirmButtonText:"Yes, delete it",cancelButtonText:"Cancel"})).isConfirmed){Ae(qe);try{await CJ(qe),re(gt=>gt.filter(dt=>dt.id!==qe)),ee.fire({icon:"success",title:"Deleted",text:"Entry deleted successfully.",timer:1500,showConfirmButton:!1})}catch(gt){ee.fire({icon:"error",title:"Error",text:gt.response?.data?.message||gt.message||"Failed to delete"})}finally{Ae(null)}}};return o.useEffect(()=>{const qe=Nt=>{Nt.key==="Escape"&&(m?b(!1):f?N(!1):i?(d(!1),ze({noHours:"",equalHours:""})):p?v(null):x?(h(!1),wt({noHoursPerWeek:"",equalHoursPerWeek:""})):y&&g(null))};return document.addEventListener("keydown",qe),()=>document.removeEventListener("keydown",qe)},[m,f,i,x,p,y]),Math.ceil(B.length/Ie),B.slice((j-1)*Ie,j*Ie),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Additional OT Hours Per Week"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure additional overtime hours tracking per week. Set up hourly equivalents for both daily and weekly overtime schedules, and define overtime rate codes for different scenarios including regular days, rest days, and holidays."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Daily and weekly OT hour tracking","Equivalent hours configuration","Day-specific OT rate codes","Leave as worked time option"].map(qe=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:qe})]},qe))})]})]})}),Me("View")&&e.jsxs("div",{className:"flex items-center justify-between mb-6 flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700",children:"Reference Code:"}),e.jsx("input",{type:"text",value:t,onChange:qe=>s(qe.target.value),onKeyDown:qe=>{qe.key==="Enter"&&(t.trim()?st(t.trim()):Le())},className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-32",placeholder:"Ref Code"}),e.jsx("button",{onClick:()=>t.trim()?st(t.trim()):Le(),disabled:F,className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-60",title:t.trim()?"Filter by ref code":"Browse all records",children:F?e.jsx(Ea,{className:"w-4 h-4 animate-spin"}):e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{s(""),Y([]),re([]),R({refCode:"",day:"Monday",regularDay:"",restDay:"",legal:"",special:"",paidLeave:!1}),q(!1)},className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",title:"Clear",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[!O&&Me("Add")&&e.jsxs("button",{onClick:ht,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),!O&&Me("Edit")&&e.jsxs("button",{onClick:ut,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(cl,{className:"w-4 h-4"}),"Edit"]}),O&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:vt,disabled:ge,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-60",children:[ge?e.jsx(Ea,{className:"w-4 h-4 animate-spin"}):e.jsx(Aa,{className:"w-4 h-4"}),t&&t.trim()!==""||G.id?"Update":"Save"]}),e.jsxs("button",{onClick:ve,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(wb,{className:"w-4 h-4"}),"Cancel"]})]})]})]}),F&&e.jsxs("div",{className:"flex items-center justify-center py-16 text-gray-400 gap-3",children:[e.jsx(Ea,{className:"w-6 h-6 animate-spin text-blue-500"}),e.jsxs("span",{className:"text-sm",children:["Loading data for ref ",t,""]})]}),Me("View")&&!F?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-200",children:e.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"OT Hours Per Day"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-700 text-sm",children:"No. Of Hours"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700 text-sm",children:"Equivalent Hours"}),(Me("Edit")||Me("Delete"))&&e.jsx("th",{className:"px-4 py-3 text-center text-gray-700 text-sm w-24",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:U.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-6 py-6 text-center text-gray-400 text-sm",children:'No entries. Click "Add Entry" to get started.'})}):U.map((qe,Nt)=>e.jsxs("tr",{onClick:()=>r(Nt),className:`cursor-pointer transition-colors ${a===Nt?"bg-blue-50":"hover:bg-gray-50"}`,children:[e.jsx("td",{className:"px-6 py-3 text-gray-900 text-sm",children:qe.noHours}),e.jsx("td",{className:"px-6 py-3 text-gray-900 text-sm",children:qe.equalHours}),(Me("Edit")||Me("Delete"))&&e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[Me("Edit")&&e.jsx("button",{onClick:gt=>{gt.stopPropagation(),v({...qe})},className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:e.jsx(cl,{className:"w-3.5 h-3.5"})}),Me("Delete")&&e.jsx("button",{onClick:gt=>{gt.stopPropagation(),xt(qe.id)},disabled:De===qe.id,className:"p-1.5 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-40",title:"Delete",children:De===qe.id?e.jsx(Ea,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(ls,{className:"w-3.5 h-3.5"})})]})})]},qe.id))})]})}),Me("Add")&&e.jsx("div",{className:"px-6 py-3 bg-gray-50 border-t border-gray-200",children:e.jsxs("button",{onClick:()=>d(!0),className:"text-blue-600 hover:text-blue-700 text-sm flex items-center gap-1",children:[e.jsx(fs,{className:"w-4 h-4"}),"Add Entry"]})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-200",children:e.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"OT Hours Per Week"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-700 text-sm",children:"No. Of Hours Per Week"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700 text-sm",children:"Equivalent Hours Per Week"}),(Me("Edit")||Me("Delete"))&&e.jsx("th",{className:"px-4 py-3 text-center text-gray-700 text-sm w-24",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:W.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-6 py-6 text-center text-gray-400 text-sm",children:'No entries. Click "Add Entry" to get started.'})}):W.map((qe,Nt)=>e.jsxs("tr",{onClick:()=>l(Nt),className:`cursor-pointer transition-colors ${n===Nt?"bg-blue-50":"hover:bg-gray-50"}`,children:[e.jsx("td",{className:"px-6 py-3 text-gray-900 text-sm",children:qe.noHoursPerWeek}),e.jsx("td",{className:"px-6 py-3 text-gray-900 text-sm",children:qe.equalHoursPerWeek}),(Me("Edit")||Me("Delete"))&&e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[Me("Edit")&&e.jsx("button",{onClick:gt=>{gt.stopPropagation(),g({...qe})},className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:e.jsx(cl,{className:"w-3.5 h-3.5"})}),Me("Delete")&&e.jsx("button",{onClick:gt=>{gt.stopPropagation(),It(qe.id)},disabled:De===qe.id,className:"p-1.5 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-40",title:"Delete",children:De===qe.id?e.jsx(Ea,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(ls,{className:"w-3.5 h-3.5"})})]})})]},qe.id))})]})}),Me("Add")&&e.jsx("div",{className:"px-6 py-3 bg-gray-50 border-t border-gray-200",children:e.jsxs("button",{onClick:()=>h(!0),className:"text-blue-600 hover:text-blue-700 text-sm flex items-center gap-1",children:[e.jsx(fs,{className:"w-4 h-4"}),"Add Entry"]})})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-gray-900 mb-4 text-sm font-semibold",children:"Schedule of additional hours per week"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-1 text-sm",children:"Day"}),e.jsx("select",{value:G.day,disabled:!O,onChange:qe=>R({...G,day:qe.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm disabled:bg-gray-50 disabled:cursor-not-allowed",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(qe=>e.jsx("option",{children:qe},qe))})]}),e.jsxs("div",{className:"pt-2",children:[e.jsx("p",{className:"text-gray-700 text-sm mb-3 font-medium",children:"Overtime rate basis for additional hours per week"}),["regularDay","restDay","legal","special"].map(qe=>{const Nt={regularDay:"Regular Day",restDay:"Rest Day",legal:"Legal Holiday",special:"Special National"},gt=qe==="legal"?"legalHoliday":qe==="special"?"specialNational":qe;return e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block text-gray-700 mb-1 text-sm",children:Nt[qe]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:G[qe],readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm bg-gray-50 cursor-not-allowed"}),e.jsx("button",{disabled:!O,onClick:()=>Ue(gt),className:"px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:""})]})]},qe)}),e.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[e.jsx("input",{type:"checkbox",id:"leaveWorked",checked:G.paidLeave,disabled:!O,onChange:qe=>R({...G,paidLeave:qe.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:cursor-not-allowed"}),e.jsx("label",{htmlFor:"leaveWorked",className:"text-gray-700 text-sm",children:"Leave is Considered as part of worked rendered"})]})]})]})]})]}):F?null:e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})]})]})}),(i||p)&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-900 font-semibold text-base",children:p?"Edit":"Create New"}),e.jsx("button",{onClick:()=>{d(!1),v(null),ze({noHours:"",equalHours:""})},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:qe=>{qe.preventDefault(),p?Ve():he()},className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 font-medium mb-4 text-sm",children:"OT Hours Per Day"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-40",children:"No of Hours :"}),e.jsx("input",{type:"number",step:"0.01",required:!0,value:p?p.noHours:Ee.noHours,onChange:qe=>p?v({...p,noHours:qe.target.value}):ze({...Ee,noHours:qe.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"e.g. 8"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-40",children:"Equivalent Hours :"}),e.jsx("input",{type:"number",step:"0.01",required:!0,value:p?p.equalHours:Ee.equalHours,onChange:qe=>p?v({...p,equalHours:qe.target.value}):ze({...Ee,equalHours:qe.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"e.g. 8"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsxs("button",{type:"submit",disabled:Ce,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:[Ce&&e.jsx(Ea,{className:"w-4 h-4 animate-spin"}),p?"Update":"Submit"]}),e.jsx("button",{type:"button",onClick:()=>{d(!1),v(null),ze({noHours:"",equalHours:""})},disabled:Ce,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),(x||y)&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-900 font-semibold text-base",children:y?"Edit":"Create New"}),e.jsx("button",{onClick:()=>{h(!1),g(null),wt({noHoursPerWeek:"",equalHoursPerWeek:""})},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:qe=>{qe.preventDefault(),y?Lt():Pt()},className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 font-medium mb-4 text-sm",children:"OT Hours Per Week"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"No of Hours Per Week :"}),e.jsx("input",{type:"number",step:"0.01",required:!0,value:y?y.noHoursPerWeek:ot.noHoursPerWeek,onChange:qe=>y?g({...y,noHoursPerWeek:qe.target.value}):wt({...ot,noHoursPerWeek:qe.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"e.g. 40"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Equivalent Hours Per Week :"}),e.jsx("input",{type:"number",step:"0.01",required:!0,value:y?y.equalHoursPerWeek:ot.equalHoursPerWeek,onChange:qe=>y?g({...y,equalHoursPerWeek:qe.target.value}):wt({...ot,equalHoursPerWeek:qe.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"e.g. 40"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsxs("button",{type:"submit",disabled:ue,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:[ue&&e.jsx(Ea,{className:"w-4 h-4 animate-spin"}),y?"Update":"Submit"]}),e.jsx("button",{type:"button",onClick:()=>{h(!1),g(null),wt({noHoursPerWeek:"",equalHoursPerWeek:""})},disabled:ue,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),m&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-5xl max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-lg flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("h2",{className:"text-blue-600 text-sm font-semibold whitespace-nowrap",children:"Search OT Codes"}),e.jsxs("div",{className:"relative flex-1 max-w-xs ml-4",children:[e.jsx(Gt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:k,onChange:qe=>{E(qe.target.value),C(1)},placeholder:"Filter by code or description",className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",autoFocus:!0})]})]}),e.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600 ml-3 flex-shrink-0",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex-1 overflow-auto p-0",children:H?e.jsxs("div",{className:"flex items-center justify-center py-16 gap-3 text-gray-400",children:[e.jsx(Ea,{className:"w-5 h-5 animate-spin text-blue-500"}),e.jsx("span",{className:"text-sm",children:"Loading OT codes"})]}):(()=>{const qe=B.filter(dt=>k===""||dt.otfCode.toLowerCase().includes(k.toLowerCase())||dt.description.toLowerCase().includes(k.toLowerCase())||dt.earnCode.toLowerCase().includes(k.toLowerCase())),Nt=Math.ceil(qe.length/Ie),gt=qe.slice((j-1)*Ie,j*Ie);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 sticky top-0 z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600 font-medium whitespace-nowrap",children:"OT Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600 font-medium",children:"Description"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600 font-medium whitespace-nowrap",children:"Earn Code"}),e.jsx("th",{className:"px-4 py-3 text-right text-gray-600 font-medium whitespace-nowrap",children:"Rate 1"}),e.jsx("th",{className:"px-4 py-3 text-right text-gray-600 font-medium whitespace-nowrap",children:"Rate 2"}),e.jsx("th",{className:"px-4 py-3 text-right text-gray-600 font-medium whitespace-nowrap",children:"Def Amt"}),e.jsx("th",{className:"px-4 py-3 text-center text-gray-600 font-medium whitespace-nowrap",children:"Inc Payslip"}),e.jsx("th",{className:"px-4 py-3 text-center text-gray-600 font-medium whitespace-nowrap",children:"Inc Cola OT"}),e.jsx("th",{className:"px-4 py-3 text-center text-gray-600 font-medium whitespace-nowrap",children:"Inc Cola Basic"}),e.jsx("th",{className:"px-4 py-3 text-center text-gray-600 font-medium whitespace-nowrap",children:"Exemption"}),e.jsx("th",{className:"px-4 py-3 text-center text-gray-600 font-medium",children:"Select"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:gt.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:11,className:"px-4 py-10 text-center text-gray-400",children:"No OT codes match your search."})}):gt.map(dt=>e.jsxs("tr",{onClick:()=>Ye(dt.otfCode),className:"hover:bg-blue-50 cursor-pointer transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5 font-medium text-blue-700 whitespace-nowrap",children:dt.otfCode}),e.jsx("td",{className:"px-4 py-2.5 text-gray-800",children:dt.description}),e.jsx("td",{className:"px-4 py-2.5 text-gray-600 whitespace-nowrap",children:dt.earnCode}),e.jsx("td",{className:"px-4 py-2.5 text-right text-gray-800 whitespace-nowrap",children:dt.rate1.toFixed(2)}),e.jsx("td",{className:"px-4 py-2.5 text-right text-gray-800 whitespace-nowrap",children:dt.rate2.toFixed(2)}),e.jsx("td",{className:"px-4 py-2.5 text-right text-gray-800 whitespace-nowrap",children:dt.defAmt.toFixed(2)}),e.jsx("td",{className:"px-4 py-2.5 text-center text-gray-600",children:dt.incPayslip}),e.jsx("td",{className:"px-4 py-2.5 text-center text-gray-600",children:dt.incColaOT}),e.jsx("td",{className:"px-4 py-2.5 text-center text-gray-600",children:dt.incColaBasic}),e.jsx("td",{className:"px-4 py-2.5 text-center",children:dt.isExemptionRpt?e.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 bg-green-100 rounded-full",children:e.jsx(Be,{className:"w-3 h-3 text-green-600"})}):e.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 bg-gray-100 rounded-full",children:e.jsx(et,{className:"w-3 h-3 text-gray-400"})})}),e.jsx("td",{className:"px-4 py-2.5 text-center",children:e.jsx("button",{onClick:kt=>{kt.stopPropagation(),Ye(dt.otfCode)},className:"px-3 py-1 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-xs font-medium",children:"Select"})})]},dt.otfid))})]})}),Nt>1&&e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-t border-gray-100 bg-gray-50",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:["Showing ",(j-1)*Ie+1,"",Math.min(j*Ie,qe.length)," of ",qe.length," records"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>C(dt=>Math.max(1,dt-1)),disabled:j===1,className:"px-3 py-1.5 bg-white border border-gray-300 text-gray-700 rounded hover:bg-gray-50 disabled:opacity-40 text-xs",children:"Previous"}),Array.from({length:Math.min(7,Nt)},(dt,kt)=>kt+1).map(dt=>e.jsx("button",{onClick:()=>C(dt),className:`px-3 py-1.5 rounded text-xs transition-colors ${j===dt?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:dt},dt)),e.jsx("button",{onClick:()=>C(dt=>Math.min(Nt,dt+1)),disabled:j>=Nt,className:"px-3 py-1.5 bg-white border border-gray-300 text-gray-700 rounded hover:bg-gray-50 disabled:opacity-40 text-xs",children:"Next"})]})]})]})})()}),e.jsx("div",{className:"flex justify-end px-6 py-3 bg-gray-50 border-t border-gray-200 rounded-b-lg flex-shrink-0",children:e.jsx("button",{onClick:()=>b(!1),className:"px-6 py-2 bg-white border border-gray-300 rounded hover:bg-gray-50 text-sm",children:"Close"})})]})}),f&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-lg flex-shrink-0",children:[e.jsx("h2",{className:"text-gray-900 font-semibold text-sm",children:"Additional OT per Week"}),e.jsx("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-3 border-b border-gray-100 flex-shrink-0",children:[e.jsx("label",{className:"text-gray-600 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:k,onChange:qe=>{E(qe.target.value),P(1)},autoFocus:!0,className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-52"})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:_?e.jsxs("div",{className:"flex items-center justify-center py-16 gap-3 text-gray-400",children:[e.jsx(Ea,{className:"w-5 h-5 animate-spin text-blue-500"}),e.jsx("span",{className:"text-sm",children:"Loading"})]}):(()=>{const qe=le.filter(dt=>k===""||String(dt.refCode).includes(k)||dt.day.toLowerCase().includes(k.toLowerCase())||dt.regularDay.toLowerCase().includes(k.toLowerCase())||dt.restDay.toLowerCase().includes(k.toLowerCase())||dt.legal.toLowerCase().includes(k.toLowerCase())||dt.special.toLowerCase().includes(k.toLowerCase())),Nt=Math.ceil(qe.length/Ie),gt=qe.slice((S-1)*Ie,S*Ie);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 sticky top-0 z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 font-semibold whitespace-nowrap",children:"Ref Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 font-semibold whitespace-nowrap",children:"Day"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 font-semibold whitespace-nowrap",children:"Regular Day"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 font-semibold whitespace-nowrap",children:"Rest Day"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 font-semibold whitespace-nowrap",children:"Legal"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 font-semibold whitespace-nowrap",children:"Special"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:gt.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-10 text-center text-gray-400",children:le.length===0?"No records found.":"No results match your search."})}):gt.map(dt=>e.jsxs("tr",{onClick:()=>{const kt=String(dt.refCode);s(kt),N(!1),st(kt)},className:"hover:bg-blue-50 cursor-pointer transition-colors",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900 font-medium",children:dt.refCode}),e.jsx("td",{className:"px-4 py-3 text-gray-700",children:dt.day}),e.jsx("td",{className:"px-4 py-3 text-gray-700",children:dt.regularDay}),e.jsx("td",{className:"px-4 py-3 text-gray-700",children:dt.restDay}),e.jsx("td",{className:"px-4 py-3 text-gray-700",children:dt.legal}),e.jsx("td",{className:"px-4 py-3 text-gray-700",children:dt.special})]},dt.refCode))})]})}),Nt>1&&e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-t border-gray-100 bg-gray-50",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:["Showing ",Math.min((S-1)*Ie+1,qe.length),"",Math.min(S*Ie,qe.length)," of ",qe.length," records"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>P(dt=>Math.max(1,dt-1)),disabled:S===1,className:"px-3 py-1.5 bg-white border border-gray-300 text-gray-700 rounded hover:bg-gray-50 disabled:opacity-40 text-xs",children:"Previous"}),Array.from({length:Math.min(7,Nt)},(dt,kt)=>kt+1).map(dt=>e.jsx("button",{onClick:()=>P(dt),className:`px-3 py-1.5 rounded text-xs transition-colors ${S===dt?"bg-blue-500 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:dt},dt)),e.jsx("button",{onClick:()=>P(dt=>Math.min(Nt,dt+1)),disabled:S>=Nt,className:"px-3 py-1.5 bg-white border border-gray-300 text-gray-700 rounded hover:bg-gray-50 disabled:opacity-40 text-xs",children:"Next"})]})]})]})})()}),e.jsx("div",{className:"flex-shrink-0 border-t border-gray-200 px-6 py-3 bg-gray-50 rounded-b-lg",children:e.jsx("button",{onClick:()=>N(!1),className:"px-6 py-2 bg-white border border-gray-300 rounded hover:bg-gray-50 text-sm",children:"Close"})})]})}),e.jsx(Zt,{})]})}function TJ(){const[t,s]=o.useState(!1),[a,r]=o.useState(!1),[n,l]=o.useState(!1),[i,d]=o.useState(""),[x,h]=o.useState(""),[m,b]=o.useState(""),[f,N]=o.useState(1),[p,v]=o.useState(1),[y,g]=o.useState(null),[j,C]=o.useState(null),[S,P]=o.useState(!1),[k,E]=o.useState({code:"",desc:"",afterTheShift:"",withinTheShiftND:"",afterTheShiftND:"",otPremiumAfterTheShift:"",otPremiumWithinTheShift:"",doleRegDay:""}),[M,L]=o.useState([]),[O,q]=o.useState(!1),[B,se]=o.useState(""),[le,pe]=o.useState([]),[U,Y]=o.useState(!1);o.useEffect(()=>{W()},[]);const W=async()=>{q(!0),se("");try{const be=await ne.get("/Fs/Process/Overtime/RegularDayOTRateSetUp");be.status===200&&be.data&&L(be.data)}catch(be){const Me=be.response?.data?.message||be.message||"Failed to load regular overtime data";se(Me),console.error("Error fetching regular OT data:",be)}finally{q(!1)}},re=async()=>{Y(!0);try{const be=await ne.get("/Fs/Process/Overtime/OverTimeFileSetUp");be.status===200&&be.data&&pe(be.data)}catch(be){console.error("Error fetching OT codes:",be)}finally{Y(!1)}},G=M.filter(be=>be.code.toLowerCase().includes(i.toLowerCase())||be.desc.toLowerCase().includes(i.toLowerCase())),R=le.filter(be=>be.otfCode.toLowerCase().includes(m.toLowerCase())||be.description.toLowerCase().includes(m.toLowerCase())),F=10,A=Math.ceil(G.length/F),H=(f-1)*F,D=H+F,_=G.slice(H,D),xe=10,ge=Math.ceil(R.length/xe),Ne=(p-1)*xe,Ce=Ne+xe,fe=R.slice(Ne,Ce);o.useEffect(()=>{N(1)},[i]);const ue=()=>{E({code:"",desc:"",afterTheShift:"",withinTheShiftND:"",afterTheShiftND:"",otPremiumAfterTheShift:"",otPremiumWithinTheShift:"",doleRegDay:""}),g(null),s(!0)},Oe=be=>{g(be),E({code:be.code,desc:be.desc,afterTheShift:be.afterTheShift,withinTheShiftND:be.withinTheShiftND,afterTheShiftND:be.afterTheShiftND,otPremiumAfterTheShift:be.otPremiumAfterTheShift,otPremiumWithinTheShift:be.otPremiumWithinTheShift,doleRegDay:be.doleRegDay}),s(!0)},De=be=>{C(be),l(!0)},Ae=be=>{h(be),b(""),v(1),re(),r(!0)},Ee=be=>{E(Me=>({...Me,[x]:be})),r(!1)},ze=be=>{E(Me=>({...Me,[be]:""}))},ot=async be=>{if((await ee.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete "${be.code} - ${be.desc}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ne.delete(`/Fs/Process/Overtime/RegularDayOTRateSetUp/${be.id}`),await ee.fire({icon:"success",title:"Success",text:"Record deleted successfully.",timer:2e3,showConfirmButton:!1}),await W()}catch(Re){await ee.fire({icon:"error",title:"Error",text:Re.response?.data?.message||Re.message||"Failed to delete record"})}},wt=async()=>{if(!k.code.trim()){await ee.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(k.code.length>10){await ee.fire({icon:"warning",title:"Validation Error",text:"Code must be 10 characters or less."});return}if(!k.desc.trim()){await ee.fire({icon:"warning",title:"Validation Error",text:"Description is required."});return}if(M.some(Me=>(!y||Me.id!==y.id)&&Me.code.toLowerCase()===k.code.toLowerCase())){await ee.fire({icon:"error",title:"Duplicate Code",text:"A record with this code already exists."});return}P(!0);try{const Me={id:y?y.id:0,code:k.code,desc:k.desc,afterTheShift:k.afterTheShift,withinTheShiftND:k.withinTheShiftND,afterTheShiftND:k.afterTheShiftND,otPremiumAfterTheShift:k.otPremiumAfterTheShift,otPremiumWithinTheShift:k.otPremiumWithinTheShift,doleRegDay:k.doleRegDay};y?(await ne.put(`/Fs/Process/Overtime/RegularDayOTRateSetUp/${y.id}`,Me),await ee.fire({icon:"success",title:"Success",text:"Record updated successfully.",timer:2e3,showConfirmButton:!1})):(await ne.post("/Fs/Process/Overtime/RegularDayOTRateSetUp",Me),await ee.fire({icon:"success",title:"Success",text:"Record created successfully.",timer:2e3,showConfirmButton:!1})),await W(),s(!1),g(null)}catch(Me){await ee.fire({icon:"error",title:"Error",text:Me.response?.data?.message||Me.message||"An error occurred"})}finally{P(!1)}},Ie=()=>{s(!1),r(!1),l(!1),g(null),C(null)};o.useEffect(()=>{const be=Me=>{Me.key==="Escape"&&(n?l(!1):a?r(!1):t&&s(!1))};return(a||t||n)&&document.addEventListener("keydown",be),()=>document.removeEventListener("keydown",be)},[a,t,n]);const ye=(be,Me)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("label",{className:"w-64 text-gray-700 text-sm",children:[be," :"]}),e.jsx("input",{type:"text",value:k[Me],readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-gray-50 text-sm"}),e.jsx("button",{type:"button",onClick:()=>Ae(Me),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex-shrink-0",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>ze(Me),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex-shrink-0",children:e.jsx(et,{className:"w-4 h-4"})})]});return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Regular Day OT Rate Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define regular day overtime rate codes and their corresponding overtime premiums. Configure rates for within shift, after shift, and night differential scenarios to ensure accurate overtime calculations."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Within shift OT configurations","After shift OT premium rates","Night differential premiums","DOLE regular day compliance"].map(be=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:be})]},be))})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs("button",{onClick:ue,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(fs,{className:"w-4 h-4"})," Create New"]}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:i,onChange:be=>d(be.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-lg",children:O?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading records..."})}):B?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:B})}):e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description "}),e.jsx("th",{className:"px-4 py-2 text-center text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:_.length>0?_.map(be=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:be.code}),e.jsx("td",{className:"px-4 py-2",children:be.desc}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>De(be),className:"p-1 text-green-600 hover:bg-green-100 rounded transition-colors",title:"Details",children:e.jsx(qp,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>Oe(be),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>ot(be),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},be.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-6 py-16 text-center text-gray-500",children:"No data available in table"})})})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",H+1," to ",Math.min(D,G.length)," of ",G.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>N(be=>Math.max(1,be-1)),disabled:f===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",children:"Previous"}),[...Array(A)].map((be,Me)=>e.jsx("button",{onClick:()=>N(Me+1),className:`px-3 py-1 rounded ${f===Me+1?"bg-orange-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Me+1},Me)),e.jsx("button",{onClick:()=>N(be=>Math.min(A,be+1)),disabled:f===A,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",children:"Next"})]})]})]})]})}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto relative",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0 z-[1]",children:[e.jsx("h2",{className:"text-gray-900",children:y?"Edit":"Create New"}),e.jsx("button",{onClick:Ie,className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Regular Day OT Rate Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-64 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:k.code,onChange:be=>E({...k,code:be.target.value}),maxLength:10,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Max 10 characters"}),e.jsxs("span",{className:"text-xs text-gray-500 w-16 text-right",children:[k.code.length,"/10"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-64 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:k.desc,onChange:be=>E({...k,desc:be.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),ye("After the Shift","afterTheShift"),ye("Within the Shift with ND","withinTheShiftND"),ye("After the Shift with ND","afterTheShiftND"),ye("OT Premium After the Shift","otPremiumAfterTheShift"),ye("OT Premium Within the Shift","otPremiumWithinTheShift"),ye("DOLE Regular Day","doleRegDay")]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:wt,disabled:S,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm text-sm",children:S?y?"Updating...":"Submitting...":y?"Update":"Submit"}),e.jsx("button",{onClick:Ie,disabled:S,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm text-sm",children:"Back to List"})]})]}),a&&e.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center z-[10] rounded-lg p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl",style:{maxHeight:"85vh",display:"flex",flexDirection:"column"},children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-300 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-t-lg flex-shrink-0",children:[e.jsx("h2",{className:"text-gray-900 text-lg font-semibold",children:"Overtime Code"}),e.jsx("button",{onClick:()=>r(!1),className:"text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 py-4 bg-white border-b border-gray-200 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center gap-3 justify-end",children:[e.jsx("label",{className:"text-gray-700 font-medium",children:"Search:"}),e.jsx("input",{type:"text",value:m,onChange:be=>b(be.target.value),className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent w-80",placeholder:"Search by code or description..."})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:U?e.jsx("div",{className:"py-12 text-center text-gray-500",children:"Loading OT codes..."}):e.jsx("div",{className:"px-6 py-4",children:e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b border-gray-300",children:[e.jsxs("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:["Code ",e.jsx("span",{className:"text-gray-400",children:""})]}),e.jsxs("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:["Description ",e.jsx("span",{className:"text-gray-400",children:""})]}),e.jsxs("th",{className:"px-6 py-3 text-center text-sm font-semibold text-gray-700",children:["Rate ",e.jsx("span",{className:"text-gray-400",children:""})]}),e.jsxs("th",{className:"px-6 py-3 text-center text-sm font-semibold text-gray-700",children:["Default Amount ",e.jsx("span",{className:"text-gray-400",children:""})]})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:fe.length>0?fe.map((be,Me)=>e.jsxs("tr",{onClick:()=>Ee(be.otfCode),className:`cursor-pointer transition-colors ${Me%2===0?"bg-blue-50/30":"bg-white"} hover:bg-blue-100`,children:[e.jsx("td",{className:"px-6 py-3 text-sm text-blue-600 font-semibold",children:be.otfCode}),e.jsx("td",{className:"px-6 py-3 text-sm text-gray-900",children:be.description}),e.jsx("td",{className:"px-6 py-3 text-sm text-gray-900 text-center",children:be.rate1.toFixed(2)}),e.jsx("td",{className:"px-6 py-3 text-sm text-gray-900 text-center",children:be.defAmt.toFixed(2)})]},be.otfid)):e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"py-12 text-center text-gray-500",children:"No OT codes found."})})})]})})})}),e.jsx("div",{className:"px-6 py-4 border-t border-gray-300 bg-white rounded-b-lg flex-shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-gray-600 text-sm",children:["Showing ",Ne+1," to ",Math.min(Ce,R.length)," of ",R.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>v(be=>Math.max(1,be-1)),disabled:p===1,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium transition-colors",children:"Previous"}),[...Array(Math.min(5,ge))].map((be,Me)=>e.jsx("button",{onClick:()=>v(Me+1),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${p===Me+1?"bg-orange-500 text-white shadow-sm":"border border-gray-300 hover:bg-gray-50"}`,children:Me+1},Me)),e.jsx("button",{onClick:()=>v(be=>Math.min(ge,be+1)),disabled:p===ge,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium transition-colors",children:"Next"})]})]})})]})})]})}),n&&j&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800 font-semibold",children:"Details"}),e.jsx("button",{onClick:()=>l(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 text-xl font-semibold mb-6",children:"Regular Day OT Rate Setup"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"Code :"}),e.jsx("span",{className:"text-gray-700",children:j.code})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"Description :"}),e.jsx("span",{className:"text-gray-700",children:j.desc})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"After the Shift :"}),e.jsx("span",{className:"text-gray-700",children:j.afterTheShift||""})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"Within the Shift with ND :"}),e.jsx("span",{className:"text-gray-700",children:j.withinTheShiftND||""})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"After the Shift with ND :"}),e.jsx("span",{className:"text-gray-700",children:j.afterTheShiftND||""})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"OT Premium After the Shift :"}),e.jsx("span",{className:"text-gray-700",children:j.otPremiumAfterTheShift||""})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"OT Premium Within the Shift :"}),e.jsx("span",{className:"text-gray-700",children:j.otPremiumWithinTheShift||""})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"DOLE Regular Day :"}),e.jsx("span",{className:"text-gray-700",children:j.doleRegDay||""})]})]})]})]})}),e.jsx(Zt,{})]})}function AJ(){const[t,s]=o.useState(!1),[a,r]=o.useState(!1),[n,l]=o.useState(!1),[i,d]=o.useState(""),[x,h]=o.useState(""),[m,b]=o.useState(""),[f,N]=o.useState(1),[p,v]=o.useState(1),[y,g]=o.useState(null),[j,C]=o.useState(null),[S,P]=o.useState(!1),[k,E]=o.useState({code:"",desc:"",withinTheShift:"",afterTheShift:"",withinTheShiftWithND:"",afterTheShiftWithND:"",otPremiumWithinTheShiftWithND:"",otPremiumAfterTheShiftWithND:"",equiOTCode:"",eqOTCodeAftrShfForNoOfHrs:"",eqOTCodeAftrShfNDForNoOfHrs:""}),[M,L]=o.useState([]),[O,q]=o.useState(!1),[B,se]=o.useState(""),[le,pe]=o.useState([]),[U,Y]=o.useState(!1);o.useEffect(()=>{W()},[]);const W=async()=>{q(!0),se("");try{const be=await ne.get("/Fs/Process/Overtime/RestDayOTRateSetUp");be.status===200&&be.data&&L(be.data)}catch(be){const Me=be.response?.data?.message||be.message||"Failed to load rest day overtime data";se(Me),console.error("Error fetching rest day OT data:",be)}finally{q(!1)}},re=async()=>{Y(!0);try{const be=await ne.get("/Fs/Process/Overtime/OverTimeFileSetUp");be.status===200&&be.data&&pe(be.data)}catch(be){console.error("Error fetching OT codes:",be)}finally{Y(!1)}},G=M.filter(be=>be.code.toLowerCase().includes(i.toLowerCase())||be.desc.toLowerCase().includes(i.toLowerCase())),R=le.filter(be=>be.otfCode.toLowerCase().includes(m.toLowerCase())||be.description.toLowerCase().includes(m.toLowerCase())),F=10,A=Math.ceil(G.length/F),H=(f-1)*F,D=H+F,_=G.slice(H,D),xe=10,ge=Math.ceil(R.length/xe),Ne=(p-1)*xe,Ce=Ne+xe,fe=R.slice(Ne,Ce);o.useEffect(()=>{N(1)},[i]);const ue=()=>{E({code:"",desc:"",withinTheShift:"",afterTheShift:"",withinTheShiftWithND:"",afterTheShiftWithND:"",otPremiumWithinTheShiftWithND:"",otPremiumAfterTheShiftWithND:"",equiOTCode:"",eqOTCodeAftrShfForNoOfHrs:"",eqOTCodeAftrShfNDForNoOfHrs:""}),g(null),s(!0)},Oe=be=>{g(be),E({code:be.code,desc:be.desc,withinTheShift:be.withinTheShift,afterTheShift:be.afterTheShift,withinTheShiftWithND:be.withinTheShiftWithND,afterTheShiftWithND:be.afterTheShiftWithND,otPremiumWithinTheShiftWithND:be.otPremiumWithinTheShiftWithND,otPremiumAfterTheShiftWithND:be.otPremiumAfterTheShiftWithND,equiOTCode:be.equiOTCode,eqOTCodeAftrShfForNoOfHrs:be.eqOTCodeAftrShfForNoOfHrs,eqOTCodeAftrShfNDForNoOfHrs:be.eqOTCodeAftrShfNDForNoOfHrs}),s(!0)},De=be=>{C(be),l(!0)},Ae=be=>{h(be),b(""),v(1),re(),r(!0)},Ee=be=>{E(Me=>({...Me,[x]:be})),r(!1)},ze=be=>{E(Me=>({...Me,[be]:""}))},ot=async be=>{if((await ee.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete "${be.code} - ${be.desc}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ne.delete(`/Fs/Process/Overtime/RestDayOTRateSetUp/${be.id}`),await ee.fire({icon:"success",title:"Success",text:"Record deleted successfully.",timer:2e3,showConfirmButton:!1}),await W()}catch(Re){await ee.fire({icon:"error",title:"Error",text:Re.response?.data?.message||Re.message||"Failed to delete record"})}},wt=async()=>{if(!k.code.trim()){await ee.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(k.code.length>10){await ee.fire({icon:"warning",title:"Validation Error",text:"Code must be 10 characters or less."});return}if(!k.desc.trim()){await ee.fire({icon:"warning",title:"Validation Error",text:"Description is required."});return}if(M.some(Me=>(!y||Me.id!==y.id)&&Me.code.toLowerCase()===k.code.toLowerCase())){await ee.fire({icon:"error",title:"Duplicate Code",text:"A record with this code already exists."});return}P(!0);try{const Me={id:y?y.id:0,code:k.code,desc:k.desc,withinTheShift:k.withinTheShift,afterTheShift:k.afterTheShift,withinTheShiftWithND:k.withinTheShiftWithND,afterTheShiftWithND:k.afterTheShiftWithND,otPremiumWithinTheShiftWithND:k.otPremiumWithinTheShiftWithND,otPremiumAfterTheShiftWithND:k.otPremiumAfterTheShiftWithND,equiOTCode:k.equiOTCode,eqOTCodeAftrShfForNoOfHrs:k.eqOTCodeAftrShfForNoOfHrs,eqOTCodeAftrShfNDForNoOfHrs:k.eqOTCodeAftrShfNDForNoOfHrs};y?(await ne.put(`/Fs/Process/Overtime/RestDayOTRateSetUp/${y.id}`,Me),await ee.fire({icon:"success",title:"Success",text:"Record updated successfully.",timer:2e3,showConfirmButton:!1})):(await ne.post("/Fs/Process/Overtime/RestDayOTRateSetUp",Me),await ee.fire({icon:"success",title:"Success",text:"Record created successfully.",timer:2e3,showConfirmButton:!1})),await W(),s(!1),g(null)}catch(Me){await ee.fire({icon:"error",title:"Error",text:Me.response?.data?.message||Me.message||"An error occurred"})}finally{P(!1)}},Ie=()=>{s(!1),r(!1),l(!1),g(null),C(null)};o.useEffect(()=>{const be=Me=>{Me.key==="Escape"&&(n?l(!1):a?r(!1):t&&s(!1))};return(a||t||n)&&document.addEventListener("keydown",be),()=>document.removeEventListener("keydown",be)},[a,t,n]);const ye=(be,Me)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("label",{className:"w-56 text-gray-700 text-sm",children:[be," :"]}),e.jsx("input",{type:"text",value:k[Me],readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-gray-50 text-sm"}),e.jsx("button",{type:"button",onClick:()=>Ae(Me),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex-shrink-0",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>ze(Me),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex-shrink-0",children:e.jsx(et,{className:"w-4 h-4"})})]});return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Rest Day OT Rate Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure rest day overtime rate codes and premium calculations. Define rates for within shift, after shift, night differential scenarios, and equivalent overtime codes for accurate rest day pay computations."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Rest day within/after shift rates","Night differential premium setup","OT premium configurations","Equivalent code for hours mapping"].map(be=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:be})]},be))})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs("button",{onClick:ue,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(fs,{className:"w-4 h-4"})," Create New"]}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:i,onChange:be=>d(be.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-lg",children:O?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading records..."})}):B?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:B})}):e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description "}),e.jsx("th",{className:"px-4 py-2 text-center text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:_.length>0?_.map(be=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:be.code}),e.jsx("td",{className:"px-4 py-2",children:be.desc}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>De(be),className:"p-1 text-green-600 hover:bg-green-100 rounded transition-colors",title:"Details",children:e.jsx(qp,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>Oe(be),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>ot(be),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},be.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-6 py-16 text-center text-gray-500",children:"No data available in table"})})})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",H+1," to ",Math.min(D,G.length)," of ",G.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>N(be=>Math.max(1,be-1)),disabled:f===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",children:"Previous"}),[...Array(A)].map((be,Me)=>e.jsx("button",{onClick:()=>N(Me+1),className:`px-3 py-1 rounded ${f===Me+1?"bg-orange-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Me+1},Me)),e.jsx("button",{onClick:()=>N(be=>Math.min(A,be+1)),disabled:f===A,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",children:"Next"})]})]})]})]})}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto relative",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0 z-[1]",children:[e.jsx("h2",{className:"text-gray-900",children:y?"Edit":"Create New"}),e.jsx("button",{onClick:Ie,className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Rest Day OT Rate Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:k.code,onChange:be=>E({...k,code:be.target.value}),maxLength:10,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Max 10 characters"}),e.jsxs("span",{className:"text-xs text-gray-500 w-16 text-right",children:[k.code.length,"/10"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:k.desc,onChange:be=>E({...k,desc:be.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),ye("Within the Shift","withinTheShift"),ye("After the Shift","afterTheShift"),ye("Within the Shift with ND","withinTheShiftWithND"),ye("After the Shift with ND","afterTheShiftWithND"),ye("OT Premium Within the Shift with ND","otPremiumWithinTheShiftWithND"),ye("OT Premium After the Shift with ND","otPremiumAfterTheShiftWithND"),ye("Equivalent Overtime Code","equiOTCode"),e.jsxs("div",{className:"mt-3 border border-orange-300 bg-orange-50 p-3 rounded",children:[e.jsx("h4",{className:"text-orange-700 mb-2 text-sm",children:"Equivalent OT Code for No of Hrs"}),e.jsxs("div",{className:"space-y-2",children:[ye("After the Shift","eqOTCodeAftrShfForNoOfHrs"),ye("After the Shift with ND","eqOTCodeAftrShfNDForNoOfHrs")]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:wt,disabled:S,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm text-sm",children:S?y?"Updating...":"Submitting...":y?"Update":"Submit"}),e.jsx("button",{onClick:Ie,disabled:S,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm text-sm",children:"Back to List"})]})]}),a&&e.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center z-[10] rounded-lg p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl",style:{maxHeight:"85vh",display:"flex",flexDirection:"column"},children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg flex-shrink-0",children:[e.jsx("h2",{className:"text-gray-800 text-lg font-semibold",children:"Overtime Code"}),e.jsx("button",{onClick:()=>r(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 py-3 border-b border-gray-100 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:m,onChange:be=>b(be.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-80"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:U?e.jsx("div",{className:"py-8 text-center text-gray-500 text-sm",children:"Loading OT codes..."}):e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{className:"bg-gray-100 border-b-2 border-gray-300 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Description "}),e.jsx("th",{className:"px-4 py-2 text-right text-gray-700 text-sm",children:"Rate "}),e.jsx("th",{className:"px-4 py-2 text-right text-gray-700 text-sm",children:"Default Amount "})]})}),e.jsx("tbody",{children:fe.length>0?fe.map(be=>e.jsxs("tr",{onClick:()=>Ee(be.otfCode),className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",children:[e.jsx("td",{className:"px-4 py-2 text-sm text-blue-600 font-medium",children:be.otfCode}),e.jsx("td",{className:"px-4 py-2 text-sm",children:be.description}),e.jsx("td",{className:"px-4 py-2 text-sm text-right",children:be.rate1.toFixed(2)}),e.jsx("td",{className:"px-4 py-2 text-sm text-right",children:be.defAmt.toFixed(2)})]},be.otfid)):e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"py-8 text-center text-gray-500 text-sm",children:"No OT codes found."})})})]})}),e.jsx("div",{className:"px-6 py-3 border-t border-gray-200 bg-gray-50 rounded-b-lg flex-shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-gray-600 text-sm",children:["Showing ",Ne+1," to ",Math.min(Ce,R.length)," of ",R.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>v(be=>Math.max(1,be-1)),disabled:p===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 text-sm",children:"Previous"}),[...Array(Math.min(5,ge))].map((be,Me)=>e.jsx("button",{onClick:()=>v(Me+1),className:`px-3 py-1 rounded text-sm ${p===Me+1?"bg-orange-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Me+1},Me)),e.jsx("button",{onClick:()=>v(be=>Math.min(ge,be+1)),disabled:p===ge,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 text-sm",children:"Next"})]})]})})]})})]})}),n&&j&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800 font-semibold",children:"Details"}),e.jsx("button",{onClick:()=>l(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Rest Day OT Rate Setup"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"Code :"}),e.jsx("span",{className:"text-gray-700",children:j.code})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"Description :"}),e.jsx("span",{className:"text-gray-700",children:j.desc})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"Within the Shift :"}),e.jsx("span",{className:"text-gray-700",children:j.withinTheShift||""})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"After the Shift :"}),e.jsx("span",{className:"text-gray-700",children:j.afterTheShift||""})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"Within the Shift with ND :"}),e.jsx("span",{className:"text-gray-700",children:j.withinTheShiftWithND||""})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"After the Shift with ND :"}),e.jsx("span",{className:"text-gray-700",children:j.afterTheShiftWithND||""})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"OT Premium Within the Shift with ND :"}),e.jsx("span",{className:"text-gray-700",children:j.otPremiumWithinTheShiftWithND||""})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"OT Premium After the Shift with ND :"}),e.jsx("span",{className:"text-gray-700",children:j.otPremiumAfterTheShiftWithND||""})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"Equivalent Overtime Code :"}),e.jsx("span",{className:"text-gray-700",children:j.equiOTCode||""})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsx("div",{className:"bg-gray-100 px-3 py-2 rounded mb-3",children:e.jsx("h4",{className:"text-gray-700 font-semibold",children:"Equivalent OT Code for No of Hrs"})}),e.jsxs("div",{className:"space-y-3 pl-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-72",children:"After the Shift :"}),e.jsx("span",{className:"text-gray-700",children:j.eqOTCodeAftrShfForNoOfHrs||""})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-72",children:"After the Shift with ND :"}),e.jsx("span",{className:"text-gray-700",children:j.eqOTCodeAftrShfNDForNoOfHrs||""})]})]})]})]})]})]})}),e.jsx(Zt,{})]})}function FJ(){const[t,s]=o.useState(!1),[a,r]=o.useState(!1),[n,l]=o.useState(""),[i,d]=o.useState(""),[x,h]=o.useState(""),[m,b]=o.useState(1),[f,N]=o.useState(1),[p,v]=o.useState(!1),[y,g]=o.useState(""),[j,C]=o.useState({referenceCode:"",monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:""}),[S,P]=o.useState([{referenceCode:"8AM7PM",monday:"6PM3AM",tuesday:"8AM7PM",wednesday:"8AM7PM",thursday:"8AM7PM",friday:"8AM5PM",saturday:"8AM5PM",sunday:"8AM5PM"},{referenceCode:"test",monday:"6PM3AM",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:""}]),[k]=o.useState([{code:"3PM12AM",description:"3PM TO 12AM"},{code:"6AM3PM",description:"6AM3PM"},{code:"6PM3AM",description:"6PM3AM"},{code:"724AM6PM",description:"7:24AM TO 6PM"},{code:"7AM4PM",description:"7AM to 4PM"},{code:"7AM530PM",description:"7AM TO 530PM"},{code:"7AM535PM",description:"7AM TO 535PM"},{code:"7AM5PM",description:"7AM to 5PM"},{code:"7AM6PM",description:"7AM to 6PM"},{code:"8AM5PM",description:"8AM to 5PM"},{code:"8AM7PM",description:"8AM to 7PM"},{code:"9AM6PM",description:"9AM to 6PM"}]),E=S.filter(_=>_.referenceCode.toLowerCase().includes(i.toLowerCase())),M=k.filter(_=>_.code.toLowerCase().includes(x.toLowerCase())||_.description.toLowerCase().includes(x.toLowerCase())),L=25,O=Math.ceil(E.length/L),q=(m-1)*L,B=q+L,se=E.slice(q,B),le=10,pe=Math.ceil(M.length/le),U=(f-1)*le,Y=U+le,W=M.slice(U,Y),re=()=>{C({referenceCode:"",monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:""}),v(!1),s(!0)},G=_=>{C({referenceCode:_.referenceCode,monday:_.monday,tuesday:_.tuesday,wednesday:_.wednesday,thursday:_.thursday,friday:_.friday,saturday:_.saturday,sunday:_.sunday}),g(_.referenceCode),v(!0),s(!0)},R=_=>{l(_),h(""),N(1),r(!0)},F=_=>{C({...j,[n]:_}),r(!1)},A=_=>{C({...j,[_]:""})},H=_=>{confirm("Are you sure you want to delete this entry?")&&P(xe=>xe.filter(ge=>ge.referenceCode!==_))},D=()=>{if(!j.referenceCode.trim()){alert("Please enter a Reference Code.");return}if(p)P(_=>_.map(xe=>xe.referenceCode===y?{referenceCode:j.referenceCode,monday:j.monday,tuesday:j.tuesday,wednesday:j.wednesday,thursday:j.thursday,friday:j.friday,saturday:j.saturday,sunday:j.sunday}:xe));else{if(S.some(xe=>xe.referenceCode===j.referenceCode)){alert("A Daily Schedule with this Reference Code already exists.");return}const _={referenceCode:j.referenceCode,monday:j.monday,tuesday:j.tuesday,wednesday:j.wednesday,thursday:j.thursday,friday:j.friday,saturday:j.saturday,sunday:j.sunday};P(xe=>[...xe,_])}s(!1),C({referenceCode:"",monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:""}),v(!1),g("")};return o.useEffect(()=>{const _=xe=>{xe.key==="Escape"&&(a?r(!1):t&&s(!1))};return(t||a)&&document.addEventListener("keydown",_),()=>{document.removeEventListener("keydown",_)}},[t,a]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Daily Schedule Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define daily work schedules by assigning workshift codes for each day of the week. Create reference codes that represent complete weekly schedule patterns for easy assignment to employees or groups."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Weekly schedule templates"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Day-specific workshift assignments"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Reference code organization"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Flexible schedule configurations"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:re,children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:i,onChange:_=>d(_.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Reference Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Monday"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Tuesday"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Wednesday"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Thursday"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Friday"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Saturday"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Sunday"}),e.jsx("th",{className:"px-4 py-2 text-center text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:se.map((_,xe)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:_.referenceCode}),e.jsx("td",{className:"px-4 py-2",children:_.monday}),e.jsx("td",{className:"px-4 py-2",children:_.tuesday}),e.jsx("td",{className:"px-4 py-2",children:_.wednesday}),e.jsx("td",{className:"px-4 py-2",children:_.thursday}),e.jsx("td",{className:"px-4 py-2",children:_.friday}),e.jsx("td",{className:"px-4 py-2",children:_.saturday}),e.jsx("td",{className:"px-4 py-2",children:_.sunday}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>G(_),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>H(_.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},xe))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",q+1," to ",Math.min(B,E.length)," of ",E.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",onClick:()=>b(_=>Math.max(1,_-1)),disabled:m===1,children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:m}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",onClick:()=>b(_=>Math.min(O,_+1)),disabled:m===O,children:"Next"})]})]}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Daily Schedule"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Reference Code :"}),e.jsx("input",{type:"text",value:j.referenceCode,onChange:_=>C({...j,referenceCode:_.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].map(_=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("label",{className:"w-32 text-gray-700 text-sm capitalize",children:[_," :"]}),e.jsx("input",{type:"text",value:j[_],onChange:xe=>C({...j,[_]:xe.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>R(_),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>A(_),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]},_))]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:D,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:p?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),a&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:()=>r(!1)}),e.jsx("div",{className:"fixed inset-0 bg-transparent flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:"Search"}),e.jsx("button",{onClick:()=>r(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Workshift Code"}),e.jsxs("div",{className:"flex items-center gap-2 mb-4 justify-end",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:x,onChange:_=>h(_.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]}),e.jsx("div",{className:"border border-gray-200 rounded",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Code "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Description"})]})}),e.jsx("tbody",{children:W.map((_,xe)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>F(_.code),children:[e.jsx("td",{className:"px-3 py-1.5",children:_.code}),e.jsx("td",{className:"px-3 py-1.5",children:_.description})]},xe))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",U+1," to ",Math.min(Y,M.length)," of ",M.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 text-xs",onClick:()=>N(_=>Math.max(1,_-1)),disabled:f===1,children:"Previous"}),e.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded text-xs",children:f}),f<pe&&e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",onClick:()=>N(f+1),children:f+1}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 text-xs",onClick:()=>N(_=>Math.min(pe,_+1)),disabled:f===pe,children:"Next"})]})]})]})]})})]})]})]})}),e.jsx(Zt,{})]})}function PJ(){const[t,s]=o.useState(!1),[a,r]=o.useState(""),[n,l]=o.useState(1),[i,d]=o.useState(!1),[x,h]=o.useState(""),[m,b]=o.useState({referenceNo:"",week1Day1:"",week1Day2:"",week1Day3:"",week2Day1:"",week2Day2:"",week2Day3:""}),[f,N]=o.useState([{code:"11",week1Day1:"Monday",week1Day2:"",week1Day3:"",week2Day1:"",week2Day2:"",week2Day3:""},{code:"A",week1Day1:"Monday",week1Day2:"Tuesday",week1Day3:"",week2Day1:"",week2Day2:"",week2Day3:""}]),p=["","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],v=f.filter(L=>L.code.toLowerCase().includes(a.toLowerCase())),y=25,g=Math.ceil(v.length/y),j=(n-1)*y,C=j+y,S=v.slice(j,C),P=()=>{b({referenceNo:"",week1Day1:"",week1Day2:"",week1Day3:"",week2Day1:"",week2Day2:"",week2Day3:""}),d(!1),s(!0)},k=L=>{b({referenceNo:L.code,week1Day1:L.week1Day1,week1Day2:L.week1Day2,week1Day3:L.week1Day3,week2Day1:L.week2Day1,week2Day2:L.week2Day2,week2Day3:L.week2Day3}),d(!0),h(L.code),s(!0)},E=L=>{confirm("Are you sure you want to delete this entry?")&&N(O=>O.filter(q=>q.code!==L))},M=()=>{if(!m.referenceNo.trim()){alert("Please enter a Reference No.");return}if(i)N(L=>L.map(O=>O.code===x?{code:m.referenceNo,week1Day1:m.week1Day1,week1Day2:m.week1Day2,week1Day3:m.week1Day3,week2Day1:m.week2Day1,week2Day2:m.week2Day2,week2Day3:m.week2Day3}:O));else{if(f.some(O=>O.code===m.referenceNo)){alert("A Rest Day Setup with this Reference No. already exists.");return}const L={code:m.referenceNo,week1Day1:m.week1Day1,week1Day2:m.week1Day2,week1Day3:m.week1Day3,week2Day1:m.week2Day1,week2Day2:m.week2Day2,week2Day3:m.week2Day3};N(O=>[...O,L])}s(!1),b({referenceNo:"",week1Day1:"",week1Day2:"",week1Day3:"",week2Day1:"",week2Day2:"",week2Day3:""}),d(!1),h("")};return o.useEffect(()=>{const L=O=>{O.key==="Escape"&&t&&s(!1)};return t&&document.addEventListener("keydown",L),()=>{document.removeEventListener("keydown",L)}},[t]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Rest Day Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define rest day schedules by specifying up to three rest days per week over a two-week cycle. Create reference codes that represent complete rest day patterns for easy assignment to employees or groups."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Two-week rest day patterns"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Up to 3 rest days per week"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Reference code organization"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Flexible schedule configurations"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:P,children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:a,onChange:L=>r(L.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsxs("thead",{children:[e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",rowSpan:2,children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-center text-gray-700 border-l border-gray-300",colSpan:3,children:"Week 1"}),e.jsx("th",{className:"px-4 py-2 text-center text-gray-700 border-l border-gray-300",colSpan:3,children:"Week 2"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 border-l border-gray-300",rowSpan:2})]}),e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 border-l border-gray-300",children:"Day 1"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 border-l border-gray-300",children:"Day 2"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 border-l border-gray-300",children:"Day 3"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 border-l border-gray-300",children:"Day 1"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 border-l border-gray-300",children:"Day 2"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 border-l border-gray-300",children:"Day 3"})]})]}),e.jsx("tbody",{children:S.map((L,O)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:L.code}),e.jsx("td",{className:"px-4 py-2 border-l border-gray-200",children:L.week1Day1}),e.jsx("td",{className:"px-4 py-2 border-l border-gray-200",children:L.week1Day2}),e.jsx("td",{className:"px-4 py-2 border-l border-gray-200",children:L.week1Day3}),e.jsx("td",{className:"px-4 py-2 border-l border-gray-200",children:L.week2Day1}),e.jsx("td",{className:"px-4 py-2 border-l border-gray-200",children:L.week2Day2}),e.jsx("td",{className:"px-4 py-2 border-l border-gray-200",children:L.week2Day3}),e.jsx("td",{className:"px-4 py-2 border-l border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>k(L),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>E(L.code),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},O))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",j+1," to ",Math.min(C,v.length)," of ",v.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",onClick:()=>l(L=>Math.max(1,L-1)),disabled:n===1,children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:n}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",onClick:()=>l(L=>Math.min(g,L+1)),disabled:n===g,children:"Next"})]})]}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Rest Day Setup"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Reference No :"}),e.jsx("input",{type:"text",value:m.referenceNo,onChange:L=>b({...m,referenceNo:L.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("h4",{className:"text-blue-600 text-sm mt-4",children:"Week 1"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"RestDay 1 :"}),e.jsx("select",{value:m.week1Day1,onChange:L=>b({...m,week1Day1:L.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:p.map((L,O)=>e.jsx("option",{value:L,children:L},O))})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"RestDay 2 :"}),e.jsx("select",{value:m.week1Day2,onChange:L=>b({...m,week1Day2:L.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:p.map((L,O)=>e.jsx("option",{value:L,children:L},O))})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"RestDay 3 :"}),e.jsx("select",{value:m.week1Day3,onChange:L=>b({...m,week1Day3:L.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:p.map((L,O)=>e.jsx("option",{value:L,children:L},O))})]}),e.jsx("h4",{className:"text-blue-600 text-sm mt-4",children:"Week 2"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"RestDay 1 :"}),e.jsx("select",{value:m.week2Day1,onChange:L=>b({...m,week2Day1:L.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:p.map((L,O)=>e.jsx("option",{value:L,children:L},O))})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"RestDay 2 :"}),e.jsx("select",{value:m.week2Day2,onChange:L=>b({...m,week2Day2:L.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:p.map((L,O)=>e.jsx("option",{value:L,children:L},O))})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"RestDay 3 :"}),e.jsx("select",{value:m.week2Day3,onChange:L=>b({...m,week2Day3:L.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:p.map((L,O)=>e.jsx("option",{value:L,children:L},O))})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:M,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:i?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]})]})}),e.jsx(Zt,{})]})}function MJ(){const[t,s]=o.useState(!1),[a,r]=o.useState(!1),[n,l]=o.useState(!1),[i,d]=o.useState(""),[x,h]=o.useState(!1),[m,b]=o.useState("tardiness"),[f,N]=o.useState(""),[p,v]=o.useState(""),[y,g]=o.useState(1),[j,C]=o.useState(!1),[S,P]=o.useState(""),[k,E]=o.useState(null),[M,L]=o.useState(3),[O,q]=o.useState(0),[B,se]=o.useState("PM"),le=ye=>{let Me=ye.replace(/[^\d:]/g,"").replace(/:/g,"");return Me=Me.slice(0,4),Me.length>=3?Me.slice(0,2)+":"+Me.slice(2):Me.length>=1?Me:""},pe=ye=>{let Me=ye.replace(/[^\d:APMapm\s]/g,"").replace(/[^\d]/g,""),Re="";const st=ye.toUpperCase();st.includes("AM")?Re="AM":st.includes("PM")&&(Re="PM"),Me=Me.slice(0,4);let He="";if(Me.length>=3){let Ue=Me.slice(0,2),Ye=Me.slice(2,4),ht=parseInt(Ue);ht>12&&(Ue="12"),ht===0&&(Ue="01"),parseInt(Ye)>59&&(Ye="59"),He=Ue+":"+Ye}else Me.length>=1&&(He=Me);return He&&Re?He+" "+Re:He},U=[{code:"TARDY",description:"Tardiness Bracket",flag:"TARDINESS"},{code:"UNDER",description:"Undertime Bracket",flag:"UNDERTIME"},{code:"COMBO",description:"Combined Bracket",flag:"COMBINED"}],[Y,W]=o.useState({code:"",description:"",timeIn:"03:00 PM",break1Out:"",break1In:"",break2Out:"",break2In:"",break3Out:"",break3In:"",timeOut:"12:00 AM",halfOfShift:"",midnightShift:!1,shift12AMOnwards:!1,flexibleWorkshift:!1,flexibleBaseOnWorkshift:!1,flexibleBreak:!1,maxAllowableBreak2:"",inExcessAllowableBreak2ForFlexiBreak:!1,computeAsTardiness:!1,computeAsUndertime:!1,standardHours:"8.00",hoursForAbsent:"8.00",hoursForNoLogin:"4.00",hoursForNoLogout:"4.00",hoursForNoBreak2Out:"",hoursForNoBreak2In:"",paidUnworkedHoliday:"8.00",minHoursToCompleteShift:"0.00",completeShiftWithUndertime:!1,loginTimeConsiderAbsent:"",allowFlexibleTimeIn:"",brkRoundUpNearest:"",hoursForOTCode:"",requiredHours:"",requiredHoursPayIfPaidLeave:"0.00",secondShiftForRawData:!1,deductBreak1Overbreak:!1,flexibleBreak1:!1,deductBreak3Overbreak:!1,flexibleBreak3:!1,combineBreak1And3:!1,computeAsTardinessCombine:!1,computeAsUndertimeCombine:!1,tardiness:"",undertime:""}),[re,G]=o.useState([{code:"3PM12AM",description:"3PM TO 12AM",timeIn:"03:00 PM",break1Out:"",break1In:"",break2Out:"",break2In:"",break3Out:"",break3In:"",timeOut:"12:00 AM",halfOfShift:"",midnightShift:!1,shift12AMOnwards:!1,flexibleWorkshift:!1,flexibleBaseOnWorkshift:!1,flexibleBreak:!1,maxAllowableBreak2:"",inExcessAllowableBreak2ForFlexiBreak:!1,computeAsTardiness:!1,computeAsUndertime:!1,standardHours:"8.00",hoursForAbsent:"8.00",hoursForNoLogin:"4.00",hoursForNoLogout:"4.00",hoursForNoBreak2Out:"",hoursForNoBreak2In:"",paidUnworkedHoliday:"8.00",minHoursToCompleteShift:"0.00",completeShiftWithUndertime:!1,loginTimeConsiderAbsent:"",allowFlexibleTimeIn:"",brkRoundUpNearest:"",hoursForOTCode:"",requiredHours:"",requiredHoursPayIfPaidLeave:"0.00",secondShiftForRawData:!1,deductBreak1Overbreak:!1,flexibleBreak1:!1,deductBreak3Overbreak:!1,flexibleBreak3:!1,combineBreak1And3:!1,computeAsTardinessCombine:!1,computeAsUndertimeCombine:!1,tardiness:"",undertime:""},{code:"6AM3PM",description:"6AM3PM",timeIn:"06:00 AM",break1Out:"",break1In:"",break2Out:"",break2In:"",break3Out:"",break3In:"",timeOut:"03:00 PM",halfOfShift:"",midnightShift:!1,shift12AMOnwards:!1,flexibleWorkshift:!1,flexibleBaseOnWorkshift:!1,flexibleBreak:!1,maxAllowableBreak2:"",inExcessAllowableBreak2ForFlexiBreak:!1,computeAsTardiness:!1,computeAsUndertime:!1,standardHours:"8.00",hoursForAbsent:"8.00",hoursForNoLogin:"4.00",hoursForNoLogout:"4.00",hoursForNoBreak2Out:"",hoursForNoBreak2In:"",paidUnworkedHoliday:"8.00",minHoursToCompleteShift:"0.00",completeShiftWithUndertime:!1,loginTimeConsiderAbsent:"",allowFlexibleTimeIn:"",brkRoundUpNearest:"",hoursForOTCode:"",requiredHours:"",requiredHoursPayIfPaidLeave:"0.00",secondShiftForRawData:!1,deductBreak1Overbreak:!1,flexibleBreak1:!1,deductBreak3Overbreak:!1,flexibleBreak3:!1,combineBreak1And3:!1,computeAsTardinessCombine:!1,computeAsUndertimeCombine:!1,tardiness:"",undertime:""},{code:"6PM3AM",description:"6PM3AM",timeIn:"06:00 PM",break1Out:"",break1In:"",break2Out:"",break2In:"",break3Out:"",break3In:"",timeOut:"03:00 AM",halfOfShift:"",midnightShift:!1,shift12AMOnwards:!1,flexibleWorkshift:!1,flexibleBaseOnWorkshift:!1,flexibleBreak:!1,maxAllowableBreak2:"",inExcessAllowableBreak2ForFlexiBreak:!1,computeAsTardiness:!1,computeAsUndertime:!1,standardHours:"8.00",hoursForAbsent:"8.00",hoursForNoLogin:"4.00",hoursForNoLogout:"4.00",hoursForNoBreak2Out:"",hoursForNoBreak2In:"",paidUnworkedHoliday:"8.00",minHoursToCompleteShift:"0.00",completeShiftWithUndertime:!1,loginTimeConsiderAbsent:"",allowFlexibleTimeIn:"",brkRoundUpNearest:"",hoursForOTCode:"",requiredHours:"",requiredHoursPayIfPaidLeave:"0.00",secondShiftForRawData:!1,deductBreak1Overbreak:!1,flexibleBreak1:!1,deductBreak3Overbreak:!1,flexibleBreak3:!1,combineBreak1And3:!1,computeAsTardinessCombine:!1,computeAsUndertimeCombine:!1,tardiness:"",undertime:""}]),R=re.filter(ye=>ye.code.toLowerCase().includes(p.toLowerCase())||ye.description.toLowerCase().includes(p.toLowerCase())),F=25,A=Math.ceil(R.length/F),H=(y-1)*F,D=H+F,_=R.slice(H,D),xe=()=>{W({code:"",description:"",timeIn:"03:00 PM",break1Out:"",break1In:"",break2Out:"",break2In:"",break3Out:"",break3In:"",timeOut:"12:00 AM",halfOfShift:"",midnightShift:!1,shift12AMOnwards:!1,flexibleWorkshift:!1,flexibleBaseOnWorkshift:!1,flexibleBreak:!1,maxAllowableBreak2:"",inExcessAllowableBreak2ForFlexiBreak:!1,computeAsTardiness:!1,computeAsUndertime:!1,standardHours:"8.00",hoursForAbsent:"8.00",hoursForNoLogin:"4.00",hoursForNoLogout:"4.00",hoursForNoBreak2Out:"",hoursForNoBreak2In:"",paidUnworkedHoliday:"8.00",minHoursToCompleteShift:"0.00",completeShiftWithUndertime:!1,loginTimeConsiderAbsent:"",allowFlexibleTimeIn:"",brkRoundUpNearest:"",hoursForOTCode:"",requiredHours:"",requiredHoursPayIfPaidLeave:"0.00",secondShiftForRawData:!1,deductBreak1Overbreak:!1,flexibleBreak1:!1,deductBreak3Overbreak:!1,flexibleBreak3:!1,combineBreak1And3:!1,computeAsTardinessCombine:!1,computeAsUndertimeCombine:!1,tardiness:"",undertime:""}),C(!1),s(!0)},ge=ye=>{W({...ye}),P(ye.code),C(!0),s(!0)},Ne=ye=>{E(ye),r(!0)},Ce=ye=>{confirm(`Are you sure you want to delete workshift "${ye}"?`)&&G(be=>be.filter(Me=>Me.code!==ye))},fe=()=>{if(!Y.code.trim()){alert("Please enter a Code.");return}if(!Y.description.trim()){alert("Please enter a Description.");return}if(j)G(ye=>ye.map(be=>be.code===S?{...Y}:be));else{if(re.some(ye=>ye.code===Y.code)){alert("A Workshift with this Code already exists.");return}G(ye=>[...ye,{...Y}])}s(!1),C(!1),P("")},ue=ye=>{const be=["loginTimeConsiderAbsent","allowFlexibleTimeIn"],Me=Y[ye];if(Me)if(be.includes(ye)){const Re=Me.match(/(\d+):(\d+)/);if(Re){const st=parseInt(Re[1]),He=parseInt(Re[2]);let Ue=st,Ye="AM";st===0?(Ue=12,Ye="AM"):st===12?(Ue=12,Ye="PM"):st>12?(Ue=st-12,Ye="PM"):(Ue=st,Ye="AM"),L(Ue),q(He),se(Ye)}}else{const Re=Me.match(/(\d+):(\d+)\s*(AM|PM)/i);Re&&(L(parseInt(Re[1])),q(parseInt(Re[2])),se(Re[3].toUpperCase()))}d(ye),l(!0)},Oe=()=>{const ye=["loginTimeConsiderAbsent","allowFlexibleTimeIn"];let be;if(ye.includes(i)){let Me=M;B==="PM"&&M!==12?Me=M+12:B==="AM"&&M===12&&(Me=0),be=`${String(Me).padStart(2,"0")}:${String(O).padStart(2,"0")}`}else be=`${String(M).padStart(2,"0")}:${String(O).padStart(2,"0")} ${B}`;W({...Y,[i]:be}),l(!1)},De=()=>{L(ye=>ye===12?1:ye+1)},Ae=()=>{L(ye=>ye===1?12:ye-1)},Ee=()=>{q(ye=>ye===59?0:ye+1)},ze=()=>{q(ye=>ye===0?59:ye-1)},ot=ye=>{b(ye),N(""),h(!0)},wt=ye=>{W(m==="tardiness"?{...Y,tardiness:ye}:{...Y,undertime:ye}),h(!1)},Ie=ye=>{W(ye==="tardiness"?{...Y,tardiness:""}:{...Y,undertime:""})};return o.useEffect(()=>{const ye=be=>{be.key==="Escape"&&(x?h(!1):n?l(!1):t?s(!1):a&&r(!1))};return(t||a||n||x)&&document.addEventListener("keydown",ye),()=>{document.removeEventListener("keydown",ye)}},[t,a,n,x]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Workshift Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define workshift patterns including time in/out, break schedules, and calculation rules. Configure parameters for attendance tracking, overtime eligibility, and shift-specific policies."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Flexible shift configurations"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Break time management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Attendance calculation rules"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Overtime and tardiness policies"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:xe,children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:p,onChange:ye=>v(ye.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description "}),e.jsx("th",{className:"px-4 py-2 text-center text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:_.map((ye,be)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:ye.code}),e.jsx("td",{className:"px-4 py-2",children:ye.description}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>Ne(ye),className:"p-1 text-green-600 hover:bg-green-100 rounded transition-colors",children:e.jsx(qp,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>ge(ye),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>Ce(ye.code),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},be))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",H+1," to ",Math.min(D,R.length)," of ",R.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",onClick:()=>g(ye=>Math.max(1,ye-1)),disabled:y===1,children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:y}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",onClick:()=>g(ye=>Math.min(A,ye+1)),disabled:y===A,children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>s(!1)}),e.jsx("div",{className:"fixed inset-0 z-20 overflow-y-auto",children:e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center pt-4 px-4 pb-20",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-h-[90vh] overflow-y-auto w-full max-w-4xl my-4",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:j?"Edit":"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Workshift Setup"}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:Y.code,onChange:ye=>W({...Y,code:ye.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",disabled:j})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:Y.description,onChange:ye=>W({...Y,description:ye.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Time In :"}),e.jsx("input",{type:"text",value:Y.timeIn,onChange:ye=>W({...Y,timeIn:pe(ye.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"HH:mm TT"}),e.jsx("button",{type:"button",onClick:()=>ue("timeIn"),className:"w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors",children:e.jsx(xa,{className:"w-4 h-4 text-gray-600"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Break1 Out :"}),e.jsx("input",{type:"text",value:Y.break1Out,onChange:ye=>W({...Y,break1Out:pe(ye.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"HH:mm TT"}),e.jsx("button",{type:"button",onClick:()=>ue("break1Out"),className:"w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors",children:e.jsx(xa,{className:"w-4 h-4 text-gray-600"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Break1 In :"}),e.jsx("input",{type:"text",value:Y.break1In,onChange:ye=>W({...Y,break1In:pe(ye.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"HH:mm TT"}),e.jsx("button",{type:"button",onClick:()=>ue("break1In"),className:"w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors",children:e.jsx(xa,{className:"w-4 h-4 text-gray-600"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Break2 Out :"}),e.jsx("input",{type:"text",value:Y.break2Out,onChange:ye=>W({...Y,break2Out:pe(ye.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"HH:mm TT"}),e.jsx("button",{type:"button",onClick:()=>ue("break2Out"),className:"w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors",children:e.jsx(xa,{className:"w-4 h-4 text-gray-600"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Break2 In :"}),e.jsx("input",{type:"text",value:Y.break2In,onChange:ye=>W({...Y,break2In:pe(ye.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"HH:mm TT"}),e.jsx("button",{type:"button",onClick:()=>ue("break2In"),className:"w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors",children:e.jsx(xa,{className:"w-4 h-4 text-gray-600"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Break3 Out :"}),e.jsx("input",{type:"text",value:Y.break3Out,onChange:ye=>W({...Y,break3Out:pe(ye.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"HH:mm TT"}),e.jsx("button",{type:"button",onClick:()=>ue("break3Out"),className:"w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors",children:e.jsx(xa,{className:"w-4 h-4 text-gray-600"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Break3 In :"}),e.jsx("input",{type:"text",value:Y.break3In,onChange:ye=>W({...Y,break3In:pe(ye.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"HH:mm TT"}),e.jsx("button",{type:"button",onClick:()=>ue("break3In"),className:"w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors",children:e.jsx(xa,{className:"w-4 h-4 text-gray-600"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Time Out :"}),e.jsx("input",{type:"text",value:Y.timeOut,onChange:ye=>W({...Y,timeOut:pe(ye.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"HH:mm TT"}),e.jsx("button",{type:"button",onClick:()=>ue("timeOut"),className:"w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors",children:e.jsx(xa,{className:"w-4 h-4 text-gray-600"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Half of Shift :"}),e.jsx("input",{type:"text",value:Y.halfOfShift,onChange:ye=>W({...Y,halfOfShift:pe(ye.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"HH:mm TT"}),e.jsx("button",{type:"button",onClick:()=>ue("halfOfShift"),className:"w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors",children:e.jsx(xa,{className:"w-4 h-4 text-gray-600"})})]}),e.jsxs("div",{className:"border border-gray-300 rounded p-3 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"midnightShift",checked:Y.midnightShift,onChange:ye=>W({...Y,midnightShift:ye.target.checked}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"midnightShift",className:"text-sm text-gray-700",children:"Midnight Shift"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"shift12AMOnwards",checked:Y.shift12AMOnwards,onChange:ye=>W({...Y,shift12AMOnwards:ye.target.checked}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"shift12AMOnwards",className:"text-sm text-gray-700",children:"Shift that fall on 12:00AM onwards"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"flexibleWorkshift",checked:Y.flexibleWorkshift,onChange:ye=>W({...Y,flexibleWorkshift:ye.target.checked}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"flexibleWorkshift",className:"text-sm text-gray-700",children:"Flexible Workshift"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"flexibleBaseOnWorkshift",checked:Y.flexibleBaseOnWorkshift,onChange:ye=>W({...Y,flexibleBaseOnWorkshift:ye.target.checked}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"flexibleBaseOnWorkshift",className:"text-sm text-gray-700",children:"Flexible Base on Workshift"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"flexibleBreak",checked:Y.flexibleBreak,onChange:ye=>W({...Y,flexibleBreak:ye.target.checked}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"flexibleBreak",className:"text-sm text-gray-700",children:"Flexible Break"})]}),e.jsxs("div",{className:"flex items-center gap-3 ml-4",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"Maximum Allowable Break2"}),e.jsx("input",{type:"text",value:Y.maxAllowableBreak2,onChange:ye=>W({...Y,maxAllowableBreak2:le(ye.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"[hh:mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsx("input",{type:"checkbox",id:"inExcessAllowableBreak2ForFlexiBreak",checked:Y.inExcessAllowableBreak2ForFlexiBreak,onChange:ye=>W({...Y,inExcessAllowableBreak2ForFlexiBreak:ye.target.checked}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"inExcessAllowableBreak2ForFlexiBreak",className:"text-sm text-gray-700",children:"In Excess of Allowable Break2 for Flexi Break"})]}),e.jsxs("div",{className:"ml-8 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:"computeAsTardiness",name:"excessCompute",checked:Y.computeAsTardiness,onChange:ye=>W({...Y,computeAsTardiness:ye.target.checked,computeAsUndertime:!1}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"computeAsTardiness",className:"text-sm text-gray-700",children:"Compute as Tardiness"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:"computeAsUndertime",name:"excessCompute",checked:Y.computeAsUndertime,onChange:ye=>W({...Y,computeAsUndertime:ye.target.checked,computeAsTardiness:!1}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"computeAsUndertime",className:"text-sm text-gray-700",children:"Compute as Undertime"})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"No. of Hrs. Standard Time :"}),e.jsx("input",{type:"text",value:Y.standardHours,onChange:ye=>W({...Y,standardHours:le(ye.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("span",{className:"text-xs text-gray-500",children:"[hh:mm]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"No. of Hrs. For Absent :"}),e.jsx("input",{type:"text",value:Y.hoursForAbsent,onChange:ye=>W({...Y,hoursForAbsent:le(ye.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("span",{className:"text-xs text-gray-500",children:"[hh:mm]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"No. of Hrs. For No Login :"}),e.jsx("input",{type:"text",value:Y.hoursForNoLogin,onChange:ye=>W({...Y,hoursForNoLogin:le(ye.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("span",{className:"text-xs text-gray-500",children:"[hh:mm]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"No. of Hrs. For No Logout :"}),e.jsx("input",{type:"text",value:Y.hoursForNoLogout,onChange:ye=>W({...Y,hoursForNoLogout:le(ye.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("span",{className:"text-xs text-gray-500",children:"[hh:mm]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"No. of Hrs. For No Break 2 Out :"}),e.jsx("input",{type:"text",value:Y.hoursForNoBreak2Out,onChange:ye=>W({...Y,hoursForNoBreak2Out:le(ye.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("span",{className:"text-xs text-gray-500",children:"[hh:mm]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"No. of Hrs. For No Break2 In :"}),e.jsx("input",{type:"text",value:Y.hoursForNoBreak2In,onChange:ye=>W({...Y,hoursForNoBreak2In:le(ye.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("span",{className:"text-xs text-gray-500",children:"[hh:mm]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"For Paid Unworked Holiday :"}),e.jsx("input",{type:"text",value:Y.paidUnworkedHoliday,onChange:ye=>W({...Y,paidUnworkedHoliday:le(ye.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("span",{className:"text-xs text-gray-500",children:"[hh:mm]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"Min. Hours To Complete a Shift :"}),e.jsx("input",{type:"text",value:Y.minHoursToCompleteShift,onChange:ye=>W({...Y,minHoursToCompleteShift:le(ye.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("span",{className:"text-xs text-gray-500",children:"[hh:mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"completeShiftWithUndertime",checked:Y.completeShiftWithUndertime,onChange:ye=>W({...Y,completeShiftWithUndertime:ye.target.checked}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"completeShiftWithUndertime",className:"text-sm text-gray-700",children:"Complete a Shift with Undertime"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"Login Time To Consider as Absent :"}),e.jsx("input",{type:"text",value:Y.loginTimeConsiderAbsent,onChange:ye=>W({...Y,loginTimeConsiderAbsent:pe(ye.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"HH:mm TT"}),e.jsx("button",{type:"button",onClick:()=>ue("loginTimeConsiderAbsent"),className:"w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors flex-shrink-0",children:e.jsx(xa,{className:"w-4 h-4 text-gray-600"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"Allow. Flexible Time In :"}),e.jsx("input",{type:"text",value:Y.allowFlexibleTimeIn,onChange:ye=>W({...Y,allowFlexibleTimeIn:pe(ye.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"HH:mm TT"}),e.jsx("button",{type:"button",onClick:()=>ue("allowFlexibleTimeIn"),className:"w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors flex-shrink-0",children:e.jsx(xa,{className:"w-4 h-4 text-gray-600"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"Brk Round Up to the Nearest Hr/Min :"}),e.jsx("input",{type:"text",value:Y.brkRoundUpNearest,onChange:ye=>W({...Y,brkRoundUpNearest:le(ye.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"[hh:mm]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"No of Hrs for OT Code :"}),e.jsx("input",{type:"text",value:Y.hoursForOTCode,onChange:ye=>W({...Y,hoursForOTCode:le(ye.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("span",{className:"text-xs text-gray-500",children:"[hh:mm]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"Required No of Hrs. :"}),e.jsx("input",{type:"text",value:Y.requiredHours,onChange:ye=>W({...Y,requiredHours:le(ye.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("span",{className:"text-xs text-gray-500",children:"[hh:mm]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"Required Hours w/ Pay if w/ Paid Leave :"}),e.jsx("input",{type:"text",value:Y.requiredHoursPayIfPaidLeave,onChange:ye=>W({...Y,requiredHoursPayIfPaidLeave:le(ye.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("span",{className:"text-xs text-gray-500",children:"[hh:mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"secondShiftForRawData",checked:Y.secondShiftForRawData,onChange:ye=>W({...Y,secondShiftForRawData:ye.target.checked}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"secondShiftForRawData",className:"text-sm text-gray-700",children:"2nd Shift For RawData"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{className:"border border-gray-300 rounded p-3",children:[e.jsx("h4",{className:"text-sm text-gray-700 mb-2",children:"Break 1"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"deductBreak1Overbreak",checked:Y.deductBreak1Overbreak,onChange:ye=>W({...Y,deductBreak1Overbreak:ye.target.checked}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"deductBreak1Overbreak",className:"text-xs text-gray-700",children:"Deduct Break1 Overbreak"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"flexibleBreak1",checked:Y.flexibleBreak1,onChange:ye=>W({...Y,flexibleBreak1:ye.target.checked}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"flexibleBreak1",className:"text-xs text-gray-700",children:"Flexible Break1"})]})]})]}),e.jsxs("div",{className:"border border-gray-300 rounded p-3",children:[e.jsx("h4",{className:"text-sm text-gray-700 mb-2",children:"Break 3"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"deductBreak3Overbreak",checked:Y.deductBreak3Overbreak,onChange:ye=>W({...Y,deductBreak3Overbreak:ye.target.checked}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"deductBreak3Overbreak",className:"text-xs text-gray-700",children:"Deduct Break3 Overbreak"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"flexibleBreak3",checked:Y.flexibleBreak3,onChange:ye=>W({...Y,flexibleBreak3:ye.target.checked}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"flexibleBreak3",className:"text-xs text-gray-700",children:"Flexible Break3"})]})]})]})]}),e.jsxs("div",{className:"border border-gray-300 rounded p-3 mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("input",{type:"checkbox",id:"combineBreak1And3",checked:Y.combineBreak1And3,onChange:ye=>W({...Y,combineBreak1And3:ye.target.checked}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"combineBreak1And3",className:"text-sm text-gray-700",children:"Combine Break1 and Break3"})]}),e.jsxs("div",{className:"ml-6 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:"computeAsTardinessCombine",name:"combineCompute",checked:Y.computeAsTardinessCombine,onChange:ye=>W({...Y,computeAsTardinessCombine:ye.target.checked,computeAsUndertimeCombine:!1}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"computeAsTardinessCombine",className:"text-xs text-gray-700",children:"Compute as Tardiness Combine"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:"computeAsUndertimeCombine",name:"combineCompute",checked:Y.computeAsUndertimeCombine,onChange:ye=>W({...Y,computeAsUndertimeCombine:ye.target.checked,computeAsTardinessCombine:!1}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"computeAsUndertimeCombine",className:"text-xs text-gray-700",children:"Compute as Undertime Combine"})]})]})]}),e.jsxs("div",{className:"border border-gray-300 rounded p-3 mt-4",children:[e.jsx("h4",{className:"text-sm text-gray-700 mb-3",children:"Bracketing"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-24 text-xs text-gray-700",children:"Tardiness :"}),e.jsx("input",{type:"text",value:Y.tardiness,onChange:ye=>W({...Y,tardiness:ye.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("button",{type:"button",onClick:()=>ot("tardiness"),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>Ie("tardiness"),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-24 text-xs text-gray-700",children:"Undertime :"}),e.jsx("input",{type:"text",value:Y.undertime,onChange:ye=>W({...Y,undertime:ye.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("button",{type:"button",onClick:()=>ot("undertime"),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>Ie("undertime"),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]})]})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:fe,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:j?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})})]}),a&&k&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>r(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center pt-4 px-4 pb-20",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-h-[90vh] overflow-y-auto w-full max-w-4xl my-4",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:"Details"}),e.jsx("button",{onClick:()=>r(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Workshift Setup"}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("div",{className:"flex-1 px-3 py-1.5 bg-gray-50 border border-gray-300 rounded text-sm",children:k.code})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("div",{className:"flex-1 px-3 py-1.5 bg-gray-50 border border-gray-300 rounded text-sm",children:k.description})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Time In :"}),e.jsx("div",{className:"flex-1 px-3 py-1.5 bg-gray-50 border border-gray-300 rounded text-sm",children:k.timeIn})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Break1 Out :"}),e.jsx("div",{className:"flex-1 px-3 py-1.5 bg-gray-50 border border-gray-300 rounded text-sm",children:k.break1Out})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Break1 In :"}),e.jsx("div",{className:"flex-1 px-3 py-1.5 bg-gray-50 border border-gray-300 rounded text-sm",children:k.break1In})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Break2 Out :"}),e.jsx("div",{className:"flex-1 px-3 py-1.5 bg-gray-50 border border-gray-300 rounded text-sm",children:k.break2Out})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Break2 In :"}),e.jsx("div",{className:"flex-1 px-3 py-1.5 bg-gray-50 border border-gray-300 rounded text-sm",children:k.break2In})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Break3 Out :"}),e.jsx("div",{className:"flex-1 px-3 py-1.5 bg-gray-50 border border-gray-300 rounded text-sm",children:k.break3Out})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Break3 In :"}),e.jsx("div",{className:"flex-1 px-3 py-1.5 bg-gray-50 border border-gray-300 rounded text-sm",children:k.break3In})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Time Out :"}),e.jsx("div",{className:"flex-1 px-3 py-1.5 bg-gray-50 border border-gray-300 rounded text-sm",children:k.timeOut})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Half of Shift :"}),e.jsx("div",{className:"flex-1 px-3 py-1.5 bg-gray-50 border border-gray-300 rounded text-sm",children:k.halfOfShift})]}),e.jsxs("div",{className:"border border-gray-300 rounded p-3 space-y-2 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:k.midnightShift,disabled:!0,className:"w-4 h-4"}),e.jsx("label",{className:"text-sm text-gray-700",children:"Midnight Shift"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:k.shift12AMOnwards,disabled:!0,className:"w-4 h-4"}),e.jsx("label",{className:"text-sm text-gray-700",children:"Shift that fall on 12:00AM onwards"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:k.flexibleWorkshift,disabled:!0,className:"w-4 h-4"}),e.jsx("label",{className:"text-sm text-gray-700",children:"Flexible Workshift"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:k.flexibleBaseOnWorkshift,disabled:!0,className:"w-4 h-4"}),e.jsx("label",{className:"text-sm text-gray-700",children:"Flexible Base on Workshift"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:k.flexibleBreak,disabled:!0,className:"w-4 h-4"}),e.jsx("label",{className:"text-sm text-gray-700",children:"Flexible Break"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"No. of Hrs. Standard Time :"}),e.jsx("div",{className:"flex-1 px-3 py-1.5 bg-gray-50 border border-gray-300 rounded text-sm",children:k.standardHours})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"No. of Hrs. For Absent :"}),e.jsx("div",{className:"flex-1 px-3 py-1.5 bg-gray-50 border border-gray-300 rounded text-sm",children:k.hoursForAbsent})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"No. of Hrs. For No Login :"}),e.jsx("div",{className:"flex-1 px-3 py-1.5 bg-gray-50 border border-gray-300 rounded text-sm",children:k.hoursForNoLogin})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"No. of Hrs. For No Logout :"}),e.jsx("div",{className:"flex-1 px-3 py-1.5 bg-gray-50 border border-gray-300 rounded text-sm",children:k.hoursForNoLogout})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"For Paid Unworked Holiday :"}),e.jsx("div",{className:"flex-1 px-3 py-1.5 bg-gray-50 border border-gray-300 rounded text-sm",children:k.paidUnworkedHoliday})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"Min. Hours To Complete a Shift :"}),e.jsx("div",{className:"flex-1 px-3 py-1.5 bg-gray-50 border border-gray-300 rounded text-sm",children:k.minHoursToCompleteShift})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:k.completeShiftWithUndertime,disabled:!0,className:"w-4 h-4"}),e.jsx("label",{className:"text-sm text-gray-700",children:"Complete a Shift with Undertime"})]})]})]}),e.jsx("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:e.jsx("button",{onClick:()=>r(!1),className:"px-6 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:"Close"})})]})]})})]}),n&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:()=>l(!1)}),e.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center w-full max-w-lg px-4",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow-2xl border border-gray-300 w-full max-w-xs",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Select Time"}),e.jsx("button",{onClick:()=>l(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("button",{onClick:De,className:"w-12 h-10 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors",children:e.jsx(D0,{className:"w-5 h-5 text-gray-600"})}),e.jsx("div",{className:"w-16 h-16 flex items-center justify-center my-2 text-2xl font-mono",children:String(M).padStart(2,"0")}),e.jsx("button",{onClick:Ae,className:"w-12 h-10 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors",children:e.jsx(lc,{className:"w-5 h-5 text-gray-600"})})]}),e.jsx("div",{className:"text-2xl font-mono mb-2",children:":"}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("button",{onClick:Ee,className:"w-12 h-10 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors",children:e.jsx(D0,{className:"w-5 h-5 text-gray-600"})}),e.jsx("div",{className:"w-16 h-16 flex items-center justify-center my-2 text-2xl font-mono",children:String(O).padStart(2,"0")}),e.jsx("button",{onClick:ze,className:"w-12 h-10 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors",children:e.jsx(lc,{className:"w-5 h-5 text-gray-600"})})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("button",{onClick:()=>se("AM"),className:`px-6 py-3 rounded transition-colors ${B==="AM"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"AM"}),e.jsx("button",{onClick:()=>se("PM"),className:`px-6 py-3 rounded transition-colors ${B==="PM"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"PM"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:Oe,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm",children:"OK"}),e.jsx("button",{onClick:()=>l(!1),className:"flex-1 px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600 transition-colors text-sm",children:"Cancel"})]})]})]})})]}),x&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:()=>h(!1)}),e.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center p-4",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow-2xl border border-gray-300 w-full max-w-2xl",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:"Search"}),e.jsx("button",{onClick:()=>h(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:m==="tardiness"?"Tardiness Bracketing":"Undertime Bracketing"}),e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:f,onChange:ye=>N(ye.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Search by code, description, or flag..."})]}),e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left border-b border-gray-300",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left border-b border-gray-300",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left border-b border-gray-300",children:"Flag"})]})}),e.jsx("tbody",{children:U.filter(ye=>f===""||ye.code.toLowerCase().includes(f.toLowerCase())||ye.description.toLowerCase().includes(f.toLowerCase())||ye.flag.toLowerCase().includes(f.toLowerCase())).map((ye,be)=>e.jsxs("tr",{className:`${be%2===0?"bg-white":"bg-gray-50"} hover:bg-blue-50 cursor-pointer`,onClick:()=>wt(ye.code),children:[e.jsx("td",{className:"px-4 py-2 border-b border-gray-200",children:ye.code}),e.jsx("td",{className:"px-4 py-2 border-b border-gray-200",children:ye.description}),e.jsx("td",{className:"px-4 py-2 border-b border-gray-200",children:ye.flag})]},ye.code))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"text-gray-600 text-sm",children:["Showing 1 to ",U.filter(ye=>f===""||ye.code.toLowerCase().includes(f.toLowerCase())||ye.description.toLowerCase().includes(f.toLowerCase())||ye.flag.toLowerCase().includes(f.toLowerCase())).length," of ",U.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:"1"}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",children:"Next"})]})]})]})]})})]})]})]})}),e.jsx(Zt,{}),e.jsx("style",{children:`
        @keyframes blob {
          0% {
            transform: translate(0px, 0px) scale(1);
          }
          33% {
            transform: translate(30px, -50px) scale(1.1);
          }
          66% {
            transform: translate(-20px, 20px) scale(0.9);
          }
          100% {
            transform: translate(0px, 0px) scale(1);
          }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `})]})}function IJ(){const[t,s]=o.useState(!1),[a,r]=o.useState(""),[n,l]=o.useState(1),[i,d]=o.useState(!1),[x,h]=o.useState(null),[m,b]=o.useState(!1),[f,N]=o.useState([]),[p,v]=o.useState(""),[y,g]=o.useState(""),[j,C]=o.useState("ACCUMULATE"),[S,P]=o.useState(""),[k,E]=o.useState(null),[M,L]=o.useState(!1),[O,q]=o.useState("");o.useEffect(()=>{B()},[]);const B=async()=>{L(!0),q("");try{const Ce=await ne.get("/Fs/Process/Tardiness/BracketCodeSetup");if(Ce.status===200&&Ce.data){const fe=Ce.data.map(ue=>({id:ue.id?.toString()||"",bracketCode:ue.bracketCode||ue.code||"",description:ue.description||ue.Description||"",flag:pe[ue.flag]||"UNKNOWN"}));N(fe)}}catch(Ce){const fe=Ce.response?.data?.message||Ce.message||"Failed to load bracket codes";q(fe),console.error("Error fetching bracket codes:",Ce)}finally{L(!1)}},se=["TARDINESS","UNDERTIME","ACCUMULATE"],le={TARDINESS:1,UNDERTIME:2,ACCUMULATE:3},pe={1:"TARDINESS",2:"UNDERTIME",3:"ACCUMULATE"},U=f.filter(Ce=>{const fe=String(Ce.bracketCode??"").toLowerCase(),ue=String(Ce.description??"").toLowerCase(),Oe=String(Ce.flag??"").toLowerCase(),De=a.toLowerCase();return fe.includes(De)||ue.includes(De)||Oe.includes(De)});o.useEffect(()=>{B()},[]);const Y=25,W=Math.ceil(U.length/Y),re=(n-1)*Y,G=re+Y,R=U.slice(re,G),[F,A]=o.useState({}),H=Ce=>F[Ce]===!0;o.useEffect(()=>{D()},[]);const D=()=>{const Ce=localStorage.getItem("loginPayload");if(Ce)try{const Oe=(JSON.parse(Ce).permissions||[]).filter(Ae=>rs(Ae.formName)==="BracketCodeSetup"),De={};Oe.forEach(Ae=>{const Ee=rs(Ae.accessTypeName);Ee&&(De[Ee]=!0)}),A(De)}catch(fe){console.error("Error parsing or decrypting payload",fe)}},_=()=>{d(!1),h(null),E(null),v(""),g(""),P(""),s(!0)},xe=(Ce,fe)=>{d(!0),h(fe),E(Ce.id??null),v(Ce.bracketCode??""),g(Ce.description??""),C(Ce.flag??"ACCUMULATE"),P(""),s(!0)},ge=async Ce=>{if((await ee.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete allowance bracket code ${Ce.bracketCode}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{b(!0),await ne.delete(`/Fs/Process/Tardiness/BracketCodeSetup/${Ce.id}`),await ee.fire({icon:"success",title:"Success",text:"Allowance bracket code deleted successfully.",timer:2e3,showConfirmButton:!1}),await B()}catch(ue){const Oe=ue?.response?.data?.message||ue?.message||"Failed to delete allowance bracket code";await ee.fire({icon:"error",title:"Error",text:Oe}),console.error("Delete error:",ue)}finally{b(!1)}},Ne=async()=>{if(!p.trim()||p.length>10){P("Code must be between 1 and 10 characters."),await ee.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(!y.trim()){await ee.fire({icon:"warning",title:"Validation Error",text:"Description is required."});return}if(f.some((fe,ue)=>i&&x===ue?!1:fe.bracketCode.toLowerCase()===p.trim().toLowerCase())){await ee.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use."});return}b(!0);try{const fe={id:i&&k?parseInt(k):0,bracketCode:p.trim(),description:y.trim(),flag:le[j]};console.log(fe),i&&k?(await ne.put(`/Fs/Process/Tardiness/BracketCodeSetup/${fe.id}`,fe),await ee.fire({icon:"success",title:"Updated",text:"Allowance bracket code updated successfully.",timer:2e3,showConfirmButton:!1})):(await ne.post("/Fs/Process/Tardiness/BracketCodeSetup",fe),await ee.fire({icon:"success",title:"Created",text:"Allowance bracket code created successfully.",timer:2e3,showConfirmButton:!1})),await B(),s(!1),v(""),g(""),P(""),E(null),d(!1),h(null)}catch(fe){const ue=fe?.response?.data?.message||fe?.message||"Something went wrong";await ee.fire({icon:"error",title:"Error",text:ue}),console.error("Submit error:",fe)}finally{b(!1)}};return o.useEffect(()=>{const Ce=fe=>{fe.key==="Escape"&&t&&s(!1)};return t&&document.addEventListener("keydown",Ce),()=>{document.removeEventListener("keydown",Ce)}},[t]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Bracket Code Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define bracket codes for tardiness, undertime, and accumulation tracking. Configure how different types of time deductions are categorized and flagged in the system."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Tardiness tracking codes"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Undertime categorization"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Accumulation brackets"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Custom deduction flags"})]})]})]})]})}),H("View")&&e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[H("Add")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:_,children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),H("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:a,onChange:Ce=>r(Ce.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:M?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading..."}):f.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No data available in table"}):H("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Flag"}),(H("Edit")||H("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-center text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:R.map((Ce,fe)=>{const ue=re+fe;return e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:Ce.bracketCode}),e.jsx("td",{className:"px-4 py-2",children:Ce.description}),e.jsx("td",{className:"px-4 py-2",children:Ce.flag}),(H("Edit")||H("Delete"))&&e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[H("Edit")&&e.jsx("button",{onClick:()=>xe(Ce,ue),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),H("Edit")&&H("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),H("Delete")&&e.jsx("button",{onClick:()=>ge(Ce),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},Ce.bracketCode)})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),H("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",U.length===0?0:re+1," to"," ",Math.min(G,U.length)," of"," ",U.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",onClick:()=>l(Ce=>Math.max(1,Ce-1)),disabled:n===1,children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:n}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",onClick:()=>l(Ce=>Math.min(W,Ce+1)),disabled:n===W||W===0,children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>s(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:i?"Edit":"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Bracket Code Setup"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:p,onChange:Ce=>v(Ce.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter code"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:y,onChange:Ce=>g(Ce.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter description"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Flag :"}),e.jsx("select",{value:j,onChange:Ce=>C(Ce.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:se.map(Ce=>e.jsx("option",{value:Ce,children:Ce},Ce))})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:Ne,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:i?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]})]}),e.jsx("style",{children:`
            @keyframes blob {
              0% {
                transform: translate(0px, 0px) scale(1);
              }
              33% {
                transform: translate(30px, -50px) scale(1.1);
              }
              66% {
                transform: translate(-20px, 20px) scale(0.9);
              }
              100% {
                transform: translate(0px, 0px) scale(1);
              }
            }
            .animate-blob {
              animation: blob 7s infinite;
            }
            .animation-delay-2000 {
              animation-delay: 2s;
            }
            .animation-delay-4000 {
              animation-delay: 4s;
            }
          `})]})}),e.jsx(Zt,{})]})}function LJ(){const[t,s]=o.useState("Tardiness"),[a,r]=o.useState("Tardiness Bracket"),[n,l]=o.useState(!1),[i,d]=o.useState(1),[x,h]=o.useState(!1),[m,b]=o.useState(null),[f,N]=o.useState({time:"",equivalent:"",bracketCode:""}),[p,v]=o.useState({Tardiness:[],Undertime:[],Accumulation:[]}),y={Tardiness:["Tardiness Bracket","TARDY"],Undertime:["UT"],Accumulation:["ACCU"]};o.useEffect(()=>{g("Tardiness"),g("Undertime"),g("Accumulation")},[]);const g=async G=>{try{const R={Tardiness:"/Fs/Process/Tardiness/TardinessSetup",Undertime:"/Fs/Process/Tardiness/UnderTimeSetup",Accumulation:"/Fs/Process/Tardiness/AccumulateSetup"},F=await ne.get(R[G]);if(F.status===200&&F.data){const A=F.data.map(H=>({id:H.id,time:H.time,equivalent:H.equivalent}));v(H=>({...H,[G]:A}))}}catch(R){console.error(`Failed to fetch ${G} data:`,R)}},j=25,C=p[t],S=Math.ceil(C.length/j),P=(i-1)*j,k=P+j,E=C.slice(P,k),M=()=>t==="Accumulation"?"Late/Undertime":t==="Tardiness"?"Late":"Undertime",L=()=>t==="Accumulation"?"Accumulate Setup":t==="Tardiness"?"Tardiness Setup":"Undertime Setup",[O,q]=o.useState({}),B=G=>O[G]===!0;o.useEffect(()=>{se()},[]);const se=()=>{const G=localStorage.getItem("loginPayload");if(G)try{const A=(JSON.parse(G).permissions||[]).filter(D=>rs(D.formName)==="TardinessAndUndertimeTableSetUp"),H={};A.forEach(D=>{const _=rs(D.accessTypeName);_&&(H[_]=!0)}),q(H)}catch(R){console.error("Error parsing or decrypting payload",R)}},le=()=>t==="Accumulation"?"Tardiness/Undertime":t.charAt(0).toUpperCase()+t.slice(1),pe=()=>{N({time:"",equivalent:"",bracketCode:a}),h(!1),b(null),l(!0)},U=(G,R)=>{N({time:G.time,equivalent:G.equivalent,bracketCode:a}),b(R),h(!0),l(!0)},Y=G=>{confirm("Are you sure you want to delete this entry?")&&v(R=>({...R,[t]:R[t].filter((F,A)=>A!==G)}))},W=()=>{if(!f.time.trim()){alert("Please enter a time value.");return}if(!f.equivalent.trim()){alert("Please enter an equivalent value.");return}v(x&&m!==null?G=>({...G,[t]:G[t].map((R,F)=>F===m?{time:f.time,equivalent:f.equivalent}:R)}):G=>({...G,[t]:[...G[t],{time:f.time,equivalent:f.equivalent}]})),l(!1),h(!1),b(null)},re=(G,R)=>{const F=G.replace(/[^\d.]/g,"");N({...f,[R]:F})};return o.useEffect(()=>{const G=R=>{R.key==="Escape"&&n&&l(!1)};return n&&document.addEventListener("keydown",G),()=>{document.removeEventListener("keydown",G)}},[n]),o.useEffect(()=>{r(y[t][0]),d(1)},[t]),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Bracketing Table Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure bracketing tables for tardiness, undertime, and accumulation calculations. Define time ranges and their equivalent values for automated deduction processing."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Tardiness brackets and equivalents"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Undertime calculation tables"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Accumulation thresholds"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Time-to-value mapping"})]})]})]})]})}),e.jsx("div",{className:"flex gap-1 mb-6 border-b border-gray-300",children:[{name:"Tardiness",icon:Hs},{name:"Undertime",icon:xa},{name:"Accumulation",icon:Nb}].map(G=>e.jsxs("button",{onClick:()=>s(G.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===G.name?"bg-blue-600 text-white":"text-gray-600 hover:bg-blue-50"}`,children:[e.jsx(G.icon,{className:"w-4 h-4"}),G.name]},G.name))}),B("View")&&e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[B("Add")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:pe,children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),e.jsx("select",{value:a,onChange:G=>r(G.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:y[t].map(G=>e.jsx("option",{value:G,children:G},G))})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsxs("th",{className:"px-4 py-2 text-left text-gray-700",children:[le()," [hh.mm]"," ",e.jsx("span",{className:"text-blue-500",children:""})]}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Equivalent [hh.mm]"}),e.jsx("th",{className:"px-4 py-2 text-center text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:E.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-gray-500",children:"No data available in table"})}):B("View")?E.map((G,R)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:G.time}),e.jsx("td",{className:"px-4 py-2",children:G.equivalent}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[B("Edit")&&e.jsx("button",{onClick:()=>U(G,R),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),B("Edit")&&B("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),B("Delete")&&e.jsx("button",{onClick:()=>Y(G.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},R)):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})})]})}),B("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",C.length===0?0:P+1," to"," ",Math.min(k,C.length)," of ",C.length," ","entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",onClick:()=>d(G=>Math.max(1,G-1)),disabled:i===1,children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:i}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",onClick:()=>d(G=>Math.min(S,G+1)),disabled:i===S||S===0,children:"Next"})]})]}),n&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>l(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:x?"Edit":"Create New"}),e.jsx("button",{onClick:()=>l(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:L()}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("label",{className:"w-40 text-gray-700 text-sm",children:[M()," :"]}),e.jsx("input",{type:"text",value:f.time,onChange:G=>re(G.target.value,"time"),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"0.00"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Equivalent :"}),e.jsx("input",{type:"text",value:f.equivalent,onChange:G=>re(G.target.value,"equivalent"),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"0.00"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("label",{className:"w-40 text-gray-700 text-sm",children:[t==="Tardiness"?"BracketCode":"Bracket Code"," ",":"]}),e.jsx("select",{value:f.bracketCode,onChange:G=>N({...f,bracketCode:G.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-white",children:y[t].map(G=>e.jsx("option",{value:G,children:G},G))})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:W,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:x?"Update":"Submit"}),e.jsx("button",{onClick:()=>l(!1),className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]})]})]})}function ql({isOpen:t,onClose:s,onSelect:a,devices:r,loading:n,error:l}){const[i,d]=o.useState(""),[x,h]=o.useState(1),m=20;o.useEffect(()=>{const g=j=>{j.key==="Escape"&&t&&s()};return t&&document.addEventListener("keydown",g),()=>{document.removeEventListener("keydown",g)}},[t,s]),o.useEffect(()=>{t&&(d(""),h(1))},[t]);const b=r.filter(g=>g.code.toLowerCase().includes(i.toLowerCase())||g.description.toLowerCase().includes(i.toLowerCase())),f=Math.ceil(b.length/m),N=(x-1)*m,p=N+m,v=b.slice(N,p),y=()=>{const g=[];if(f<=5)return Array.from({length:f},(P,k)=>k+1);g.push(1),x>3&&g.push("...");const C=Math.max(2,x-1),S=Math.min(f-1,x+1);for(let P=C;P<=S;P++)g.push(P);return x<f-2&&g.push("..."),g.push(f),g};return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:s}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Device ID"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:i,onChange:g=>{d(g.target.value),h(1)},className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Search by ID or name..."})]}),l&&e.jsx("div",{className:"p-2 bg-red-50 border border-red-200 rounded mb-3",children:e.jsx("p",{className:"text-red-700 text-xs",children:l})}),n?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading devices..."})}):e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Device ID"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Device Name"})]})}),e.jsx("tbody",{children:v.length>0?v.map(g=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>{a(g.code,g.description),s()},children:[e.jsx("td",{className:"px-3 py-1.5",children:g.code}),e.jsx("td",{className:"px-3 py-1.5",children:g.description})]},g.code)):e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-3 py-4 text-center text-gray-500 text-sm",children:"No devices found"})})})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",b.length===0?0:N+1," to ",Math.min(p,b.length)," of ",b.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>h(g=>Math.max(g-1,1)),disabled:x===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),y().map((g,j)=>g==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${j}`):e.jsx("button",{onClick:()=>h(g),className:`px-2 py-1 rounded text-xs ${x===g?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:g},g)),e.jsx("button",{onClick:()=>h(g=>Math.min(g+1,f)),disabled:x===f||f===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})})]}):null}function OJ(){const[t,s]=o.useState(!1),[a,r]=o.useState(""),[n,l]=o.useState(!1),[i,d]=o.useState(null),[x,h]=o.useState(1),m=100,[b,f]=o.useState(""),[N,p]=o.useState(""),[v,y]=o.useState(""),[g,j]=o.useState(""),[C,S]=o.useState(""),[P,k]=o.useState(""),[E,M]=o.useState(null),[L,O]=o.useState(!1),[q,B]=o.useState(!1),[se,le]=o.useState(!1),[pe,U]=o.useState([]),[Y,W]=o.useState([]),[re,G]=o.useState(!1),[R,F]=o.useState(!1),[A,H]=o.useState(""),[D,_]=o.useState(""),[xe,ge]=o.useState([]),[Ne,Ce]=o.useState(!1),[fe,ue]=o.useState(""),[Oe,De]=o.useState({}),Ae=ve=>Oe[ve]===!0;o.useEffect(()=>{Ee()},[]);const Ee=()=>{const ve=localStorage.getItem("loginPayload");if(ve)try{const Ve=(JSON.parse(ve).permissions||[]).filter(Pt=>rs(Pt.formName)==="AreaSetUp"),xt={};Ve.forEach(Pt=>{const Lt=rs(Pt.accessTypeName);Lt&&(xt[Lt]=!0)}),De(xt)}catch(Le){console.error("Error parsing or decrypting payload",Le)}};o.useEffect(()=>{ze(),ot(),wt()},[]);const ze=async()=>{Ce(!0),ue("");try{const ve=await ne.get("/Fs/EmploymentAreaSetUp");if(ve.status===200&&ve.data){const Le=ve.data.map(he=>({id:he.id||he.ID||"",code:he.areaCode||he.AreaCode||"",description:he.areaDesc||he.AreaDesc||"",head:he.head||he.Head||"",headCode:he.headCode||he.HeadCode||"",deviceName:he.deviceName||he.DeviceName||""}));ge(Le)}}catch(ve){const Le=ve.response?.data?.message||ve.message||"Failed to load areas";ue(Le),console.error("Error fetching areas:",ve)}finally{Ce(!1)}},ot=async()=>{G(!0),H("");try{const ve=await ne.get("/Maintenance/EmployeeMasterFile");if(ve.status===200&&ve.data){const Le=ve.data.map(he=>({empCode:he.empCode||he.code||"",name:`${he.lName||""}, ${he.fName||""} ${he.mName||""}`.trim(),groupCode:he.grpCode||""}));U(Le)}}catch(ve){const Le=ve.response?.data?.message||ve.message||"Failed to load employees";H(Le),console.error("Error fetching employees:",ve)}finally{G(!1)}},wt=async()=>{F(!0),_("");try{const ve=await ne.get("/Fs/Process/Device/BorrowedDeviceName");if(ve.status===200&&ve.data){const Le=ve.data.map(he=>({id:he.id||"",code:he.code||"",description:he.description||""}));W(Le)}}catch(ve){const Le=ve.response?.data?.message||ve.message||"Failed to load devices";_(Le),console.error("Error fetching devices:",ve)}finally{F(!1)}};o.useEffect(()=>{const ve=Le=>{Le.key==="Escape"&&t&&s(!1)};return t&&document.addEventListener("keydown",ve),()=>{document.removeEventListener("keydown",ve)}},[t]);const Ie=()=>{l(!1),d(null),M(null),f(""),p(""),y(""),j(""),S(""),k(""),s(!0)},ye=(ve,Le)=>{l(!0),d(Le),M(ve.id||null),f(ve.code),p(""),y(ve.description),j(ve.headCode),S(ve.head),k(ve.deviceName),s(!0)},be=async ve=>{if((await ee.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete area ${ve.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ne.delete(`/Fs/EmploymentAreaSetUp/${ve.id}`),await ee.fire({icon:"success",title:"Success",text:"Area deleted successfully.",timer:2e3,showConfirmButton:!1}),await ze()}catch(he){const Ve=he.response?.data?.message||he.message||"Failed to delete area";await ee.fire({icon:"error",title:"Error",text:Ve}),console.error("Error deleting area:",he)}},Me=ve=>{f(ve),ve.length>10?p("Area Code maximum 10 characters"):p("")},Re=async()=>{if(!b.trim()||b.length>10){await ee.fire({icon:"warning",title:"Validation Error",text:"Area Code must be between 1 and 10 characters."});return}if(xe.some((Le,he)=>n&&i===he?!1:Le.code.toLowerCase()===b.trim().toLowerCase())){await ee.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}O(!0);try{const Le={id:n&&E?parseInt(E):0,areaCode:b,areaDesc:v,head:C,headCode:g,deviceName:P};n&&E?(await ne.put(`/Fs/EmploymentAreaSetUp/${E}`,Le),await ee.fire({icon:"success",title:"Success",text:"Area updated successfully.",timer:2e3,showConfirmButton:!1}),await ze()):(await ne.post("/Fs/EmploymentAreaSetUp",Le),await ee.fire({icon:"success",title:"Success",text:"Area created successfully.",timer:2e3,showConfirmButton:!1}),await ze()),s(!1),f(""),p(""),y(""),j(""),S(""),k(""),M(null),l(!1),d(null)}catch(Le){const he=Le.response?.data?.message||Le.message||"An error occurred";await ee.fire({icon:"error",title:"Error",text:he}),console.error("Error submitting form:",Le)}finally{O(!1)}},st=(ve,Le)=>{j(ve),S(Le),B(!1)},He=(ve,Le)=>{k(Le),le(!1)},Ue=xe.filter(ve=>ve.code.toLowerCase().includes(a.toLowerCase())||ve.description.toLowerCase().includes(a.toLowerCase())||ve.head.toLowerCase().includes(a.toLowerCase())||ve.deviceName.toLowerCase().includes(a.toLowerCase())),Ye=Math.ceil(Ue.length/m),ht=(x-1)*m,ut=ht+m,vt=Ue.slice(ht,ut);return o.useEffect(()=>{h(1)},[a]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Area Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure organizational areas with department heads and device assignments for efficient workforce management and time tracking across different locations."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Area code and description management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Department head assignment"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device name configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Centralized area tracking"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[(Ae("Add")||Ae("View"))&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:Ie,children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),Ae("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:a,onChange:ve=>r(ve.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:Ne?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading areas..."})}):fe?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:fe})}):Ae("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Device Name"}),(Ae("Edit")||Ae("View"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:vt.map((ve,Le)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:ve.code}),e.jsx("td",{className:"px-4 py-2",children:ve.description}),e.jsx("td",{className:"px-4 py-2",children:ve.head}),e.jsx("td",{className:"px-4 py-2",children:ve.deviceName}),(Ae("Edit")||Ae("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[Ae("Edit")&&e.jsx("button",{onClick:()=>ye(ve,Le),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),Ae("Edit")&&Ae("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),Ae("Delete")&&e.jsx("button",{onClick:()=>be(ve),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},Le))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),Ae("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",Ue.length===0?0:ht+1," to"," ",Math.min(ut,Ue.length)," of"," ",Ue.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(ve=>Math.max(ve-1,1)),disabled:x===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:Ye},(ve,Le)=>Le+1).map(ve=>e.jsx("button",{onClick:()=>h(ve),className:`px-3 py-1 rounded transition-colors ${x===ve?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ve},ve)),e.jsx("button",{onClick:()=>h(ve=>Math.min(ve+1,Ye)),disabled:x===Ye||Ye===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>s(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Area":"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Area Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Area Code :"}),e.jsx("input",{type:"text",value:b,onChange:ve=>Me(ve.target.value),maxLength:10,className:`flex-1 px-3 py-1.5 border rounded focus:outline-none focus:ring-2 text-sm ${N?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`})]}),N&&e.jsx("p",{className:"ml-32 text-red-500 text-xs mt-1",children:N}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:v,onChange:ve=>y(ve.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Head Code :"}),e.jsx("input",{type:"text",value:g,maxLength:10,onChange:ve=>j(ve.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>B(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{j(""),S("")},className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Head :"}),e.jsx("input",{type:"text",value:C,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-gray-50 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Device Name :"}),e.jsx("input",{type:"text",value:P,onChange:ve=>k(ve.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>le(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>k(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:Re,disabled:L,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:L?"Saving...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),disabled:L,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}),e.jsx(nr,{isOpen:q,onClose:()=>B(!1),onSelect:st,employees:pe,loading:re,error:A}),e.jsx(ql,{isOpen:se,onClose:()=>le(!1),onSelect:He,devices:Y,loading:R,error:D})]})]})}),e.jsx(Zt,{})]})}function _J(){const[t,s]=o.useState(!1),[a,r]=o.useState(""),[n,l]=o.useState(!1),[i,d]=o.useState(null),[x,h]=o.useState(""),[m,b]=o.useState(""),[f,N]=o.useState(""),[p,v]=o.useState(""),[y,g]=o.useState(""),[j,C]=o.useState(null),[S,P]=o.useState(!1),[k,E]=o.useState(!1),[M,L]=o.useState(!1),[O,q]=o.useState([]),[B,se]=o.useState(!1),[le,pe]=o.useState(""),[U,Y]=o.useState([]),[W,re]=o.useState([]),[G,R]=o.useState(!1),[F,A]=o.useState(!1),[H,D]=o.useState(""),[_,xe]=o.useState(""),[ge,Ne]=o.useState({}),Ce=be=>ge[be]===!0;o.useEffect(()=>{fe(),ue(),Oe(),De()},[]);const fe=()=>{const be=localStorage.getItem("loginPayload");if(be)try{const st=(JSON.parse(be).permissions||[]).filter(Ue=>rs(Ue.formName)==="BranchSetup"),He={};st.forEach(Ue=>{const Ye=rs(Ue.accessTypeName);Ye&&(He[Ye]=!0)}),Ne(He)}catch(Me){console.error("Error parsing or decrypting payload",Me)}},ue=async()=>{se(!0),pe("");try{const be=await ne.get("/Fs/Employment/BranchSetUp");if(be.status===200&&be.data){const Me=be.data.map(Re=>({id:Re.braID||Re.id||"",branchId:Re.braID||Re.id||"",code:Re.braCode||Re.code||"",description:Re.braDesc||Re.description||"",branchManager:Re.braMngr||Re.branchManager||"",branchManagerCode:Re.braMngrCode||"",deviceName:Re.deviceName||Re.DeviceName||""}));q(Me)}}catch(be){const Me=be.response?.data?.message||be.message||"Failed to load branches";pe(Me)}finally{se(!1)}},Oe=async()=>{R(!0),D("");try{const be=await ne.get("/Maintenance/EmployeeMasterFile");if(be.status===200&&be.data){const Me=be.data.map(Re=>({empCode:Re.empCode||Re.code||"",name:`${Re.lName||""}, ${Re.fName||""} ${Re.mName||""}`.trim(),groupCode:Re.grpCode||""}));Y(Me)}}catch{D("Failed to load employees")}finally{R(!1)}},De=async()=>{A(!0),xe("");try{const be=await ne.get("/Fs/Process/Device/BorrowedDeviceName");if(be.status===200&&be.data){const Me=be.data.map(Re=>({id:Re.id||"",code:Re.code||"",description:Re.description||""}));re(Me)}}catch{xe("Failed to load devices")}finally{A(!1)}};o.useEffect(()=>{const be=Me=>{Me.key==="Escape"&&t&&s(!1)};return t&&document.addEventListener("keydown",be),()=>document.removeEventListener("keydown",be)},[t]);const Ae=()=>{l(!1),d(null),h(""),b(""),N(""),v(""),g(""),s(!0)},Ee=(be,Me)=>{l(!0),d(Me),C(be.branchId),h(be.code),b(be.description),N(be.branchManagerCode),v(be.branchManager),g(be.deviceName),s(!0)},ze=async be=>{if((await ee.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete branch ${be.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",confirmButtonText:"Delete"})).isConfirmed)try{await ne.delete(`/Fs/Employment/BranchSetUp/${be.id}`),await ee.fire({icon:"success",title:"Success",text:"Branch deleted successfully.",timer:2e3,showConfirmButton:!1}),await ue()}catch(Re){const st=Re.response?.data?.message||Re.message||"Failed to delete branch";await ee.fire({icon:"error",title:"Error",text:st}),console.error("Error deleting branch:",Re)}},ot=async()=>{if(!x.trim()){await ee.fire({icon:"warning",title:"Validation Error",text:"Please enter a Code."});return}if(O.some((Me,Re)=>n&&i===Re?!1:Me.code.toLowerCase()===x.trim().toLowerCase())){await ee.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}P(!0);try{const Me={braID:n&&j?parseInt(j):0,braCode:x,braDesc:m,braMngr:p||null,braMngrCode:f||"",deviceName:y||null};n?await ne.put(`/Fs/Employment/BranchSetUp/${j}`,Me):await ne.post("/Fs/Employment/BranchSetUp",Me),await ee.fire({icon:"success",title:"Success",timer:2e3,showConfirmButton:!1}),await ue(),s(!1)}catch{ee.fire({icon:"error",title:"Error",text:"An error occurred"})}finally{P(!1)}},wt=(be,Me)=>{N(be),v(Me),E(!1)},Ie=(be,Me)=>{g(Me),L(!1)},ye=O.filter(be=>be.code.toLowerCase().includes(a.toLowerCase())||be.description.toLowerCase().includes(a.toLowerCase())||be.branchManager.toLowerCase().includes(a.toLowerCase())||be.deviceName.toLowerCase().includes(a.toLowerCase()));return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-3 md:p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-4 md:px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white text-lg md:text-xl",children:"Branch Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-4 md:p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Manage branch locations with branch manager assignments and device configurations for comprehensive organizational structure and time tracking across multiple business locations."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Branch code and description management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Branch manager assignment"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device name configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Multi-location tracking"})]})]})]})]})}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4 mb-6",children:[Ce("Add")&&e.jsxs("button",{className:"w-full md:w-auto px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 shadow-sm",onClick:Ae,children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("div",{className:"md:ml-auto flex flex-col sm:flex-row items-start sm:items-center gap-2 w-full md:w-auto",children:[e.jsx("label",{className:"text-gray-700 whitespace-nowrap",children:"Search:"}),e.jsx("input",{type:"text",value:a,onChange:be=>r(be.target.value),className:"w-full md:w-64 px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsx("div",{className:"overflow-x-auto border rounded-lg",children:Ce("View")?e.jsxs("table",{className:"w-full border-collapse min-w-[700px]",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Branch Manager"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Device Name"}),(Ce("Edit")||Ce("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:ye.map((be,Me)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:be.code}),e.jsx("td",{className:"px-4 py-2",children:be.description}),e.jsx("td",{className:"px-4 py-2",children:be.branchManager}),e.jsx("td",{className:"px-4 py-2",children:be.deviceName}),(Ce("Edit")||Ce("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[Ce("Edit")&&e.jsx("button",{onClick:()=>Ee(be,Me),className:"p-1 text-blue-600 hover:bg-blue-100 rounded",children:e.jsx(ws,{className:"w-4 h-4"})}),Ce("Delete")&&e.jsx("button",{onClick:()=>ze(be),className:"p-1 text-red-600 hover:bg-red-100 rounded",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},Me))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"Access denied."})}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mt-4 gap-4",children:[e.jsxs("div",{className:"text-gray-600 text-sm",children:["Showing ",ye.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:"1"}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100",children:"Next"})]})]}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-2 md:p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 md:px-6 py-3 border-b bg-gray-50 rounded-t-2xl",children:[e.jsx("h2",{className:"text-gray-800 text-lg",children:n?"Edit Branch":"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4 md:p-6 overflow-y-auto space-y-4",children:[e.jsx("h3",{className:"text-blue-600 font-semibold",children:"Branch Setup"}),e.jsxs("div",{className:"grid gap-4",children:[[{label:"Code",value:x,setter:h,max:10},{label:"Description",value:m,setter:b}].map(be=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[e.jsxs("label",{className:"sm:w-40 text-gray-700 text-sm",children:[be.label," :"]}),e.jsx("input",{type:"text",maxLength:be.max,value:be.value,onChange:Me=>be.setter(Me.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 text-sm"})]},be.label)),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[e.jsx("label",{className:"sm:w-40 text-gray-700 text-sm",children:"Manager Code :"}),e.jsxs("div",{className:"flex-1 flex gap-2",children:[e.jsx("input",{readOnly:!0,value:f,className:"flex-1 px-3 py-2 border border-gray-300 rounded bg-gray-50 text-sm"}),e.jsx("button",{onClick:()=>E(!0),className:"p-2 bg-green-600 text-white rounded-lg",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{v(""),N("")},className:"p-2 bg-red-600 text-white rounded-lg",children:e.jsx(et,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[e.jsx("label",{className:"sm:w-40 text-gray-700 text-sm",children:"Manager Name :"}),e.jsx("input",{readOnly:!0,value:p,className:"flex-1 px-3 py-2 border border-gray-300 rounded bg-gray-50 text-sm"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[e.jsx("label",{className:"sm:w-40 text-gray-700 text-sm",children:"Device Name :"}),e.jsxs("div",{className:"flex-1 flex gap-2",children:[e.jsx("input",{readOnly:!0,value:y,className:"flex-1 px-3 py-2 border border-gray-300 rounded bg-gray-50 text-sm"}),e.jsx("button",{onClick:()=>L(!0),className:"p-2 bg-green-600 text-white rounded-lg",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>g(""),className:"p-2 bg-red-600 text-white rounded-lg",children:e.jsx(et,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 pt-4 border-t",children:[e.jsx("button",{onClick:ot,disabled:S,className:"flex-1 min-w-[120px] px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 text-sm",children:S?"Processing...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),className:"flex-1 min-w-[120px] px-6 py-2.5 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 text-sm",children:"Back to List"})]})]})]})}),e.jsx(nr,{isOpen:k,onClose:()=>E(!1),onSelect:wt,employees:U,loading:G,error:H}),e.jsx(ql,{isOpen:M,onClose:()=>L(!1),onSelect:Ie,devices:W,loading:F,error:_})]})]})}),e.jsx(Zt,{})]})}function BJ({isOpen:t,onClose:s,onSelect:a,divisions:r,loading:n,error:l}){const[i,d]=o.useState("");if(o.useEffect(()=>{const h=m=>{m.key==="Escape"&&t&&s()};return t&&document.addEventListener("keydown",h),()=>{document.removeEventListener("keydown",h)}},[t,s]),!t)return null;const x=r.filter(h=>h.code.toLowerCase().includes(i.toLowerCase())||h.description.toLowerCase().includes(i.toLowerCase()));return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:s}),e.jsx("div",{className:"fixed inset-0 bg-transparent flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[110vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Division Code"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:i,onChange:h=>d(h.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Code "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Description"})]})}),e.jsx("tbody",{children:n?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-3 py-8 text-center text-gray-500 text-sm",children:"Loading..."})}):l?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-3 py-8 text-center text-red-500 text-sm",children:l})}):x.length>0?x.map(h=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>a(h.code,h.description),children:[e.jsx("td",{className:"px-3 py-1.5",children:h.code}),e.jsx("td",{className:"px-3 py-1.5",children:h.description})]},h.code)):e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-3 py-8 text-center text-gray-500 text-sm",children:"No data available"})})})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing 1 to ",x.length," of"," ",x.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"Previous"}),e.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded text-xs",children:"1"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"Next"})]})]})]})]})})]})}function RJ(){const[t,s]=o.useState(!1),[a,r]=o.useState(""),[n,l]=o.useState(!1),[i,d]=o.useState(null),[x,h]=o.useState(1),m=20,[b,f]=o.useState(""),[N,p]=o.useState(null),[v,y]=o.useState(""),[g,j]=o.useState(""),[C,S]=o.useState(""),[P,k]=o.useState(""),[E,M]=o.useState(""),[L,O]=o.useState(""),[q,B]=o.useState(""),[se,le]=o.useState(""),[pe,U]=o.useState(""),[Y,W]=o.useState(!1),[re,G]=o.useState(!1),[R,F]=o.useState(!1),[A,H]=o.useState(!1),[D,_]=o.useState([]),[xe,ge]=o.useState(!1),[Ne,Ce]=o.useState(""),[fe,ue]=o.useState([]),[Oe,De]=o.useState([]),[Ae,Ee]=o.useState([]),[ze,ot]=o.useState(!1),[wt,Ie]=o.useState(!1),[ye,be]=o.useState(!1),[Me,Re]=o.useState(""),[st,He]=o.useState(""),[Ue,Ye]=o.useState(""),[ht,ut]=o.useState({}),vt=me=>ht[me]===!0;o.useEffect(()=>{ve()},[]);const ve=()=>{const me=localStorage.getItem("loginPayload");if(me)try{const _t=(JSON.parse(me).permissions||[]).filter(mt=>rs(mt.formName)==="DepartmentSetUp"),nt={};_t.forEach(mt=>{const ae=rs(mt.accessTypeName);ae&&(nt[ae]=!0)}),ut(nt)}catch(Ze){console.error("Error parsing or decrypting payload",Ze)}};o.useEffect(()=>{Le()},[]);const Le=async()=>{ge(!0),Ce("");try{const me=await ne.get("/Fs/Employment/DepartmentSetUp");if(me.status===200&&me.data){const Ze=me.data.map(it=>({departmentId:it.depID||"",code:it.depCode||"",departmentCode:it.depCode||"",departmentHeadCode:it.depHeadCode||"",description:it.depDesc||"",divisionCode:it.divCode||"",head:it.depHead||"",deviceName:it.deviceName||"",head1:it.head1||"",email1:it.email1||"",head2:it.head2||"",email2:it.email2||""}));_(Ze)}}catch(me){const Ze=me.response?.data?.message||me.message||"Failed to load departments";Ce(Ze),console.error("Error fetching departments:",me)}finally{ge(!1)}};o.useEffect(()=>{he()},[]);const he=async()=>{ot(!0),Re("");try{const me=await ne.get("/Fs/Employment/DivisionSetUp");if(me.status===200&&me.data){const Ze=me.data.map(it=>({code:it.divCode||it.code||"",description:it.divDesc||it.description||""}));ue(Ze)}}catch(me){const Ze=me.response?.data?.message||me.message||"Failed to load divisions";Re(Ze),console.error("Error fetching divisions:",me)}finally{ot(!1)}};o.useEffect(()=>{Ve()},[]);const Ve=async()=>{Ie(!0),He("");try{const me=await ne.get("/Maintenance/EmployeeMasterFile");if(me.status===200&&me.data){const Ze=me.data.map(it=>({empCode:it.empCode||it.code||"",name:`${it.lName||""}, ${it.fName||""} ${it.mName||""}`.trim(),groupCode:it.grpCode||""}));De(Ze)}}catch(me){const Ze=me.response?.data?.message||me.message||"Failed to load employees";He(Ze),console.error("Error fetching employees:",me)}finally{Ie(!1)}};o.useEffect(()=>{xt()},[]);const xt=async()=>{be(!0),Ye("");try{const me=await ne.get("/Fs/Process/Device/BorrowedDeviceName");if(me.status===200&&me.data){const Ze=me.data.map(it=>({id:it.id||"",code:it.code||"",description:it.description||""}));Ee(Ze),Ee(Ze)}}catch(me){const Ze=me.response?.data?.message||me.message||"Failed to load devices";Ye(Ze),console.error("Error fetching devices:",me)}finally{be(!1)}};o.useEffect(()=>{const me=Ze=>{Ze.key==="Escape"&&t&&s(!1)};return t&&document.addEventListener("keydown",me),()=>{document.removeEventListener("keydown",me)}},[t]);const Pt=()=>{l(!1),d(null),f(""),y(""),j(""),S(""),k(""),M(""),O(""),B(""),le(""),U(""),s(!0)},Lt=(me,Ze)=>{l(!0),p(me.departmentId),d(Ze),f(me.code),S(me.departmentHeadCode),y(me.description),j(me.divisionCode),k(me.head),M(me.deviceName),O(me.head1),B(me.email1),le(me.head2),U(me.email2),s(!0)},It=async me=>{if((await ee.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete department ${me.departmentId}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ne.delete(`/Fs/Employment/DepartmentSetUp/${me.id}`),await ee.fire({icon:"success",title:"Success",text:"Department deleted successfully.",timer:2e3,showConfirmButton:!1}),await Le()}catch(it){const _t=it.response?.data?.message||it.message||"Failed to delete department";await ee.fire({icon:"error",title:"Error",text:_t}),console.error("Error deleting department:",it)}},qe=async()=>{if(!b.trim()){await ee.fire({icon:"warning",title:"Validation Error",text:"Please enter a Department Code."});return}if(D.some((it,_t)=>n&&i===_t?!1:it.code.toLowerCase()===b.trim().toLowerCase())){await ee.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}const Ze=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(q.trim()&&!Ze.test(q)){await ee.fire({icon:"warning",title:"Validation Error",text:"Please enter a valid email address for Email 1."});return}if(pe.trim()&&!Ze.test(pe)){await ee.fire({icon:"warning",title:"Validation Error",text:"Please enter a valid email address for Email 2."});return}W(!0);try{const it={depID:n&&N?parseInt(N):0,depCode:b,depDesc:v,divCode:g||null,depHead:P||null,depHeadCode:C||"",deviceName:E||null,head1:L||null,email1:q||null,head2:se||null,email2:pe||null};n&&i!==null?(await ne.put(`/Fs/Employment/DepartmentSetUp/${it.depID}`,it),await ee.fire({icon:"success",title:"Success",text:"Department updated successfully.",timer:2e3,showConfirmButton:!1}),await Le()):(await ne.post("/Fs/Employment/DepartmentSetUp",it),await ee.fire({icon:"success",title:"Success",text:"Department created successfully.",timer:2e3,showConfirmButton:!1}),await Le()),s(!1),f(""),y(""),j(""),S(""),k(""),M(""),O(""),B(""),le(""),U(""),l(!1),d(null)}catch(it){const _t=it.response?.data?.message||it.message||"An error occurred";await ee.fire({icon:"error",title:"Error",text:_t}),console.error("Error submitting form:",it)}finally{W(!1)}},Nt=(me,Ze)=>{j(Ze),G(!1)},gt=(me,Ze)=>{S(me),k(Ze),F(!1)},dt=(me,Ze)=>{M(Ze),H(!1)},kt=D.filter(me=>me.code.toLowerCase().includes(a.toLowerCase())||me.description.toLowerCase().includes(a.toLowerCase())||me.divisionCode.toLowerCase().includes(a.toLowerCase())||me.head.toLowerCase().includes(a.toLowerCase())||me.deviceName.toLowerCase().includes(a.toLowerCase())||me.head1.toLowerCase().includes(a.toLowerCase())||me.email1.toLowerCase().includes(a.toLowerCase())||me.head2.toLowerCase().includes(a.toLowerCase())||me.email2.toLowerCase().includes(a.toLowerCase())),Dt=Math.ceil(kt.length/m),Ge=(x-1)*m,Ke=Ge+m,ie=kt.slice(Ge,Ke),ke=()=>{const me=[];if(Dt<=5)return Array.from({length:Dt},(nt,mt)=>mt+1);me.push(1),x>3&&me.push("...");const it=Math.max(2,x-1),_t=Math.min(Dt-1,x+1);for(let nt=it;nt<=_t;nt++)me.push(nt);return x<Dt-2&&me.push("..."),me.push(Dt),me};return o.useEffect(()=>{h(1)},[a]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Department Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure organizational departments with division assignments, department head information, device configurations, and contact details for effective management and communication across business units."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Department code and description management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Division and department head assignment"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device name configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Contact information and email management"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[vt("Add")&&vt("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:Pt,children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),vt("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:a,onChange:me=>r(me.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:vt("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Division Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Device Name"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head 1"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Email 1"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head 2"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Email 2"}),(vt("Edit")||vt("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:ie.map((me,Ze)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:me.code}),e.jsx("td",{className:"px-4 py-2",children:me.description}),e.jsx("td",{className:"px-4 py-2",children:me.divisionCode}),e.jsx("td",{className:"px-4 py-2",children:me.head}),e.jsx("td",{className:"px-4 py-2",children:me.deviceName}),e.jsx("td",{className:"px-4 py-2",children:me.head1}),e.jsx("td",{className:"px-4 py-2",children:me.email1}),e.jsx("td",{className:"px-4 py-2",children:me.head2}),e.jsx("td",{className:"px-4 py-2",children:me.email2}),(vt("Edit")||vt("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[vt("Edit")&&e.jsx("button",{onClick:()=>Lt(me,Ge+Ze),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),vt("Edit")&&vt("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),vt("Delete")&&e.jsx("button",{onClick:()=>It(me),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},Ze))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),vt("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600 text-sm",children:["Showing"," ",kt.length===0?0:Ge+1," to"," ",Math.min(Ke,kt.length)," of"," ",kt.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(me=>Math.max(me-1,1)),disabled:x===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Previous"}),ke().map((me,Ze)=>me==="..."?e.jsx("span",{className:"px-2 flex items-center text-gray-500 text-sm",children:"..."},`ellipsis-${Ze}`):e.jsx("button",{onClick:()=>h(me),className:`px-4 py-2 rounded text-sm font-medium ${x===me?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-50"}`,children:me},me)),e.jsx("button",{onClick:()=>h(me=>Math.min(me+1,Dt)),disabled:x===Dt||Dt===0,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Next"})]})]}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Department":"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Department Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Department Code :"}),e.jsx("input",{type:"text",value:b,onChange:me=>{const Ze=me.target.value;Ze.length<=10&&f(Ze)},maxLength:10,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:v,onChange:me=>y(me.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Division Code :"}),e.jsx("input",{type:"text",value:g,onChange:me=>j(me.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>G(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>j(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Department Head Code :"}),e.jsx("input",{type:"text",value:C,onChange:me=>S(me.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>F(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{S(""),k("")},className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Department Head :"}),e.jsx("input",{type:"text",value:P,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-gray-50 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Device Name :"}),e.jsx("input",{type:"text",value:E,onChange:me=>M(me.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>H(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>M(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Head 1 :"}),e.jsx("input",{type:"text",value:L,onChange:me=>O(me.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Email 1 :"}),e.jsx("input",{type:"email",value:q,onChange:me=>B(me.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Head 2 :"}),e.jsx("input",{type:"text",value:se,onChange:me=>le(me.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Email 2 :"}),e.jsx("input",{type:"email",value:pe,onChange:me=>U(me.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:qe,disabled:Y,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:Y?"Processing...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),disabled:Y,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Back to List"})]})]})]})}),e.jsx(BJ,{isOpen:re,onClose:()=>G(!1),onSelect:Nt,divisions:fe,loading:ze,error:Me}),e.jsx(nr,{isOpen:R,onClose:()=>F(!1),onSelect:gt,employees:Oe,loading:wt,error:st}),e.jsx(ql,{isOpen:A,onClose:()=>H(!1),onSelect:dt,devices:Ae,loading:ye,error:Ue})]})]})}),e.jsx(Zt,{})]})}function UJ(){const[t,s]=o.useState(!1),[a,r]=o.useState(""),[n,l]=o.useState(!1),[i,d]=o.useState(null),[x,h]=o.useState(1),m=100,[b,f]=o.useState(""),[N,p]=o.useState(""),[v,y]=o.useState(""),[g,j]=o.useState(""),[C,S]=o.useState(""),[P,k]=o.useState(""),[E,M]=o.useState(null),[L,O]=o.useState(!1),[q,B]=o.useState(!1),[se,le]=o.useState(!1),[pe,U]=o.useState([]),[Y,W]=o.useState([]),[re,G]=o.useState(!1),[R,F]=o.useState(!1),[A,H]=o.useState(""),[D,_]=o.useState(""),[xe,ge]=o.useState({}),Ne=ve=>xe[ve]===!0;o.useEffect(()=>{Ce()},[]);const Ce=()=>{const ve=localStorage.getItem("loginPayload");if(ve)try{const Ve=(JSON.parse(ve).permissions||[]).filter(Pt=>rs(Pt.formName)==="DivisionSetUp"),xt={};Ve.forEach(Pt=>{const Lt=rs(Pt.accessTypeName);Lt&&(xt[Lt]=!0)}),ge(xt)}catch(Le){console.error("Error parsing or decrypting payload",Le)}},[fe,ue]=o.useState([]),[Oe,De]=o.useState(!1),[Ae,Ee]=o.useState("");o.useEffect(()=>{ze(),ot(),wt()},[]);const ze=async()=>{De(!0),Ee("");try{const ve=await ne.get("/Fs/Employment/DivisionSetUp");if(ve.status===200&&ve.data){const Le=ve.data.map(he=>({id:he.divID||"",code:he.divCode||"",description:he.divDesc||"",head:he.divHead||"",headCode:he.divHeadCode||"",deviceName:he.deviceName||""}));ue(Le)}}catch(ve){const Le=ve.response?.data?.message||ve.message||"Failed to load divisions";Ee(Le),console.error("Error fetching divisions:",ve)}finally{De(!1)}},ot=async()=>{G(!0),H("");try{const ve=await ne.get("/Maintenance/EmployeeMasterFile");if(ve.status===200&&ve.data){const Le=ve.data.map(he=>({empCode:he.empCode||he.code||"",name:`${he.lName||""}, ${he.fName||""} ${he.mName||""}`.trim(),groupCode:he.grpCode||""}));U(Le)}}catch(ve){const Le=ve.response?.data?.message||ve.message||"Failed to load employees";H(Le),console.error("Error fetching employees:",ve)}finally{G(!1)}},wt=async()=>{F(!0),_("");try{const ve=await ne.get("/Fs/Process/Device/BorrowedDeviceName");if(ve.status===200&&ve.data){const Le=ve.data.map(he=>({id:he.id||"",code:he.code||"",description:he.description||""}));W(Le)}}catch(ve){const Le=ve.response?.data?.message||ve.message||"Failed to load devices";_(Le),console.error("Error fetching devices:",ve)}finally{F(!1)}};o.useEffect(()=>{const ve=Le=>{Le.key==="Escape"&&t&&s(!1)};return t&&document.addEventListener("keydown",ve),()=>{document.removeEventListener("keydown",ve)}},[t]);const Ie=()=>{l(!1),d(null),M(null),f(""),p(""),y(""),j(""),S(""),k(""),s(!0)},ye=(ve,Le)=>{l(!0),d(Le),M(ve.id||null),f(ve.code),p(""),y(ve.description),j(ve.headCode),S(ve.head),k(ve.deviceName),s(!0)},be=async ve=>{if((await ee.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete division ${ve.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ne.delete(`/Fs/Employment/DivisionSetUp/${ve.id}`),await ee.fire({icon:"success",title:"Success",text:"Division deleted successfully.",timer:2e3,showConfirmButton:!1}),await ze()}catch(he){const Ve=he.response?.data?.message||he.message||"Failed to delete division";await ee.fire({icon:"error",title:"Error",text:Ve}),console.error("Error deleting division:",he)}},Me=ve=>{f(ve),ve.length>10?p("Code maximum 10 characters"):p("")},Re=async()=>{if(!b.trim()||b.length>10){await ee.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(fe.some((Le,he)=>n&&i===he?!1:Le.code.toLowerCase()===b.trim().toLowerCase())){await ee.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}O(!0);try{const Le={divID:n&&E?parseInt(E):0,divCode:b,divDesc:v,divHead:C,divHeadCode:g,deviceName:P};n&&E?(await ne.put(`/Fs/Employment/DivisionSetUp/${E}`,Le),await ee.fire({icon:"success",title:"Success",text:"Division updated successfully.",timer:2e3,showConfirmButton:!1}),await ze()):(await ne.post("/Fs/Employment/DivisionSetUp",Le),await ee.fire({icon:"success",title:"Success",text:"Division created successfully.",timer:2e3,showConfirmButton:!1}),await ze()),s(!1),f(""),p(""),y(""),j(""),S(""),k(""),M(null),l(!1),d(null)}catch(Le){const he=Le.response?.data?.message||Le.message||"An error occurred";await ee.fire({icon:"error",title:"Error",text:he}),console.error("Error submitting form:",Le)}finally{O(!1)}},st=(ve,Le)=>{j(ve),S(Le),B(!1)},He=(ve,Le)=>{k(Le),le(!1)},Ue=fe.filter(ve=>ve.code.toLowerCase().includes(a.toLowerCase())||ve.description.toLowerCase().includes(a.toLowerCase())||ve.head.toLowerCase().includes(a.toLowerCase())||ve.deviceName.toLowerCase().includes(a.toLowerCase())),Ye=Math.ceil(Ue.length/m),ht=(x-1)*m,ut=ht+m,vt=Ue.slice(ht,ut);return o.useEffect(()=>{h(1)},[a]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Division Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure organizational divisions with division head assignments and device configurations for effective management and time tracking across different business units."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Division code and description management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Division head assignment"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device name configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Centralized division tracking"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[Ne("Add")&&Ne("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:Ie,children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),Ne("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:a,onChange:ve=>r(ve.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:Oe?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading divisions..."})}):Ae?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:Ae})}):Ne("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Device Name"}),(Ne("Edit")||Ne("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:vt.map((ve,Le)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:ve.code}),e.jsx("td",{className:"px-4 py-2",children:ve.description}),e.jsx("td",{className:"px-4 py-2",children:ve.head}),e.jsx("td",{className:"px-4 py-2",children:ve.deviceName}),(Ne("Edit")||Ne("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[Ne("Edit")&&e.jsx("button",{onClick:()=>ye(ve,Le),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),Ne("Edit")&&Ne("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),Ne("Delete")&&e.jsx("button",{onClick:()=>be(ve),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},Le))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),Ne("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",Ue.length===0?0:ht+1," ","to ",Math.min(ut,Ue.length)," of"," ",Ue.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(ve=>Math.max(ve-1,1)),disabled:x===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:Ye},(ve,Le)=>Le+1).map(ve=>e.jsx("button",{onClick:()=>h(ve),className:`px-3 py-1 rounded transition-colors ${x===ve?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ve},ve)),e.jsx("button",{onClick:()=>h(ve=>Math.min(ve+1,Ye)),disabled:x===Ye||Ye===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>s(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Division":"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Division Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:b,onChange:ve=>Me(ve.target.value),maxLength:10,className:`flex-1 px-3 py-1.5 border rounded focus:outline-none focus:ring-2 text-sm ${N?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`})]}),N&&e.jsx("p",{className:"ml-40 text-red-500 text-xs mt-1",children:N}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:v,onChange:ve=>y(ve.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Division Head Code :"}),e.jsx("input",{type:"text",value:g,onChange:ve=>j(ve.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>B(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{j(""),S("")},className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Division Head :"}),e.jsx("input",{type:"text",value:C,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-gray-50 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Device Name :"}),e.jsx("input",{type:"text",value:P,onChange:ve=>k(ve.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>le(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>k(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:Re,disabled:L,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:L?"Saving...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),disabled:L,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}),e.jsx(nr,{isOpen:q,onClose:()=>B(!1),onSelect:st,employees:pe,loading:re,error:A}),e.jsx(ql,{isOpen:se,onClose:()=>le(!1),onSelect:He,devices:Y,loading:R,error:D})]})]})}),e.jsx(Zt,{})]})}function HJ(){const[t,s]=o.useState(!1),[a,r]=o.useState(""),[n,l]=o.useState(!1),[i,d]=o.useState(""),[x,h]=o.useState(!1),[m,b]=o.useState(null),[f,N]=o.useState(1),p=100,[v,y]=o.useState(""),[g,j]=o.useState(""),[C,S]=o.useState(""),[P,k]=o.useState(""),[E,M]=o.useState(""),[L,O]=o.useState(null),[q,B]=o.useState(!1),[se,le]=o.useState(!1),[pe,U]=o.useState(!1),[Y,W]=o.useState([]),[re,G]=o.useState(!1),[R,F]=o.useState(""),[A,H]=o.useState([]),[D,_]=o.useState(!1),[xe,ge]=o.useState(""),[Ne,Ce]=o.useState([]),[fe,ue]=o.useState(!1),[Oe,De]=o.useState(""),[Ae,Ee]=o.useState({}),ze=he=>Ae[he]===!0;o.useEffect(()=>{ot()},[]);const ot=()=>{const he=localStorage.getItem("loginPayload");if(he)try{const Pt=(JSON.parse(he).permissions||[]).filter(It=>rs(It.formName)==="EmployeeDesignationSetup"),Lt={};Pt.forEach(It=>{const qe=rs(It.accessTypeName);qe&&(Lt[qe]=!0)}),Ee(Lt)}catch(Ve){console.error("Error parsing or decrypting payload",Ve)}};o.useEffect(()=>{wt()},[]);const wt=async()=>{_(!0),ge("");try{const he=await ne.get("/Fs/Employment/JobLevelSetUp");if(he.status===200&&he.data){const Ve=he.data.map(xt=>({id:xt.jobLevelID||"",code:xt.jobLevelCode||"",description:xt.jobLevelDesc||""}));H(Ve)}}catch(he){const Ve=he.response?.data?.message||he.message||"Failed to load divisions";ge(Ve),console.error("Error fetching divisions:",he)}finally{_(!1)}};o.useEffect(()=>{Ie()},[]);const Ie=async()=>{ue(!0),De("");try{const he=await ne.get("/Fs/Employment/DesignationSetUp");if(he.status===200&&he.data){const Ve=he.data.map(xt=>({id:xt.desID||"",code:xt.desCode||"",description:xt.desDesc||"",jobLevelCode:xt.jobLevelCode||"",deviceName:xt.deviceName||""}));Ce(Ve)}}catch(he){const Ve=he.response?.data?.message||he.message||"Failed to load divisions";De(Ve),console.error("Error fetching Designation:",he)}finally{ue(!1)}};o.useEffect(()=>{ye()},[]);const ye=async()=>{G(!0),F("");try{const he=await ne.get("/Fs/Process/Device/BorrowedDeviceName");if(he.status===200&&he.data){const Ve=he.data.map(xt=>({id:xt.id||"",code:xt.code||"",description:xt.description||""}));W(Ve)}}catch(he){const Ve=he.response?.data?.message||he.message||"Failed to load devices";F(Ve),console.error("Error fetching devices:",he)}finally{G(!1)}};o.useEffect(()=>{const he=Ve=>{Ve.key==="Escape"&&t&&s(!1)};return t&&document.addEventListener("keydown",he),()=>{document.removeEventListener("keydown",he)}},[t]);const be=()=>{h(!1),b(null),O(null),y(""),j(""),S(""),k(""),M(""),s(!0)},Me=(he,Ve)=>{h(!0),b(Ve),O(he.id||null),y(he.code),j(""),S(he.description),k(he.jobLevelCode),M(he.deviceName),s(!0)},Re=async he=>{if(console.log(he),(await ee.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete designation ${he.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ne.delete(`/Fs/Employment/Designation/${he.id}`),await ee.fire({icon:"success",title:"Success",text:"Designation deleted successfully.",timer:2e3,showConfirmButton:!1}),await Ie()}catch(xt){const Pt=xt.response?.data?.message||xt.message||"Failed to delete designation";await ee.fire({icon:"error",title:"Error",text:Pt}),console.error("Error deleting designation:",xt)}},st=async()=>{if(!v.trim()||v.length>10){await ee.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(Ne.some((Ve,xt)=>x&&m===xt?!1:Ve.code.toLowerCase()===v.trim().toLowerCase())){await ee.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}B(!0);try{const Ve={desID:x&&L?parseInt(L):0,desCode:v,desDesc:C,jobLevelCode:P,deviceName:E};x&&L?(await ne.put(`/Fs/Employment/DesignationSetUp/${L}`,Ve),await ee.fire({icon:"success",title:"Success",text:"Designation updated successfully.",timer:2e3,showConfirmButton:!1}),await Ie()):(await ne.post("/Fs/Employment/DesignationSetUp",Ve),await ee.fire({icon:"success",title:"Success",text:"Designation created successfully.",timer:2e3,showConfirmButton:!1}),await Ie()),s(!1),y(""),j(""),S(""),k(""),M(""),O(null),h(!1),b(null)}catch(Ve){const xt=Ve.response?.data?.message||Ve.message||"An error occurred";await ee.fire({icon:"error",title:"Error",text:xt}),console.error("Error submitting form:",Ve)}finally{B(!1)}},He=(he,Ve)=>{k(he),le(!1)},Ue=(he,Ve)=>{M(Ve),U(!1)},Ye=Ne.filter(he=>he.code.toLowerCase().includes(i.toLowerCase())||he.description.toLowerCase().includes(i.toLowerCase())||he.jobLevelCode.toLowerCase().includes(i.toLowerCase())||he.deviceName.toLowerCase().includes(i.toLowerCase())),ht=A.filter(he=>he.code.toLowerCase().includes(a.toLowerCase())||he.description.toLowerCase().includes(a.toLowerCase())),ut=Math.ceil(Ye.length/p),vt=(f-1)*p,ve=vt+p,Le=Ye.slice(vt,ve);return o.useEffect(()=>{N(1)},[i]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Designation Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure employee designation codes and descriptions for job positions, linking them to job level classifications and device assignments for comprehensive employee role management."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Designation code management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Job level code assignment"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Position description tracking"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device name configuration"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[ze("Add")&&ze("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:be,children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),ze("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:i,onChange:he=>d(he.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:fe?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading designations..."})}):Oe?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:Oe})}):ze("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Job Level Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Device Name"}),(ze("Edit")||ze("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:Le.map((he,Ve)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:he.code}),e.jsx("td",{className:"px-4 py-2",children:he.description}),e.jsx("td",{className:"px-4 py-2",children:he.jobLevelCode}),e.jsx("td",{className:"px-4 py-2",children:he.deviceName}),(ze("Edit")||ze("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[ze("Edit")&&e.jsx("button",{onClick:()=>Me(he,Ve),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),ze("Edit")&&ze("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),ze("Delete")&&e.jsx("button",{onClick:()=>Re(he),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},Ve))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),ze("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing"," ",Ye.length===0?0:vt+1," to"," ",Math.min(ve,Ye.length)," of"," ",Ye.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>N(he=>Math.max(he-1,1)),disabled:f===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:ut},(he,Ve)=>Ve+1).map(he=>e.jsx("button",{onClick:()=>N(he),className:`px-3 py-1 rounded transition-colors ${f===he?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:he},he)),e.jsx("button",{onClick:()=>N(he=>Math.min(he+1,ut)),disabled:f===ut||ut===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),t&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:x?"Edit Designation":"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Designation Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:v,onChange:he=>y(he.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:C,onChange:he=>S(he.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm",children:"Job Level Code :"}),e.jsx("input",{type:"text",value:P,onChange:he=>k(he.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>le(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>k(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm",children:"Device Name :"}),e.jsx("input",{type:"text",value:E,onChange:he=>M(he.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>U(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>M(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:st,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:x?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})}),se&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:()=>le(!1)}),e.jsx("div",{className:"fixed inset-0 bg-transparent flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[110vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:"Search"}),e.jsx("button",{onClick:()=>le(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4 flex-1 overflow-y-auto",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Job Level Code"}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:a,onChange:he=>r(he.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Description"})]})}),e.jsx("tbody",{children:ht.map((he,Ve)=>e.jsxs("tr",{onClick:()=>He(he.code,he.description),className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",children:[e.jsx("td",{className:"px-4 py-2 text-sm",children:he.code}),e.jsx("td",{className:"px-4 py-2 text-sm",children:he.description})]},Ve))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600 text-sm",children:["Showing 1 to ",ht.length," of"," ",ht.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 text-sm",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded text-sm",children:"1"}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 text-sm",children:"Next"})]})]})]})]})})]}),e.jsx(ql,{isOpen:pe,onClose:()=>U(!1),onSelect:Ue,devices:Y,loading:re,error:R})]})]})}),e.jsx(Zt,{})]})}function WJ(){const[t,s]=o.useState(!1),[a,r]=o.useState(""),[n,l]=o.useState(!1),[i,d]=o.useState(null),[x,h]=o.useState(1),m=10,[b,f]=o.useState(""),[N,p]=o.useState(""),[v,y]=o.useState(null),[g,j]=o.useState(!1),[C,S]=o.useState([]),[P,k]=o.useState(!1),[E,M]=o.useState(""),[L,O]=o.useState({}),q=F=>L[F]===!0;o.useEffect(()=>{B()},[]);const B=()=>{const F=localStorage.getItem("loginPayload");if(F)try{const D=(JSON.parse(F).permissions||[]).filter(xe=>rs(xe.formName)==="EmployeeStatusSetUp"),_={};D.forEach(xe=>{const ge=rs(xe.accessTypeName);ge&&(_[ge]=!0)}),O(_)}catch(A){console.error("Error parsing or decrypting payload",A)}};o.useEffect(()=>{se()},[]);const se=async()=>{k(!0),M("");try{const F=await ne.get("/Fs/Employment/EmployeeStatusSetUp");if(F.status===200&&F.data){const A=F.data.map(H=>({id:H.empStatID,code:H.empStatCode||"",description:H.empStatDesc||""}));S(A)}}catch(F){const A=F.response?.data?.message||F.message||"Failed to load statuses";M(A)}finally{k(!1)}};o.useEffect(()=>{const F=A=>{A.key==="Escape"&&t&&s(!1)};return t&&document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[t]);const le=()=>{l(!1),y(null),f(""),p(""),s(!0)},pe=(F,A)=>{l(!0),d(A),y(F.id),f(F.code),p(F.description),s(!0)},U=async F=>{if((await ee.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete status ${F.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete"})).isConfirmed)try{await ne.delete(`/Fs/Employment/EmployeeStatusSetUp/${F.id}`),await ee.fire({icon:"success",title:"Deleted",text:"Status deleted successfully.",timer:1500,showConfirmButton:!1}),se()}catch(H){ee.fire("Error",H.response?.data?.message||"Failed to delete","error")}},Y=async()=>{if(!b.trim()){ee.fire("Warning","Please enter a Code.","warning");return}if(C.some((A,H)=>n&&i===H?!1:A.code.toLowerCase()===b.trim().toLowerCase())){await ee.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}j(!0);try{const A={empStatID:n&&v?v:0,empStatCode:b,empStatDesc:N};n&&v?await ne.put(`/Fs/Employment/EmployeeStatusSetUp/${v}`,A):await ne.post("/Fs/Employment/EmployeeStatusSetUp",A),await ee.fire({icon:"success",title:"Success",text:`Status ${n?"updated":"created"} successfully.`,timer:1500,showConfirmButton:!1}),s(!1),se()}catch(A){ee.fire("Error",A.response?.data?.message||"An error occurred","error")}finally{j(!1)}},W=C.filter(F=>F.code.toLowerCase().includes(a.toLowerCase())||F.description.toLowerCase().includes(a.toLowerCase())),re=Math.ceil(W.length/m),G=(x-1)*m,R=W.slice(G,G+m);return o.useEffect(()=>{h(1)},[a]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Employee Status Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define employee status classifications for tracking employment types."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5"}),e.jsx("span",{className:"text-gray-600",children:"Employment status code management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5"}),e.jsx("span",{className:"text-gray-600",children:"Status description tracking"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[q("Add")&&q("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:le,children:[e.jsx(fs,{className:"w-4 h-4"})," Create New"]}),q("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:a,onChange:F=>r(F.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:P?e.jsx("div",{className:"text-center py-10 text-gray-500",children:"Loading statuses..."}):E?e.jsx("div",{className:"p-4 bg-red-50 text-red-700 border border-red-200 rounded",children:E}):q("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),(q("Edit")||q("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:R.map((F,A)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:F.code}),e.jsx("td",{className:"px-4 py-2",children:F.description}),(q("Edit")||q("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[q("Edit")&&e.jsx("button",{onClick:()=>pe(F,A),className:"p-1 text-blue-600 hover:bg-blue-100 rounded",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),q("Delete")&&e.jsx("button",{onClick:()=>U(F),className:"p-1 text-red-600 hover:bg-red-100 rounded",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},F.id||A))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),q("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",W.length===0?0:G+1," ","to"," ",Math.min(G+m,W.length)," ","of ",W.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{disabled:x===1,onClick:()=>h(F=>F-1),className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",children:"Previous"}),Array.from({length:re},(F,A)=>A+1).map(F=>e.jsx("button",{onClick:()=>h(F),className:`px-3 py-1 rounded ${x===F?"bg-blue-600 text-white":"border border-gray-300"}`,children:F},F)),e.jsx("button",{disabled:x===re||re===0,onClick:()=>h(F=>F+1),className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>!g&&s(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Employee Status":"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Employee Status Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:b,onChange:F=>f(F.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 text-sm outline-none"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:N,onChange:F=>p(F.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 text-sm outline-none"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:Y,disabled:g,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm disabled:opacity-50",children:g?"Processing...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 text-sm",children:"Back to List"})]})]})]})})]})]})]})}),e.jsx(Zt,{})]})}function GJ(){const[t,s]=o.useState(!1),[a,r]=o.useState(""),[n,l]=o.useState(!1),[i,d]=o.useState(null),[x,h]=o.useState(1),m=100,[b,f]=o.useState(""),[N,p]=o.useState(""),[v,y]=o.useState(""),[g,j]=o.useState(""),[C,S]=o.useState(""),[P,k]=o.useState(null),[E,M]=o.useState(!1),[L,O]=o.useState(!1),[q,B]=o.useState([]),[se,le]=o.useState(!1),[pe,U]=o.useState(""),[Y,W]=o.useState([]),[re,G]=o.useState(!1),[R,F]=o.useState(""),[A,H]=o.useState({}),D=Ie=>A[Ie]===!0;o.useEffect(()=>{_()},[]);const _=()=>{const Ie=localStorage.getItem("loginPayload");if(Ie)try{const Me=(JSON.parse(Ie).permissions||[]).filter(st=>rs(st.formName)==="GroupScheduleSetUp"),Re={};Me.forEach(st=>{const He=rs(st.accessTypeName);He&&(Re[He]=!0)}),H(Re)}catch(ye){console.error("Error parsing or decrypting payload",ye)}};o.useEffect(()=>{xe()},[]);const xe=async()=>{G(!0),F("");try{const Ie=await ne.get("/Fs/Employment/GroupSetUp");if(Ie.status===200&&Ie.data){const ye=Ie.data.map(be=>({id:be.id||"",code:be.grpCode||"",description:be.grpDesc||"",head:be.grpHead||"",headCode:be.grpHeadCode||""}));W(ye)}}catch(Ie){const ye=Ie.response?.data?.message||Ie.message||"Failed to load groups";F(ye),console.error("Error fetching groups:",Ie)}finally{G(!1)}};o.useEffect(()=>{ge()},[]);const ge=async()=>{le(!0),U("");try{const Ie=await ne.get("/Maintenance/EmployeeMasterFile");if(Ie.status===200&&Ie.data){const ye=Ie.data.map(be=>({empCode:be.empCode||be.code||"",name:`${be.lName||""}, ${be.fName||""} ${be.mName||""}`.trim(),groupCode:be.grpCode||""}));B(ye)}}catch(Ie){const ye=Ie.response?.data?.message||Ie.message||"Failed to load employees";U(ye),console.error("Error fetching employees:",Ie)}finally{le(!1)}};o.useEffect(()=>{const Ie=ye=>{ye.key==="Escape"&&t&&s(!1)};return t&&document.addEventListener("keydown",Ie),()=>{document.removeEventListener("keydown",Ie)}},[t]);const Ne=()=>{l(!1),d(null),k(null),f(""),p(""),y(""),j(""),S(""),s(!0)},Ce=(Ie,ye)=>{l(!0),d(ye),k(Ie.id||null),f(Ie.code),p(""),y(Ie.description),j(Ie.headCode),S(Ie.head),s(!0)},fe=async Ie=>{if((await ee.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete group ${Ie.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ne.delete(`/Fs/Employment/GroupSetUp/${Ie.id}`),await ee.fire({icon:"success",title:"Success",text:"Group deleted successfully.",timer:2e3,showConfirmButton:!1}),await xe()}catch(be){const Me=be.response?.data?.message||be.message||"Failed to delete group";await ee.fire({icon:"error",title:"Error",text:Me}),console.error("Error deleting group:",be)}},ue=Ie=>{f(Ie),Ie.length>10?p("Code maximum 10 characters"):p("")},Oe=async()=>{if(!b.trim()||b.length>10){await ee.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(Y.some((ye,be)=>n&&i===be?!1:ye.code.toLowerCase()===b.trim().toLowerCase())){await ee.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}M(!0);try{const ye={id:n&&P?parseInt(P):0,grpCode:b,grpDesc:v,grpHead:C,grpHeadCode:g};console.log("Submitting payload:",ye),n&&P?(await ne.put(`/Fs/Employment/GroupSetUp/${P}`,ye),await ee.fire({icon:"success",title:"Success",text:"Group updated successfully.",timer:2e3,showConfirmButton:!1}),await xe()):(await ne.post("/Fs/Employment/GroupSetUp",ye),await ee.fire({icon:"success",title:"Success",text:"Group created successfully.",timer:2e3,showConfirmButton:!1}),await xe()),s(!1),f(""),p(""),y(""),j(""),S(""),k(null),l(!1),d(null)}catch(ye){const be=ye.response?.data?.message||ye.message||"An error occurred";await ee.fire({icon:"error",title:"Error",text:be}),console.error("Error submitting form:",ye)}finally{M(!1)}},De=(Ie,ye)=>{j(Ie),S(ye),O(!1)},Ae=Y.filter(Ie=>Ie.code.toLowerCase().includes(a.toLowerCase())||Ie.description.toLowerCase().includes(a.toLowerCase())||Ie.head.toLowerCase().includes(a.toLowerCase())),Ee=Math.ceil(Ae.length/m),ze=(x-1)*m,ot=ze+m,wt=Ae.slice(ze,ot);return o.useEffect(()=>{h(1)},[a]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Group Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure work groups with designated group heads for effective team organization and time tracking management across different employee teams and units."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Group code and description management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Group head assignment"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Team organization tracking"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Workforce grouping system"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[D("Add")&&D("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:Ne,children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),D("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:a,onChange:Ie=>r(Ie.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:re?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading groups..."})}):R?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:R})}):D("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"}),(D("Edit")||D("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:wt.map((Ie,ye)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:Ie.code}),e.jsx("td",{className:"px-4 py-2",children:Ie.description}),e.jsx("td",{className:"px-4 py-2",children:Ie.head}),(D("Edit")||D("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[D("Edit")&&e.jsx("button",{onClick:()=>Ce(Ie,ye),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),D("Edit")&&D("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),D("Delete")&&e.jsx("button",{onClick:()=>fe(Ie),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},ye))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),D("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",Ae.length===0?0:ze+1," to"," ",Math.min(ot,Ae.length)," of"," ",Ae.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(Ie=>Math.max(Ie-1,1)),disabled:x===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:Ee},(Ie,ye)=>ye+1).map(Ie=>e.jsx("button",{onClick:()=>h(Ie),className:`px-3 py-1 rounded transition-colors ${x===Ie?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ie},Ie)),e.jsx("button",{onClick:()=>h(Ie=>Math.min(Ie+1,Ee)),disabled:x===Ee||Ee===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>s(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Group":"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Group Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:b,onChange:Ie=>ue(Ie.target.value),maxLength:10,className:`flex-1 px-3 py-1.5 border rounded focus:outline-none focus:ring-2 text-sm ${N?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`})]}),N&&e.jsx("p",{className:"ml-32 text-red-500 text-xs mt-1",children:N}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:v,onChange:Ie=>y(Ie.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Head Code :"}),e.jsx("input",{type:"text",value:g,onChange:Ie=>j(Ie.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>O(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{j(""),S("")},className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Head :"}),e.jsx("input",{type:"text",value:C,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-gray-50 text-sm"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:Oe,disabled:E,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:E?"Saving...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),disabled:E,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}),e.jsx(nr,{isOpen:L,onClose:()=>O(!1),onSelect:De,employees:q,loading:se,error:pe})]})]})}),e.jsx(Zt,{})]})}function $J(){const[t,s]=o.useState(!1),[a,r]=o.useState(""),[n,l]=o.useState(!1),[i,d]=o.useState(null),[x,h]=o.useState(1),m=100,[b,f]=o.useState(""),[N,p]=o.useState(""),[v,y]=o.useState(""),[g,j]=o.useState(null),[C,S]=o.useState(!1),[P,k]=o.useState([]),[E,M]=o.useState(!1),[L,O]=o.useState(""),[q,B]=o.useState({}),se=D=>q[D]===!0;o.useEffect(()=>{le()},[]);const le=()=>{const D=localStorage.getItem("loginPayload");if(D)try{const ge=(JSON.parse(D).permissions||[]).filter(Ce=>rs(Ce.formName)==="JobLevelSetup"),Ne={};ge.forEach(Ce=>{const fe=rs(Ce.accessTypeName);fe&&(Ne[fe]=!0)}),B(Ne)}catch(_){console.error("Error parsing or decrypting payload",_)}};o.useEffect(()=>{pe()},[]);const pe=async()=>{M(!0),O("");try{const D=await ne.get("/Fs/Employment/JobLevelSetUp");if(D.status===200&&D.data){const _=D.data.map(xe=>({id:xe.jobLevelID||"",code:xe.jobLevelCode||"",description:xe.jobLevelDesc||""}));k(_)}}catch(D){const _=D.response?.data?.message||D.message||"Failed to load divisions";O(_),console.error("Error fetching divisions:",D)}finally{M(!1)}};o.useEffect(()=>{const D=_=>{_.key==="Escape"&&t&&s(!1)};return t&&document.addEventListener("keydown",D),()=>{document.removeEventListener("keydown",D)}},[t]);const U=()=>{l(!1),d(null),j(null),f(""),p(""),y(""),s(!0)},Y=(D,_)=>{l(!0),d(_),j(D.id||null),f(D.code),p(""),y(D.description),s(!0)},W=async D=>{if((await ee.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete division ${D.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ne.delete(`/Fs/Employment/DivisionSetUp/${D.divID}`),await ee.fire({icon:"success",title:"Success",text:"Division deleted successfully.",timer:2e3,showConfirmButton:!1}),await pe()}catch(xe){const ge=xe.response?.data?.message||xe.message||"Failed to delete division";await ee.fire({icon:"error",title:"Error",text:ge}),console.error("Error deleting division:",xe)}},re=async()=>{if(!b.trim()||b.length>10){await ee.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(P.some((_,xe)=>n&&i===xe?!1:_.code.toLowerCase()===b.trim().toLowerCase())){await ee.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}S(!0);try{const _={jobLevelID:n&&g?parseInt(g):0,jobLevelCode:b,jobLevelDesc:v};n&&g?(await ne.put(`/Fs/Employment/JobLevelSetUp/${g}`,_),await ee.fire({icon:"success",title:"Success",text:"Division updated successfully.",timer:2e3,showConfirmButton:!1}),await pe()):(await ne.post("/Fs/Employment/JobLevelSetUp",_),await ee.fire({icon:"success",title:"Success",text:"Division created successfully.",timer:2e3,showConfirmButton:!1}),await pe()),s(!1),f(""),p(""),y(""),j(null),l(!1),d(null)}catch(_){const xe=_.response?.data?.message||_.message||"An error occurred";await ee.fire({icon:"error",title:"Error",text:xe}),console.error("Error submitting form:",_)}finally{S(!1)}},G=P.filter(D=>D.code.toLowerCase().includes(a.toLowerCase())||D.description.toLowerCase().includes(a.toLowerCase())),R=Math.ceil(G.length/m),F=(x-1)*m,A=F+m,H=G.slice(F,A);return o.useEffect(()=>{h(1)},[a]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Job Level Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define job level classifications for organizational hierarchy management including staff levels, managerial positions, and executive roles for effective workforce structure."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Job level code management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Position level description"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Hierarchy classification system"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Organizational level tracking"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[se("Add")&&se("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:U,children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),se("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:a,onChange:D=>r(D.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:E?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading job levels..."})}):L?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:L})}):se("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),(se("Edit")||se("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:H.map((D,_)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:D.code}),e.jsx("td",{className:"px-4 py-2",children:D.description}),(se("Edit")||se("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[se("Edit")&&e.jsx("button",{onClick:()=>Y(D,_),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),(se("Edit")||se("Delete"))&&e.jsx("span",{className:"text-gray-300",children:"|"}),se("Delete")&&e.jsx("button",{onClick:()=>W(D.code),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},_))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),se("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",G.length===0?0:F+1," to"," ",Math.min(A,G.length)," of"," ",G.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(D=>Math.max(D-1,1)),disabled:x===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:R},(D,_)=>_+1).map(D=>e.jsx("button",{onClick:()=>h(D),className:`px-3 py-1 rounded transition-colors ${x===D?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:D},D)),e.jsx("button",{onClick:()=>h(D=>Math.min(D+1,R)),disabled:x===R||R===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>s(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Job Level":"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Job Level Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:b,onChange:D=>f(D.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:v,onChange:D=>y(D.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:re,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:n?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]})]})]})}),e.jsx(Zt,{})]})}function zJ(){const[t,s]=o.useState(!1),[a,r]=o.useState(""),[n,l]=o.useState(!1),[i,d]=o.useState(null),[x,h]=o.useState(1),m=100,[b,f]=o.useState(""),[N,p]=o.useState(""),[v,y]=o.useState(""),[g,j]=o.useState(""),[C,S]=o.useState(""),[P,k]=o.useState(""),[E,M]=o.useState(null),[L,O]=o.useState(!1),[q,B]=o.useState(!1),[se,le]=o.useState(!1),[pe,U]=o.useState([]),[Y,W]=o.useState([]),[re,G]=o.useState(!1),[R,F]=o.useState(!1),[A,H]=o.useState(""),[D,_]=o.useState(""),[xe,ge]=o.useState([]),[Ne,Ce]=o.useState(!1),[fe,ue]=o.useState(""),[Oe,De]=o.useState({}),Ae=Le=>Oe[Le]===!0;o.useEffect(()=>{Ee()},[]);const Ee=()=>{const Le=localStorage.getItem("loginPayload");if(Le)try{const xt=(JSON.parse(Le).permissions||[]).filter(Lt=>rs(Lt.formName)==="LocationSetUp"),Pt={};xt.forEach(Lt=>{const It=rs(Lt.accessTypeName);It&&(Pt[It]=!0)}),De(Pt)}catch(he){console.error("Error parsing or decrypting payload",he)}};o.useEffect(()=>{ze()},[]);const ze=async()=>{Ce(!0),ue("");try{const Le=await ne.get("/Fs/Employment/LocationSetUp");if(Le.status===200&&Le.data){const he=Le.data.map(Ve=>({id:Ve.locID||"",code:Ve.locationCode||"",description:Ve.locationDesc||"",head:Ve.head||"",headCode:Ve.headCode||"",acctCode:Ve.acctCode||"",createdBy:Ve.createdBy||"",createdDate:Ve.createdDate||"",editedBy:Ve.editedBy||"",editedDate:Ve.editedDate||"",deviceName:Ve.deviceName||""}));ge(he)}}catch(Le){const he=Le.response?.data?.message||Le.message||"Failed to load locations";ue(he),console.error("Error fetching locations:",Le)}finally{Ce(!1)}};o.useEffect(()=>{ot()},[]);const ot=async()=>{G(!0),H("");try{const Le=await ne.get("/Maintenance/EmployeeMasterFile");if(Le.status===200&&Le.data){const he=Le.data.map(Ve=>({empCode:Ve.empCode||Ve.code||"",name:`${Ve.lName||""}, ${Ve.fName||""} ${Ve.mName||""}`.trim(),groupCode:Ve.grpCode||""}));U(he)}}catch(Le){const he=Le.response?.data?.message||Le.message||"Failed to load employees";H(he),console.error("Error fetching employees:",Le)}finally{G(!1)}};o.useEffect(()=>{wt()},[]);const wt=async()=>{F(!0),_("");try{const Le=await ne.get("/Fs/Process/Device/BorrowedDeviceName");if(Le.status===200&&Le.data){const he=Le.data.map(Ve=>({id:Ve.id||"",code:Ve.code||"",description:Ve.description||""}));W(he)}}catch(Le){const he=Le.response?.data?.message||Le.message||"Failed to load devices";_(he),console.error("Error fetching devices:",Le)}finally{F(!1)}};o.useEffect(()=>{const Le=he=>{he.key==="Escape"&&t&&s(!1)};return t&&document.addEventListener("keydown",Le),()=>{document.removeEventListener("keydown",Le)}},[t]);const Ie=()=>{l(!1),d(null),M(null),f(""),p(""),y(""),j(""),S(""),k(""),s(!0)},ye=(Le,he)=>{l(!0),d(he),M(Le.id||null),f(Le.code),p(""),y(Le.description),j(Le.headCode),S(Le.head),k(Le.deviceName),s(!0)},be=async Le=>{if((await ee.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete location ${Le.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ne.delete(`/Fs/Employment/LocationSetUp/${Le.id}`),await ee.fire({icon:"success",title:"Success",text:"Location deleted successfully.",timer:2e3,showConfirmButton:!1}),await ze()}catch(Ve){const xt=Ve.response?.data?.message||Ve.message||"Failed to delete location";await ee.fire({icon:"error",title:"Error",text:xt}),console.error("Error deleting location:",Ve)}},Me=Le=>{f(Le),Le.length>10?p("Code maximum 10 characters"):p("")},Re=async()=>{if(!b.trim()||b.length>10){await ee.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(xe.some((he,Ve)=>n&&i===Ve?!1:he.code.toLowerCase()===b.trim().toLowerCase())){await ee.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}O(!0);try{const he=localStorage.getItem("userData"),Ve=he?JSON.parse(he):{},xt=Ve.userName||Ve.username||Ve.name||"Guest",Pt={id:n&&E?parseInt(E):0,locationCode:b,locationDesc:v,head:C,headCode:g,acctCode:"",deviceName:P,createdBy:n?null:xt,createdDate:n?null:new Date().toISOString(),editedBy:n?xt:null,editedDate:n?new Date().toISOString():null};n&&E?(await ne.put(`/Fs/Employment/LocationSetUp/${E}`,Pt),await ee.fire({icon:"success",title:"Success",text:"Location updated successfully.",timer:2e3,showConfirmButton:!1})):(await ne.post("/Fs/Employment/LocationSetUp",Pt),await ee.fire({icon:"success",title:"Success",text:"Location created successfully.",timer:2e3,showConfirmButton:!1})),await ze(),s(!1),st()}catch(he){const Ve=he.response?.data?.message||he.message||"An error occurred";await ee.fire({icon:"error",title:"Error",text:Ve}),console.error("Error submitting form:",he)}finally{O(!1)}},st=()=>{f(""),p(""),y(""),j(""),S(""),k(""),M(null),l(!1),d(null)},He=(Le,he)=>{j(Le),S(he),B(!1)},Ue=(Le,he)=>{k(he),le(!1)},Ye=xe.filter(Le=>Le.code.toLowerCase().includes(a.toLowerCase())||Le.description.toLowerCase().includes(a.toLowerCase())||Le.head.toLowerCase().includes(a.toLowerCase())||Le.deviceName.toLowerCase().includes(a.toLowerCase())),ht=Math.ceil(Ye.length/m),ut=(x-1)*m,vt=ut+m,ve=Ye.slice(ut,vt);return o.useEffect(()=>{h(1)},[a]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Location Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure location designations with assigned heads and device names for effective geographical workforce tracking and time management across different office sites and branches."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Location code and description management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Location head assignment"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device name configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Geographic site tracking"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[Ae("Add")&&Ae("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:Ie,children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),Ae("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:a,onChange:Le=>r(Le.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:Ne?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading locations..."})}):fe?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:fe})}):Ae("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Device Name"}),(Ae("Edit")||Ae("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:ve.map((Le,he)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:Le.code}),e.jsx("td",{className:"px-4 py-2",children:Le.description}),e.jsx("td",{className:"px-4 py-2",children:Le.head}),e.jsx("td",{className:"px-4 py-2",children:Le.deviceName}),(Ae("Edit")||Ae("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[Ae("Edit")&&e.jsx("button",{onClick:()=>ye(Le,he),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),Ae("Edit")&&Ae("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),Ae("Delete")&&e.jsx("button",{onClick:()=>be(Le),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},he))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),Ae("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",Ye.length===0?0:ut+1," ","to ",Math.min(vt,Ye.length)," of"," ",Ye.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(Le=>Math.max(Le-1,1)),disabled:x===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:ht},(Le,he)=>he+1).map(Le=>e.jsx("button",{onClick:()=>h(Le),className:`px-3 py-1 rounded transition-colors ${x===Le?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Le},Le)),e.jsx("button",{onClick:()=>h(Le=>Math.min(Le+1,ht)),disabled:x===ht||ht===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>s(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Location":"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Location Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:b,onChange:Le=>Me(Le.target.value),maxLength:10,className:`flex-1 px-3 py-1.5 border rounded focus:outline-none focus:ring-2 text-sm ${N?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`})]}),N&&e.jsx("p",{className:"ml-32 text-red-500 text-xs mt-1",children:N}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:v,onChange:Le=>y(Le.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Head Code :"}),e.jsx("input",{type:"text",value:g,onChange:Le=>j(Le.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>B(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{j(""),S("")},className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Head :"}),e.jsx("input",{type:"text",value:C,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-gray-50 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Device Name :"}),e.jsx("input",{type:"text",value:P,onChange:Le=>k(Le.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>le(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>k(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:Re,disabled:L,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:L?"Saving...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),disabled:L,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}),e.jsx(nr,{isOpen:q,onClose:()=>B(!1),onSelect:He,employees:pe,loading:re,error:A}),e.jsx(ql,{isOpen:se,onClose:()=>le(!1),onSelect:Ue,devices:Y,loading:R,error:D})]})]})}),e.jsx(Zt,{})]})}function VJ(){const[t,s]=o.useState(!1),[a,r]=o.useState(""),[n,l]=o.useState(!1),[i,d]=o.useState(null),[x,h]=o.useState(1),m=100,[b,f]=o.useState(""),[N,p]=o.useState(""),[v,y]=o.useState(""),[g,j]=o.useState(""),[C,S]=o.useState(""),[P,k]=o.useState(""),[E,M]=o.useState(""),[L,O]=o.useState(null),[q,B]=o.useState(!1),[se,le]=o.useState(!1),[pe,U]=o.useState(!1),[Y,W]=o.useState([]),[re,G]=o.useState([]),[R,F]=o.useState(!1),[A,H]=o.useState(!1),[D,_]=o.useState(""),[xe,ge]=o.useState(""),[Ne,Ce]=o.useState({}),fe=he=>Ne[he]===!0;o.useEffect(()=>{ue()},[]);const ue=()=>{const he=localStorage.getItem("loginPayload");if(he)try{const Pt=(JSON.parse(he).permissions||[]).filter(It=>rs(It.formName)==="LineSetUp"),Lt={};Pt.forEach(It=>{const qe=rs(It.accessTypeName);qe&&(Lt[qe]=!0)}),Ce(Lt)}catch(Ve){console.error("Error parsing or decrypting payload",Ve)}},[Oe,De]=o.useState([]),[Ae,Ee]=o.useState(!1),[ze,ot]=o.useState("");o.useEffect(()=>{wt()},[]);const wt=async()=>{Ee(!0),ot("");try{const he=await ne.get("/Fs/Employment/PayHouseSetUp");if(he.status===200&&he.data){const Ve=he.data.map(xt=>({id:xt.lineID||"",code:xt.lineCode||"",description:xt.lineDesc||"",head:xt.head||"",headCode:xt.headCode||"",position:xt.position||"",deviceName:xt.deviceName||""}));De(Ve)}}catch(he){const Ve=he.response?.data?.message||he.message||"Failed to load pay houses";ot(Ve),console.error("Error fetching pay houses:",he)}finally{Ee(!1)}};o.useEffect(()=>{Ie()},[]);const Ie=async()=>{F(!0),_("");try{const he=await ne.get("/Maintenance/EmployeeMasterFile");if(he.status===200&&he.data){const Ve=he.data.map(xt=>({empCode:xt.empCode||xt.code||"",name:`${xt.lName||""}, ${xt.fName||""} ${xt.mName||""}`.trim(),groupCode:xt.grpCode||""}));W(Ve)}}catch(he){const Ve=he.response?.data?.message||he.message||"Failed to load employees";_(Ve),console.error("Error fetching employees:",he)}finally{F(!1)}};o.useEffect(()=>{ye()},[]);const ye=async()=>{H(!0),ge("");try{const he=await ne.get("/Fs/Process/Device/BorrowedDeviceName");if(he.status===200&&he.data){const Ve=he.data.map(xt=>({id:xt.id||"",code:xt.code||"",description:xt.description||""}));G(Ve)}}catch(he){const Ve=he.response?.data?.message||he.message||"Failed to load devices";ge(Ve),console.error("Error fetching devices:",he)}finally{H(!1)}};o.useEffect(()=>{const he=Ve=>{Ve.key==="Escape"&&t&&s(!1)};return t&&document.addEventListener("keydown",he),()=>{document.removeEventListener("keydown",he)}},[t]);const be=()=>{l(!1),d(null),O(null),f(""),p(""),y(""),j(""),S(""),k(""),M(""),s(!0)},Me=(he,Ve)=>{l(!0),d(Ve),O(he.id||null),f(he.code),p(""),y(he.description),j(he.headCode),S(he.head),k(he.position),M(he.deviceName),s(!0)},Re=async he=>{if((await ee.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete pay house ${he.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ne.delete(`/Fs/Employment/PayHouseSetUp/${he.id}`),await ee.fire({icon:"success",title:"Success",text:"Pay house deleted successfully.",timer:2e3,showConfirmButton:!1}),await wt()}catch(xt){const Pt=xt.response?.data?.message||xt.message||"Failed to delete pay house";await ee.fire({icon:"error",title:"Error",text:Pt}),console.error("Error deleting pay house:",xt)}},st=he=>{f(he),he.length>10?p("Code maximum 10 characters"):p("")},He=async()=>{if(!b.trim()||b.length>10){await ee.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(Oe.some((Ve,xt)=>n&&i===xt?!1:Ve.code.toLowerCase()===b.trim().toLowerCase())){await ee.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}B(!0);try{const Ve={lineID:n&&L?parseInt(L):0,lineCode:b,lineDesc:v,head:C,headCode:g,position:P,deviceName:E};n&&L?(await ne.put(`/Fs/Employment/PayHouseSetUp/${L}`,Ve),await ee.fire({icon:"success",title:"Success",text:"Pay house updated successfully.",timer:2e3,showConfirmButton:!1}),await wt()):(await ne.post("/Fs/Employment/PayHouseSetUp",Ve),await ee.fire({icon:"success",title:"Success",text:"Pay house created successfully.",timer:2e3,showConfirmButton:!1}),await wt()),s(!1),f(""),p(""),y(""),j(""),S(""),k(""),M(""),O(null),l(!1),d(null)}catch(Ve){const xt=Ve.response?.data?.message||Ve.message||"An error occurred";await ee.fire({icon:"error",title:"Error",text:xt}),console.error("Error submitting form:",Ve)}finally{B(!1)}},Ue=(he,Ve)=>{j(he),S(Ve),le(!1)},Ye=(he,Ve)=>{M(Ve),U(!1)},ht=Oe.filter(he=>he.code.toLowerCase().includes(a.toLowerCase())||he.description.toLowerCase().includes(a.toLowerCase())||he.head.toLowerCase().includes(a.toLowerCase())||he.position.toLowerCase().includes(a.toLowerCase())||he.deviceName.toLowerCase().includes(a.toLowerCase())),ut=Math.ceil(ht.length/m),vt=(x-1)*m,ve=vt+m,Le=ht.slice(vt,ve);return o.useEffect(()=>{h(1)},[a]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Pay House Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Manage pay house classifications with assigned heads and device configurations for effective payroll processing and timekeeping management across different payment groups and locations."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Pay house code and description"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Pay house head assignment"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device name configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Payroll group organization"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[fe("Add")&&fe("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:be,children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),fe("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:a,onChange:he=>r(he.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:Ae?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading pay houses..."})}):ze?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:ze})}):fe("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Position"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Device Name"}),(fe("Edit")||fe("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:Le.map((he,Ve)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:he.code}),e.jsx("td",{className:"px-4 py-2",children:he.description}),e.jsx("td",{className:"px-4 py-2",children:he.head}),e.jsx("td",{className:"px-4 py-2",children:he.position}),e.jsx("td",{className:"px-4 py-2",children:he.deviceName}),(fe("Edit")||fe("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[fe("Edit")&&e.jsx("button",{onClick:()=>Me(he,Ve),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),fe("Edit")&&fe("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),fe("Delete")&&e.jsx("button",{onClick:()=>Re(he),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},Ve))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),fe("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",ht.length===0?0:vt+1," ","to ",Math.min(ve,ht.length)," of"," ",ht.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(he=>Math.max(he-1,1)),disabled:x===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:ut},(he,Ve)=>Ve+1).map(he=>e.jsx("button",{onClick:()=>h(he),className:`px-3 py-1 rounded transition-colors ${x===he?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:he},he)),e.jsx("button",{onClick:()=>h(he=>Math.min(he+1,ut)),disabled:x===ut||ut===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>s(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Pay House":"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Pay House Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:b,onChange:he=>st(he.target.value),maxLength:10,className:`flex-1 px-3 py-1.5 border rounded focus:outline-none focus:ring-2 text-sm ${N?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`})]}),N&&e.jsx("p",{className:"ml-32 text-red-500 text-xs mt-1",children:N}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:v,onChange:he=>y(he.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Head Code :"}),e.jsx("input",{type:"text",value:g,onChange:he=>j(he.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>le(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{j(""),S("")},className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Head :"}),e.jsx("input",{type:"text",value:C,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-gray-50 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Position :"}),e.jsx("input",{type:"text",value:P,onChange:he=>k(he.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Device Name :"}),e.jsx("input",{type:"text",value:E,onChange:he=>M(he.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>U(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>M(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:He,disabled:q,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:q?"Saving...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),disabled:q,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}),e.jsx(nr,{isOpen:se,onClose:()=>le(!1),onSelect:Ue,employees:Y,loading:R,error:D}),e.jsx(ql,{isOpen:pe,onClose:()=>U(!1),onSelect:Ye,devices:re,loading:A,error:xe})]})]})}),e.jsx(Zt,{})]})}function YJ(){const[t,s]=o.useState(!1),[a,r]=o.useState(""),[n,l]=o.useState(!1),[i,d]=o.useState(null),[x,h]=o.useState(1),m=100,[b,f]=o.useState(""),[N,p]=o.useState(""),[v,y]=o.useState(""),[g,j]=o.useState(""),[C,S]=o.useState(""),[P,k]=o.useState(""),[E,M]=o.useState(null),[L,O]=o.useState(!1),[q,B]=o.useState(!1),[se,le]=o.useState(!1),[pe,U]=o.useState([]),[Y,W]=o.useState([]),[re,G]=o.useState(!1),[R,F]=o.useState(!1),[A,H]=o.useState(""),[D,_]=o.useState(""),[xe,ge]=o.useState({}),Ne=ve=>xe[ve]===!0;o.useEffect(()=>{Ce()},[]);const Ce=()=>{const ve=localStorage.getItem("loginPayload");if(ve)try{const Ve=(JSON.parse(ve).permissions||[]).filter(Pt=>rs(Pt.formName)==="OnlineApprovalSetup"),xt={};Ve.forEach(Pt=>{const Lt=rs(Pt.accessTypeName);Lt&&(xt[Lt]=!0)}),ge(xt)}catch(Le){console.error("Error parsing or decrypting payload",Le)}},[fe,ue]=o.useState([]),[Oe,De]=o.useState(!1),[Ae,Ee]=o.useState("");o.useEffect(()=>{ze()},[]);const ze=async()=>{De(!0),Ee("");try{const ve=await ne.get("/Fs/Employment/OnlineApprovalSetUp");if(ve.status===200&&ve.data){const Le=ve.data.map(he=>({id:he.id||"",code:he.onlineAppCode||"",description:he.onlineAppDesc||"",head:he.onlineAppMngr||"",headCode:he.onlineAppMngr||"",deviceName:he.deviceName||"",createdBy:he.createdBy||"",createdDate:he.createdDate||"",editedBy:he.editedBy||"",editedDate:he.editedDate||""}));ue(Le)}}catch(ve){const Le=ve.response?.data?.message||ve.message||"Failed to load online approvals";Ee(Le),console.error("Error fetching online approvals:",ve)}finally{De(!1)}};o.useEffect(()=>{ot()},[]);const ot=async()=>{G(!0),H("");try{const ve=await ne.get("/Maintenance/EmployeeMasterFile");if(ve.status===200&&ve.data){const Le=ve.data.map(he=>({empCode:he.empCode||he.code||"",name:`${he.lName||""}, ${he.fName||""} ${he.mName||""}`.trim(),groupCode:he.grpCode||""}));U(Le)}}catch(ve){const Le=ve.response?.data?.message||ve.message||"Failed to load employees";H(Le),console.error("Error fetching employees:",ve)}finally{G(!1)}};o.useEffect(()=>{wt()},[]);const wt=async()=>{F(!0),_("");try{const ve=await ne.get("/Fs/Process/Device/BorrowedDeviceName");if(ve.status===200&&ve.data){const Le=ve.data.map(he=>({id:he.id||"",code:he.code||"",description:he.description||""}));W(Le)}}catch(ve){const Le=ve.response?.data?.message||ve.message||"Failed to load devices";_(Le),console.error("Error fetching devices:",ve)}finally{F(!1)}};o.useEffect(()=>{const ve=Le=>{Le.key==="Escape"&&t&&s(!1)};return t&&document.addEventListener("keydown",ve),()=>{document.removeEventListener("keydown",ve)}},[t]);const Ie=()=>{l(!1),d(null),M(null),f(""),p(""),y(""),j(""),S(""),k(""),s(!0)},ye=(ve,Le)=>{l(!0),d(Le),M(ve.id||null),f(ve.code),p(""),y(ve.description),j(ve.headCode),S(ve.head),k(ve.deviceName),s(!0)},be=async ve=>{if((await ee.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete online approval ${ve.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ne.delete(`/Fs/Employment/OnlineApprovalSetUp/${ve.id}`),await ee.fire({icon:"success",title:"Success",text:"Online approval deleted successfully.",timer:2e3,showConfirmButton:!1}),await ze()}catch(he){const Ve=he.response?.data?.message||he.message||"Failed to delete online approval";await ee.fire({icon:"error",title:"Error",text:Ve}),console.error("Error deleting online approval:",he)}},Me=ve=>{f(ve),ve.length>10?p("Code maximum 10 characters"):p("")},Re=async()=>{if(!b.trim()||b.length>10){await ee.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(fe.some((Le,he)=>n&&i===he?!1:Le.code.toLowerCase()===b.trim().toLowerCase())){await ee.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}O(!0);try{const Le=localStorage.getItem("userData"),he=Le?JSON.parse(Le):{},Ve=he.userName||he.username||he.name||"Guest",xt={id:n&&E?parseInt(E):0,onlineAppCode:b,onlineAppDesc:v,onlineAppMngr:g,createdBy:n?null:Ve,createdDate:n?null:new Date().toISOString(),editedBy:n?Ve:null,editedDate:n?new Date().toISOString():null,deviceName:P};n&&E?(await ne.put(`/Fs/Employment/OnlineApprovalSetUp/${E}`,xt),await ee.fire({icon:"success",title:"Success",text:"Online approval updated successfully.",timer:2e3,showConfirmButton:!1}),await ze()):(await ne.post("/Fs/Employment/OnlineApprovalSetUp",xt),await ee.fire({icon:"success",title:"Success",text:"Online approval created successfully.",timer:2e3,showConfirmButton:!1}),await ze()),s(!1),f(""),p(""),y(""),j(""),S(""),k(""),M(null),l(!1),d(null)}catch(Le){const he=Le.response?.data?.message||Le.message||"An error occurred";await ee.fire({icon:"error",title:"Error",text:he}),console.error("Error submitting form:",Le)}finally{O(!1)}},st=(ve,Le)=>{j(ve),S(Le),B(!1)},He=(ve,Le)=>{k(Le),le(!1)},Ue=fe.filter(ve=>ve.code.toLowerCase().includes(a.toLowerCase())||ve.description.toLowerCase().includes(a.toLowerCase())||ve.head.toLowerCase().includes(a.toLowerCase())||ve.deviceName.toLowerCase().includes(a.toLowerCase())),Ye=Math.ceil(Ue.length/m),ht=(x-1)*m,ut=ht+m,vt=Ue.slice(ht,ut);return o.useEffect(()=>{h(1)},[a]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Online Approval Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure online approval settings with designated approvers and device configurations for streamlined digital approval workflows and time record authorization management."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Online approval code management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Approver assignment and tracking"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device name configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Digital workflow authorization"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[Ne("Add")&&Ne("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:Ie,children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:a,onChange:ve=>r(ve.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:Oe?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading online approvals..."})}):Ae?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:Ae})}):Ne("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Device Name"}),(Ne("Edit")||Ne("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:vt.map((ve,Le)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:ve.code}),e.jsx("td",{className:"px-4 py-2",children:ve.description}),e.jsx("td",{className:"px-4 py-2",children:ve.head}),e.jsx("td",{className:"px-4 py-2",children:ve.deviceName}),(Ne("Edit")||Ne("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[Ne("Edit")&&e.jsx("button",{onClick:()=>ye(ve,Le),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),Ne("Edit")&&Ne("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),Ne("Delete")&&e.jsx("button",{onClick:()=>be(ve),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},Le))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),Ne("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",Ue.length===0?0:ht+1," ","to ",Math.min(ut,Ue.length)," of"," ",Ue.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(ve=>Math.max(ve-1,1)),disabled:x===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:Ye},(ve,Le)=>Le+1).map(ve=>e.jsx("button",{onClick:()=>h(ve),className:`px-3 py-1 rounded transition-colors ${x===ve?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ve},ve)),e.jsx("button",{onClick:()=>h(ve=>Math.min(ve+1,Ye)),disabled:x===Ye||Ye===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>s(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Online Approval":"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Online Approval Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:b,onChange:ve=>Me(ve.target.value),maxLength:10,className:`flex-1 px-3 py-1.5 border rounded focus:outline-none focus:ring-2 text-sm ${N?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`})]}),N&&e.jsx("p",{className:"ml-32 text-red-500 text-xs mt-1",children:N}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:v,onChange:ve=>y(ve.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Head :"}),e.jsx("input",{type:"text",value:g,onChange:ve=>j(ve.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>B(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{j(""),S("")},className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Name :"}),e.jsx("input",{type:"text",value:C,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-gray-50 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Device Name :"}),e.jsx("input",{type:"text",value:P,onChange:ve=>k(ve.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>le(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>k(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:Re,disabled:L,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:L?"Saving...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),disabled:L,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}),e.jsx(nr,{isOpen:q,onClose:()=>B(!1),onSelect:st,employees:pe,loading:re,error:A}),e.jsx(ql,{isOpen:se,onClose:()=>le(!1),onSelect:He,devices:Y,loading:R,error:D})]})]})}),e.jsx(Zt,{})]})}function KJ(){const[t,s]=o.useState(!1),[a,r]=o.useState(""),[n,l]=o.useState(!1),[i,d]=o.useState(null),[x,h]=o.useState(1),m=100,[b,f]=o.useState(""),[N,p]=o.useState(""),[v,y]=o.useState(""),[g,j]=o.useState(""),[C,S]=o.useState(""),[P,k]=o.useState(""),[E,M]=o.useState(null),[L,O]=o.useState(!1),[q,B]=o.useState(!1),[se,le]=o.useState(!1),[pe,U]=o.useState([]),[Y,W]=o.useState([]),[re,G]=o.useState(!1),[R,F]=o.useState(!1),[A,H]=o.useState(""),[D,_]=o.useState(""),[xe,ge]=o.useState({}),Ne=ve=>xe[ve]===!0;o.useEffect(()=>{Ce()},[]);const Ce=()=>{const ve=localStorage.getItem("loginPayload");if(ve)try{const Ve=(JSON.parse(ve).permissions||[]).filter(Pt=>rs(Pt.formName)==="SectionSetUp"),xt={};Ve.forEach(Pt=>{const Lt=rs(Pt.accessTypeName);Lt&&(xt[Lt]=!0)}),ge(xt)}catch(Le){console.error("Error parsing or decrypting payload",Le)}},[fe,ue]=o.useState([]),[Oe,De]=o.useState(!1),[Ae,Ee]=o.useState("");o.useEffect(()=>{ze()},[]);const ze=async()=>{De(!0),Ee("");try{const ve=await ne.get("/Fs/Employment/SectionSetUp");if(ve.status===200&&ve.data){const Le=ve.data.map(he=>({id:he.secID||he.id||"",code:he.secCode||he.code||"",description:he.secDesc||he.description||"",head:he.secHead||he.head||"",headCode:he.secHeadCode||he.headCode||"",deviceName:he.deviceName||""}));ue(Le)}}catch(ve){const Le=ve.response?.data?.message||ve.message||"Failed to load sections";Ee(Le),console.error("Error fetching sections:",ve)}finally{De(!1)}};o.useEffect(()=>{ot()},[]);const ot=async()=>{G(!0),H("");try{const ve=await ne.get("/Maintenance/EmployeeMasterFile");if(ve.status===200&&ve.data){const Le=ve.data.map(he=>({empCode:he.empCode||he.code||"",name:`${he.lName||""}, ${he.fName||""} ${he.mName||""}`.trim(),groupCode:he.grpCode||""}));U(Le)}}catch(ve){const Le=ve.response?.data?.message||ve.message||"Failed to load employees";H(Le),console.error("Error fetching employees:",ve)}finally{G(!1)}};o.useEffect(()=>{wt()},[]);const wt=async()=>{F(!0),_("");try{const ve=await ne.get("/Fs/Process/Device/BorrowedDeviceName");if(ve.status===200&&ve.data){const Le=ve.data.map(he=>({id:he.id||"",code:he.code||"",description:he.description||""}));W(Le)}}catch(ve){const Le=ve.response?.data?.message||ve.message||"Failed to load devices";_(Le),console.error("Error fetching devices:",ve)}finally{F(!1)}};o.useEffect(()=>{const ve=Le=>{Le.key==="Escape"&&t&&s(!1)};return t&&document.addEventListener("keydown",ve),()=>{document.removeEventListener("keydown",ve)}},[t]);const Ie=()=>{l(!1),d(null),M(null),f(""),p(""),y(""),j(""),S(""),k(""),s(!0)},ye=(ve,Le)=>{l(!0),d(Le),M(ve.id||null),f(ve.code),p(""),y(ve.description),j(ve.headCode),S(ve.head),k(ve.deviceName),s(!0)},be=async ve=>{if((await ee.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete section ${ve.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ne.delete(`/Fs/Employment/SectionSetUp/${ve.id}`),await ee.fire({icon:"success",title:"Success",text:"Section deleted successfully.",timer:2e3,showConfirmButton:!1}),await ze()}catch(he){const Ve=he.response?.data?.message||he.message||"Failed to delete section";await ee.fire({icon:"error",title:"Error",text:Ve}),console.error("Error deleting section:",he)}},Me=ve=>{f(ve),ve.length>10?p("Code maximum 10 characters"):p("")},Re=async()=>{if(!b.trim()||b.length>10){await ee.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(fe.some((Le,he)=>n&&i===he?!1:Le.code.toLowerCase()===b.trim().toLowerCase())){await ee.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}O(!0);try{const Le={secID:n&&E?parseInt(E):0,secCode:b,depCode:"",secDesc:v,secHead:C,secHeadCode:g,deviceName:P};n&&E?(await ne.put(`/Fs/Employment/SectionSetUp/${E}`,Le),await ee.fire({icon:"success",title:"Success",text:"Section updated successfully.",timer:2e3,showConfirmButton:!1}),await ze()):(await ne.post("/Fs/Employment/SectionSetUp",Le),await ee.fire({icon:"success",title:"Success",text:"Section created successfully.",timer:2e3,showConfirmButton:!1}),await ze()),s(!1),f(""),p(""),y(""),j(""),S(""),k(""),M(null),l(!1),d(null)}catch(Le){const he=Le.response?.data?.message||Le.message||"An error occurred";await ee.fire({icon:"error",title:"Error",text:he}),console.error("Error submitting form:",Le)}finally{O(!1)}},st=(ve,Le)=>{j(ve),S(Le),B(!1)},He=(ve,Le)=>{k(Le),le(!1)},Ue=fe.filter(ve=>ve.code.toLowerCase().includes(a.toLowerCase())||ve.description.toLowerCase().includes(a.toLowerCase())||ve.head.toLowerCase().includes(a.toLowerCase())||ve.deviceName.toLowerCase().includes(a.toLowerCase())),Ye=Math.ceil(Ue.length/m),ht=(x-1)*m,ut=ht+m,vt=Ue.slice(ht,ut);return o.useEffect(()=>{h(1)},[a]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Section Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure organizational sections with designated heads and device assignments for comprehensive departmental structure management and employee categorization across the company."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Section code and description management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Section head assignment"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device name configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Organizational structure tracking"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[Ne("Add")&&Ne("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:Ie,children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:a,onChange:ve=>r(ve.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:Oe?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading sections..."})}):Ae?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:Ae})}):Ne("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Device Name"}),(Ne("Edit")||Ne("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:vt.map((ve,Le)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:ve.code}),e.jsx("td",{className:"px-4 py-2",children:ve.description}),e.jsx("td",{className:"px-4 py-2",children:ve.head}),e.jsx("td",{className:"px-4 py-2",children:ve.deviceName}),(Ne("Edit")||Ne("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[Ne("Edit")&&e.jsx("button",{onClick:()=>ye(ve,Le),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),Ne("Edit")&&Ne("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),Ne("Delete")&&e.jsx("button",{onClick:()=>be(ve),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},Le))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),Ne("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",Ue.length===0?0:ht+1," ","to ",Math.min(ut,Ue.length)," of"," ",Ue.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(ve=>Math.max(ve-1,1)),disabled:x===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:Ye},(ve,Le)=>Le+1).map(ve=>e.jsx("button",{onClick:()=>h(ve),className:`px-3 py-1 rounded transition-colors ${x===ve?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ve},ve)),e.jsx("button",{onClick:()=>h(ve=>Math.min(ve+1,Ye)),disabled:x===Ye||Ye===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>s(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Section":"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Section Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:b,onChange:ve=>Me(ve.target.value),maxLength:10,className:`flex-1 px-3 py-1.5 border rounded focus:outline-none focus:ring-2 text-sm ${N?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`})]}),N&&e.jsx("p",{className:"ml-32 text-red-500 text-xs mt-1",children:N}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:v,onChange:ve=>y(ve.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Head Code :"}),e.jsx("input",{type:"text",value:g,onChange:ve=>j(ve.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>B(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{j(""),S("")},className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Head :"}),e.jsx("input",{type:"text",value:C,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-gray-50 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Device Name :"}),e.jsx("input",{type:"text",value:P,onChange:ve=>k(ve.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>le(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>k(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:Re,disabled:L,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:L?"Saving...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),disabled:L,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}),e.jsx(nr,{isOpen:q,onClose:()=>B(!1),onSelect:st,employees:pe,loading:re,error:A}),e.jsx(ql,{isOpen:se,onClose:()=>le(!1),onSelect:He,devices:Y,loading:R,error:D})]})]})}),e.jsx(Zt,{})]})}function qJ(){const[t,s]=o.useState(!1),[a,r]=o.useState(""),[n,l]=o.useState(!1),[i,d]=o.useState(null),[x,h]=o.useState(1),m=100,[b,f]=o.useState(""),[N,p]=o.useState(""),[v,y]=o.useState(""),[g,j]=o.useState(""),[C,S]=o.useState(""),[P,k]=o.useState(""),[E,M]=o.useState(""),[L,O]=o.useState(null),[q,B]=o.useState(!1),[se,le]=o.useState(!1),[pe,U]=o.useState(!1),[Y,W]=o.useState([]),[re,G]=o.useState([]),[R,F]=o.useState(!1),[A,H]=o.useState(!1),[D,_]=o.useState(""),[xe,ge]=o.useState(""),[Ne,Ce]=o.useState({}),fe=he=>Ne[he]===!0;o.useEffect(()=>{ue()},[]);const ue=()=>{const he=localStorage.getItem("loginPayload");if(he)try{const Pt=(JSON.parse(he).permissions||[]).filter(It=>rs(It.formName)==="UnitSetUp"),Lt={};Pt.forEach(It=>{const qe=rs(It.accessTypeName);qe&&(Lt[qe]=!0)}),Ce(Lt)}catch(Ve){console.error("Error parsing or decrypting payload",Ve)}},[Oe,De]=o.useState([]),[Ae,Ee]=o.useState(!1),[ze,ot]=o.useState("");o.useEffect(()=>{wt()},[]);const wt=async()=>{Ee(!0),ot("");try{const he=await ne.get("/Fs/Employment/UnitSetUp");if(he.status===200&&he.data){const Ve=he.data.map(xt=>({id:xt.unitID||"",code:xt.unitCode||"",description:xt.unitDesc||"",head:xt.head||"",position:xt.position||"",deviceName:xt.deviceName||""}));De(Ve)}}catch(he){const Ve=he.response?.data?.message||he.message||"Failed to load units";ot(Ve),console.error("Error fetching units:",he)}finally{Ee(!1)}};o.useEffect(()=>{Ie()},[]);const Ie=async()=>{F(!0),_("");try{const he=await ne.get("/Maintenance/EmployeeMasterFile");if(he.status===200&&he.data){const Ve=he.data.map(xt=>({empCode:xt.empCode||xt.code||"",name:`${xt.lName||""}, ${xt.fName||""} ${xt.mName||""}`.trim(),groupCode:xt.grpCode||""}));W(Ve)}}catch(he){const Ve=he.response?.data?.message||he.message||"Failed to load employees";_(Ve),console.error("Error fetching employees:",he)}finally{F(!1)}};o.useEffect(()=>{ye()},[]);const ye=async()=>{H(!0),ge("");try{const he=await ne.get("/Fs/Process/Device/BorrowedDeviceName");if(he.status===200&&he.data){const Ve=he.data.map(xt=>({id:xt.id||"",code:xt.code||"",description:xt.description||""}));G(Ve)}}catch(he){const Ve=he.response?.data?.message||he.message||"Failed to load devices";ge(Ve),console.error("Error fetching devices:",he)}finally{H(!1)}};o.useEffect(()=>{const he=Ve=>{Ve.key==="Escape"&&t&&s(!1)};return t&&document.addEventListener("keydown",he),()=>{document.removeEventListener("keydown",he)}},[t]);const be=()=>{l(!1),d(null),O(null),f(""),p(""),y(""),j(""),S(""),k(""),M(""),s(!0)},Me=(he,Ve)=>{console.log("Editing unit:",he),l(!0),d(Ve),O(he.id||null),f(he.code),p(""),y(he.description);let xt=he.headCode||"";if(!xt&&he.head){const Pt=Y.find(Lt=>Lt.name===he.head);Pt&&(console.log("Found employee for head:",Pt),xt=Pt.empCode,console.log("Set headCode to:",Pt.empCode))}j(xt),console.log("Final headCode value:",xt),S(he.head||""),k(he.position||""),M(he.deviceName||""),s(!0)},Re=async he=>{if((await ee.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete unit ${he.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ne.delete(`/Fs/Employment/UnitSetUp/${he.id}`),await ee.fire({icon:"success",title:"Success",text:"Unit deleted successfully.",timer:2e3,showConfirmButton:!1}),await wt()}catch(xt){const Pt=xt.response?.data?.message||xt.message||"Failed to delete unit";await ee.fire({icon:"error",title:"Error",text:Pt}),console.error("Error deleting unit:",xt)}},st=he=>{f(he),he.length>10?p("Code maximum 10 characters"):p("")},He=async()=>{if(!b.trim()||b.length>10){await ee.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(Oe.some((Ve,xt)=>n&&i===xt?!1:Ve.code.toLowerCase()===b.trim().toLowerCase())){await ee.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}B(!0);try{const Ve={unitID:n&&L?parseInt(L):0,unitCode:b,unitDesc:v,head:C,headCode:g,position:P,deviceName:E};n&&L?(await ne.put(`/Fs/Employment/UnitSetUp/${L}`,Ve),await ee.fire({icon:"success",title:"Success",text:"Unit updated successfully.",timer:2e3,showConfirmButton:!1}),await wt()):(await ne.post("/Fs/Employment/UnitSetUp",Ve),await ee.fire({icon:"success",title:"Success",text:"Unit created successfully.",timer:2e3,showConfirmButton:!1}),await wt()),s(!1),f(""),p(""),y(""),j(""),S(""),k(""),M(""),O(null),l(!1),d(null)}catch(Ve){const xt=Ve.response?.data?.message||Ve.message||"An error occurred";await ee.fire({icon:"error",title:"Error",text:xt}),console.error("Error submitting form:",Ve)}finally{B(!1)}},Ue=(he,Ve)=>{j(he),S(Ve),le(!1)},Ye=(he,Ve)=>{M(Ve),U(!1)},ht=Oe.filter(he=>he.code.toLowerCase().includes(a.toLowerCase())||he.description.toLowerCase().includes(a.toLowerCase())||he.head.toLowerCase().includes(a.toLowerCase())||he.position.toLowerCase().includes(a.toLowerCase())||he.deviceName.toLowerCase().includes(a.toLowerCase())),ut=Math.ceil(ht.length/m),vt=(x-1)*m,ve=vt+m,Le=ht.slice(vt,ve);return o.useEffect(()=>{h(1)},[a]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Unit Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure organizational units with designated heads and device configurations for streamlined unit management and employee grouping within departments and divisions."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Unit code and description management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Unit head assignment"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device name configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Work unit organization tracking"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[(fe("Add")||fe("View"))&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:be,children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),fe("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:a,onChange:he=>r(he.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:Ae?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading units..."})}):ze?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:ze})}):fe("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Position"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Device Name"}),(fe("Edit")||fe("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:Le.map((he,Ve)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:he.code}),e.jsx("td",{className:"px-4 py-2",children:he.description}),e.jsx("td",{className:"px-4 py-2",children:he.head}),e.jsx("td",{className:"px-4 py-2",children:he.position}),e.jsx("td",{className:"px-4 py-2",children:he.deviceName}),(fe("Edit")||fe("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[fe("Edit")&&e.jsx("button",{onClick:()=>Me(he,Ve),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),fe("Edit")&&fe("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),fe("Delete")&&e.jsx("button",{onClick:()=>Re(he),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},Ve))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),fe("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",ht.length===0?0:vt+1," to ",Math.min(ve,ht.length)," of ",ht.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(he=>Math.max(he-1,1)),disabled:x===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:ut},(he,Ve)=>Ve+1).map(he=>e.jsx("button",{onClick:()=>h(he),className:`px-3 py-1 rounded transition-colors ${x===he?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:he},he)),e.jsx("button",{onClick:()=>h(he=>Math.min(he+1,ut)),disabled:x===ut||ut===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>s(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Unit":"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Unit Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:b,onChange:he=>st(he.target.value),maxLength:10,className:`flex-1 px-3 py-1.5 border rounded focus:outline-none focus:ring-2 text-sm ${N?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`})]}),N&&e.jsx("p",{className:"ml-32 text-red-500 text-xs mt-1",children:N}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:v,onChange:he=>y(he.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Head Code :"}),e.jsx("input",{type:"text",value:g,onChange:he=>j(he.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>le(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{j(""),S("")},className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Head :"}),e.jsx("input",{type:"text",value:C,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-gray-50 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Position :"}),e.jsx("input",{type:"text",value:P,onChange:he=>k(he.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Device Name :"}),e.jsx("input",{type:"text",value:E,onChange:he=>M(he.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>U(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>M(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:He,disabled:q,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:q?"Saving...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),disabled:q,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}),e.jsx(nr,{isOpen:se,onClose:()=>le(!1),onSelect:Ue,employees:Y,loading:R,error:D}),e.jsx(ql,{isOpen:pe,onClose:()=>U(!1),onSelect:Ye,devices:re,loading:A,error:xe})]})]})}),e.jsx(Zt,{})]})}function XJ(){const[t,s]=o.useState("128PC-92\\SQL2022"),[a,r]=o.useState(""),[n,l]=o.useState(!0),[i,d]=o.useState(""),[x,h]=o.useState(""),[m,b]=o.useState(""),[f,N]=o.useState(""),[p,v]=o.useState("results"),[y,g]=o.useState(""),[j,C]=o.useState(!1),S=()=>{if(!a||!m||!f){alert("Please fill in all required fields");return}C(!0),v("results"),g(`Creating database...
Initializing tables...
Setting up company information...
Database created successfully!`),setTimeout(()=>{C(!1)},2e3)};return e.jsx("div",{className:"min-h-screen bg-white flex flex-col",children:e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Create New Database"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(fp,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Create a new database for a company with all required tables, stored procedures, and initial configurations. This process will set up the complete timekeeping system structure."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Initialize database schema and tables"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set up stored procedures and functions"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Configure company information"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"SQL Server Authentication support"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Database Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Server Name"}),e.jsxs("select",{value:t,onChange:P=>s(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:"128PC-87\\SQL2022",children:"128PC-87\\SQL2022"}),e.jsx("option",{value:"localhost",children:"localhost"}),e.jsx("option",{value:".\\SQLEXPRESS",children:".\\SQLEXPRESS"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Database Name"}),e.jsx("input",{type:"text",value:a,onChange:P=>r(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter database name"})]}),e.jsxs("div",{className:"bg-white rounded border border-gray-200 p-4",children:[e.jsx("h4",{className:"text-gray-700 text-sm mb-3",children:"Authentication"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",checked:n,onChange:()=>l(!0),className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Use SQL Server Authentication"})]}),n&&e.jsxs("div",{className:"ml-6 space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-600 text-sm mb-1",children:"Username"}),e.jsx("input",{type:"text",value:i,onChange:P=>d(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter username"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-600 text-sm mb-1",children:"Password"}),e.jsx("input",{type:"password",value:x,onChange:P=>h(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter password"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded border border-gray-200 p-4",children:[e.jsx("h4",{className:"text-gray-700 text-sm mb-3",children:"Company Details"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-600 text-sm mb-1",children:"Code"}),e.jsx("input",{type:"text",value:m,onChange:P=>b(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter company code"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-600 text-sm mb-1",children:"Name"}),e.jsx("input",{type:"text",value:f,onChange:P=>N(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter company name"})]})]})]}),e.jsx("div",{className:"flex justify-center pt-4 border-t border-gray-200",children:e.jsxs("button",{onClick:S,disabled:j,className:"px-8 py-2.5 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[e.jsx(fp,{className:"w-4 h-4"}),j?"Creating...":"Create"]})})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b border-gray-200",children:[e.jsx("button",{onClick:()=>v("results"),className:`px-4 py-2 text-sm transition-colors ${p==="results"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:"Results"}),e.jsx("button",{onClick:()=>v("scripts"),className:`px-4 py-2 text-sm transition-colors ${p==="scripts"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:"Scripts"})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 h-[500px] overflow-auto",children:[p==="results"&&e.jsx("div",{className:"text-sm text-gray-700 whitespace-pre-wrap font-mono",children:y||'No results yet. Click "Create" to initialize the database.'}),p==="scripts"&&e.jsx("div",{className:"text-sm text-gray-700 whitespace-pre-wrap font-mono",children:`-- Database Creation Script
CREATE DATABASE [${a||"DatabaseName"}]
GO

USE [${a||"DatabaseName"}]
GO

-- Create Company Table
CREATE TABLE Company (
  CompanyCode VARCHAR(10) PRIMARY KEY,
  CompanyName VARCHAR(100) NOT NULL
)
GO

-- Create Employee Table
CREATE TABLE Employee (
  EmployeeID INT PRIMARY KEY IDENTITY(1,1),
  EmployeeCode VARCHAR(20) NOT NULL,
  FirstName VARCHAR(50),
  LastName VARCHAR(50),
  CompanyCode VARCHAR(10)
)
GO`})]})]})]})]})]})})})}function JJ(){const[t,s]=o.useState(!1),[a,r]=o.useState("perlita.manalo@128techconsultinginc.com"),[n,l]=o.useState("mail.128techconsultinginc.com"),[i,d]=o.useState("Others"),[x,h]=o.useState("587"),[m,b]=o.useState(""),[f,N]=o.useState("None"),[p,v]=o.useState(""),[y,g]=o.useState(""),[j,C]=o.useState(!1),[S,P]=o.useState(""),k=()=>{s(!1),alert("Email configuration saved successfully!")},E=()=>{C(!0),P(""),setTimeout(()=>{P(" Email test successful! Test email sent to configured address."),C(!1)},2e3)};return e.jsx("div",{className:"min-h-screen bg-white flex flex-col",children:e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Email Configuration"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(pC,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure email server settings to enable system notifications, alerts, and automated reports. Set up SMTP server details and test connectivity."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Configure SMTP server settings"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Support for SSL/TLS encryption"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Test email configuration instantly"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Secure authentication support"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsxs("button",{onClick:()=>s(!t),className:"px-6 py-2.5 bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors flex items-center gap-2",children:[e.jsx(ws,{className:"w-4 h-4"}),"Edit"]}),e.jsxs("button",{onClick:E,disabled:j,className:"px-6 py-2.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(fC,{className:"w-4 h-4"}),j?"Testing...":"Test Email Configuration"]})]}),S&&e.jsx("div",{className:"mb-6 bg-green-50 border-l-4 border-green-500 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-green-700",children:S})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:e.jsx("span",{className:"text-gray-900",children:"EmailSender"})}),t?e.jsx("input",{type:"email",value:a,onChange:M=>r(M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}):e.jsx("p",{className:"text-gray-600",children:a})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:e.jsx("span",{className:"text-gray-900",children:"SmtpServer"})}),t?e.jsx("input",{type:"text",value:n,onChange:M=>l(M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}):e.jsx("p",{className:"text-gray-600",children:n})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:e.jsx("span",{className:"text-gray-900",children:"SendOption"})}),t?e.jsxs("select",{value:i,onChange:M=>d(M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:"Others",children:"Others"}),e.jsx("option",{value:"Gmail",children:"Gmail"}),e.jsx("option",{value:"Outlook",children:"Outlook"}),e.jsx("option",{value:"Yahoo",children:"Yahoo"})]}):e.jsx("p",{className:"text-gray-600",children:i})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:e.jsx("span",{className:"text-gray-900",children:"Port"})}),t?e.jsx("input",{type:"text",value:x,onChange:M=>h(M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}):e.jsx("p",{className:"text-gray-600",children:x})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:e.jsx("span",{className:"text-gray-900",children:"TargetName"})}),t?e.jsx("input",{type:"text",value:m,onChange:M=>b(M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Optional"}):e.jsx("p",{className:"text-gray-600",children:m||"(empty)"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:e.jsx("span",{className:"text-gray-900",children:"EncryptionConnection"})}),t?e.jsxs("select",{value:f,onChange:M=>N(M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:"None",children:"None"}),e.jsx("option",{value:"SSL",children:"SSL"}),e.jsx("option",{value:"TLS",children:"TLS"}),e.jsx("option",{value:"STARTTLS",children:"STARTTLS"})]}):e.jsx("p",{className:"text-gray-600",children:f})]}),t&&e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:e.jsx("span",{className:"text-gray-900",children:"Username"})}),e.jsx("input",{type:"text",value:p,onChange:M=>v(M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"SMTP username (optional)"})]}),t&&e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:e.jsx("span",{className:"text-gray-900",children:"Password"})}),e.jsx("input",{type:"password",value:y,onChange:M=>g(M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"SMTP password (optional)"})]})]})]}),t&&e.jsxs("div",{className:"mt-6 flex items-center gap-3",children:[e.jsxs("button",{onClick:k,className:"px-6 py-2.5 bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx(Be,{className:"w-4 h-4"}),"Save Configuration"]}),e.jsx("button",{onClick:()=>s(!1),className:"px-6 py-2.5 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Cancel"})]})]})]})})})}function QJ({value:t,onChange:s,onClose:a,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&a()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[a]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,y=n.getFullYear(),g=`${v}/${p}/${y}`;s(g),a()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let g=x-1;g>=0;g--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-g},`prev-${g}`));for(let g=1;g<=d;g++)p.push(e.jsx("div",{onClick:()=>f(g),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:g},g));const y=42-p.length;for(let g=1;g<=y;g++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:g},`next-${g}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function ZJ({value:t,onChange:s,onClose:a,position:r}){const n=o.useRef(null),[l,i]=o.useState("10"),[d,x]=o.useState("00"),[h,m]=o.useState("00");o.useEffect(()=>{const f=N=>{n.current&&!n.current.contains(N.target)&&a()};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[a]);const b=()=>{const f=`${l.padStart(2,"0")}:${d.padStart(2,"0")}:${h.padStart(2,"0")}`;s(f),a()};return e.jsxs("div",{ref:n,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"200px"},children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-2",children:"Time"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",min:"0",max:"23",value:l,onChange:f=>i(f.target.value),className:"w-14 px-2 py-1 border border-gray-300 rounded text-sm text-center",placeholder:"HH"}),e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("input",{type:"number",min:"0",max:"59",value:d,onChange:f=>x(f.target.value),className:"w-14 px-2 py-1 border border-gray-300 rounded text-sm text-center",placeholder:"MM"}),e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("input",{type:"number",min:"0",max:"59",value:h,onChange:f=>m(f.target.value),className:"w-14 px-2 py-1 border border-gray-300 rounded text-sm text-center",placeholder:"SS"})]})]}),e.jsx("button",{onClick:b,className:"w-full px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm",children:"OK"})]})}function eQ(){const[t,s]=o.useState("12/26/2025"),[a,r]=o.useState("10:00:00"),[n,l]=o.useState("12/26/2025"),[i,d]=o.useState("10:00:00"),[x,h]=o.useState(""),[m,b]=o.useState(""),[f,N]=o.useState(""),[p,v]=o.useState("date"),[y,g]=o.useState("desc"),[j,C]=o.useState(null),[S,P]=o.useState(null),[k,E]=o.useState({top:0,left:0}),[M,L]=o.useState({top:0,left:0}),O=[{id:1,date:"12/26/2025 10:30:15",user:"admin",pcName:"WORKSTATION-01",formName:"EmployeeForm",accessType:"Edit",activity:"Update Record",message:"Updated employee #12345 information"},{id:2,date:"12/26/2025 10:25:42",user:"jdoe",pcName:"WORKSTATION-02",formName:"AttendanceForm",accessType:"View",activity:"View Record",message:"Viewed attendance logs for 12/26/2025"},{id:3,date:"12/26/2025 10:20:33",user:"admin",pcName:"WORKSTATION-01",formName:"PayrollForm",accessType:"Create",activity:"Create Record",message:"Created new payroll batch #2025-12"}],[q,B]=o.useState(O),se=()=>{let Y=O;x&&(Y=Y.filter(W=>W.formName.toLowerCase().includes(x.toLowerCase()))),m&&(Y=Y.filter(W=>W.activity.toLowerCase().includes(m.toLowerCase()))),f&&(Y=Y.filter(W=>W.user.toLowerCase().includes(f.toLowerCase()))),B(Y)},le=()=>{s("12/26/2025"),r("10:00:00"),l("12/26/2025"),d("10:00:00"),h(""),b(""),N(""),B(O)},pe=Y=>{p===Y?g(y==="asc"?"desc":"asc"):(v(Y),g("asc"))},U=({field:Y})=>p!==Y?e.jsxs("div",{className:"ml-1 flex flex-col",children:[e.jsx(D0,{className:"w-3 h-3 text-gray-400"}),e.jsx(lc,{className:"w-3 h-3 text-gray-400 -mt-1"})]}):y==="asc"?e.jsx(D0,{className:"w-4 h-4 ml-1"}):e.jsx(lc,{className:"w-4 h-4 ml-1"});return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Audit Trail"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(vi,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Monitor and review all system activities including user logins, form access, data modifications, and administrative actions. Filter by date range, user, form, or activity type."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Track all user activities and access logs"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by date range, user, or activity type"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Monitor data modifications and changes"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Export audit reports for compliance"})]})]})]})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Date From"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:t,onChange:Y=>s(Y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:Y=>{const W=Y.currentTarget.getBoundingClientRect();E({top:W.bottom,left:W.left}),C("dateFrom")},className:"absolute top-0 right-0 p-2 bg-gray-200 text-gray-500 rounded hover:bg-gray-300 transition-colors",children:e.jsx(ds,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Time From"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:a,onChange:Y=>r(Y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:Y=>{const W=Y.currentTarget.getBoundingClientRect();L({top:W.bottom,left:W.left}),P("timeFrom")},className:"absolute top-0 right-0 p-2 bg-gray-200 text-gray-500 rounded hover:bg-gray-300 transition-colors",children:e.jsx(xa,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Date To"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:n,onChange:Y=>l(Y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:Y=>{const W=Y.currentTarget.getBoundingClientRect();E({top:W.bottom,left:W.left}),C("dateTo")},className:"absolute top-0 right-0 p-2 bg-gray-200 text-gray-500 rounded hover:bg-gray-300 transition-colors",children:e.jsx(ds,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Time To"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:i,onChange:Y=>d(Y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:Y=>{const W=Y.currentTarget.getBoundingClientRect();L({top:W.bottom,left:W.left}),P("timeTo")},className:"absolute top-0 right-0 p-2 bg-gray-200 text-gray-500 rounded hover:bg-gray-300 transition-colors",children:e.jsx(xa,{className:"w-4 h-4"})})]})]})]})}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Form Name"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:x,onChange:Y=>h(Y.target.value),placeholder:"FormName",className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("button",{onClick:se,className:"p-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>h(""),className:"p-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Activity"}),e.jsx("input",{type:"text",value:m,onChange:Y=>b(Y.target.value),placeholder:"Activity",className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"User"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:f,onChange:Y=>N(Y.target.value),placeholder:"Users",className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("button",{onClick:se,className:"p-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>N(""),className:"p-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]})]})]})})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[e.jsxs("button",{onClick:le,className:"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(W0,{className:"w-4 h-4"}),"Reset"]}),e.jsxs("button",{onClick:()=>alert("Export functionality would be implemented here"),className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(on,{className:"w-4 h-4"}),"Export"]}),e.jsxs("button",{onClick:se,className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(Gt,{className:"w-4 h-4"}),"Search"]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:e.jsxs("button",{onClick:()=>pe("date"),className:"flex items-center hover:text-gray-900",children:["Date",e.jsx(U,{field:"date"})]})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:e.jsxs("button",{onClick:()=>pe("user"),className:"flex items-center hover:text-gray-900",children:["User",e.jsx(U,{field:"user"})]})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:e.jsxs("button",{onClick:()=>pe("pcName"),className:"flex items-center hover:text-gray-900",children:["PC Name",e.jsx(U,{field:"pcName"})]})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:e.jsxs("button",{onClick:()=>pe("formName"),className:"flex items-center hover:text-gray-900",children:["Form Name",e.jsx(U,{field:"formName"})]})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:e.jsxs("button",{onClick:()=>pe("accessType"),className:"flex items-center hover:text-gray-900",children:["Access Type",e.jsx(U,{field:"accessType"})]})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:e.jsxs("button",{onClick:()=>pe("activity"),className:"flex items-center hover:text-gray-900",children:["Activity",e.jsx(U,{field:"activity"})]})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Message"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:q.length>0?q.map(Y=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:Y.date}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:Y.user}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:Y.pcName}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:Y.formName}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:Y.accessType}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:Y.activity}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:Y.message})]},Y.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-4 py-12 text-center text-gray-500 text-sm",children:"No data available in table"})})})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:["Showing ",q.length," ",q.length===1?"entry":"entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{className:"px-3 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:"Next"})]})]})]})]})]})}),j&&e.jsx(QJ,{value:j==="dateFrom"?t:n,onChange:Y=>{j==="dateFrom"?s(Y):l(Y),C(null)},onClose:()=>C(null),position:k}),S&&e.jsx(ZJ,{value:S==="timeFrom"?a:i,onChange:Y=>{S==="timeFrom"?r(Y):d(Y),P(null)},onClose:()=>P(null),position:M})]})}function H2(){const[t,s]=o.useState("security-manager"),[a,r]=o.useState("Administrator"),[n,l]=o.useState([]),[i,d]=o.useState([]),[x,h]=o.useState("access-type"),[m,b]=o.useState(1),[f,N]=o.useState([]),[p,v]=o.useState([]),[y,g]=o.useState(null),[j,C]=o.useState(null),S=25,P=[{id:1,username:"123",expiration:"10/31/2024",logIn:!1,machineName:"128PC-80",suspended:!1,isWindowsAuth:!1,windowsLoginName:""},{id:2,username:"128Dennis",expiration:"7/4/2029",logIn:!1,machineName:"128PC-80",suspended:!1,isWindowsAuth:!1,windowsLoginName:""},{id:3,username:"128Lhet",expiration:"10/1/2042",logIn:!1,machineName:"128PC-80",suspended:!1,isWindowsAuth:!1,windowsLoginName:""},{id:4,username:"128Manalo",expiration:"11/1/2030",logIn:!1,machineName:"128PC-80",suspended:!1,isWindowsAuth:!1,windowsLoginName:""},{id:5,username:"128Villano",expiration:"11/1/2041",logIn:!1,machineName:"128PC-80",suspended:!1,isWindowsAuth:!1,windowsLoginName:""}],k=[{id:1,groupName:"ADMIN",description:"administrator"},{id:2,groupName:"TIMEKEEP",description:"Timekeeper"},{id:3,groupName:"TIMEKEEP2",description:"Timekeeper 2"},{id:4,groupName:"TIMEKEEP3",description:"Timekeeper3"}],E=["123","128Manalo"],M=["128TCI","128Villano"],L=["AdditionalOTHoursPerWeek","AdditionalOTHoursPerWeekUtility","AddShortBreakOverBreakUtl","AllowancePerClassificationSetUp","Allowance","Allowance Bracket Code","AMS Database Configuration SetUp","Apply OT Allowances","Area SetUp","Audit Trail","Borrowed Device Name SetUp"],O=["Add New Record","Delete Record","Edit Record","Enable Editing Posted Record","Import Logs","Print Record","View Form"],[q,B]=o.useState([]),[se,le]=o.useState([]),[pe,U]=o.useState([{id:1,formName:"AdditionalOTHoursPerWeek",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:2,formName:"AdditionalOTHoursPerWeekUtility",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:3,formName:"AllowancePerClassificationSetUp",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:4,formName:"Audit Trail",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:5,formName:"Bracket Code Setup",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:6,formName:"BranchSetup",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:7,formName:"CalendarSetUp",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:8,formName:"ClassificationSetUp",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:9,formName:"CompanyInformationSetUp",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:10,formName:"Create New Database",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:11,formName:"DailyScheduleSetUp",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:12,formName:"DayTypeSetUp",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:13,formName:"DeductionSetUp",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:14,formName:"Delete Incomplete Logs",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:15,formName:"Delete Records in Raw Data",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:16,formName:"DepartmentSetUp",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:17,formName:"DivisionSetUp",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:18,formName:"EarningSetUp",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:19,formName:"Employee Category Setup",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:20,formName:"EmployeeDesignationSetup",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:21,formName:"EmployeeLogsSetUp",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:22,formName:"EmployeeStatusSetUp",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:23,formName:"EmpMasterFile",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:24,formName:"EmpTKConfigMaint",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:25,formName:"EquivHoursDeduction",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1}]),Y=[{id:1,name:"TK3",description:"TK3"}],W=[{id:1,tksGroupName:"1",description:"Batangas1 Balagtas Monthly Payroll",userGroup:"ADMIN"},{id:10,tksGroupName:"10",description:"Batangas Monthly Cash Payroll with Paycard",userGroup:"ADMIN"},{id:100,tksGroupName:"100",description:"-",userGroup:"ADMIN"},{id:101,tksGroupName:"101",description:"Main Batangas Daily",userGroup:"ADMIN"},{id:102,tksGroupName:"102",description:"Main Batangas Daily with Paycard",userGroup:"ADMIN"},{id:103,tksGroupName:"103",description:"Main Batangas Monthly",userGroup:"ADMIN"},{id:104,tksGroupName:"104",description:"Main Batangas Monthly with",userGroup:"ADMIN"}],re=Math.ceil(pe.length/S),G=pe.slice((m-1)*S,m*S),R=D=>{b(D)},F=()=>{const D=[];for(let _=1;_<=re;_++)D.push(e.jsx("button",{onClick:()=>R(_),className:`px-3 py-1 rounded border text-xs ${m===_?"border-blue-500 bg-blue-500 text-white":"border-gray-300 bg-white hover:bg-gray-100"}`,children:_},_));return D},A=()=>{i.length>0&&console.log("Moving users to group:",i)},H=()=>{n.length>0&&console.log("Removing users from group:",n)};return e.jsx("div",{className:"min-h-screen bg-white flex flex-col",children:e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsxs("h1",{className:"text-white",children:[t==="security-manager"&&"User SetUp",t==="group-member"&&"Group Member SetUp",t==="security-control"&&"Security Control"]})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(gp,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure user accounts, manage user groups, and set up security permissions for forms and features. Control access levels and authentication methods for system security."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Create and manage user accounts"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Configure user group memberships"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set form-level access permissions"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Windows authentication support"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-1 mb-6 border-b border-gray-200",children:[e.jsxs("button",{onClick:()=>s("security-manager"),className:`px-4 py-2.5 text-sm transition-all flex items-center gap-2 rounded-t-lg ${t==="security-manager"?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(gp,{className:"w-4 h-4"}),"Security Manager"]}),e.jsxs("button",{onClick:()=>s("group-member"),className:`px-4 py-2.5 text-sm transition-all flex items-center gap-2 rounded-t-lg ${t==="group-member"?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Hs,{className:"w-4 h-4"}),"Group Member SetUp"]}),e.jsxs("button",{onClick:()=>s("security-control"),className:`px-4 py-2.5 text-sm transition-all flex items-center gap-2 rounded-t-lg ${t==="security-control"?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(wx,{className:"w-4 h-4"}),"Security Control"]})]}),t==="security-manager"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-gray-900",children:"Users"}),e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(XN,{className:"w-4 h-4"}),"Add"]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Username"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Expiration"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Log In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Machine Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Suspended"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"IsWindowsAuthenticate"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"WindowsLoginName"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:P.map(D=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:D.username}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:D.expiration}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"checkbox",checked:D.logIn,readOnly:!0,className:"w-4 h-4"})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:D.machineName}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"checkbox",checked:D.suspended,readOnly:!0,className:"w-4 h-4"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"checkbox",checked:D.isWindowsAuth,readOnly:!0,className:"w-4 h-4"})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:D.windowsLoginName}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"px-3 py-1 text-xs text-blue-600 hover:text-blue-700 border border-blue-600 rounded hover:bg-blue-50",children:"Change Password"}),e.jsx("button",{className:"px-3 py-1 text-xs text-gray-600 hover:text-gray-700 border border-gray-600 rounded hover:bg-gray-50",children:"Reset"}),e.jsx("button",{className:"px-3 py-1 text-xs text-red-600 hover:text-red-700 border border-red-600 rounded hover:bg-red-50",children:"Remove"}),e.jsx("button",{className:"px-3 py-1 text-xs text-green-600 hover:text-green-700 border border-green-600 rounded hover:bg-green-50",children:"Edit"})]})})]},D.id))})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-end gap-2",children:[e.jsx("button",{className:"px-3 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 rounded border border-blue-500 bg-blue-500 text-white text-xs",children:"1"}),e.jsx("button",{className:"px-3 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:"Next"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-gray-900",children:"User Group"}),e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(XN,{className:"w-4 h-4"}),"Add"]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"GroupName"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Description"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:k.map(D=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:D.groupName}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:D.description}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("button",{className:"px-3 py-1 text-xs text-red-600 hover:text-red-700 border border-red-600 rounded hover:bg-red-50",children:"Remove"})})]},D.id))})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-end gap-2",children:[e.jsx("button",{className:"px-3 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 rounded border border-blue-500 bg-blue-500 text-white text-xs",children:"1"}),e.jsx("button",{className:"px-3 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:"Next"})]})]})]})]}),t==="group-member"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"User Group"}),e.jsxs("select",{value:a,onChange:D=>r(D.target.value),className:"w-full md:w-64 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{children:"Administrator"}),e.jsx("option",{children:"Timekeeper"}),e.jsx("option",{children:"Timekeeper 2"}),e.jsx("option",{children:"Timekeeper3"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:[e.jsx("h3",{className:"text-gray-700 mb-3 text-sm",children:"Group Members"}),e.jsx("select",{multiple:!0,value:n,onChange:D=>l(Array.from(D.target.selectedOptions,_=>_.value)),className:"w-full h-64 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:E.map(D=>e.jsx("option",{value:D,children:D},D))})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[e.jsx("button",{onClick:A,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded text-gray-700 transition-colors",children:e.jsx(fi,{className:"w-5 h-5"})}),e.jsx("button",{onClick:H,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded text-gray-700 transition-colors",children:e.jsx(H0,{className:"w-5 h-5"})}),e.jsx("button",{className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded text-gray-700 transition-colors",children:e.jsx(zA,{className:"w-5 h-5"})}),e.jsx("button",{className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded text-gray-700 transition-colors",children:e.jsx(GA,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:[e.jsx("h3",{className:"text-gray-700 mb-3 text-sm",children:"Users"}),e.jsx("select",{multiple:!0,value:i,onChange:D=>d(Array.from(D.target.selectedOptions,_=>_.value)),className:"w-full h-64 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:M.map(D=>e.jsx("option",{value:D,children:D},D))})]})]})]}),t==="security-control"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-1 border-b border-gray-200",children:[e.jsx("button",{onClick:()=>h("access-type"),className:`px-4 py-2 text-sm transition-colors ${x==="access-type"?"bg-gray-100 text-gray-900 border border-gray-300 border-b-white":"text-gray-600 hover:text-gray-900"}`,children:"Set Up AccessType"}),e.jsx("button",{onClick:()=>h("tks-group"),className:`px-4 py-2 text-sm transition-colors ${x==="tks-group"?"bg-gray-100 text-gray-900 border border-gray-300 border-b-white":"text-gray-600 hover:text-gray-900"}`,children:"Set Up TKS Group"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"User Group"}),e.jsxs("select",{value:a,onChange:D=>r(D.target.value),className:"w-full md:w-64 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{children:"Administrator"}),e.jsx("option",{children:"Timekeeper"}),e.jsx("option",{children:"Timekeeper 2"}),e.jsx("option",{children:"Timekeeper3"})]})]}),x==="access-type"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-3",children:"Forms"}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-3 h-96 overflow-y-auto",children:e.jsx("div",{className:"space-y-2",children:L.map((D,_)=>e.jsxs("label",{className:"flex items-center gap-2 hover:bg-gray-50 p-1 rounded cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:q.includes(D),onChange:xe=>{xe.target.checked?B([...q,D]):B(q.filter(ge=>ge!==D))},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:D})]},_))})})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-3",children:"Access Type"}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[e.jsx("div",{className:"space-y-2",children:O.map((D,_)=>e.jsxs("label",{className:"flex items-center gap-2 hover:bg-gray-50 p-1 rounded cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:se.includes(D),onChange:xe=>{xe.target.checked?le([...se,D]):le(se.filter(ge=>ge!==D))},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:D})]},_))}),e.jsxs("button",{className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(fs,{className:"w-4 h-4"}),"Add"]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"User Group Access"}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Form Name"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600",children:"View"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600",children:"Add"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600",children:"Edit"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600",children:"Delete"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600",children:"Print"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600",children:"ImportLogs"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600",children:"EnableEditPosted"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:G.map(D=>{const _=y===D.id,xe=_&&j?j:D;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:D.formName}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("input",{type:"checkbox",checked:xe.view,disabled:!_,onChange:ge=>{_&&j&&C({...j,view:ge.target.checked})},className:"w-4 h-4 cursor-pointer"})}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("input",{type:"checkbox",checked:xe.add,disabled:!_,onChange:ge=>{_&&j&&C({...j,add:ge.target.checked})},className:"w-4 h-4 cursor-pointer"})}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("input",{type:"checkbox",checked:xe.edit,disabled:!_,onChange:ge=>{_&&j&&C({...j,edit:ge.target.checked})},className:"w-4 h-4 cursor-pointer"})}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("input",{type:"checkbox",checked:xe.delete,disabled:!_,onChange:ge=>{_&&j&&C({...j,delete:ge.target.checked})},className:"w-4 h-4 cursor-pointer"})}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("input",{type:"checkbox",checked:xe.print,disabled:!_,onChange:ge=>{_&&j&&C({...j,print:ge.target.checked})},className:"w-4 h-4 cursor-pointer"})}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("input",{type:"checkbox",checked:xe.importLogs,disabled:!_,onChange:ge=>{_&&j&&C({...j,importLogs:ge.target.checked})},className:"w-4 h-4 cursor-pointer"})}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("input",{type:"checkbox",checked:xe.enableEditPosted,disabled:!_,onChange:ge=>{_&&j&&C({...j,enableEditPosted:ge.target.checked})},className:"w-4 h-4 cursor-pointer"})}),e.jsx("td",{className:"px-4 py-3 text-center",children:_?e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsxs("button",{onClick:()=>{j&&U(pe.map(ge=>ge.id===j.id?j:ge)),g(null),C(null)},className:"px-3 py-1 text-xs text-blue-600 hover:text-blue-700 border border-blue-600 rounded hover:bg-blue-50 flex items-center gap-1",children:[e.jsx(Aa,{className:"w-3 h-3"}),"Save"]}),e.jsxs("button",{onClick:()=>{g(null),C(null)},className:"px-3 py-1 text-xs text-gray-600 hover:text-gray-700 border border-gray-600 rounded hover:bg-gray-50 flex items-center gap-1",children:[e.jsx(et,{className:"w-3 h-3"}),"Cancel"]})]}):e.jsx("button",{onClick:()=>{g(D.id),C({...D})},className:"px-3 py-1 text-xs text-green-600 hover:text-green-700 border border-green-600 rounded hover:bg-green-50",children:"Edit"})})]},D.id)})})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>m>1&&R(m-1),disabled:m===1,className:"px-3 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs disabled:opacity-50",children:"Previous"}),F(),e.jsx("button",{onClick:()=>m<re&&R(m+1),disabled:m===re,className:"px-3 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs disabled:opacity-50",children:"Next"})]})]})]})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-gray-900",children:"TKS Group"}),e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(fs,{className:"w-4 h-4"}),"Add"]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600 w-12",children:e.jsx("input",{type:"checkbox",className:"w-4 h-4"})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"TKS Group Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Y.map(D=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("input",{type:"checkbox",checked:f.includes(D.id),onChange:_=>{_.target.checked?N([...f,D.id]):N(f.filter(xe=>xe!==D.id))},className:"w-4 h-4"})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:D.name}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:D.description})]},D.id))})]})})})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-gray-900",children:"TKS Group Access"}),e.jsxs("button",{className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(ls,{className:"w-4 h-4"}),"Remove"]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600 w-12",children:e.jsx("input",{type:"checkbox",className:"w-4 h-4"})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"TKS Group Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Description"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"User Group"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:W.map(D=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("input",{type:"checkbox",checked:p.includes(D.id),onChange:_=>{_.target.checked?v([...p,D.id]):v(p.filter(xe=>xe!==D.id))},className:"w-4 h-4"})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:D.tksGroupName}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:D.description}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:D.userGroup})]},D.id))})]})})})]})]})})]})]})]})})})}function tQ({value:t,onChange:s,onClose:a,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&a()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[a]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,y=n.getFullYear(),g=`${v}/${p}/${y}`;s(g),a()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let g=x-1;g>=0;g--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-g},`prev-${g}`));for(let g=1;g<=d;g++)p.push(e.jsx("div",{onClick:()=>f(g),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:g},g));const y=42-p.length;for(let g=1;g<=y;g++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:g},`next-${g}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function sQ(){const[t,s]=o.useState("TK Group"),[a,r]=o.useState("active"),[n,l]=o.useState("5/5/2021"),[i,d]=o.useState("05/05/2021"),[x,h]=o.useState(!1),[m,b]=o.useState("12/26/2025"),[f,N]=o.useState(""),[p,v]=o.useState(!1),[y,g]=o.useState(null),[j,C]=o.useState({top:0,left:0}),[S,P]=o.useState(""),[k,E]=o.useState([]),[M,L]=o.useState(1),[O,q]=o.useState(""),[B,se]=o.useState([]),[le,pe]=o.useState(1),U=10,[Y,W]=o.useState(!1),[re,G]=o.useState([]),[R,F]=o.useState(!1),[A,H]=o.useState([]),D=async()=>(await ne.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(st=>({id:st.ID||st.id,code:st.groupCode||st.code,description:st.groupDescription||st.description}));o.useEffect(()=>{(async()=>{const st=await D();G(st)})()},[]);const _=async()=>{const Re=await ne.get("/EmployeeMasterFile");return(Array.isArray(Re.data)?Re.data:[]).map(He=>({id:He.empID??He.ID??He.id,code:He.empCode||He.code||"",name:`${He.lName||""}, ${He.fName||""} ${He.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const st=await _();H(st)})()},[]);const xe=re.filter(Re=>Re.code.toLowerCase().includes(S.toLowerCase())||Re.description.toLowerCase().includes(S.toLowerCase())),ge=A.filter(Re=>Re.code.toLowerCase().includes(O.toLowerCase())||Re.name.toLowerCase().includes(O.toLowerCase())),Ne=Math.ceil(xe.length/U),Ce=(M-1)*U,fe=Ce+U,ue=xe.slice((M-1)*U,M*U),Oe=()=>{const Re=[];if(Ne<=7)for(let st=1;st<=Ne;st++)Re.push(st);else if(M<=4){for(let st=1;st<=5;st++)Re.push(st);Re.push("..."),Re.push(Ne)}else if(M>=Ne-3){Re.push(1),Re.push("...");for(let st=Ne-4;st<=Ne;st++)Re.push(st)}else{Re.push(1),Re.push("...");for(let st=M-1;st<=M+1;st++)Re.push(st);Re.push("..."),Re.push(Ne)}return Re},De=Math.ceil(ge.length/U),Ae=(le-1)*U,Ee=Ae+U,ze=ge.slice((le-1)*U,le*U),ot=()=>{const Re=[];if(De<=5)return Array.from({length:De},(Ye,ht)=>ht+1);Re.push(1),le>3&&Re.push("...");const He=Math.max(2,le-1),Ue=Math.min(De-1,le+1);for(let Ye=He;Ye<=Ue;Ye++)Re.push(Ye);return le<De-2&&Re.push("..."),Re.push(De),Re},wt=Re=>{E(Re?re.map(st=>st.id):[])},Ie=(Re,st)=>{E(He=>st?[...He,Re]:He.filter(Ue=>Ue!==Re))},ye=Re=>{se(st=>st.includes(Re)?st.filter(He=>He!==Re):[...st,Re])},be=()=>{B.length===ge.length?se([]):se(ge.map(Re=>Re.id))},Me=Re=>{y==="dateRangeFrom"?l(Re):y==="dateRangeTo"?d(Re):y==="transactionDate"?b(Re):y==="assumedDate"&&N(Re)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Export DTR Allowance"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(on,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Export Daily Time Record (DTR) and allowance data for payroll processing. Select employees by group, filter by status, and configure transaction dates."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Export DTR and allowances"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Configure date ranges"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Leave and absence options"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:S,onChange:Re=>P(Re.target.value),placeholder:"",className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:k.length===re.length,onChange:Re=>wt(Re.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ue.map(Re=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:k.includes(Re.id),onChange:st=>Ie(Re.id,st.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Re.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Re.description})]},Re.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",xe.length===0?0:Ce+1," to ",Math.min(fe,xe.length)," of ",xe.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>L(Re=>Math.max(Re-1,1)),disabled:M===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Oe().map((Re,st)=>Re==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${st}`):e.jsx("button",{onClick:()=>L(Re),className:`px-2 py-1 rounded text-xs ${M===Re?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Re},Re)),e.jsx("button",{onClick:()=>L(Re=>Math.min(Re+1,Ne)),disabled:M===Ne||Ne===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:O,onChange:Re=>q(Re.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:B.length===ge.length&&ge.length>0,onChange:be,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ze.map(Re=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:B.includes(Re.id),onChange:()=>ye(Re.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Re.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Re.name})]},Re.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",Ae+1," to ",Math.min(Ee,ge.length)," of ",ge.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>pe(Re=>Math.max(1,Re-1)),disabled:le===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),ot().map((Re,st)=>typeof Re=="number"?e.jsx("button",{onClick:()=>pe(Re),className:`px-2 py-1 rounded text-xs ${le===Re?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Re},st):e.jsx("span",{className:"px-2",children:Re},st)),e.jsx("button",{onClick:()=>pe(Re=>Math.min(De,Re+1)),disabled:le===De,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:a==="active",onChange:()=>r("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:a==="inactive",onChange:()=>r("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:a==="all",onChange:()=>r("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Date Range"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"From:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:n,onChange:Re=>l(Re.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx(xs,{date:n,onChange:l})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"To:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:i,onChange:Re=>d(Re.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx(xs,{date:i,onChange:d})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Transaction Date"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:m,onChange:Re=>b(Re.target.value),className:"w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx(xs,{date:m,onChange:l})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer whitespace-nowrap",children:[e.jsx("input",{type:"checkbox",checked:x,onChange:Re=>h(Re.target.checked),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Apply"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Assumed Date"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:f,onChange:Re=>N(Re.target.value),className:"w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx(xs,{date:f,onChange:N})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Option"}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:p,onChange:Re=>v(Re.target.checked),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Leave WithOut Pay And Absences"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(ur,{className:"w-4 h-4"}),"Export"]})})]})]})]})]})}),y&&e.jsx(tQ,{value:y==="dateRangeFrom"?n:y==="dateRangeTo"?i:y==="transactionDate"?m:f,onChange:Me,onClose:()=>g(null),position:j})]})}function aQ({value:t,onChange:s,onClose:a,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&a()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[a]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,y=n.getFullYear(),g=`${v}/${p}/${y}`;s(g),a()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let g=x-1;g>=0;g--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-g},`prev-${g}`));for(let g=1;g<=d;g++)p.push(e.jsx("div",{onClick:()=>f(g),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:g},g));const y=42-p.length;for(let g=1;g<=y;g++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:g},`next-${g}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function rQ(){const[t,s]=o.useState("TK Group"),[a,r]=o.useState({top:0,left:0}),[n,l]=o.useState(null),[i,d]=o.useState("5/5/2021"),[x,h]=o.useState("05/05/2021"),[m,b]=o.useState("12/26/2025"),[f,N]=o.useState(""),[p,v]=o.useState([]),[y,g]=o.useState(1),j=10;o.useEffect(()=>{g(1)},[t]);const[C,S]=o.useState(!1),[P,k]=o.useState([]),[E,M]=o.useState(!1),[L,O]=o.useState([]),[q,B]=o.useState(!1),[se,le]=o.useState([]),[pe,U]=o.useState(!1),[Y,W]=o.useState([]),[re,G]=o.useState(!1),[R,F]=o.useState([]),[A,H]=o.useState(!1),[D,_]=o.useState([]),xe=async()=>(await ne.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Ue=>({id:Ue.ID||Ue.id,code:Ue.groupCode||Ue.code,description:Ue.groupDescription||Ue.description}));o.useEffect(()=>{(async()=>{const Ue=await xe();k(Ue)})()},[]);const ge=async()=>(await ne.get("/Fs/Employment/BranchSetUp")).data.map(Ue=>({id:Ue.braID||Ue.ID,code:Ue.braCode||Ue.code,description:Ue.braDesc||Ue.description}));o.useEffect(()=>{(async()=>{const Ue=await ge();O(Ue)})()},[]);const Ne=async()=>(await ne.get("/Fs/Employment/DepartmentSetUp")).data.map(Ue=>({id:Ue.depID||Ue.ID,code:Ue.depCode||Ue.code,description:Ue.depDesc||Ue.description}));o.useEffect(()=>{(async()=>{const Ue=await Ne();le(Ue)})()},[]);const Ce=async()=>{const He=await ne.get("/Fs/Employment/GroupSetUp");return(Array.isArray(He.data)?He.data:[]).map(Ye=>({id:Ye.grpSchID||Ye.id||Ye.ID,code:Ye.grpCode||Ye.code,description:Ye.grpDesc||Ye.description}))};o.useEffect(()=>{(async()=>{const Ue=await Ce();W(Ue)})()},[]);const fe=async()=>{const He=await ne.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(He.data)?He.data:[]).map(Ye=>({id:Ye.lineID??Ye.ID??Ye.id,code:Ye.lineCode??Ye.code,description:Ye.lineDesc??Ye.Description??Ye.description}))};o.useEffect(()=>{(async()=>{const Ue=await fe();F(Ue)})()},[]);const ue=async()=>{const He=await ne.get("/Fs/Employment/SectionSetUp");return(Array.isArray(He.data)?He.data:[]).map(Ye=>({id:Ye.secID??Ye.ID??Ye.id,code:Ye.secCode??Ye.sectionCode??Ye.code,description:Ye.secDesc??Ye.Description??Ye.description}))};o.useEffect(()=>{(async()=>{const Ue=await ue();_(Ue)})()},[]);const Ae=(()=>{switch(t){case"Branch":return L;case"Department":return se;case"Group Schedule":return Y;case"Pay House":return R;case"Section":return D;default:return P}})().filter(He=>He.code.toLowerCase().includes(f.toLowerCase())||He.description.toLowerCase().includes(f.toLowerCase())),Ee=Math.ceil(Ae.length/j),ze=(y-1)*j,ot=ze+j,wt=Ae.slice((y-1)*j,y*j),Ie=()=>{const He=[];if(Ee<=7)for(let Ue=1;Ue<=Ee;Ue++)He.push(Ue);else if(y<=4){for(let Ue=1;Ue<=5;Ue++)He.push(Ue);He.push("..."),He.push(Ee)}else if(y>=Ee-3){He.push(1),He.push("...");for(let Ue=Ee-4;Ue<=Ee;Ue++)He.push(Ue)}else{He.push(1),He.push("...");for(let Ue=y-1;Ue<=y+1;Ue++)He.push(Ue);He.push("..."),He.push(Ee)}return He},ye=He=>{v(Ue=>Ue.includes(He)?Ue.filter(Ye=>Ye!==He):[...Ue,He])},be=()=>{p.length===Ae.length?v([]):v(Ae.map(He=>He.id))},Me=He=>{const Ue=He.currentTarget.getBoundingClientRect();r({top:Ue.bottom,left:Ue.left}),l(He.currentTarget.name)},Re=He=>{n==="dateFrom"?d(He):n==="dateTo"?h(He):n==="postingDate"&&b(He),l(null)},st=()=>{l(null)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Export NAV"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(ur,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Export payroll and timekeeping data to NAV (Navision) accounting system. Select the date range and posting date, then choose the groups to export."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Export to NAV accounting system"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and departments"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set posting dates"})]})]})]})]})}),e.jsx("div",{className:"mb-6 bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"flex items-center gap-6 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Date From"}),e.jsxs("div",{className:"relative flex items-center gap-1",children:[e.jsx("input",{type:"text",value:i,onChange:He=>d(He.target.value),onClick:Me,name:"dateFrom",className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx("button",{onClick:He=>{const Ye=He.currentTarget.previousElementSibling.getBoundingClientRect();r({top:Ye.bottom+5,left:Ye.left}),l("dateFrom")},className:"p-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(ds,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Date To"}),e.jsxs("div",{className:"relative flex items-center gap-1",children:[e.jsx("input",{type:"text",value:x,onChange:He=>h(He.target.value),onClick:Me,name:"dateTo",className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx("button",{onClick:He=>{const Ye=He.currentTarget.previousElementSibling.getBoundingClientRect();r({top:Ye.bottom+5,left:Ye.left}),l("dateTo")},className:"p-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(ds,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Posting Date"}),e.jsxs("div",{className:"relative flex items-center gap-1",children:[e.jsx("input",{type:"text",value:m,onChange:He=>b(He.target.value),onClick:Me,name:"postingDate",className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx("button",{onClick:He=>{const Ye=He.currentTarget.previousElementSibling.getBoundingClientRect();r({top:Ye.bottom+5,left:Ye.left}),l("postingDate")},className:"p-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(ds,{className:"w-4 h-4"})})]})]}),e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(ur,{className:"w-4 h-4"}),"Export"]})]})}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Hs},{name:"Branch",icon:ea},{name:"Department",icon:Zs},{name:"Group Schedule",icon:_a},{name:"Pay House",icon:Ia},{name:"Section",icon:Ma}].map(He=>e.jsxs("button",{onClick:()=>s(He.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===He.name?"bg-blue-600 text-white":"text-gray-600 hover:bg-blue-50"}`,children:[e.jsx(He.icon,{className:"w-4 h-4"}),He.name]},He.name))})}),e.jsx("div",{className:"mb-4 flex justify-end",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:f,onChange:He=>N(He.target.value),placeholder:"",className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm text-gray-700 w-12",children:e.jsx("input",{type:"checkbox",onChange:be,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsxs("th",{className:"px-4 py-3 text-left text-sm text-gray-700 cursor-pointer",children:["Code",e.jsx("span",{className:"ml-1 text-gray-400",children:""})]}),e.jsxs("th",{className:"px-4 py-3 text-left text-sm text-gray-700 cursor-pointer",children:["Description",e.jsx("span",{className:"ml-1 text-gray-400",children:""})]})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:wt.map(He=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"checkbox",checked:p.includes(He.id),onChange:Ue=>ye(He.id),className:"w-4 h-4"})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:He.code}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:He.description})]},He.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Ae.length===0?0:ze+1," to ",Math.min(ot,Ae.length)," of ",Ae.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>g(He=>Math.max(He-1,1)),disabled:y===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Ie().map((He,Ue)=>He==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Ue}`):e.jsx("button",{onClick:()=>g(He),className:`px-2 py-1 rounded text-xs ${y===He?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:He},He)),e.jsx("button",{onClick:()=>g(He=>Math.min(He+1,Ee)),disabled:y===Ee||Ee===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})}),n&&e.jsx(aQ,{value:n==="dateFrom"?i:n==="dateTo"?x:m,onChange:Re,onClose:st,position:a})]})}function nQ(){const[t,s]=o.useState("TK Group"),[a,r]=o.useState("active"),[n,l]=o.useState("5/5/2021"),[i,d]=o.useState("05/05/2021"),[x,h]=o.useState("12/26/2025"),[m,b]=o.useState(!1),[f,N]=o.useState(""),[p,v]=o.useState("date"),[y,g]=o.useState("perfect"),[j,C]=o.useState("sql"),[S,P]=o.useState(""),[k,E]=o.useState(""),[M,L]=o.useState([]),[O,q]=o.useState([]),[B,se]=o.useState(1),[le,pe]=o.useState(1),U=10,[Y,W]=o.useState({lates:!1,overtime:!1,otherEarnings:!1,undertime:!1,leaveAbsences:!1,daysAndHours:!1,selectAll:!1});o.useEffect(()=>{se(1)},[t]);const[re,G]=o.useState(!1),[R,F]=o.useState([]),[A,H]=o.useState(!1),[D,_]=o.useState([]),[xe,ge]=o.useState(!1),[Ne,Ce]=o.useState([]),[fe,ue]=o.useState(!1),[Oe,De]=o.useState([]),[Ae,Ee]=o.useState(!1),[ze,ot]=o.useState([]),[wt,Ie]=o.useState(!1),[ye,be]=o.useState([]),[Me,Re]=o.useState(!1),[st,He]=o.useState([]),[Ue,Ye]=o.useState(!1),[ht,ut]=o.useState([]),[vt,ve]=o.useState(!1),[Le,he]=o.useState([]),[Ve,xt]=o.useState(""),Pt=async()=>(await ne.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(J=>({id:J.ID||J.id,code:J.groupCode||J.code,description:J.groupDescription||J.description}));o.useEffect(()=>{(async()=>{const J=await Pt();F(J)})()},[]);const Lt=async()=>(await ne.get("/Fs/Employment/BranchSetUp")).data.map(J=>({id:J.braID||J.ID,code:J.braCode||J.code,description:J.braDesc||J.description}));o.useEffect(()=>{(async()=>{const J=await Lt();_(J)})()},[]);const It=async()=>(await ne.get("/Fs/Employment/DepartmentSetUp")).data.map(J=>({id:J.depID||J.ID,code:J.depCode||J.code,description:J.depDesc||J.description}));o.useEffect(()=>{(async()=>{const J=await It();Ce(J)})()},[]);const qe=async()=>(await ne.get("/Fs/Employment/DivisionSetUp")).data.map(J=>({id:J.divID||J.ID,code:J.divCode||J.code,description:J.divDesc||J.description}));o.useEffect(()=>{(async()=>{const J=await qe();De(J)})()},[]);const Nt=async()=>{const je=await ne.get("/Fs/Employment/GroupSetUp");return(Array.isArray(je.data)?je.data:[]).map(we=>({id:we.grpSchID||we.id||we.ID,code:we.grpCode||we.code,description:we.grpDesc||we.description}))};o.useEffect(()=>{(async()=>{const J=await Nt();ot(J)})()},[]);const gt=async()=>{const je=await ne.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(je.data)?je.data:[]).map(we=>({id:we.lineID??we.ID??we.id,code:we.lineCode??we.code,description:we.lineDesc??we.Description??we.description}))};o.useEffect(()=>{(async()=>{const J=await gt();be(J)})()},[]);const dt=async()=>{const je=await ne.get("/Fs/Employment/SectionSetUp");return(Array.isArray(je.data)?je.data:[]).map(we=>({id:we.secID??we.ID??we.id,code:we.secCode??we.sectionCode??we.code,description:we.secDesc??we.Description??we.description}))};o.useEffect(()=>{(async()=>{const J=await dt();He(J)})()},[]);const kt=async()=>(await ne.get("/Fs/Employment/UnitSetUp")).data.map(J=>({id:J.unitID||J.ID,code:J.unitCode||J.code,description:J.unitDesc||J.description}));o.useEffect(()=>{(async()=>{const J=await kt();ut(J)})()},[]);const Dt=async()=>{const je=await ne.get("/EmployeeMasterFile");return(Array.isArray(je.data)?je.data:[]).map(we=>({id:we.empID??we.ID??we.id,code:we.empCode||we.code||"",name:`${we.lName||""}, ${we.fName||""} ${we.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const J=await Dt();he(J)})()},[]);const ie=(()=>{switch(t){case"Branch":return D;case"Department":return Ne;case"Division":return Oe;case"Group Schedule":return ze;case"Pay House":return ye;case"Section":return st;case"Unit":return ht;default:return R}})().filter(je=>je.code.toLowerCase().includes(S.toLowerCase())||je.description.toLowerCase().includes(S.toLowerCase())),ke=Le.filter(je=>je.code.toLowerCase().includes(k.toLowerCase())||je.name.toLowerCase().includes(k.toLowerCase())),me=Math.ceil(ie.length/U),Ze=(B-1)*U,it=Ze+U,_t=ie.slice((B-1)*U,B*U),nt=()=>{const je=[];if(me<=7)for(let J=1;J<=me;J++)je.push(J);else if(B<=4){for(let J=1;J<=5;J++)je.push(J);je.push("..."),je.push(me)}else if(B>=me-3){je.push(1),je.push("...");for(let J=me-4;J<=me;J++)je.push(J)}else{je.push(1),je.push("...");for(let J=B-1;J<=B+1;J++)je.push(J);je.push("..."),je.push(me)}return je},mt=Math.ceil(ke.length/U),ae=(le-1)*U,ce=ae+U,te=ke.slice((le-1)*U,le*U),z=()=>{const je=[];if(mt<=5)return Array.from({length:mt},(Z,Q)=>Q+1);je.push(1),le>3&&je.push("...");const we=Math.max(2,le-1),I=Math.min(mt-1,le+1);for(let Z=we;Z<=I;Z++)je.push(Z);return le<mt-2&&je.push("..."),je.push(mt),je},V=je=>{L(J=>J.includes(je)?J.filter(we=>we!==je):[...J,je])},X=je=>{q(J=>J.includes(je)?J.filter(we=>we!==je):[...J,je])},de=()=>{M.length===ie.length?L([]):L(ie.map(je=>je.id))},_e=()=>{O.length===ke.length?q([]):q(ke.map(je=>je.id))},Te=je=>{W({lates:je,overtime:je,otherEarnings:je,undertime:je,leaveAbsences:je,daysAndHours:je,selectAll:je})};return e.jsx("div",{className:"min-h-screen bg-white flex flex-col",children:e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Export Payroll Data"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-blue-100 border-l-4 border-blue-500 rounded-lg p-5",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx(on,{className:"w-5 h-5 text-white"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Export payroll and timekeeping data to external systems. Select the date range and transaction date, then choose the groups to export."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Export to SQL or Text File"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Filter by date range"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Select groups and departments"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Set transaction dates"})]})]})]})]})}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-1 border-b border-gray-200",children:[e.jsxs("button",{onClick:()=>s("TK Group"),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t==="TK Group"?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Hs,{className:"w-4 h-4"}),"TK Group"]}),e.jsxs("button",{onClick:()=>s("Branch"),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t==="Branch"?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(ea,{className:"w-4 h-4"}),"Branch"]}),e.jsxs("button",{onClick:()=>s("Department"),className:`px-4 py-2.5 text-sm transition-all flex items-center gap-2 rounded-t-lg ${t==="Department"?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Zs,{className:"w-4 h-4"}),"Department"]}),e.jsxs("button",{onClick:()=>s("Division"),className:`px-4 py-2.5 text-sm transition-all flex items-center gap-2 rounded-t-lg ${t==="Division"?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Vu,{className:"w-4 h-4"}),"Division"]}),e.jsxs("button",{onClick:()=>s("Group Schedule"),className:`px-4 py-2.5 text-sm transition-all flex items-center gap-2 rounded-t-lg ${t==="Group Schedule"?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(dC,{className:"w-4 h-4"}),"Group Schedule"]}),e.jsxs("button",{onClick:()=>s("Pay House"),className:`px-4 py-2.5 text-sm transition-all flex items-center gap-2 rounded-t-lg ${t==="Pay House"?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Ia,{className:"w-4 h-4"}),"Pay House"]}),e.jsxs("button",{onClick:()=>s("Section"),className:`px-4 py-2.5 text-sm transition-all flex items-center gap-2 rounded-t-lg ${t==="Section"?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(wr,{className:"w-4 h-4"}),"Section"]}),e.jsxs("button",{onClick:()=>s("Unit"),className:`px-4 py-2.5 text-sm transition-all flex items-center gap-2 rounded-t-lg ${t==="Unit"?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(hC,{className:"w-4 h-4"}),"Unit"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:S,onChange:je=>P(je.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:M.length===ie.length&&ie.length>0,onChange:de,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:_t.map(je=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:M.includes(je.id),onChange:()=>V(je.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:je.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:je.description})]},je.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",ke.length===0?0:Ze+1," to ",Math.min(it,ie.length)," of ",ie.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>se(je=>Math.max(je-1,1)),disabled:B===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),nt().map((je,J)=>je==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${J}`):e.jsx("button",{onClick:()=>se(je),className:`px-2 py-1 rounded text-xs ${B===je?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:je},je)),e.jsx("button",{onClick:()=>se(je=>Math.min(je+1,me)),disabled:B===me||me===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:k,onChange:je=>E(je.target.value),placeholder:"",className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:O.length===ke.length&&ke.length>0,onChange:_e,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:te.map(je=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:O.includes(je.id),onChange:()=>X(je.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:je.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:je.name})]},je.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",ae+1," to ",Math.min(ce,ke.length)," of ",ke.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>pe(je=>Math.max(1,je-1)),disabled:le===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),z().map((je,J)=>typeof je=="number"?e.jsx("button",{onClick:()=>pe(je),className:`px-2 py-1 rounded text-xs ${le===je?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:je},J):e.jsx("span",{className:"px-2",children:je},J)),e.jsx("button",{onClick:()=>pe(je=>Math.min(mt,je+1)),disabled:le===mt,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:a==="active",onChange:()=>r("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:a==="inactive",onChange:()=>r("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:a==="all",onChange:()=>r("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Date Range"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"From:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:n,onChange:je=>l(je.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx(xs,{date:n,onChange:l})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"To:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:i,onChange:je=>d(je.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx(xs,{date:i,onChange:d})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Transaction Date"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:x,onChange:je=>h(je.target.value),className:"w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx(xs,{date:x,onChange:h})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer whitespace-nowrap",children:[e.jsx("input",{type:"checkbox",checked:m,onChange:je=>b(je.target.checked),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Apply"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Assumed Date"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:f,onChange:je=>N(je.target.value),className:"w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx(xs,{date:f,onChange:N})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Compute Per"}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"computePer",value:"date",checked:p==="date",onChange:()=>v("date"),className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Date"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"computePer",value:"sum",checked:p==="sum",onChange:()=>v("sum"),className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Sum Per Cut Off"})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Option"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:Y.lates,onChange:je=>W({...Y,lates:je.target.checked}),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Lates"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:Y.undertime,onChange:je=>W({...Y,undertime:je.target.checked}),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Undertime"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:Y.overtime,onChange:je=>W({...Y,overtime:je.target.checked}),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Overtime"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:Y.leaveAbsences,onChange:je=>W({...Y,leaveAbsences:je.target.checked}),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Leave And Absences"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:Y.otherEarnings,onChange:je=>W({...Y,otherEarnings:je.target.checked}),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Other Earnings"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:Y.daysAndHours,onChange:je=>W({...Y,daysAndHours:je.target.checked}),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Days and No. of Hrs Worked"})]})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:Y.selectAll,onChange:je=>Te(je.target.checked),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Select All Processes"})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Email Status"}),e.jsx("div",{className:"h-20"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Compute As [Applies To Daily Paid Only]"}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"computeAs",value:"perfect",checked:y==="perfect",onChange:()=>g("perfect"),className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Perfect Hours"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"computeAs",value:"net",checked:y==="net",onChange:()=>g("net"),className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Net Of Unworked w/o pay Hours"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Export To"}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"exportTo",value:"sql",checked:j==="sql",onChange:()=>C("sql"),className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"SQL"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"exportTo",value:"text",checked:j==="text",onChange:()=>C("text"),className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Text File"})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(ur,{className:"w-4 h-4"}),"Export"]})})]})]})]})]})})})}function oQ(){const[t,s]=o.useState(""),[a,r]=o.useState(!1),[n,l]=o.useState(1),[i,d]=o.useState(null),[x,h]=o.useState(!1),[m,b]=o.useState({groupScheduleCode:"",groupScheduleDesc:""}),[f,N]=o.useState([]),[p,v]=o.useState(!1),[y,g]=o.useState("");o.useEffect(()=>{j()},[]);const j=async()=>{v(!0),g("");try{const re=await ne.get("/Fs/Process/GroupScheduleSetUp");re.status===200&&re.data&&N(re.data)}catch(re){const G=re.response?.data?.message||re.message||"Failed to load group schedules";g(G),console.error("Error fetching group schedules:",re)}finally{v(!1)}},C=10,[S,P]=o.useState({}),k=re=>S[re]===!0;o.useEffect(()=>{E()},[]);const E=()=>{const re=localStorage.getItem("loginPayload");if(re)try{const F=(JSON.parse(re).permissions||[]).filter(H=>rs(H.formName)==="GroupScheduleSetUp"),A={};F.forEach(H=>{const D=rs(H.accessTypeName);D&&(A[D]=!0)}),P(A)}catch(G){console.error("Error parsing or decrypting payload",G)}},M=f.filter(re=>re.groupScheduleCode.toLowerCase().includes(t.toLowerCase())||re.groupScheduleDesc.toLowerCase().includes(t.toLowerCase())),L=Math.ceil(M.length/C),O=(n-1)*C,q=M.slice(O,O+C);o.useEffect(()=>{l(1)},[t]);const B=()=>{b({groupScheduleCode:"",groupScheduleDesc:""}),d(null),r(!0)},se=re=>{d(re),b({groupScheduleCode:re.groupScheduleCode,groupScheduleDesc:re.groupScheduleDesc}),r(!0)},le=async re=>{if((await ee.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete "${re.groupScheduleCode} - ${re.groupScheduleDesc}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ne.delete(`/Fs/Process/GroupScheduleSetUp/${re.groupScheduleID}`),await ee.fire({icon:"success",title:"Success",text:"Group schedule deleted successfully.",timer:2e3,showConfirmButton:!1}),await j()}catch(R){const F=R.response?.data?.message||R.message||"Failed to delete group schedule";await ee.fire({icon:"error",title:"Error",text:F}),console.error("Error deleting group schedule:",R)}},pe=async re=>{if(re.preventDefault(),!m.groupScheduleCode.trim()){await ee.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(f.some(R=>R.groupScheduleCode.toLowerCase()===m.groupScheduleCode.trim().toLowerCase())){await ee.fire({icon:"error",title:"Duplicate Code",text:"This group schedule code is already in use. Please use a different code."});return}h(!0);try{const R={groupScheduleID:0,groupScheduleCode:m.groupScheduleCode,groupScheduleDesc:m.groupScheduleDesc};await ne.post("/Fs/Process/GroupScheduleSetUp",R),await ee.fire({icon:"success",title:"Success",text:"Group schedule created successfully.",timer:2e3,showConfirmButton:!1}),await j(),r(!1)}catch(R){const F=R.response?.data?.message||R.message||"An error occurred";await ee.fire({icon:"error",title:"Error",text:F}),console.error("Error creating group schedule:",R)}finally{h(!1)}},U=async re=>{if(re.preventDefault(),!i)return;if(!m.groupScheduleCode.trim()){await ee.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(f.some(R=>R.groupScheduleID!==i.groupScheduleID&&R.groupScheduleCode.toLowerCase()===m.groupScheduleCode.trim().toLowerCase())){await ee.fire({icon:"error",title:"Duplicate Code",text:"This group schedule code is already in use. Please use a different code."});return}h(!0);try{const R={groupScheduleID:i.groupScheduleID,groupScheduleCode:m.groupScheduleCode,groupScheduleDesc:m.groupScheduleDesc};await ne.put(`/Fs/Process/GroupScheduleSetUp/${i.groupScheduleID}`,R),await ee.fire({icon:"success",title:"Success",text:"Group schedule updated successfully.",timer:2e3,showConfirmButton:!1}),await j(),r(!1),d(null)}catch(R){const F=R.response?.data?.message||R.message||"An error occurred";await ee.fire({icon:"error",title:"Error",text:F}),console.error("Error updating group schedule:",R)}finally{h(!1)}},Y=re=>{i?U(re):pe(re)},W=()=>{r(!1),d(null)};return o.useEffect(()=>{const re=G=>{G.key==="Escape"&&a&&(r(!1),d(null))};return a&&document.addEventListener("keydown",re),()=>{document.removeEventListener("keydown",re)}},[a]),e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Group Schedule Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Create and manage group schedule codes and descriptions for organizing employee schedules. Group schedules allow you to efficiently manage multiple employees with similar shift patterns."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Define group schedule codes"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Custom schedule descriptions"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Efficient schedule management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Team-based organization"})]})]})]})]})}),k("Add")&&k("View")&&e.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4 flex-wrap",children:[k("Add")&&e.jsxs("button",{onClick:B,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),k("View")&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:t,onChange:re=>s(re.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})]}),k("View")?e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Description"}),(k("Edit")||k("Delete"))&&e.jsx("th",{className:"px-6 py-3 text-center text-xs text-gray-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:q.length>0?q.map(re=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:re.code}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:re.description}),(k("Edit")||k("Delete"))&&e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[k("Edit")&&e.jsx("button",{onClick:()=>se(re),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),k("Edit")&&k("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),k("Delete")&&e.jsx("button",{onClick:()=>le(re.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},re.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]})}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."}),k("View")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",M.length>0?O+1:0," to ",Math.min(O+C,M.length)," of ",M.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>l(re=>Math.max(1,re-1)),disabled:n===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:L},(re,G)=>G+1).map(re=>e.jsx("button",{onClick:()=>l(re),className:`px-3 py-1 rounded transition-colors ${n===re?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:re},re)),e.jsx("button",{onClick:()=>l(re=>Math.min(L||1,re+1)),disabled:n>=L||M.length===0,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})]})}),a&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-900",children:i?"Edit":"Create New"}),e.jsx("button",{onClick:W,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:Y,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Group Schedule Setup"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"Code :"}),e.jsx("input",{type:"text",value:m.groupScheduleCode,onChange:re=>b({...m,groupScheduleCode:re.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"Description :"}),e.jsx("input",{type:"text",value:m.groupScheduleDesc,onChange:re=>b({...m,groupScheduleDesc:re.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:x,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:x?i?"Updating...":"Submitting...":i?"Update":"Submit"}),e.jsx("button",{type:"button",onClick:W,disabled:x,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),e.jsx(Zt,{})]})}const wy=ne.defaults.uploadedBaseURL||"https://localhost:7264/uploaded/HelpSetUp";function lQ(){const[t,s]=o.useState(""),[a,r]=o.useState(!1),[n,l]=o.useState(!1),[i,d]=o.useState(1),[x,h]=o.useState(null),[m,b]=o.useState(!1),[f,N]=o.useState({code:"",description:"",fileName:""}),[p,v]=o.useState(null),[y,g]=o.useState([]),[j,C]=o.useState(!1),[S,P]=o.useState(""),k=10,[E,M]=o.useState({}),L=_=>E[_]===!0;o.useEffect(()=>{O()},[]);const O=()=>{const _=localStorage.getItem("loginPayload");if(_)try{const Ne=(JSON.parse(_).permissions||[]).filter(fe=>rs(fe.formName)==="HelpSetUp"),Ce={};Ne.forEach(fe=>{const ue=rs(fe.accessTypeName);ue&&(Ce[ue]=!0)}),M(Ce)}catch(xe){console.error("Error parsing or decrypting payload",xe)}};o.useEffect(()=>{q()},[]);const q=async()=>{C(!0),P("");try{const _=await ne.get("/Fs/Process/HelpSetUp");_.status===200&&_.data&&g(_.data)}catch(_){const xe=_.response?.data?.message||_.message||"Failed to load help items";P(xe),console.error("Error fetching help items:",_)}finally{C(!1)}},B=_=>`${wy}/${_}`,se=_=>{_&&window.open(B(_),"_blank","noopener,noreferrer")},le=y.filter(_=>_.code.toLowerCase().includes(t.toLowerCase())||_.description.toLowerCase().includes(t.toLowerCase())||_.fileName.toLowerCase().includes(t.toLowerCase())),pe=Math.ceil(le.length/k),U=(i-1)*k,Y=le.slice(U,U+k);o.useEffect(()=>{d(1)},[t]);const W=()=>{N({code:"",description:"",fileName:""}),v(null),r(!0)},re=_=>{h(_),N({code:_.code,description:_.description,fileName:_.fileName}),v(null),l(!0)},G=async _=>{if((await ee.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete help item "${_.code}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ne.delete(`/Fs/Process/HelpSetUp/${_.id}`),await ee.fire({icon:"success",title:"Success",text:"Help item deleted successfully.",timer:2e3,showConfirmButton:!1}),await q()}catch(ge){await ee.fire({icon:"error",title:"Error",text:ge.response?.data?.message||ge.message||"Failed to delete help item"})}},R=_=>{const xe=_.target.files?.[0];xe&&(v(xe),N(ge=>({...ge,fileName:xe.name})))},F=async _=>{if(_.preventDefault(),!f.code.trim()){await ee.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(y.some(xe=>xe.code.toLowerCase()===f.code.trim().toLowerCase())){await ee.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different one."});return}b(!0);try{const xe=new FormData;xe.append("id","0"),xe.append("code",f.code),xe.append("description",f.description),xe.append("fileName",f.fileName),p&&xe.append("file",p),await ne.post("/Fs/Process/HelpSetUp",xe,{headers:{"Content-Type":"multipart/form-data"}}),await ee.fire({icon:"success",title:"Success",text:"Help item created successfully.",timer:2e3,showConfirmButton:!1}),await q(),r(!1)}catch(xe){await ee.fire({icon:"error",title:"Error",text:xe.response?.data?.message||xe.message||"An error occurred"})}finally{b(!1)}},A=async _=>{if(_.preventDefault(),!!x){if(!f.code.trim()){await ee.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(y.some(xe=>xe.id!==x.id&&xe.code.toLowerCase()===f.code.trim().toLowerCase())){await ee.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different one."});return}b(!0);try{const xe=new FormData;xe.append("id",String(x.id)),xe.append("code",f.code),xe.append("description",f.description),xe.append("fileName",f.fileName),p&&xe.append("file",p),await ne.put(`/Fs/Process/HelpSetUp/${x.id}`,xe,{headers:{"Content-Type":"multipart/form-data"}}),await ee.fire({icon:"success",title:"Success",text:"Help item updated successfully.",timer:2e3,showConfirmButton:!1}),await q(),l(!1),h(null)}catch(xe){await ee.fire({icon:"error",title:"Error",text:xe.response?.data?.message||xe.message||"An error occurred"})}finally{b(!1)}}},H=()=>{r(!1),l(!1),h(null),v(null)};o.useEffect(()=>{const _=xe=>{xe.key==="Escape"&&(a?r(!1):n&&(l(!1),h(null)))};return(a||n)&&document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[a,n]);const D=(_,xe)=>e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-900",children:_?"Edit Help Item":"Create New"}),e.jsx("button",{onClick:H,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:xe,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Help Setup"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"Code :"}),e.jsx("input",{type:"text",value:f.code,onChange:ge=>N({...f,code:ge.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"Description :"}),e.jsx("input",{type:"text",value:f.description,onChange:ge=>N({...f,description:ge.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"File Name :"}),e.jsxs("div",{className:"flex-1 flex items-center gap-2 flex-wrap",children:[e.jsx("input",{type:"file",onChange:R,id:_?"file-upload-edit":"file-upload-create",className:"hidden"}),e.jsx("label",{htmlFor:_?"file-upload-edit":"file-upload-create",className:"px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 cursor-pointer text-sm text-gray-700 transition-colors",children:"Choose File"}),e.jsx("span",{className:"text-sm text-gray-600",children:p?p.name:f.fileName||"No file chosen"}),_&&f.fileName&&e.jsxs("button",{type:"button",onClick:()=>se(f.fileName),className:"ml-2 px-3 py-1.5 bg-blue-50 border border-blue-300 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors flex items-center gap-1.5 text-sm flex-shrink-0",title:`Open: ${wy}/${f.fileName}`,children:[e.jsx(qN,{className:"w-3.5 h-3.5"}),"View File"]})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:m,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm text-sm",children:m?_?"Updating...":"Submitting...":_?"Update":"Submit"}),e.jsx("button",{type:"button",onClick:H,disabled:m,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm text-sm",children:"Back to List"})]})]})]})});return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Help Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Create and manage help documentation, user guides, and reference materials for the timekeeping system to assist users with various features and functionalities."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Comprehensive help documentation","Custom topic organization","Detailed content management","User-friendly reference system"].map(_=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:_})]},_))})]})]})}),L("View")&&e.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4 flex-wrap",children:[L("Add")&&e.jsxs("button",{onClick:W,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(fs,{className:"w-4 h-4"})," Create New"]}),L("View")&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:t,onChange:_=>s(_.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:j?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading help items..."})}):S?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:S})}):L("View")?e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"File"}),(L("Edit")||L("Delete"))&&e.jsx("th",{className:"px-6 py-3 text-center text-xs text-gray-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Y.length>0?Y.map(_=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:_.code}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:_.description}),e.jsx("td",{className:"px-6 py-4 text-sm",children:_.fileName?e.jsxs("button",{type:"button",onClick:()=>se(_.fileName),className:"text-blue-600 hover:text-blue-800 hover:underline flex items-center gap-1 transition-colors",title:`Open: ${wy}/${_.fileName}`,children:[_.fileName,e.jsx(qN,{className:"w-3.5 h-3.5"})]}):e.jsx("span",{className:"text-gray-400 italic",children:"No file"})}),(L("Edit")||L("Delete"))&&e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[L("Edit")&&e.jsx("button",{onClick:()=>re(_),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),L("Edit")&&L("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),L("Delete")&&e.jsx("button",{onClick:()=>G(_),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},_.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),L("View")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",le.length>0?U+1:0," to ",Math.min(U+k,le.length)," of ",le.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>d(_=>Math.max(1,_-1)),disabled:i===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:pe},(_,xe)=>xe+1).map(_=>e.jsx("button",{onClick:()=>d(_),className:`px-3 py-1 rounded transition-colors ${i===_?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:_},_)),e.jsx("button",{onClick:()=>d(_=>Math.min(pe||1,_+1)),disabled:i>=pe||le.length===0,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})]})}),a&&D(!1,F),n&&x&&D(!0,A),e.jsx(Zt,{})]})}function iQ(){const[t,s]=o.useState(""),[a,r]=o.useState(!1),[n,l]=o.useState(!1),[i,d]=o.useState(!1),[x,h]=o.useState(1),[m,b]=o.useState(null),[f,N]=o.useState(""),[p,v]=o.useState(""),[y,g]=o.useState({code:"",description:"",chargeableTo:"",withPay:!1,noBalance:!1,requiredAdvancedFiling:!1,exemptedFromAllowanceDeduction:!1,legal:!1,special:!1,special2:!1,doubleLegal:!1,nonWorking:!1}),[j,C]=o.useState([{id:1,code:"BL",description:"Birthday Leave",chargeableTo:"BL",withPay:!1,noBalance:!1,requiredAdvancedFiling:!1,exemptedFromAllowanceDeduction:!1,legal:!1,special:!1,special2:!1,doubleLegal:!1,nonWorking:!1},{id:2,code:"HL",description:"Home Leave",chargeableTo:"HL",withPay:!1,noBalance:!1,requiredAdvancedFiling:!1,exemptedFromAllowanceDeduction:!1,legal:!1,special:!1,special2:!1,doubleLegal:!1,nonWorking:!1},{id:3,code:"PL",description:"Paternity Leave",chargeableTo:"PL",withPay:!1,noBalance:!1,requiredAdvancedFiling:!1,exemptedFromAllowanceDeduction:!1,legal:!1,special:!1,special2:!1,doubleLegal:!1,nonWorking:!1},{id:4,code:"SL",description:"Sick Leave",chargeableTo:"SL",withPay:!1,noBalance:!1,requiredAdvancedFiling:!1,exemptedFromAllowanceDeduction:!1,legal:!1,special:!1,special2:!1,doubleLegal:!1,nonWorking:!1},{id:5,code:"SPL",description:"Solo Parent Leave",chargeableTo:"SPL",withPay:!1,noBalance:!1,requiredAdvancedFiling:!1,exemptedFromAllowanceDeduction:!1,legal:!1,special:!1,special2:!1,doubleLegal:!1,nonWorking:!1},{id:6,code:"VL",description:"Vacation Leave",chargeableTo:"VL",withPay:!1,noBalance:!1,requiredAdvancedFiling:!1,exemptedFromAllowanceDeduction:!1,legal:!1,special:!1,special2:!1,doubleLegal:!1,nonWorking:!1},{id:7,code:"WN",description:"Leave with notice",chargeableTo:"WN",withPay:!1,noBalance:!1,requiredAdvancedFiling:!1,exemptedFromAllowanceDeduction:!1,legal:!1,special:!1,special2:!1,doubleLegal:!1,nonWorking:!1}]),S=10,[P,k]=o.useState({}),E=F=>P[F]===!0;o.useEffect(()=>{M()},[]);const M=()=>{const F=localStorage.getItem("loginPayload");if(F)try{const D=(JSON.parse(F).permissions||[]).filter(xe=>rs(xe.formName)==="LeaveTypeSetUp"),_={};D.forEach(xe=>{const ge=rs(xe.accessTypeName);ge&&(_[ge]=!0)}),k(_)}catch(A){console.error("Error parsing or decrypting payload",A)}},L=j.filter(F=>F.code.toLowerCase().includes(t.toLowerCase())||F.description.toLowerCase().includes(t.toLowerCase())||F.chargeableTo.toLowerCase().includes(t.toLowerCase())),O=Math.ceil(L.length/S),q=(x-1)*S,B=L.slice(q,q+S),se=()=>{g({code:"",description:"",chargeableTo:"",withPay:!1,noBalance:!1,requiredAdvancedFiling:!1,exemptedFromAllowanceDeduction:!1,legal:!1,special:!1,special2:!1,doubleLegal:!1,nonWorking:!1}),N(""),r(!0)},le=F=>{b(F),g({code:F.code,description:F.description,chargeableTo:F.chargeableTo,withPay:F.withPay,noBalance:F.noBalance,requiredAdvancedFiling:F.requiredAdvancedFiling,exemptedFromAllowanceDeduction:F.exemptedFromAllowanceDeduction,legal:F.legal,special:F.special,special2:F.special2,doubleLegal:F.doubleLegal,nonWorking:F.nonWorking}),N(""),l(!0)},pe=F=>{confirm("Are you sure you want to delete this leave type?")&&C(A=>A.filter(H=>H.id!==F))},U=F=>{F.preventDefault();const A={id:Math.max(...j.map(H=>H.id),0)+1,code:y.code,description:y.description,chargeableTo:y.chargeableTo,withPay:y.withPay,noBalance:y.noBalance,requiredAdvancedFiling:y.requiredAdvancedFiling,exemptedFromAllowanceDeduction:y.exemptedFromAllowanceDeduction,legal:y.legal,special:y.special,special2:y.special2,doubleLegal:y.doubleLegal,nonWorking:y.nonWorking};C(H=>[...H,A]),r(!1)},Y=F=>{F.preventDefault(),m&&(C(A=>A.map(H=>H.id===m.id?{...H,code:y.code,description:y.description,chargeableTo:y.chargeableTo,withPay:y.withPay,noBalance:y.noBalance,requiredAdvancedFiling:y.requiredAdvancedFiling,exemptedFromAllowanceDeduction:y.exemptedFromAllowanceDeduction,legal:y.legal,special:y.special,special2:y.special2,doubleLegal:y.doubleLegal,nonWorking:y.nonWorking}:H)),l(!1),b(null))},W=()=>{r(!1),l(!1),b(null)},re=()=>{v(""),d(!0)},G=F=>{g({...y,chargeableTo:F}),d(!1),v("")},R=j.filter(F=>F.code.toLowerCase().includes(p.toLowerCase())||F.description.toLowerCase().includes(p.toLowerCase()));return o.useEffect(()=>{const F=A=>{A.key==="Escape"&&(i?d(!1):a?r(!1):n&&(l(!1),b(null)))};return(i||a||n)&&document.addEventListener("keydown",F),()=>{document.removeEventListener("keydown",F)}},[i,a,n]),e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 -left-20 w-96 h-96 bg-slate-700 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),e.jsx("div",{className:"absolute top-40 -right-20 w-96 h-96 bg-white-700 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-20 left-1/2 transform -translate-x-1/2 w-96 h-96 bg-slate-600 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-4000"})]}),e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-[1600px] mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Leave Type Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define and configure different types of employee leaves including vacation, sick leave, emergency leave, and other leave categories with specific rules and earning code mappings."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Multiple leave type categories"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Earning code integration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Flexible leave policies"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Comprehensive leave management"})]})]})]})]})}),E("View")&&e.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4 flex-wrap",children:[E("Add")&&e.jsxs("button",{onClick:se,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),E("View")&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:t,onChange:F=>s(F.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})]}),E("View")?e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase whitespace-nowrap",children:"Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase whitespace-nowrap",children:"Description"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase whitespace-nowrap",children:"Chargeable To"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600 uppercase whitespace-nowrap",children:"With Pay"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600 uppercase whitespace-nowrap",children:"No Balance"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600 uppercase whitespace-nowrap",children:"Required Advanced Filing"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600 uppercase whitespace-nowrap",children:"Exempted From Allowance Deduction"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600 uppercase whitespace-nowrap",children:"Legal"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600 uppercase whitespace-nowrap",children:"Special"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600 uppercase whitespace-nowrap",children:"Special 2"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600 uppercase whitespace-nowrap",children:"Double Legal"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600 uppercase whitespace-nowrap",children:"Non-Working"}),(E("Edit")||E("Delete"))&&e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600 uppercase whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:B.length>0?B.map(F=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-4 text-sm text-gray-900",children:F.code}),e.jsx("td",{className:"px-4 py-4 text-sm text-gray-600",children:F.description}),e.jsx("td",{className:"px-4 py-4 text-sm text-gray-600",children:F.chargeableTo}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("input",{type:"checkbox",checked:F.withPay,readOnly:!0,className:"w-4 h-4 rounded border-gray-300 pointer-events-none"})}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("input",{type:"checkbox",checked:F.noBalance,readOnly:!0,className:"w-4 h-4 rounded border-gray-300 pointer-events-none"})}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("input",{type:"checkbox",checked:F.requiredAdvancedFiling,readOnly:!0,className:"w-4 h-4 rounded border-gray-300 pointer-events-none"})}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("input",{type:"checkbox",checked:F.exemptedFromAllowanceDeduction,readOnly:!0,className:"w-4 h-4 rounded border-gray-300 pointer-events-none"})}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("input",{type:"checkbox",checked:F.legal,readOnly:!0,className:"w-4 h-4 rounded border-gray-300 pointer-events-none"})}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("input",{type:"checkbox",checked:F.special,readOnly:!0,className:"w-4 h-4 rounded border-gray-300 pointer-events-none"})}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("input",{type:"checkbox",checked:F.special2,readOnly:!0,className:"w-4 h-4 rounded border-gray-300 pointer-events-none"})}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("input",{type:"checkbox",checked:F.doubleLegal,readOnly:!0,className:"w-4 h-4 rounded border-gray-300 pointer-events-none"})}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("input",{type:"checkbox",checked:F.nonWorking,readOnly:!0,className:"w-4 h-4 rounded border-gray-300 pointer-events-none"})}),e.jsx("td",{className:"px-4 py-4",children:(E("Edit")||E("Delete"))&&e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[E("Edit")&&e.jsx("button",{onClick:()=>le(F),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),E("Edit")&&E("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),E("Delete")&&e.jsx("button",{onClick:()=>pe(F.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},F.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:13,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]})}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."}),E("View")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",L.length>0?q+1:0," to ",Math.min(q+S,L.length)," of ",L.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>h(F=>Math.max(1,F-1)),disabled:x===1,className:"px-4 py-2 text-blue-600 hover:text-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsx("button",{className:`px-3 py-1 rounded ${x===1?"bg-blue-500 text-white":"text-blue-600 hover:bg-gray-100"}`,onClick:()=>h(1),children:"1"}),e.jsx("button",{onClick:()=>h(F=>Math.min(O||1,F+1)),disabled:x>=O||L.length===0,className:"px-4 py-2 text-blue-600 hover:text-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})}),a&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-900",children:"Create New"}),e.jsx("button",{onClick:W,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:U,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Leave Type Setup"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-2 flex-shrink-0",children:"Code :"}),e.jsx("input",{type:"text",value:y.code,onChange:F=>g({...y,code:F.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-2 flex-shrink-0",children:"Description :"}),e.jsx("input",{type:"text",value:y.description,onChange:F=>g({...y,description:F.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-2 flex-shrink-0",children:"Chargeable To :"}),e.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[e.jsx("input",{type:"text",value:y.chargeableTo,onChange:F=>g({...y,chargeableTo:F.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("button",{type:"button",onClick:re,className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>g({...y,chargeableTo:""}),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"With Pay :"}),e.jsx("input",{type:"checkbox",checked:y.withPay,onChange:F=>g({...y,withPay:F.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"No Balance :"}),e.jsx("input",{type:"checkbox",checked:y.noBalance,onChange:F=>g({...y,noBalance:F.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Required Advanced Filing :"}),e.jsx("input",{type:"checkbox",checked:y.requiredAdvancedFiling,onChange:F=>g({...y,requiredAdvancedFiling:F.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Exempted From Allowance Deduction :"}),e.jsx("input",{type:"checkbox",checked:y.exemptedFromAllowanceDeduction,onChange:F=>g({...y,exemptedFromAllowanceDeduction:F.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Legal Holiday Filed As Leave :"}),e.jsx("input",{type:"checkbox",checked:y.legal,onChange:F=>g({...y,legal:F.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Special Holiday Filed As Leave :"}),e.jsx("input",{type:"checkbox",checked:y.special,onChange:F=>g({...y,special:F.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Special Holiday 2 Filed As Leave :"}),e.jsx("input",{type:"checkbox",checked:y.special2,onChange:F=>g({...y,special2:F.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Double Legal Holiday Filed As Leave :"}),e.jsx("input",{type:"checkbox",checked:y.doubleLegal,onChange:F=>g({...y,doubleLegal:F.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Non-Working Holiday Filed As Leave :"}),e.jsx("input",{type:"checkbox",checked:y.nonWorking,onChange:F=>g({...y,nonWorking:F.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Submit"}),e.jsx("button",{type:"button",onClick:W,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),n&&m&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-900",children:"Edit Leave Type"}),e.jsx("button",{onClick:W,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:Y,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Leave Type Setup"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-2 flex-shrink-0",children:"Code :"}),e.jsx("input",{type:"text",value:y.code,onChange:F=>g({...y,code:F.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-2 flex-shrink-0",children:"Description :"}),e.jsx("input",{type:"text",value:y.description,onChange:F=>g({...y,description:F.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-2 flex-shrink-0",children:"Chargeable To :"}),e.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[e.jsx("input",{type:"text",value:y.chargeableTo,onChange:F=>g({...y,chargeableTo:F.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("button",{type:"button",onClick:re,className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>g({...y,chargeableTo:""}),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"With Pay :"}),e.jsx("input",{type:"checkbox",checked:y.withPay,onChange:F=>g({...y,withPay:F.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"No Balance :"}),e.jsx("input",{type:"checkbox",checked:y.noBalance,onChange:F=>g({...y,noBalance:F.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Required Advanced Filing :"}),e.jsx("input",{type:"checkbox",checked:y.requiredAdvancedFiling,onChange:F=>g({...y,requiredAdvancedFiling:F.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Exempted From Allowance Deduction :"}),e.jsx("input",{type:"checkbox",checked:y.exemptedFromAllowanceDeduction,onChange:F=>g({...y,exemptedFromAllowanceDeduction:F.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Legal Holiday Filed As Leave :"}),e.jsx("input",{type:"checkbox",checked:y.legal,onChange:F=>g({...y,legal:F.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Special Holiday Filed As Leave :"}),e.jsx("input",{type:"checkbox",checked:y.special,onChange:F=>g({...y,special:F.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Special Holiday 2 Filed As Leave :"}),e.jsx("input",{type:"checkbox",checked:y.special2,onChange:F=>g({...y,special2:F.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Double Legal Holiday Filed As Leave :"}),e.jsx("input",{type:"checkbox",checked:y.doubleLegal,onChange:F=>g({...y,doubleLegal:F.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Non-Working Holiday Filed As Leave :"}),e.jsx("input",{type:"checkbox",checked:y.nonWorking,onChange:F=>g({...y,nonWorking:F.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Update"}),e.jsx("button",{type:"button",onClick:W,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),i&&e.jsx("div",{className:"fixed inset-0 bg-transparent flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[110vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0",children:[e.jsx("h2",{className:"text-gray-900",children:"Search"}),e.jsx("button",{onClick:()=>d(!1),className:"text-gray-600 hover:text-gray-800 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-white",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-blue-600",children:"Leave Type"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap",children:"Search:"}),e.jsx("input",{type:"text",value:p,onChange:F=>v(F.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"",autoFocus:!0})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-sm text-gray-900",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm text-gray-900",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:R.length>0?R.map(F=>e.jsxs("tr",{className:"hover:bg-blue-50 transition-colors cursor-pointer",onClick:()=>G(F.code),children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:F.code}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:F.description})]},F.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-6 py-12 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available"})})})})]})})]})})]})}),e.jsx(Zt,{}),e.jsx("style",{children:`
        @keyframes blob {
          0% {
            transform: translate(0px, 0px) scale(1);
          }
          33% {
            transform: translate(30px, -50px) scale(1.1);
          }
          66% {
            transform: translate(-20px, 20px) scale(0.9);
          }
          100% {
            transform: translate(0px, 0px) scale(1);
          }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `})]})}function cQ(){const[t,s]=o.useState(!1),[a,r]=o.useState(""),[n,l]=o.useState(1),[i,d]=o.useState(!1),[x,h]=o.useState(!1),[m,b]=o.useState(!1),[f,N]=o.useState(null),[p,v]=o.useState({key:null,direction:"asc"}),[y,g]=o.useState({locCode:"",locName:"",payCode:"M",noOfDays:"0",noOfHours:"0",totalPeriod:"0"}),[j,C]=o.useState([]),S=[{value:"M",label:"Monthly"},{value:"S",label:"Semi-Monthly"},{value:"D",label:"Daily"}],P=D=>{const _=S.find(xe=>xe.value===D);return _?_.label:D};o.useEffect(()=>{k()},[]);const k=async()=>{b(!0);try{const D=await ne.get("/Fs/Process/PayRollLocationSetUp");D.status===200&&D.data&&C(D.data)}catch(D){const _=D.response?.data?.message||D.message||"Failed to load payroll locations";await ee.fire({icon:"error",title:"Error",text:_}),console.error("Error fetching payroll locations:",D)}finally{b(!1)}},E=D=>{let _="asc";p.key===D&&p.direction==="asc"&&(_="desc"),v({key:D,direction:_})},M=D=>p.key!==D?"":p.direction==="asc"?"":"",O=[...j.filter(D=>D.locCode?.toLowerCase().includes(a.toLowerCase())||D.locName?.toLowerCase().includes(a.toLowerCase())||P(D.payCode)?.toLowerCase().includes(a.toLowerCase()))].sort((D,_)=>{if(!p.key)return 0;const xe=D[p.key],ge=_[p.key];return xe==null?1:ge==null?-1:xe<ge?p.direction==="asc"?-1:1:xe>ge?p.direction==="asc"?1:-1:0}),q=20,B=Math.ceil(O.length/q),se=(n-1)*q,le=se+q,pe=O.slice(se,le),U=()=>{const D=[];if(B<=5)return Array.from({length:B},(ge,Ne)=>Ne+1);D.push(1),n>3&&D.push("...");const _=Math.max(2,n-1),xe=Math.min(B-1,n+1);for(let ge=_;ge<=xe;ge++)D.push(ge);return n<B-2&&D.push("..."),D.push(B),D};o.useEffect(()=>{l(1)},[a]);const[Y,W]=o.useState({}),re=D=>Y[D]===!0;o.useEffect(()=>{G()},[]);const G=()=>{const D=localStorage.getItem("loginPayload");if(D)try{const ge=(JSON.parse(D).permissions||[]).filter(Ce=>rs(Ce.formName)==="PayrollLocationSetup"),Ne={};ge.forEach(Ce=>{const fe=rs(Ce.accessTypeName);fe&&(Ne[fe]=!0)}),W(Ne)}catch(_){console.error("Error parsing or decrypting payload",_)}},R=()=>{g({locCode:"",locName:"",payCode:"M",noOfDays:"0",noOfHours:"0",totalPeriod:"0"}),d(!1),N(null),s(!0)},F=D=>{g({locCode:D.locCode||"",locName:D.locName||"",payCode:D.payCode||"M",noOfDays:D.noOfDays?.toString()||"0",noOfHours:D.noOfHours?.toString()||"0",totalPeriod:D.totalPeriod?.toString()||"0"}),d(!0),N(D.id),s(!0)},A=async D=>{if((await ee.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete "${D.locName}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ne.delete(`/Fs/Process/PayRollLocationSetUp/${D.id}`),await ee.fire({icon:"success",title:"Success",text:"Payroll location deleted successfully.",timer:2e3,showConfirmButton:!1}),await k()}catch(xe){const ge=xe.response?.data?.message||xe.message||"Failed to delete payroll location";await ee.fire({icon:"error",title:"Error",text:ge})}},H=async()=>{if(!y.locCode.trim()){await ee.fire({icon:"warning",title:"Validation Error",text:"Please enter a Location Code."});return}h(!0);try{const D={id:0,locId:0,locCode:y.locCode,locName:y.locName||null,payCode:y.payCode||null,noOfDays:parseInt(y.noOfDays)||0,noOfHours:parseInt(y.noOfHours)||0,totalPeriod:parseInt(y.totalPeriod)||0,confidential:null,notedBy:null,preparedBy:null,reviewedBy:null,approvedBy:null,nonTaxAccum:0,header:null,desc1:null,desc2:null,desc3:null,desc4:null,contribFormula:null,contribPayPer:0,ins:null,insPayPer:0,pagIbig:null,pagPayPer:0,sssContrib:null,sssPayPer:0,philContrib:null,philPayPer:0,companyCode:null,clsCode:null,rateCode:null,costCenter1:null,costCenter2:null};if(i&&f!==null){const _={...D,id:f};await ne.put(`/Fs/Process/PayRollLocationSetUp/${f}`,_),await ee.fire({icon:"success",title:"Success",text:"Payroll location updated successfully.",timer:2e3,showConfirmButton:!1})}else await ne.post("/Fs/Process/PayRollLocationSetUp",D),await ee.fire({icon:"success",title:"Success",text:"Payroll location created successfully.",timer:2e3,showConfirmButton:!1});s(!1),g({locCode:"",locName:"",payCode:"M",noOfDays:"0",noOfHours:"0",totalPeriod:"0"}),d(!1),N(null),await k()}catch(D){console.error("Error details:",D.response?.data||D.message);const _=D.response?.data?.message||D.message||"An error occurred";await ee.fire({icon:"error",title:"Error",text:_})}finally{h(!1)}};return o.useEffect(()=>{const D=_=>{_.key==="Escape"&&t&&s(!1)};return t&&document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[t]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Payroll Location Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define payroll locations with specific pay schedules and period configurations. Set up location-based payroll processing parameters including pay codes, working days, hours, and total periods."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Location-specific pay schedules","Daily and semi-monthly configurations","Working days and hours setup","Total period definitions"].map(D=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:D})]},D))})]})]})}),re("View")&&e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[re("Add")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:R,children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),re("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:a,onChange:D=>r(D.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),re("View")?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsxs("th",{className:"px-4 py-2 text-left text-gray-700 cursor-pointer hover:bg-gray-200 select-none",onClick:()=>E("locCode"),children:["Loc Code ",M("locCode")]}),e.jsxs("th",{className:"px-4 py-2 text-left text-gray-700 cursor-pointer hover:bg-gray-200 select-none",onClick:()=>E("locName"),children:["Loc Name ",M("locName")]}),e.jsxs("th",{className:"px-4 py-2 text-left text-gray-700 cursor-pointer hover:bg-gray-200 select-none",onClick:()=>E("payCode"),children:["Pay Code ",M("payCode")]}),e.jsxs("th",{className:"px-4 py-2 text-left text-gray-700 cursor-pointer hover:bg-gray-200 select-none",onClick:()=>E("noOfDays"),children:["No. of Days ",M("noOfDays")]}),e.jsxs("th",{className:"px-4 py-2 text-left text-gray-700 cursor-pointer hover:bg-gray-200 select-none",onClick:()=>E("noOfHours"),children:["No. of Hours ",M("noOfHours")]}),e.jsxs("th",{className:"px-4 py-2 text-left text-gray-700 cursor-pointer hover:bg-gray-200 select-none",onClick:()=>E("totalPeriod"),children:["Total Period ",M("totalPeriod")]}),e.jsx("th",{className:"px-4 py-2 text-center text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:m?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500 text-sm",children:"Loading..."})}):pe.length>0?pe.map(D=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:D.locCode}),e.jsx("td",{className:"px-4 py-2",children:D.locName}),e.jsx("td",{className:"px-4 py-2",children:P(D.payCode)}),e.jsx("td",{className:"px-4 py-2",children:D.noOfDays}),e.jsx("td",{className:"px-4 py-2",children:D.noOfHours}),e.jsx("td",{className:"px-4 py-2",children:D.totalPeriod}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>F(D),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>A(D),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},D.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500 text-sm",children:"No data available"})})})]})}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."}),re("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600 text-sm",children:["Showing ",O.length===0?0:se+1," to ",Math.min(le,O.length)," of ",O.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>l(D=>Math.max(D-1,1)),disabled:n===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Previous"}),U().map((D,_)=>D==="..."?e.jsx("span",{className:"px-2 flex items-center text-gray-500 text-sm",children:"..."},`ellipsis-${_}`):e.jsx("button",{onClick:()=>l(D),className:`px-4 py-2 rounded text-sm font-medium ${n===D?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-50"}`,children:D},D)),e.jsx("button",{onClick:()=>l(D=>Math.min(D+1,B)),disabled:n===B||B===0,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Next"})]})]}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:i?"Edit Payroll Location":"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Payroll Location Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm",children:"Loc Code :"}),e.jsx("input",{type:"text",value:y.locCode,onChange:D=>g({...y,locCode:D.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm",children:"Loc Name :"}),e.jsx("input",{type:"text",value:y.locName,onChange:D=>g({...y,locName:D.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm",children:"Pay Code :"}),e.jsx("select",{value:y.payCode,onChange:D=>g({...y,payCode:D.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:S.map(D=>e.jsx("option",{value:D.value,children:D.label},D.value))})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm",children:"No. Of Days :"}),e.jsx("input",{type:"number",value:y.noOfDays,onChange:D=>g({...y,noOfDays:D.target.value}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm",children:"No. Of Hours :"}),e.jsx("input",{type:"number",value:y.noOfHours,onChange:D=>g({...y,noOfHours:D.target.value}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm",children:"Total Period :"}),e.jsx("input",{type:"number",value:y.totalPeriod,onChange:D=>g({...y,totalPeriod:D.target.value}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:H,disabled:x,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Processing...":i?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),disabled:x,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Back to List"})]})]})]})})]})]})}),e.jsx(Zt,{})]})}function dQ(){const t="w-4 h-4 appearance-none border-2 border-gray-400 rounded bg-white checked:bg-blue-600 checked:border-blue-600 cursor-pointer disabled:cursor-not-allowed disabled:opacity-50",[s,a]=o.useState(!1),[r,n]=o.useState(!1),[l,i]=o.useState(!1),[d,x]=o.useState(null),h=({checked:S,onChange:P,disabled:k})=>e.jsx("div",{onClick:()=>!k&&P(!S),className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-all cursor-pointer
        ${k?"opacity-50 cursor-not-allowed":"cursor-pointer"}
        ${S?"bg-blue-600 border-blue-600":"bg-white border-gray-400 hover:border-gray-500"}`,children:S&&e.jsx(Be,{className:"w-4 h-4 text-white stroke-[3]"})}),m=S=>S.replace(/[^\d]/g,""),[b,f]=o.useState({numOfMinBeforeTheShift:"",numOfMinToIgnoreMultipleOutInBreak:"",numOfMinBeforeMidnightShift:"",devicePolicy:"Device11",retryCount:"",retryInterval:"",noOfMinToConsiderBrk2In:"",oldOvertimeProc:!1,oldNighDiffProc:!1,oldTardinessProc:!1,useHHMM:!1,borrowedDeviceNameOrg:"",disableMultipleLogin:!1,brk1Brk3NoMinutes:"",brk2NoMinutes:"",noFlag_Break1:"",noFlag_Break2:"",noFlag_Break3:""}),[N,p]=o.useState({}),v=S=>N[S]===!0;o.useEffect(()=>{y()},[]);const y=()=>{const S=localStorage.getItem("loginPayload");if(S)try{const E=(JSON.parse(S).permissions||[]).filter(L=>rs(L.formName)==="SystemConfig"),M={};E.forEach(L=>{const O=rs(L.accessTypeName);O&&(M[O]=!0)}),p(M)}catch(P){console.error("Error parsing or decrypting payload",P)}};o.useEffect(()=>{g()},[]),o.useEffect(()=>{console.log("FormData updated:",b)},[b]);const g=async()=>{n(!0);try{const S=await ne.get("/Fs/Process/Device/SystemConfiguration");if(console.log("API Response:",S),console.log("Response data:",S.data),S.status===200&&S.data){let P;if(Array.isArray(S.data)?(P=S.data[0],console.log("Data is array, using first item:",P)):(P=S.data,console.log("Data is object:",P)),!P){console.error("No config data found");return}console.log("Parsed config:",P),console.log("numOfMinBeforeTheShift:",P.numOfMinBeforeTheShift),console.log("retryCount:",P.retryCount),x(P);const k={numOfMinBeforeTheShift:String(P.numOfMinBeforeTheShift??""),numOfMinToIgnoreMultipleOutInBreak:String(P.numOfMinToIgnoreMultipleOutInBreak??""),numOfMinBeforeMidnightShift:String(P.numOfMinBeforeMidnightShift??""),devicePolicy:P.devicePolicy||"Device11",retryCount:String(P.retryCount??""),retryInterval:String(P.retryInterval??""),noOfMinToConsiderBrk2In:String(P.noOfMinToConsiderBrk2In??""),oldOvertimeProc:!!P.oldOvertimeProc,oldNighDiffProc:!!P.oldNighDiffProc,oldTardinessProc:!!P.oldTardinessProc,useHHMM:!!P.useHHMM,borrowedDeviceNameOrg:P.borrowedDeviceNameOrg??"",disableMultipleLogin:!!P.disableMultipleLogin,brk1Brk3NoMinutes:String(P.brk1Brk3NoMinutes??""),brk2NoMinutes:String(P.brk2NoMinutes??""),noFlag_Break1:P.noFlag_Break1!==null&&P.noFlag_Break1!==void 0?String(P.noFlag_Break1):"",noFlag_Break2:P.noFlag_Break2!==null&&P.noFlag_Break2!==void 0?String(P.noFlag_Break2):"",noFlag_Break3:P.noFlag_Break3!==null&&P.noFlag_Break3!==void 0?String(P.noFlag_Break3):""};console.log("Mapped form data:",k),f(k)}}catch(S){console.error("Fetch error:",S),await ee.fire({icon:"error",title:"Error",text:S.response?.data?.message||S.message||"Failed to load system configuration"})}finally{n(!1)}},j=async()=>{i(!0);try{const S={id:d?.id||1,numOfMinBeforeTheShift:parseInt(b.numOfMinBeforeTheShift)||0,numOfMinToIgnoreMultipleOutInBreak:parseInt(b.numOfMinToIgnoreMultipleOutInBreak)||0,numOfMinBeforeMidnightShift:parseInt(b.numOfMinBeforeMidnightShift)||0,devicePolicy:b.devicePolicy,retryCount:parseInt(b.retryCount)||0,retryInterval:parseInt(b.retryInterval)||0,noOfMinToConsiderBrk2In:parseInt(b.noOfMinToConsiderBrk2In)||0,oldOvertimeProc:b.oldOvertimeProc,oldNighDiffProc:b.oldNighDiffProc,oldTardinessProc:b.oldTardinessProc,useHHMM:b.useHHMM,borrowedDeviceNameOrg:b.borrowedDeviceNameOrg||null,disableMultipleLogin:b.disableMultipleLogin,brk1Brk3NoMinutes:parseInt(b.brk1Brk3NoMinutes)||0,brk2NoMinutes:parseInt(b.brk2NoMinutes)||0,noFlag_Break1:b.noFlag_Break1?parseInt(b.noFlag_Break1):null,noFlag_Break2:b.noFlag_Break2?parseInt(b.noFlag_Break2):null,noFlag_Break3:b.noFlag_Break3?parseInt(b.noFlag_Break3):null};await ne.put("/Fs/Process/Device/SystemConfiguration/1",S),await ee.fire({icon:"success",title:"Success",text:"System configuration saved successfully.",timer:2e3,showConfirmButton:!1}),a(!1),await g()}catch(S){await ee.fire({icon:"error",title:"Error",text:S.response?.data?.message||S.message||"Failed to save system configuration"})}finally{i(!1)}},C=()=>{d&&f({numOfMinBeforeTheShift:String(d.numOfMinBeforeTheShift),numOfMinToIgnoreMultipleOutInBreak:String(d.numOfMinToIgnoreMultipleOutInBreak),numOfMinBeforeMidnightShift:String(d.numOfMinBeforeMidnightShift),devicePolicy:d.devicePolicy||"Device11",retryCount:String(d.retryCount),retryInterval:String(d.retryInterval),noOfMinToConsiderBrk2In:String(d.noOfMinToConsiderBrk2In),oldOvertimeProc:d.oldOvertimeProc,oldNighDiffProc:d.oldNighDiffProc,oldTardinessProc:d.oldTardinessProc,useHHMM:d.useHHMM,borrowedDeviceNameOrg:d.borrowedDeviceNameOrg||"",disableMultipleLogin:d.disableMultipleLogin,brk1Brk3NoMinutes:String(d.brk1Brk3NoMinutes),brk2NoMinutes:String(d.brk2NoMinutes),noFlag_Break1:d.noFlag_Break1!==null?String(d.noFlag_Break1):"",noFlag_Break2:d.noFlag_Break2!==null?String(d.noFlag_Break2):"",noFlag_Break3:d.noFlag_Break3!==null?String(d.noFlag_Break3):""}),a(!1)};return o.useEffect(()=>{const S=P=>{P.key==="Escape"&&s&&C()};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[s,d]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"System Configuration Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure system-wide settings for time and attendance processing. Define device policies, pairing rules, overtime calculations, and various system behaviors to match your organization's requirements."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Device pairing policies and configurations","Overtime and tardiness process options","Break time and shift validation rules","System retry and interval settings"].map(S=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:S})]},S))})]})]})}),e.jsxs("div",{className:"mb-6",children:[!s&&v("View")&&e.jsxs("button",{onClick:()=>a(!0),disabled:r,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(cl,{className:"w-4 h-4"}),"Edit"]}),s&&e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:j,disabled:l,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Aa,{className:"w-4 h-4"}),l?"Saving...":"Save"]}),e.jsxs("button",{onClick:C,disabled:l,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(et,{className:"w-4 h-4"}),"Cancel"]})]})]}),v("View")?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-64 text-gray-700",children:"Old Overtime Process :"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"checkbox",checked:b.oldOvertimeProc,onChange:S=>f({...b,oldOvertimeProc:S.target.checked}),disabled:!s,className:t}),e.jsx("p",{className:"text-sm text-green-600 mt-1 ml-6",children:"Use Old Overtime Process"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-64 text-gray-700",children:"Old Night Differential Process :"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"checkbox",checked:b.oldNighDiffProc,onChange:S=>f({...b,oldNighDiffProc:S.target.checked}),disabled:!s,className:t}),e.jsx("p",{className:"text-sm text-green-600 mt-1 ml-6",children:"Use Old Night Differential Process"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-64 text-gray-700",children:"Old Tardiness Process :"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"checkbox",checked:b.oldOvertimeProc,onChange:S=>f({...b,oldOvertimeProc:S.target.checked}),disabled:!s,className:t}),e.jsx("p",{className:"text-sm text-green-600 mt-1 ml-6",children:"Use Old Tardiness Process"})]})]})]}),") : !originalData ? (",e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"text-red-600",children:"No configuration data available"})}),") : (",e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-64 text-gray-700",children:"Old Overtime Process :"}),e.jsxs("div",{className:"flex-1 flex items-center gap-3",children:[e.jsx(h,{checked:b.oldOvertimeProc,onChange:S=>f({...b,oldOvertimeProc:S}),disabled:!s}),e.jsx("p",{className:"text-sm text-green-600",children:"Use Old Overtime Process"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-64 text-gray-700",children:"Old Night Differential Process :"}),e.jsxs("div",{className:"flex-1 flex items-center gap-3",children:[e.jsx(h,{checked:b.oldNighDiffProc,onChange:S=>f({...b,oldNighDiffProc:S}),disabled:!s}),e.jsx("p",{className:"text-sm text-green-600",children:"Use Old Night Differential Process"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-64 text-gray-700",children:"Old Tardiness Process :"}),e.jsxs("div",{className:"flex-1 flex items-center gap-3",children:[e.jsx(h,{checked:b.oldTardinessProc,onChange:S=>f({...b,oldTardinessProc:S}),disabled:!s}),e.jsx("p",{className:"text-sm text-green-600",children:"Use Old Tardiness Process"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-64 text-gray-700",children:"Borrowed Device Name Org :"}),e.jsx("input",{type:"text",value:b.borrowedDeviceNameOrg,onChange:S=>f({...b,borrowedDeviceNameOrg:S.target.value}),disabled:!s,className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64 disabled:bg-gray-100"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-64 text-gray-700",children:"Disable Multiple Login :"}),e.jsx(h,{checked:b.disableMultipleLogin,onChange:S=>f({...b,disableMultipleLogin:S}),disabled:!s})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-64 text-gray-700",children:"Use HH:MM :"}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(h,{checked:b.useHHMM,onChange:S=>f({...b,useHHMM:S}),disabled:!s}),e.jsx("p",{className:"text-sm text-green-600",children:"To show HH:MM format in processing/processed data"})]})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-64 text-gray-700",children:"No. of Min. Before the Shift :"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"text",value:b.numOfMinBeforeTheShift,onChange:S=>f({...b,numOfMinBeforeTheShift:m(S.target.value)}),disabled:!s,className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-32 disabled:bg-gray-100"}),e.jsxs("p",{className:"text-sm text-green-600 mt-1",children:["Used in Validate Logs in Import ",">"," Update Raw Data"]})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-64 text-gray-700",children:"No. of Min. to Ignore Multiple Break Out/In :"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"text",value:b.numOfMinToIgnoreMultipleOutInBreak,onChange:S=>f({...b,numOfMinToIgnoreMultipleOutInBreak:m(S.target.value)}),disabled:!s,className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-32 disabled:bg-gray-100"}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"This will be triggered when your Device Policy is Device 4"}),e.jsx("p",{className:"text-sm text-green-600",children:"During pairing of Breaks The system will ignore Multiple breaks when the difference of break is equal or less than to defined policy."})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-64 text-gray-700",children:"No. of Min. Before Midnight Shift :"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"text",value:b.numOfMinBeforeMidnightShift,onChange:S=>f({...b,numOfMinBeforeMidnightShift:m(S.target.value)}),disabled:!s,className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-32 disabled:bg-gray-100"}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"This will be triggered when Midnight Shift is check in workshift."})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-64 text-gray-700",children:"Retry Count :"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"text",value:b.retryCount,onChange:S=>f({...b,retryCount:m(S.target.value)}),disabled:!s,className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-32 disabled:bg-gray-100"}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"This will be the count on retries when deadlock occured."})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-64 text-gray-700",children:"Retry Interval :"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"text",value:b.retryInterval,onChange:S=>f({...b,retryInterval:m(S.target.value)}),disabled:!s,className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-32 disabled:bg-gray-100"}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"This will be the interval of system before retries when deadlock occured."}),e.jsx("p",{className:"text-sm text-green-600",children:"Note: that this setup is in seconds"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-64 text-gray-700",children:"No of Min. to Consider Break2 In :"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"text",value:b.noOfMinToConsiderBrk2In,onChange:S=>f({...b,noOfMinToConsiderBrk2In:m(S.target.value)}),disabled:!s,className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-32 disabled:bg-gray-100"}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"This is the number of minutes to consider as the pair of Break 2 Out, this is used in Device 5."})]})]})]}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-64 text-gray-700",children:"Device Policy :"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("select",{value:b.devicePolicy,onChange:S=>f({...b,devicePolicy:S.target.value}),disabled:!s,className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64 disabled:bg-gray-100",children:[e.jsx("option",{value:"Device11",children:"Device 11"}),e.jsx("option",{value:"Device1",children:"Device 1"}),e.jsx("option",{value:"Device2",children:"Device 2"}),e.jsx("option",{value:"Device3",children:"Device 3"}),e.jsx("option",{value:"Device4",children:"Device 4"}),e.jsx("option",{value:"Device5",children:"Device 5"}),e.jsx("option",{value:"Device6",children:"Device 6"}),e.jsx("option",{value:"Device7",children:"Device 7"}),e.jsx("option",{value:"Device8",children:"Device 8"}),e.jsx("option",{value:"Device9",children:"Device 9"}),e.jsx("option",{value:"Device10",children:"Device 10"}),e.jsx("option",{value:"Device12",children:"Device 12"}),e.jsx("option",{value:"Device13",children:"Device 13"}),e.jsx("option",{value:"Device14",children:"Device 14"}),e.jsx("option",{value:"Device15",children:"Device 15"}),e.jsx("option",{value:"Device12_v810",children:"Device 12_v810"})]}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Leave blank if you want the default pairing of logs."})]})]})}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("h3",{className:"text-gray-700 mb-3 font-semibold",children:"Device Policy Descriptions:"}),e.jsx("ul",{className:"space-y-2 text-sm",children:[{dev:"Device 1",desc:"First in Last Out Regardless of flagging"},{dev:"Device 2",desc:"First In = Time In, Second In = Break2 In, First Out = Break2 Out, Second Out = Time Out (if no second out First Out will become Time Out)"},{dev:"Device 3",desc:"First Flag for Break1Out = Break1Out, Second Flag for Break1Out = Break3Out, First flag for Break1In = Break1In, Last flag for break1In = Break3In"},{dev:"Device 4",desc:"First Flag for BreakIn = Break1In, Second Flag for BreakIn = Break2In, Third Flag for BreakIn = Break3In, First Flag for BreakOut = Break1Out, Second Flag for BreakOut = Break2Out, Third Flag for BreakOut = Break3Out"},{dev:"Device 5",desc:"If there is First Flag of any Break before Any flag of In/Out, Flagging of In/Out will always be Out."},{dev:"Device 6",desc:"From Windows Validation."},{dev:"Device 7",desc:"All Logs that falls on 6:00am Current Date to 5:59am the next day will be paired to Current Date"},{dev:"Device 8",desc:"24 Hours Pairing"},{dev:"Device 9",desc:"Standard pairing but First Time Out will pair"},{dev:"Device 10",desc:"First In of the current day and last out before first in of next day"},{dev:"Device 11",desc:"24 Hours Pairing With Workshift Validation"},{dev:"Device 12",desc:"24 Hours Pairing Device8 Replica"},{dev:"Device 13",desc:"24 Hours Pairing Breaks Flag are the Same"},{dev:"Device 14",desc:"Device10 Replica"},{dev:"Device 15",desc:"24 Hours Pairing Breaks IN/OUT Flags is same with IN/OUT Flags"},{dev:"Device 12_v810",desc:"Device12 of v810"}].map(({dev:S,desc:P})=>e.jsxs("li",{children:[e.jsx("strong",{className:"text-gray-700",children:S}),e.jsxs("p",{className:"text-gray-600 ml-4",children:["- ",P]})]},S))})]}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("h3",{className:"text-blue-700 mb-3 font-semibold",children:"Policy for Utility to Update the Time Flag Base on Set Policy of Breaks"}),e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"No Flags - Break Hours Policy from Time In"}),e.jsx("div",{className:"bg-gray-100 p-3 rounded mb-3",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-24 text-sm text-gray-700",children:"Break1 (min)"}),e.jsx("input",{type:"text",value:b.noFlag_Break1,onChange:S=>f({...b,noFlag_Break1:m(S.target.value)}),disabled:!s,className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-32 disabled:bg-gray-100",placeholder:"minutes"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-24 text-sm text-gray-700",children:"Break2 (min)"}),e.jsx("input",{type:"text",value:b.noFlag_Break2,onChange:S=>f({...b,noFlag_Break2:m(S.target.value)}),disabled:!s,className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-32 disabled:bg-gray-100",placeholder:"minutes"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-24 text-sm text-gray-700",children:"Break3 (min)"}),e.jsx("input",{type:"text",value:b.noFlag_Break3,onChange:S=>f({...b,noFlag_Break3:m(S.target.value)}),disabled:!s,className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-32 disabled:bg-gray-100",placeholder:"minutes"})]})]})})]})]})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})]})]})}),e.jsx(Zt,{})]})}function uQ(){const[t,s]=o.useState(!1),[a,r]=o.useState(""),[n,l]=o.useState(1),[i,d]=o.useState(!1),[x,h]=o.useState(null),m=o.useRef(null),[b,f]=o.useState({overtime:"",lunchDeduction:""}),[N,p]=o.useState([]),v=O=>{let B=O.replace(/[^\d:]/g,"").replace(/:/g,"");return B=B.slice(0,4),B.length>=3?B.slice(0,2)+":"+B.slice(2):B.length>=1?B:""},y=N.filter(O=>O.overtime.toLowerCase().includes(a.toLowerCase())||O.lunchDeduction.toLowerCase().includes(a.toLowerCase())),g=25,j=Math.ceil(y.length/g),C=(n-1)*g,S=C+g,P=y.slice(C,S),k=()=>{f({overtime:"",lunchDeduction:""}),d(!1),h(null),s(!0)},E=(O,q)=>{f({overtime:O.overtime,lunchDeduction:O.lunchDeduction}),h(q),d(!0),s(!0)},M=O=>{confirm(`Are you sure you want to delete workshift "${O}"?`)&&p(q=>q.filter((B,se)=>se!==O))},L=()=>{if(!b.overtime.trim()){alert("Please enter Overtime hours.");return}if(!b.lunchDeduction.trim()){alert("Please enter Lunch Deduction hours.");return}p(i&&x!==null?O=>O.map((q,B)=>B===x?{overtime:b.overtime,lunchDeduction:b.lunchDeduction}:q):O=>[...O,{overtime:b.overtime,lunchDeduction:b.lunchDeduction}]),s(!1),d(!1),h(null)};return o.useEffect(()=>{const O=q=>{q.key==="Escape"&&t&&s(!1)};return t&&(document.addEventListener("keydown",O),setTimeout(()=>{m.current?.focus()},100)),()=>{document.removeEventListener("keydown",O)}},[t]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Unpaid Lunch Deduction Bracket Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define unpaid lunch deduction brackets based on overtime hours worked. Configure automatic lunch break deductions that apply when employees exceed specified overtime thresholds."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Overtime-based deductions"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Automated lunch calculations"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Time-based brackets"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Flexible deduction rules"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:k,children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:a,onChange:O=>r(O.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Overtime [hh:mm] "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Lunch Deduction [hh:mm]"}),e.jsx("th",{className:"px-4 py-2 text-center text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:P.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-gray-500",children:"No data available in table"})}):P.map((O,q)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:O.overtime}),e.jsx("td",{className:"px-4 py-2",children:O.lunchDeduction}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>E(O,C+q),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>M(C+q),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},q))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",y.length===0?0:C+1," to ",Math.min(S,y.length)," of ",y.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",onClick:()=>l(O=>Math.max(1,O-1)),disabled:n===1,children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:n}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",onClick:()=>l(O=>Math.min(j,O+1)),disabled:n===j||j===0,children:"Next"})]})]}),t&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:i?"Edit":"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Unpaid Lunch Deduction Bracket Setup"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"OTHours :"}),e.jsx("input",{type:"text",value:b.overtime,onChange:O=>f({...b,overtime:v(O.target.value)}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"[hh:mm]",ref:m})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Lunch Deduction :"}),e.jsx("input",{type:"text",value:b.lunchDeduction,onChange:O=>f({...b,lunchDeduction:v(O.target.value)}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"[hh:mm]"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:L,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:i?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})})]})]})}),e.jsx(Zt,{})]})}function xQ(){const t="w-4 h-4 appearance-none border-2 border-gray-400 rounded bg-white checked:bg-blue-600 checked:border-blue-600 cursor-pointer disabled:cursor-not-allowed disabled:opacity-50",[s,a]=o.useState("definition"),[r,n]=o.useState(!1),[l,i]=o.useState(""),[d,x]=o.useState("1"),[h,m]=o.useState("Batangas1 Balagtas Monthly Payroll"),[b,f]=o.useState(!1),[N,p]=o.useState(""),[v,y]=o.useState("1"),[g,j]=o.useState("Batangas Balagtas Monthly Payroll"),[C,S]=o.useState("05/05/2021"),[P,k]=o.useState("05/05/2021"),[E,M]=o.useState("August"),[L,O]=o.useState("2"),[q,B]=o.useState(""),[se,le]=o.useState(!1),[pe,U]=o.useState(""),[Y,W]=o.useState(!1),[re,G]=o.useState(""),[R,F]=o.useState(!1),[A,H]=o.useState(""),[D,_]=o.useState(!1),[xe,ge]=o.useState(""),[Ne,Ce]=o.useState(!1),[fe,ue]=o.useState(""),[Oe,De]=o.useState("09/29/2025"),[Ae,Ee]=o.useState("09/29/2025"),[ze,ot]=o.useState(!1),[wt,Ie]=o.useState(""),[ye,be]=o.useState(!1),[Me,Re]=o.useState(!1),[st,He]=o.useState(!1),[Ue,Ye]=o.useState(""),[ht,ut]=o.useState(""),[vt,ve]=o.useState(""),[Le,he]=o.useState(""),[Ve,xt]=o.useState(""),[Pt,Lt]=o.useState(!0),[It,qe]=o.useState(""),[Nt,gt]=o.useState(!1),[dt,kt]=o.useState(!1),[Dt,Ge]=o.useState("10:00 PM"),[Ke,ie]=o.useState("6:00 AM"),[ke,me]=o.useState(!1),[Ze,it]=o.useState(!0),[_t,nt]=o.useState("2.00"),[mt,ae]=o.useState("3"),[ce,te]=o.useState(!1),[z,V]=o.useState(!0),[X,de]=o.useState(!0),[_e,Te]=o.useState("3.00"),[je,J]=o.useState(""),[we,I]=o.useState(!1),[Z,Q]=o.useState(""),[We,ft]=o.useState(!1),[$t,yt]=o.useState("12"),[$e,bt]=o.useState(""),[ts,Ts]=o.useState(""),[at,Jt]=o.useState(""),[jt,zt]=o.useState("tardiness"),[cs,Js]=o.useState(""),[Tt,Ut]=o.useState("ABSENT"),[hs,Na]=o.useState("NOLOGIN"),[ha,ma]=o.useState("NOLOGOUT"),[Ba,hr]=o.useState(""),[ta,sa]=o.useState(""),[jr,rt]=o.useState("ROT"),[Vt,vs]=o.useState("RDOT"),[Ys,Ks]=o.useState("LEGAL"),[qs,la]=o.useState("SPECIAL"),[qa,ia]=o.useState(!1),[ca,va]=o.useState(!1),[tt,ns]=o.useState(!1),[ks,pa]=o.useState("0.00"),[Qs,ja]=o.useState(!1),[Fe,At]=o.useState(!1),[Mt,fa]=o.useState(!1),[Bs,Ca]=o.useState("3.00"),[Jr,cn]=o.useState(!1),[dn,Lr]=o.useState(!1),[Qr,ao]=o.useState("0"),[En,Rn]=o.useState("0"),[Xa,Ja]=o.useState("0"),[ro,Qe]=o.useState("0"),[ps,_s]=o.useState(""),[Xt,Ra]=o.useState(!1),Qa=[{id:"definition",label:"TKS Group Definition",icon:Hs},{id:"login-policy",label:"Login Policy",icon:gp},{id:"overtime",label:"Overtime Rates",icon:xa},{id:"other",label:"Other Policies",icon:vi},{id:"system",label:"SystemConfiguration",icon:wx}],or=["January","February","March","April","May","June","July","August","September","October","November","December"];o.useEffect(()=>{const lt=Ws=>{Ws.key==="Escape"&&(b?f(!1):r?n(!1):se?le(!1):Y?W(!1):R?F(!1):D?_(!1):Ne&&Ce(!1))};return document.addEventListener("keydown",lt),()=>{document.removeEventListener("keydown",lt)}},[r,b,se,Y,R,D,Ne]);const wa=()=>{x(""),m(""),y(""),j(""),S(""),k(""),M("January"),O(""),B(""),De(""),Ee(""),ot(!1),Ie(""),be(!1),Re(!1),He(!1),Ye(""),ut(""),ve(""),he(""),xt(""),Lt(!1),qe(""),gt(!1),kt(!1),Ge(""),ie(""),me(!1),it(!1),nt(""),ae(""),te(!1),V(!1),de(!1),Te(""),J(""),I(!1),Q(""),ft(!1),yt(""),bt(""),Ts(""),Jt(""),zt(""),Js(""),Ut(""),Na(""),ma(""),hr(""),sa(""),rt(""),vs(""),Ks(""),la(""),ia(!1),va(!1),ns(!1),pa(""),ja(!1),At(!1),fa(!1),Ca(""),Lr(!1),ao(""),Rn(""),Ja(""),Qe(""),_s(""),Ra(!0),a("definition")};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Time Keep Group"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure time keeping groups with detailed policies including login rules, overtime rates, grace periods, and system configurations for automated payroll processing."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Group definitions and payroll location setup"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Login policies and grace period rules"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Overtime rates and special calculations"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Cut-off dates and terminal configurations"})]})]})]})]})}),e.jsx("div",{className:"flex items-center gap-3 mb-6",children:Xt?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>{Ra(!1)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Aa,{className:"w-4 h-4"}),"Save"]}),e.jsxs("button",{onClick:()=>Ra(!1),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(et,{className:"w-4 h-4"}),"Cancel"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:wa,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("button",{onClick:()=>Ra(!0),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(cl,{className:"w-4 h-4"}),"Edit"]}),e.jsxs("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(ls,{className:"w-4 h-4"}),"Delete"]}),e.jsxs("button",{onClick:()=>n(!0),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Gt,{className:"w-4 h-4"}),"Search"]})]})}),e.jsx("div",{className:"flex gap-1 mb-6 border-b border-gray-300",children:Qa.map(lt=>{const Ws=lt.icon;return e.jsxs("button",{onClick:()=>a(lt.id),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${s===lt.id?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Ws,{className:"w-4 h-4"}),lt.label]},lt.id)})}),s==="definition"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"space-y-4 max-w-full",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm flex-shrink-0",children:"TKS Group Code"}),e.jsx("input",{type:"text",value:d,onChange:lt=>x(lt.target.value),readOnly:!Xt,className:`flex-1 min-w-0 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm flex-shrink-0",children:"TKS Group Description"}),e.jsx("input",{type:"text",value:h,onChange:lt=>m(lt.target.value),readOnly:!Xt,className:`flex-1 min-w-0 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm flex-shrink-0",children:"Payroll Location Code"}),e.jsxs("div",{className:"flex-1 min-w-0 flex gap-2",children:[e.jsx("input",{type:"text",value:v,onChange:lt=>y(lt.target.value),readOnly:!Xt,className:`flex-1 min-w-0 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`}),Xt&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>f(!0),className:"px-3 py-2 rounded-lg transition-all duration-200 flex-shrink-0 shadow-sm bg-blue-600 text-white hover:bg-blue-700 hover:shadow-md active:scale-95",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{className:"px-3 py-2 rounded-lg transition-all duration-200 flex-shrink-0 shadow-sm bg-red-600 text-white hover:bg-red-700 hover:shadow-md active:scale-95",children:e.jsx(et,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm flex-shrink-0",children:"Payroll Description"}),e.jsx("input",{type:"text",value:g,onChange:lt=>j(lt.target.value),readOnly:!Xt,className:`flex-1 min-w-0 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h3",{className:"text-gray-700 mb-3",children:"Time Keep Cut Off Dates"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-16 text-gray-700 text-sm flex-shrink-0",children:"Month"}),e.jsx("select",{value:E,onChange:lt=>M(lt.target.value),disabled:!Xt,className:`w-40 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"bg-white":"bg-gray-50"}`,children:or.map(lt=>e.jsx("option",{value:lt,children:lt},lt))})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-16 text-gray-700 text-sm flex-shrink-0",children:"Period"}),e.jsx("input",{type:"text",value:L,onChange:lt=>O(lt.target.value),readOnly:!Xt,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-20 text-gray-700 text-sm flex-shrink-0",children:"Date From"}),e.jsx(sr,{value:C,onChange:lt=>S(lt),disabled:!Xt,className:"w-52",placeholder:"MM/DD/YYYY"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-20 text-gray-700 text-sm flex-shrink-0",children:"Date To"}),e.jsx(sr,{value:P,onChange:lt=>k(lt),disabled:!Xt,className:"w-52",placeholder:"MM/DD/YYYY"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-20 text-gray-700 text-sm flex-shrink-0",children:"Terminal ID"}),e.jsx("input",{type:"text",value:q,onChange:lt=>B(lt.target.value),readOnly:!Xt,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`})]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h3",{className:"text-gray-700 mb-3",children:"Auto Pairing Logs Cut-Off Dates"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-16 text-gray-700 text-sm flex-shrink-0",children:"From:"}),e.jsx(sr,{value:Oe,onChange:lt=>De(lt),disabled:!Xt,className:"w-52",placeholder:"MM/DD/YYYY"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-16 text-gray-700 text-sm flex-shrink-0",children:"To:"}),e.jsx(sr,{value:Ae,onChange:lt=>Ee(lt),disabled:!Xt,className:"w-52",placeholder:"MM/DD/YYYY"})]})]})]})]})}),s==="login-policy"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm flex-shrink-0",children:"TKS Group Code"}),e.jsx("input",{type:"text",value:d,disabled:!0,className:"flex-1 min-w-0 px-3 py-2 border border-gray-300 rounded focus:outline-none text-sm bg-gray-100"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-48 text-gray-700 text-sm flex-shrink-0",children:"TKS Group Definition"}),e.jsx("input",{type:"text",value:h,disabled:!0,className:"flex-1 min-w-0 px-3 py-2 border border-gray-300 rounded focus:outline-none text-sm bg-gray-100"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"Grace Period Semi-Annual"}),e.jsx("input",{type:"checkbox",checked:ze,onChange:lt=>ot(lt.target.checked),disabled:!Xt,className:t})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"Grace Period Per Day"}),e.jsx("input",{type:"text",value:wt,onChange:lt=>Ie(lt.target.value),readOnly:!Xt,className:`w-28 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh:mm]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"Grace Period Include in Tardiness"}),e.jsx("input",{type:"checkbox",checked:ye,onChange:lt=>be(lt.target.checked),disabled:!Xt,className:t})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"Include Break 2 in Grace Period"}),e.jsx("input",{type:"checkbox",checked:Me,onChange:lt=>Re(lt.target.checked),disabled:!Xt,className:t})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"Deductible even within grace period"}),e.jsx("input",{type:"checkbox",checked:st,onChange:lt=>He(lt.target.checked),disabled:!Xt,className:t})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"Grace Period Per Semi-Annual"}),e.jsx("input",{type:"text",value:Ue,onChange:lt=>Ye(lt.target.value),readOnly:!Xt,className:`w-28 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh:hh]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"1st Half Semi-Annual Date From"}),e.jsx(sr,{value:ht,onChange:lt=>ut(lt),disabled:!Xt,className:"w-52",placeholder:"MM/DD/YYYY"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"1st Half Semi-Annual Date To"}),e.jsx(sr,{value:vt,onChange:lt=>ve(lt),disabled:!Xt,className:"w-52",placeholder:"MM/DD/YYYY"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"2nd Half Semi-Annual Date From"}),e.jsx(sr,{value:Le,onChange:lt=>he(lt),disabled:!Xt,className:"w-52",placeholder:"MM/DD/YYYY"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"2nd Half Semi-Annual Date To"}),e.jsx(sr,{value:Ve,onChange:lt=>xt(lt),disabled:!Xt,className:"w-52",placeholder:"MM/DD/YYYY"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"Deduct Over Break"}),e.jsx("input",{type:"checkbox",checked:Pt,onChange:lt=>Lt(lt.target.checked),disabled:!Xt,className:t})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"Grace Period for Calamity 2"}),e.jsx("input",{type:"text",value:It,onChange:lt=>qe(lt.target.value),className:"w-28 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"Combine Tardiness for TimeIn and Break2"}),e.jsx("input",{type:"checkbox",checked:Nt,onChange:lt=>gt(lt.target.checked),className:t})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"Compute Tardiness For No Logout"}),e.jsx("input",{type:"checkbox",checked:dt,onChange:lt=>kt(lt.target.checked),className:t})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0",children:"Night Diff. Start Time"}),e.jsx("input",{type:"text",value:Dt,onChange:lt=>Ge(lt.target.value),readOnly:!Xt,className:`w-28 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh:mm]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0",children:"Night Diff. End Time"}),e.jsx("input",{type:"text",value:Ke,onChange:lt=>ie(lt.target.value),readOnly:!Xt,className:`w-28 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh:mm]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0",children:"Deduct Meal Break in ND Comp."}),e.jsx("input",{type:"checkbox",checked:ke,onChange:lt=>me(lt.target.checked),disabled:!Xt,className:t})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0",children:"2 Shifts In A Day"}),e.jsx("input",{type:"checkbox",checked:Ze,onChange:lt=>it(lt.target.checked),disabled:!Xt,className:t})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0 pt-1",children:"No. of Hours Interval for 2 Shifts in A Day"}),e.jsx("input",{type:"text",value:_t,onChange:lt=>nt(lt.target.value),readOnly:!Xt,className:`w-20 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`}),e.jsx("span",{className:"text-gray-500 text-sm pt-1",children:"[hh:hh]"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0 pt-1",children:"No. of Allowable Grace Period in a Month"}),e.jsx("input",{type:"text",value:mt,onChange:lt=>ae(lt.target.value),readOnly:!Xt,className:`w-20 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0 pt-1",children:"Exclude the no. of Allowable Grace Period in Bracket"}),e.jsx("input",{type:"checkbox",checked:ce,onChange:lt=>te(lt.target.checked),disabled:!Xt,className:t})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0 pt-1",children:"Allowable Grace Period in a Month Based on Actual Month"}),e.jsx("input",{type:"checkbox",checked:z,onChange:lt=>V(lt.target.checked),className:t})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0 pt-1",children:"Consider Saturday as Paid Regular Hours"}),e.jsx("input",{type:"checkbox",checked:X,onChange:lt=>de(lt.target.checked),className:t})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0 pt-1",children:"Max. Days Per Week to Consider UnWorked Saturday As Paid Regular Hours"}),e.jsx("input",{type:"text",value:_e,onChange:lt=>Te(lt.target.value),className:"w-20 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0 pt-1",children:"No. of Allowable Tardy in Excess of Grace Period in a Month"}),e.jsx("input",{type:"text",value:je,onChange:lt=>J(lt.target.value),className:"w-28 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0 pt-1",children:"Exclude Tardiness Within Grace Period in Count for Allowable Tardy in Excess of Grace Period in a Month"}),e.jsx("input",{type:"checkbox",checked:we,onChange:lt=>I(lt.target.checked),className:"w-4 h-4 mt-1"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0",children:"Supervisory GroupCode"}),e.jsx("input",{type:"text",value:Z,onChange:lt=>Q(lt.target.value),readOnly:!Xt,className:`w-28 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`}),Xt&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>_(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Q(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0 pt-1",children:"Apply Occurances to Break1 and Break3"}),e.jsx("input",{type:"checkbox",checked:We,onChange:lt=>ft(lt.target.checked),className:"w-4 h-4 mt-1"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0 pt-1",children:"Max No. of Occurances for no deduction"}),e.jsx("input",{type:"text",value:$t,onChange:lt=>yt(lt.target.value),className:"w-20 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0",children:"Grace Period"}),e.jsx("input",{type:"text",value:$e,onChange:lt=>bt(lt.target.value),className:"w-28 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh:mm]"})]})]}),e.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0 pt-1",children:"No of Hrs Required to Complete Per Week"}),e.jsx("input",{type:"text",value:ts,onChange:lt=>Ts(lt.target.value),className:"w-28 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("span",{className:"text-gray-500 text-sm pt-1",children:"[hh:hh]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0",children:"Start of Week"}),e.jsx("input",{type:"text",value:at,onChange:lt=>Jt(lt.target.value),className:"w-40 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0 pt-1"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"computeType",value:"tardiness",checked:jt==="tardiness",onChange:lt=>zt(lt.target.value),className:"w-4 h-4"}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Compute as Tardiness"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"computeType",value:"undertime",checked:jt==="undertime",onChange:lt=>zt(lt.target.value),className:"w-4 h-4"}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Compute as Undertime"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0",children:"OT Code Per Week"}),e.jsx("input",{type:"text",value:cs,onChange:lt=>Js(lt.target.value),readOnly:!Xt,className:`w-28 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`}),Xt&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>Ce(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Js(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]})]})]})]})]}),e.jsxs("div",{className:"border-t pt-6 mt-6",children:[e.jsx("h3",{className:"text-gray-700 mb-4",children:"Default Equivalent Hours To Be Deducted for Absent, No Login, and No Logout if No Shift Defined"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm flex-shrink-0",children:"For Absent"}),e.jsx("input",{type:"text",value:Tt,onChange:lt=>Ut(lt.target.value),readOnly:!Xt,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`}),Xt&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>le(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Ut(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm flex-shrink-0",children:"For No Break 2 Out"}),e.jsx("input",{type:"text",value:Ba,onChange:lt=>hr(lt.target.value),readOnly:!Xt,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`}),Xt&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm flex-shrink-0",children:"For No Login"}),e.jsx("input",{type:"text",value:hs,onChange:lt=>Na(lt.target.value),readOnly:!Xt,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`}),Xt&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>W(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Na(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm flex-shrink-0",children:"For No Break 2 In"}),e.jsx("input",{type:"text",value:ta,onChange:lt=>sa(lt.target.value),readOnly:!Xt,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`}),Xt&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm flex-shrink-0",children:"For No Logout"}),e.jsx("input",{type:"text",value:ha,onChange:lt=>ma(lt.target.value),readOnly:!Xt,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`}),Xt&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>F(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ma(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]})]})]})]})]}),s==="overtime"&&e.jsx(OvertimeRatesTabContent,{tksGroupCode:d,tksGroupDescription:h,isEditMode:Xt,regularDayOT:jr,setRegularDayOT:rt,restDayOT:Vt,setRestDayOT:vs,legalHolidayOT:Ys,setLegalHolidayOT:Ks,specialHolidayOT:qs,setSpecialHolidayOT:la,otBreakMinHours:ks,setOtBreakMinHours:pa}),s==="other"&&e.jsx(OtherPoliciesTabContent,{tksGroupCode:d,tksGroupDescription:h,isEditMode:Xt}),s==="system"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Use Timekeeping System Config :"}),e.jsx("input",{type:"checkbox",checked:dn,onChange:lt=>Lr(lt.target.checked),disabled:!Xt,className:t})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"No. of Min. Before the Shift :"}),e.jsx("input",{type:"text",defaultValue:"0",readOnly:!Xt,className:`w-24 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`})]}),e.jsx("ul",{className:"ml-6 space-y-1",children:e.jsxs("li",{className:"text-green-600 text-sm",children:[" Used in Validate Logs in Import ",">"," Update Raw Data"]})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"No. of Min. to Ignore Multiple Break Out/In :"}),e.jsx("input",{type:"text",defaultValue:"0",readOnly:!Xt,className:`w-24 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`})]}),e.jsxs("ul",{className:"ml-6 space-y-1",children:[e.jsx("li",{className:"text-green-600 text-sm",children:" This will be triggered when your Device Policy is Device 4"}),e.jsx("li",{className:"text-green-600 text-sm",children:"During pairing of Breaks The system will ignore Multiple breaks when the difference of break is equal or less than to defined policy."})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"No. of Min. Before Midnight Shift :"}),e.jsx("input",{type:"text",defaultValue:"0",readOnly:!Xt,className:`w-24 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`})]}),e.jsx("ul",{className:"ml-6 space-y-1",children:e.jsx("li",{className:"text-green-600 text-sm",children:" This will be triggered when Midnight Shift is check in workshift."})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"No of Min. to Consider Break2 In :"}),e.jsx("input",{type:"text",defaultValue:"0",readOnly:!Xt,className:`w-24 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`})]}),e.jsx("ul",{className:"ml-6 space-y-1",children:e.jsx("li",{className:"text-green-600 text-sm",children:" This is the number of minutes to consider as the pair of Break 2 Out, this is used in Device 5."})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Device Policy :"}),e.jsx("input",{type:"text",readOnly:!Xt,className:`w-48 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`})]}),e.jsx("ul",{className:"ml-6 space-y-1",children:e.jsx("li",{className:"text-green-600 text-sm",children:" Leave blank if you want the default pairing of logs."})})]}),e.jsxs("div",{className:"ml-6 space-y-3 text-sm",children:[e.jsx("div",{children:e.jsxs("div",{className:"text-green-600",children:[e.jsx("strong",{children:"Device 1"})," - First In Last Out Regardless of flagging"]})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-green-600 mb-1",children:e.jsx("strong",{children:"Device 2"})}),e.jsxs("div",{className:"ml-4 space-y-1 text-green-600",children:[e.jsx("div",{children:"First In = Time In"}),e.jsx("div",{children:"Second In = Break2 In"}),e.jsx("div",{children:"First Out = Break2 Out"}),e.jsx("div",{children:"Second Out = Time Out (if no second out First Out will become Time Out)"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-green-600 mb-1",children:e.jsx("strong",{children:"Device 3"})}),e.jsxs("div",{className:"ml-4 space-y-1 text-green-600",children:[e.jsx("div",{children:"First Flag for Break1Out = Break1Out"}),e.jsx("div",{children:"Second Flag for Break1Out = Break3Out"}),e.jsx("div",{children:"First flag for Break1In = Break1In"}),e.jsx("div",{children:"Last flag for break1In = Break3In"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-green-600 mb-1",children:e.jsx("strong",{children:"Device 4"})}),e.jsxs("div",{className:"ml-4 space-y-1 text-green-600",children:[e.jsx("div",{children:"First Flag for BreakIn = Break1In"}),e.jsx("div",{children:"Second Flag for BreakIn = Break2In"}),e.jsx("div",{children:"Third Flag for BreakIn = Break3In"}),e.jsx("div",{children:"First Flag for BreakOut = Break1Out"}),e.jsx("div",{children:"Second Flag for BreakOut = Break2Out"}),e.jsx("div",{children:"Third Flag for BreakOut = Break3Out"})]})]}),e.jsx("div",{children:e.jsxs("div",{className:"text-green-600",children:[e.jsx("strong",{children:"Device 5"}),e.jsx("br",{}),"If there is First Flag of any Break before Any flag of In/Out, Flagging of In/Out will always be Out."]})}),e.jsx("div",{children:e.jsxs("div",{className:"text-green-600",children:[e.jsx("strong",{children:"Device 6"}),e.jsx("br",{}),"From Windows Validation."]})}),e.jsx("div",{children:e.jsxs("div",{className:"text-green-600",children:[e.jsx("strong",{children:"Device 7"}),e.jsx("br",{}),"All Logs that falls on 6:00am Current Date to 5:59am the next day will be paired to Current Date"]})}),e.jsx("div",{children:e.jsxs("div",{className:"text-green-600",children:[e.jsx("strong",{children:"Device 8"}),e.jsx("br",{}),"24 Hours Pairing"]})}),e.jsx("div",{children:e.jsxs("div",{className:"text-green-600",children:[e.jsx("strong",{children:"Device 9"}),e.jsx("br",{}),"Standard pairing but First Time Out will pair"]})}),e.jsx("div",{children:e.jsxs("div",{className:"text-green-600",children:[e.jsx("strong",{children:"Device 10"}),e.jsx("br",{}),"First In of the current day and last out before first in of next day"]})})]})]})]}),r&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.3)"},onClick:()=>n(!1),children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl",onClick:lt=>lt.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"TKS Group"}),e.jsx("button",{onClick:()=>n(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 font-medium",children:"Search:"}),e.jsx("input",{type:"text",value:l,onChange:lt=>i(lt.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Search by code or description..."})]})}),e.jsx("div",{className:"px-6 py-4",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b-2 border-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Code",e.jsx("span",{className:"text-blue-600",children:""})]})}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Desc"})]})}),e.jsx("tbody",{children:[{code:"1",desc:"Batangas1 Balagtas Monthly Payroll"},{code:"10",desc:"Batangas Monthly Cash Payroll with Paycard"},{code:"100",desc:""},{code:"101",desc:"Main Batangas Daily"},{code:"102",desc:"Main Batangas Daily with Paycard"},{code:"103",desc:"Main Batangas Monthly"},{code:"104",desc:"Main Batangas Monthly with Paycard"},{code:"105",desc:"Nueva Ecija Monthly Payroll"},{code:"106",desc:"Nueva Ecija Daily Payroll"},{code:"107",desc:"Nueva Ecija Monthly Cash Payroll"}].filter(lt=>l===""||lt.code.toLowerCase().includes(l.toLowerCase())||lt.desc.toLowerCase().includes(l.toLowerCase())).map((lt,Ws)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer transition-colors ${Ws%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{x(lt.code),m(lt.desc),n(!1)},children:[e.jsx("td",{className:"py-2 text-gray-800",children:lt.code}),e.jsx("td",{className:"py-2 text-gray-800",children:lt.desc})]},lt.code))})]})}),e.jsxs("div",{className:"px-6 py-3 border-t border-gray-200 flex items-center justify-center gap-2",children:[e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:"1"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"2"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"3"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"4"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"5"}),e.jsx("span",{className:"px-2 text-gray-500",children:"..."}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"12"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"Next"})]}),e.jsx("div",{className:"px-6 py-4 border-t border-gray-200",children:e.jsx("button",{onClick:()=>n(!1),className:"px-6 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition-colors",children:"Close"})})]})}),b&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.3)"},onClick:()=>f(!1),children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl",onClick:lt=>lt.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Search"}),e.jsx("button",{onClick:()=>f(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Payroll Location"}),e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:N,onChange:lt=>p(lt.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""})]})]}),e.jsx("div",{className:"px-6 py-4",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b-2 border-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Code",e.jsx("span",{className:"text-blue-600",children:""})]})}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Description"})]})}),e.jsx("tbody",{children:[{code:"1",desc:"Batangas Balagtas Monthly Payroll"},{code:"2",desc:"Batangas Balagtas Satellite Monthly Cash"},{code:"3",desc:"Batangas Cavite Satellite Daily Cash"},{code:"4",desc:"Batangas Cavite Satellie Monthly Cash"},{code:"5",desc:"Batangas Cavite Satellite"},{code:"6",desc:"Batangas Daily"},{code:"7",desc:"Batangas Daily Cash Payroll with Paycard"},{code:"8",desc:"Batangas Employees with the same employee number"},{code:"9",desc:"Batangas Monthly Cash 2"},{code:"10",desc:"Batangas Monthly Cash Payroll with Paycard"}].filter(lt=>N===""||lt.code.toLowerCase().includes(N.toLowerCase())||lt.desc.toLowerCase().includes(N.toLowerCase())).map((lt,Ws)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer transition-colors ${Ws%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{y(lt.code),j(lt.desc),f(!1)},children:[e.jsx("td",{className:"py-2 text-gray-800",children:lt.code}),e.jsx("td",{className:"py-2 text-gray-800",children:lt.desc})]},lt.code))})]})}),e.jsx("div",{className:"px-6 py-3 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Showing 1 to 10 of 115 entries"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:"1"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"2"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"3"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"4"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"5"}),e.jsx("span",{className:"px-2 text-gray-500",children:"..."}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"12"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"Next"})]})]})})]})}),se&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.3)"},onClick:()=>le(!1),children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl",onClick:lt=>lt.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Select Code"}),e.jsx("button",{onClick:()=>le(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:pe,onChange:lt=>U(lt.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""})]})}),e.jsx("div",{className:"px-6 py-4",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b-2 border-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Code",e.jsx("span",{className:"text-blue-600",children:""})]})}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Description"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Monday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Tuesday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Wednesday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Thursday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Friday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Saturday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Sunday"})]})}),e.jsx("tbody",{children:["ABSENT"].filter(lt=>lt.toLowerCase().includes(pe.toLowerCase())).map((lt,Ws)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer transition-colors ${Ws%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{Ut(lt),le(!1)},children:[e.jsx("td",{className:"py-2 text-gray-800",children:lt}),e.jsx("td",{className:"py-2 text-gray-800",children:lt}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"})]},Ws))})]})}),e.jsx("div",{className:"px-6 py-3 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:"1"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"Next"})]})})]})}),Y&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.3)"},onClick:()=>W(!1),children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl",onClick:lt=>lt.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Select Code"}),e.jsx("button",{onClick:()=>W(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:re,onChange:lt=>G(lt.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""})]})}),e.jsx("div",{className:"px-6 py-4",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b-2 border-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Code",e.jsx("span",{className:"text-blue-600",children:""})]})}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Description"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Monday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Tuesday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Wednesday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Thursday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Friday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Saturday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Sunday"})]})}),e.jsx("tbody",{children:["NOLOGIN"].filter(lt=>lt.toLowerCase().includes(re.toLowerCase())).map((lt,Ws)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer transition-colors ${Ws%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{Na(lt),W(!1)},children:[e.jsx("td",{className:"py-2 text-gray-800",children:lt}),e.jsx("td",{className:"py-2 text-gray-800",children:lt}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"})]},Ws))})]})}),e.jsx("div",{className:"px-6 py-3 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:"1"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"Next"})]})})]})}),R&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.3)"},onClick:()=>F(!1),children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl",onClick:lt=>lt.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Select Code"}),e.jsx("button",{onClick:()=>F(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:A,onChange:lt=>H(lt.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""})]})}),e.jsx("div",{className:"px-6 py-4",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b-2 border-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Code",e.jsx("span",{className:"text-blue-600",children:""})]})}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Description"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Monday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Tuesday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Wednesday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Thursday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Friday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Saturday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Sunday"})]})}),e.jsx("tbody",{children:["NOLOGOUT"].filter(lt=>lt.toLowerCase().includes(A.toLowerCase())).map((lt,Ws)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer transition-colors ${Ws%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{ma(lt),F(!1)},children:[e.jsx("td",{className:"py-2 text-gray-800",children:lt}),e.jsx("td",{className:"py-2 text-gray-800",children:lt}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"})]},Ws))})]})}),e.jsx("div",{className:"px-6 py-3 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:"1"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"Next"})]})})]})}),D&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.3)"},onClick:()=>_(!1),children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl",onClick:lt=>lt.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"TKS Group"}),e.jsx("button",{onClick:()=>_(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:xe,onChange:lt=>ge(lt.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""})]})}),e.jsx("div",{className:"px-6 py-4",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b-2 border-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Code",e.jsx("span",{className:"text-blue-600",children:""})]})}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Desc"})]})}),e.jsx("tbody",{children:[{code:"1",desc:"Batangas1 Balagtas Monthly Payroll"},{code:"10",desc:"Batangas Monthly Cash Payroll with Paycard"},{code:"100",desc:"Main Batangas Monthly"},{code:"101",desc:"Main Batangas Daily"},{code:"102",desc:"Main Batangas Daily with Paycard"},{code:"103",desc:"Main Batangas Monthly"},{code:"104",desc:"Main Batangas Monthly with Paycard"},{code:"105",desc:"Nueva Ecija Monthly Payroll"},{code:"106",desc:"Nueva Ecija Daily Payroll"},{code:"107",desc:"Nueva Ecija Monthly Cash Payroll"}].filter(lt=>xe===""||lt.code.toLowerCase().includes(xe.toLowerCase())||lt.desc.toLowerCase().includes(xe.toLowerCase())).map((lt,Ws)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer transition-colors ${Ws%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{Q(lt.code),_(!1)},children:[e.jsx("td",{className:"py-2 text-gray-800",children:lt.code}),e.jsx("td",{className:"py-2 text-gray-800",children:lt.desc})]},lt.code))})]})}),e.jsx("div",{className:"px-6 py-3 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:"1"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"2"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"3"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"4"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"5"}),e.jsx("span",{className:"px-2 text-gray-500",children:"..."}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"12"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"Next"})]})})]})}),Ne&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.3)"},onClick:()=>Ce(!1),children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl",onClick:lt=>lt.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Search"}),e.jsx("button",{onClick:()=>Ce(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Overtime Code"}),e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:fe,onChange:lt=>ue(lt.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""})]})]}),e.jsx("div",{className:"px-6 py-4",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b-2 border-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Code",e.jsx("span",{className:"text-blue-600",children:""})]})}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Description"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Rate"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Default Amount"})]})}),e.jsx("tbody",{children:[{code:"ADJ_PAY",desc:"Adjustment",rate:"100.00",defaultAmount:"0.00"},{code:"ATESTOT1",desc:"TEST OT 11",rate:"123.00",defaultAmount:"0.00"},{code:"BASC_RATE",desc:"Basic Rate",rate:"100.00",defaultAmount:"0.00"},{code:"HOLIDAY",desc:"Unworked Holiday Pay",rate:"100.00",defaultAmount:"0.00"},{code:"HOLMON",desc:"Holiday Monthly",rate:"0.00",defaultAmount:"0.00"},{code:"ND_BASIC",desc:"Night Differential Basic Rate",rate:"10.00",defaultAmount:"0.00"},{code:"ND_LHF8",desc:"ND Legal Holiday First 8 Hours",rate:"20.00",defaultAmount:"0.00"},{code:"ND_LHRDF8",desc:"ND Legal Holiday falls on Rest Day First 8 Hours",rate:"26.00",defaultAmount:"0.00"},{code:"ND_LHRDX8",desc:"ND Legal Holiday falls on Rest Day Excess of 8 Hours",rate:"33.80",defaultAmount:"0.00"},{code:"ND_LHX8",desc:"ND Legal Holiday Excess of 8 Hours",rate:"26.00",defaultAmount:"0.00"}].filter(lt=>fe===""||lt.code.toLowerCase().includes(fe.toLowerCase())||lt.desc.toLowerCase().includes(fe.toLowerCase())).map((lt,Ws)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer transition-colors ${Ws%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{Js(lt.code),Ce(!1)},children:[e.jsx("td",{className:"py-2 text-gray-800",children:lt.code}),e.jsx("td",{className:"py-2 text-gray-800",children:lt.desc}),e.jsx("td",{className:"py-2 text-gray-800",children:lt.rate}),e.jsx("td",{className:"py-2 text-gray-800",children:lt.defaultAmount})]},lt.code))})]})}),e.jsx("div",{className:"px-6 py-3 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Showing 1 to 10 of 68 entries"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:"1"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"2"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"3"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"4"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"5"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"6"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"7"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"Next"})]})]})})]})})]})}),e.jsx(Zt,{})]})}const dm="/Fs/Process/Device/BorrowedDeviceName";function hQ(){const[t,s]=o.useState(!1),[a,r]=o.useState(""),[n,l]=o.useState(!1),[i,d]=o.useState(null),[x,h]=o.useState(1),m=10,[b,f]=o.useState(""),[N,p]=o.useState(""),[v,y]=o.useState(null),[g,j]=o.useState(!1),[C,S]=o.useState([]),[P,k]=o.useState(!1),[E,M]=o.useState("");o.useEffect(()=>{L()},[]);const L=async()=>{k(!0),M("");try{const A=await ne.get(dm);A.status===200&&A.data&&S(A.data)}catch(A){const H=A.response?.data?.message||A.message||"Failed to load devices";M(H),console.error("Error fetching devices:",A)}finally{k(!1)}},[O,q]=o.useState({}),B=A=>O[A]===!0;o.useEffect(()=>{se()},[]);const se=()=>{const A=localStorage.getItem("loginPayload");if(A)try{const _=(JSON.parse(A).permissions||[]).filter(ge=>rs(ge.formName)==="BorrowedDeviceNameSetUp"),xe={};_.forEach(ge=>{const Ne=rs(ge.accessTypeName);Ne&&(xe[Ne]=!0)}),q(xe)}catch(H){console.error("Error parsing or decrypting payload",H)}};o.useEffect(()=>{const A=H=>{H.key==="Escape"&&t&&s(!1)};return t&&document.addEventListener("keydown",A),()=>{document.removeEventListener("keydown",A)}},[t]);const le=()=>{l(!1),d(null),y(null),f(""),p(""),s(!0)},pe=(A,H)=>{l(!0),d(H),y(A.id),f(A.code),p(A.description),s(!0)},U=async A=>{if((await ee.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete device ${A.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ne.delete(`${dm}/${A.id}`),await ee.fire({icon:"success",title:"Success",text:"Device deleted successfully.",timer:2e3,showConfirmButton:!1}),await L()}catch(D){const _=D.response?.data?.message||D.message||"Failed to delete device";await ee.fire({icon:"error",title:"Error",text:_}),console.error("Error deleting device:",D)}},Y=async()=>{if(!b.trim()){await ee.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(C.some((H,D)=>n&&i===D?!1:H.code.toLowerCase()===b.trim().toLowerCase())){await ee.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}j(!0);try{const H={id:n&&v?v:0,code:b,description:N};n&&v?(await ne.put(`${dm}/${v}`,H),await ee.fire({icon:"success",title:"Success",text:"Device updated successfully.",timer:2e3,showConfirmButton:!1}),await L()):(await ne.post(dm,H),await ee.fire({icon:"success",title:"Success",text:"Device created successfully.",timer:2e3,showConfirmButton:!1}),await L()),s(!1),f(""),p(""),y(null),l(!1),d(null)}catch(H){const D=H.response?.data?.message||H.message||"An error occurred";await ee.fire({icon:"error",title:"Error",text:D}),console.error("Error submitting form:",H)}finally{j(!1)}},W=C.filter(A=>A.code.toLowerCase().includes(a.toLowerCase())||A.description.toLowerCase().includes(a.toLowerCase())),re=Math.ceil(W.length/m),G=(x-1)*m,R=G+m,F=W.slice(G,R);return o.useEffect(()=>{h(1)},[a]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Borrowed Device Name"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Manage borrowed biometric devices used temporarily across different locations. Track device codes and maintain descriptions for loaned equipment to ensure proper time log attribution."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device tracking"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Location flexibility"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Quick device lookup"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Temporary assignments"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[B("Add")&&B("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:le,children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),B("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:a,onChange:A=>r(A.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:P?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading devices..."})}):E?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:E})}):B("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),(B("Edit")||B("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:F.length>0?F.map((A,H)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:A.code}),e.jsx("td",{className:"px-4 py-2",children:A.description}),(B("Edit")||B("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[B("Edit")&&e.jsx("button",{onClick:()=>pe(A,H),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),B("Edit")&&B("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),B("Delete")&&e.jsx("button",{onClick:()=>U(A),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},A.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),B("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",W.length===0?0:G+1," to ",Math.min(R,W.length)," of ",W.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(A=>Math.max(A-1,1)),disabled:x===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:re},(A,H)=>H+1).map(A=>e.jsx("button",{onClick:()=>h(A),className:`px-3 py-1 rounded transition-colors ${x===A?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:A},A)),e.jsx("button",{onClick:()=>h(A=>Math.min(A+1,re)),disabled:x===re||re===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>s(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Device":"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Borrowed Device Name"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:b,onChange:A=>f(A.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:N,onChange:A=>p(A.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:Y,disabled:g,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:g?"Saving...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),disabled:g,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]})]})]})}),e.jsx(Zt,{}),e.jsx("style",{children:`
        @keyframes blob {
          0% {
            transform: translate(0px, 0px) scale(1);
          }
          33% {
            transform: translate(30px, -50px) scale(1.1);
          }
          66% {
            transform: translate(-20px, 20px) scale(0.9);
          }
          100% {
            transform: translate(0px, 0px) scale(1);
          }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `})]})}function mQ(){const[t,s]=o.useState(""),[a,r]=o.useState(!1),[n,l]=o.useState(!1),[i,d]=o.useState(1),[x,h]=o.useState(null),[m,b]=o.useState(!1),[f,N]=o.useState({flagCode:"",timeIn:"",timeOut:"",break1Out:"",break1In:"",break2Out:"",break2In:"",break3Out:"",break3In:""}),[p,v]=o.useState([]),[y,g]=o.useState(!1),[j,C]=o.useState(""),S=10,[P,k]=o.useState({}),E=G=>P[G]===!0;o.useEffect(()=>{M()},[]);const M=()=>{const G=localStorage.getItem("loginPayload");if(G)try{const A=(JSON.parse(G).permissions||[]).filter(D=>rs(D.formName)==="DTRFlagSetup"),H={};A.forEach(D=>{const _=rs(D.accessTypeName);_&&(H[_]=!0)}),k(H)}catch(R){console.error("Error parsing or decrypting payload",R)}};o.useEffect(()=>{L()},[]);const L=async()=>{g(!0),C("");try{const G=await ne.get("/Fs/Process/Device/DTRFlagSetUp");G.status===200&&G.data&&v(G.data)}catch(G){const R=G.response?.data?.message||G.message||"Failed to load DTR flags";C(R),console.error("Error fetching DTR flags:",G)}finally{g(!1)}},O=p.filter(G=>G.flagCode?.toLowerCase().includes(t.toLowerCase())||G.timeIn?.toLowerCase().includes(t.toLowerCase())||G.timeOut?.toLowerCase().includes(t.toLowerCase())||G.break1Out?.toLowerCase().includes(t.toLowerCase())||G.break1In?.toLowerCase().includes(t.toLowerCase())||G.break2Out?.toLowerCase().includes(t.toLowerCase())||G.break2In?.toLowerCase().includes(t.toLowerCase())||G.break3Out?.toLowerCase().includes(t.toLowerCase())||G.break3In?.toLowerCase().includes(t.toLowerCase())),q=Math.ceil(O.length/S),B=(i-1)*S,se=O.slice(B,B+S),le=()=>{N({flagCode:"",timeIn:"",timeOut:"",break1Out:"",break1In:"",break2Out:"",break2In:"",break3Out:"",break3In:""}),r(!0)},pe=G=>{h(G),N({flagCode:G.flagCode,timeIn:G.timeIn,timeOut:G.timeOut,break1Out:G.break1Out,break1In:G.break1In,break2Out:G.break2Out,break2In:G.break2In,break3Out:G.break3Out,break3In:G.break3In}),l(!0)},U=async G=>{if((await ee.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete DTR flag "${G.flagCode}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ne.delete(`/Fs/Process/Device/DTRFlagSetUp/${G.id}`),await ee.fire({icon:"success",title:"Success",text:"DTR flag deleted successfully.",timer:2e3,showConfirmButton:!1}),await L()}catch(F){const A=F.response?.data?.message||F.message||"Failed to delete DTR flag";await ee.fire({icon:"error",title:"Error",text:A}),console.error("Error deleting DTR flag:",F)}},Y=async G=>{if(G.preventDefault(),!f.flagCode.trim()){await ee.fire({icon:"warning",title:"Validation Error",text:"Flag Code is required."});return}if(p.some(F=>F.flagCode.toLowerCase()===f.flagCode.trim().toLowerCase())){await ee.fire({icon:"error",title:"Duplicate Flag Code",text:"This flag code is already in use. Please use a different code."});return}b(!0);try{const F={id:0,flagCode:f.flagCode,timeIn:f.timeIn,timeOut:f.timeOut,break1Out:f.break1Out,break1In:f.break1In,break2Out:f.break2Out,break2In:f.break2In,break3Out:f.break3Out,break3In:f.break3In};await ne.post("/Fs/Process/Device/DTRFlagSetUp",F),await ee.fire({icon:"success",title:"Success",text:"DTR flag created successfully.",timer:2e3,showConfirmButton:!1}),await L(),r(!1)}catch(F){const A=F.response?.data?.message||F.message||"An error occurred";await ee.fire({icon:"error",title:"Error",text:A}),console.error("Error creating DTR flag:",F)}finally{b(!1)}},W=async G=>{if(G.preventDefault(),!x)return;if(!f.flagCode.trim()){await ee.fire({icon:"warning",title:"Validation Error",text:"Flag Code is required."});return}if(p.some(F=>F.id!==x.id&&F.flagCode.toLowerCase()===f.flagCode.trim().toLowerCase())){await ee.fire({icon:"error",title:"Duplicate Flag Code",text:"This flag code is already in use. Please use a different code."});return}b(!0);try{const F={id:x.id,flagCode:f.flagCode,timeIn:f.timeIn,timeOut:f.timeOut,break1Out:f.break1Out,break1In:f.break1In,break2Out:f.break2Out,break2In:f.break2In,break3Out:f.break3Out,break3In:f.break3In};await ne.put(`/Fs/Process/Device/DTRFlagSetUp/${x.id}`,F),await ee.fire({icon:"success",title:"Success",text:"DTR flag updated successfully.",timer:2e3,showConfirmButton:!1}),await L(),l(!1),h(null)}catch(F){const A=F.response?.data?.message||F.message||"An error occurred";await ee.fire({icon:"error",title:"Error",text:A}),console.error("Error updating DTR flag:",F)}finally{b(!1)}},re=()=>{r(!1),l(!1),h(null)};return o.useEffect(()=>{const G=R=>{R.key==="Escape"&&(a?r(!1):n&&(l(!1),h(null)))};return(a||n)&&document.addEventListener("keydown",G),()=>{document.removeEventListener("keydown",G)}},[a,n]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"DTR Flag Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure DTR (Daily Time Record) flag codes that identify different types of attendance transactions. Map flag values from biometric devices to corresponding time log actions like clock-in, clock-out, and break periods."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Transaction identification"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Break time tracking"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Multi-flag support"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device compatibility"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4 flex-wrap",children:[E("Add")&&E("View")&&e.jsxs("button",{onClick:le,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),E("View")&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:t,onChange:G=>{s(G.target.value),d(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden overflow-x-auto",children:y?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading DTR flags..."})}):j?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:j})}):E("View")?e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase whitespace-nowrap",children:"Flag Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase whitespace-nowrap",children:"Time In"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase whitespace-nowrap",children:"Time Out"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase whitespace-nowrap",children:"Break1 Out"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase whitespace-nowrap",children:"Break1 In"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase whitespace-nowrap",children:"Break2 Out"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase whitespace-nowrap",children:"Break2 In"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase whitespace-nowrap",children:"Break3 Out"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase whitespace-nowrap",children:"Break3 In"}),(E("Edit")||E("Delete"))&&e.jsx("th",{className:"px-6 py-3 text-center text-xs text-gray-600 uppercase whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:se.length>0?se.map(G=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 whitespace-nowrap",children:G.flagCode}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 whitespace-nowrap",children:G.timeIn}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 whitespace-nowrap",children:G.timeOut}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 whitespace-nowrap",children:G.break1Out}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 whitespace-nowrap",children:G.break1In}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 whitespace-nowrap",children:G.break2Out}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 whitespace-nowrap",children:G.break2In}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 whitespace-nowrap",children:G.break3Out}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 whitespace-nowrap",children:G.break3In}),(E("Edit")||E("Delete"))&&e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[E("Edit")&&e.jsx("button",{onClick:()=>pe(G),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),E("Edit")&&E("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),E("Delete")&&e.jsx("button",{onClick:()=>U(G),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},G.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:10,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),E("View")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",O.length>0?B+1:0," to ",Math.min(B+S,O.length)," of ",O.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>d(G=>Math.max(1,G-1)),disabled:i===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:q},(G,R)=>R+1).map(G=>e.jsx("button",{onClick:()=>d(G),className:`px-3 py-1 rounded transition-colors ${i===G?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:G},G)),e.jsx("button",{onClick:()=>d(G=>Math.min(q||1,G+1)),disabled:i>=q||O.length===0,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})]})}),a&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0",children:[e.jsx("h2",{className:"text-gray-900",children:"Create New"}),e.jsx("button",{onClick:re,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:Y,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"DTR Flag Setup"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Flag Code :"}),e.jsx("input",{type:"text",value:f.flagCode,maxLength:10,onChange:G=>N({...f,flagCode:G.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Time In :"}),e.jsx("input",{type:"text",value:f.timeIn,onChange:G=>N({...f,timeIn:G.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Time Out :"}),e.jsx("input",{type:"text",value:f.timeOut,onChange:G=>N({...f,timeOut:G.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Break1 Out :"}),e.jsx("input",{type:"text",value:f.break1Out,onChange:G=>N({...f,break1Out:G.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Break1 In :"}),e.jsx("input",{type:"text",value:f.break1In,onChange:G=>N({...f,break1In:G.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Break2 Out :"}),e.jsx("input",{type:"text",value:f.break2Out,onChange:G=>N({...f,break2Out:G.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Break2 In :"}),e.jsx("input",{type:"text",value:f.break2In,onChange:G=>N({...f,break2In:G.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Break3 Out :"}),e.jsx("input",{type:"text",value:f.break3Out,onChange:G=>N({...f,break3Out:G.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Break3 In :"}),e.jsx("input",{type:"text",value:f.break3In,onChange:G=>N({...f,break3In:G.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:m,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:m?"Submitting...":"Submit"}),e.jsx("button",{type:"button",onClick:re,disabled:m,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),n&&x&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0",children:[e.jsx("h2",{className:"text-gray-900",children:"Edit DTR Flag"}),e.jsx("button",{onClick:re,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:W,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"DTR Flag Setup"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Flag Code :"}),e.jsx("input",{type:"text",value:f.flagCode,maxLength:10,onChange:G=>N({...f,flagCode:G.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Time In :"}),e.jsx("input",{type:"text",value:f.timeIn,onChange:G=>N({...f,timeIn:G.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Time Out :"}),e.jsx("input",{type:"text",value:f.timeOut,onChange:G=>N({...f,timeOut:G.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Break1 Out :"}),e.jsx("input",{type:"text",value:f.break1Out,onChange:G=>N({...f,break1Out:G.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Break1 In :"}),e.jsx("input",{type:"text",value:f.break1In,onChange:G=>N({...f,break1In:G.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Break2 Out :"}),e.jsx("input",{type:"text",value:f.break2Out,onChange:G=>N({...f,break2Out:G.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Break2 In :"}),e.jsx("input",{type:"text",value:f.break2In,onChange:G=>N({...f,break2In:G.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Break3 Out :"}),e.jsx("input",{type:"text",value:f.break3Out,onChange:G=>N({...f,break3Out:G.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Break3 In :"}),e.jsx("input",{type:"text",value:f.break3In,onChange:G=>N({...f,break3In:G.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:m,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:m?"Updating...":"Update"}),e.jsx("button",{type:"button",onClick:re,disabled:m,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),e.jsx(Zt,{})]})}function pQ(){const[t,s]=o.useState(""),[a,r]=o.useState(!1),[n,l]=o.useState(!1),[i,d]=o.useState(1),[x,h]=o.useState(null),[m,b]=o.useState(!1),[f,N]=o.useState({code:"",description:"",deviceType:"Excel File",deviceFormat:"Excel Format",flagCode:"",dateFormat:"MM DD YYYY",dateSeparator:"/",empCodePos:0,empCodeNoOfChar:0,datePos:0,dateNoOfChar:0,timePos:0,timeNoOfChar:0,flagPos:0,flagNoOfChar:0,terminalPos:0,terminalNoOfChar:0,monthPos:0,monthNoOfChar:0,dayPos:0,dayNoOfChar:0,yearPos:0,yearNoOfChar:0,hourPos:0,hourNoOfChar:0,minutesPos:0,minutesNoOfChar:0,timePeriodPos:0,timePeriodNoOfChar:0,combineDateTime:!0,identifierPos:0,identifierNoOfChar:0}),[p,v]=o.useState([]),[y,g]=o.useState(!1),[j,C]=o.useState(""),S=10,[P,k]=o.useState({}),E=A=>P[A]===!0;o.useEffect(()=>{M()},[]);const M=()=>{const A=localStorage.getItem("loginPayload");if(A)try{const _=(JSON.parse(A).permissions||[]).filter(ge=>rs(ge.formName)==="DTRLogFieldsSetup"),xe={};_.forEach(ge=>{const Ne=rs(ge.accessTypeName);Ne&&(xe[Ne]=!0)}),k(xe)}catch(H){console.error("Error parsing or decrypting payload",H)}};o.useEffect(()=>{L()},[]);const L=async()=>{g(!0),C("");try{const A=await ne.get("/Fs/Process/Device/DTRLogFIeldsSetUp");A.status===200&&A.data&&v(A.data)}catch(A){const H=A.response?.data?.message||A.message||"Failed to load DTR log fields";C(H),console.error("Error fetching DTR log fields:",A)}finally{g(!1)}},O=p.filter(A=>A.code.toLowerCase().includes(t.toLowerCase())||A.description.toLowerCase().includes(t.toLowerCase())||A.deviceType.toLowerCase().includes(t.toLowerCase())||A.deviceFormat.toLowerCase().includes(t.toLowerCase())||A.flagCode.toLowerCase().includes(t.toLowerCase())),q=Math.ceil(O.length/S),B=(i-1)*S,se=O.slice(B,B+S);o.useEffect(()=>{d(1)},[t]);const le=()=>{N({code:"",description:"",deviceType:"Excel File",deviceFormat:"Excel Format",flagCode:"",dateFormat:"MM DD YYYY",dateSeparator:"/",empCodePos:0,empCodeNoOfChar:0,datePos:0,dateNoOfChar:0,timePos:0,timeNoOfChar:0,flagPos:0,flagNoOfChar:0,terminalPos:0,terminalNoOfChar:0,monthPos:0,monthNoOfChar:0,dayPos:0,dayNoOfChar:0,yearPos:0,yearNoOfChar:0,hourPos:0,hourNoOfChar:0,minutesPos:0,minutesNoOfChar:0,timePeriodPos:0,timePeriodNoOfChar:0,combineDateTime:!0,identifierPos:0,identifierNoOfChar:0}),r(!0)},pe=A=>{h(A),N({code:A.code,description:A.description,deviceType:A.deviceType,deviceFormat:A.deviceFormat,flagCode:A.flagCode,dateFormat:A.dateFormat,dateSeparator:A.dateSeparator,empCodePos:A.empCodePos,empCodeNoOfChar:A.empCodeNoOfChar,datePos:A.datePos,dateNoOfChar:A.dateNoOfChar,timePos:A.timePos,timeNoOfChar:A.timeNoOfChar,flagPos:A.flagPos,flagNoOfChar:A.flagNoOfChar,terminalPos:A.terminalPos,terminalNoOfChar:A.terminalNoOfChar,monthPos:A.monthPos,monthNoOfChar:A.monthNoOfChar,dayPos:A.dayPos,dayNoOfChar:A.dayNoOfChar,yearPos:A.yearPos,yearNoOfChar:A.yearNoOfChar,hourPos:A.hourPos,hourNoOfChar:A.hourNoOfChar,minutesPos:A.minutesPos,minutesNoOfChar:A.minutesNoOfChar,timePeriodPos:A.timePeriodPos,timePeriodNoOfChar:A.timePeriodNoOfChar,combineDateTime:A.combineDateTime,identifierPos:A.identifierPos,identifierNoOfChar:A.identifierNoOfChar}),l(!0)},U=async A=>{if((await ee.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete DTR log field "${A.code}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ne.delete(`/Fs/Process/Device/DTRLogFIeldsSetUp/${A.id}`),await ee.fire({icon:"success",title:"Success",text:"DTR log field deleted successfully.",timer:2e3,showConfirmButton:!1}),await L()}catch(D){const _=D.response?.data?.message||D.message||"Failed to delete DTR log field";await ee.fire({icon:"error",title:"Error",text:_}),console.error("Error deleting DTR log field:",D)}},Y=async A=>{if(A.preventDefault(),!f.code.trim()){await ee.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(p.some(D=>D.code.toLowerCase()===f.code.trim().toLowerCase())){await ee.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}b(!0);try{const D={id:0,...f};await ne.post("/Fs/Process/Device/DTRLogFIeldsSetUp",D),await ee.fire({icon:"success",title:"Success",text:"DTR log field created successfully.",timer:2e3,showConfirmButton:!1}),await L(),r(!1)}catch(D){const _=D.response?.data?.message||D.message||"An error occurred";await ee.fire({icon:"error",title:"Error",text:_}),console.error("Error creating DTR log field:",D)}finally{b(!1)}},W=async A=>{if(A.preventDefault(),!x)return;if(!f.code.trim()){await ee.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(p.some(D=>D.id!==x.id&&D.code.toLowerCase()===f.code.trim().toLowerCase())){await ee.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}b(!0);try{const D={id:x.id,...f};await ne.put(`/Fs/Process/Device/DTRLogFIeldsSetUp/${x.id}`,D),await ee.fire({icon:"success",title:"Success",text:"DTR log field updated successfully.",timer:2e3,showConfirmButton:!1}),await L(),l(!1),h(null)}catch(D){const _=D.response?.data?.message||D.message||"An error occurred";await ee.fire({icon:"error",title:"Error",text:_}),console.error("Error updating DTR log field:",D)}finally{b(!1)}},re=()=>{r(!1),l(!1),h(null)};o.useEffect(()=>{const A=H=>{H.key==="Escape"&&(a?r(!1):n&&(l(!1),h(null)))};return(a||n)&&document.addEventListener("keydown",A),()=>{document.removeEventListener("keydown",A)}},[a,n]);const G=["Excel File","Text File","DAT File","CSV File"],R=["Excel Format","Comma Separated","Tab Delimited","Pipe Delimited"],F=["MM DD YYYY","DD MM YYYY","YYYY MM DD","MM/DD/YYYY","DD/MM/YYYY"];return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"DTR Log Fields Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure field mappings for importing DTR logs from various file formats. Define data positions, formats, and separators to ensure accurate parsing of employee attendance records from external sources."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Flexible import formats"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Custom field mapping"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Date format configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Multi-device support"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4 flex-wrap",children:[E("Add")&&E("View")&&e.jsxs("button",{onClick:le,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),E("View")&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:t,onChange:A=>s(A.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:y?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading DTR log fields..."})}):j?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:j})}):E("View")?e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Device Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Device Format"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Flag Code"}),(E("Edit")||E("Delete"))&&e.jsx("th",{className:"px-6 py-3 text-center text-xs text-gray-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:se.length>0?se.map(A=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:A.code}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:A.description}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:A.deviceType}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:A.deviceFormat}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:A.flagCode}),(E("Edit")||E("Delete"))&&e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[E("Edit")&&e.jsx("button",{onClick:()=>pe(A),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),E("Edit")&&E("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),E("Delete")&&e.jsx("button",{onClick:()=>U(A),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},A.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),E("View")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",O.length>0?B+1:0," to ",Math.min(B+S,O.length)," of ",O.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>d(A=>Math.max(1,A-1)),disabled:i===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:q},(A,H)=>H+1).map(A=>e.jsx("button",{onClick:()=>d(A),className:`px-3 py-1 rounded transition-colors ${i===A?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:A},A)),e.jsx("button",{onClick:()=>d(A=>Math.min(q||1,A+1)),disabled:i>=q||O.length===0,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})]})}),(a||n)&&e.jsx(fQ,{isEdit:n,formData:f,setFormData:N,onSubmit:n?W:Y,onClose:re,submitting:m,deviceTypes:G,deviceFormats:R,dateFormats:F}),e.jsx(Zt,{})]})}function fQ({isEdit:t,formData:s,setFormData:a,onSubmit:r,onClose:n,submitting:l,deviceTypes:i,deviceFormats:d,dateFormats:x}){return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-900",children:t?"Edit DTR Log Field":"Create New"}),e.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:r,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"DTR Log Fields Setup"}),e.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-32",children:"Code :"}),e.jsx("input",{type:"text",value:s.code,onChange:h=>a({...s,code:h.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-32",children:"Description :"}),e.jsx("input",{type:"text",value:s.description,onChange:h=>a({...s,description:h.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-32",children:"Flag Code :"}),e.jsx("input",{type:"text",value:s.flagCode,onChange:h=>a({...s,flagCode:h.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Device Type :"}),e.jsx("select",{value:s.deviceType,onChange:h=>a({...s,deviceType:h.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:i.map(h=>e.jsx("option",{value:h,children:h},h))})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Device Format :"}),e.jsx("select",{value:s.deviceFormat,onChange:h=>a({...s,deviceFormat:h.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:d.map(h=>e.jsx("option",{value:h,children:h},h))})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Date Format :"}),e.jsx("select",{value:s.dateFormat,onChange:h=>a({...s,dateFormat:h.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:x.map(h=>e.jsx("option",{value:h,children:h},h))})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Date Separator :"}),e.jsx("input",{type:"text",value:s.dateSeparator,onChange:h=>a({...s,dateSeparator:h.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Combine Date/Time :"}),e.jsx("input",{type:"checkbox",checked:s.combineDateTime,onChange:h=>a({...s,combineDateTime:h.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsx("h4",{className:"text-gray-700 mb-4 font-medium",children:"Field Positions & Character Counts"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"EmpCode Position"}),e.jsx("input",{type:"number",value:s.empCodePos,onChange:h=>a({...s,empCodePos:parseInt(h.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"EmpCode Chars"}),e.jsx("input",{type:"number",value:s.empCodeNoOfChar,onChange:h=>a({...s,empCodeNoOfChar:parseInt(h.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Date Position"}),e.jsx("input",{type:"number",value:s.datePos,onChange:h=>a({...s,datePos:parseInt(h.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Date Chars"}),e.jsx("input",{type:"number",value:s.dateNoOfChar,onChange:h=>a({...s,dateNoOfChar:parseInt(h.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Time Position"}),e.jsx("input",{type:"number",value:s.timePos,onChange:h=>a({...s,timePos:parseInt(h.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Time Chars"}),e.jsx("input",{type:"number",value:s.timeNoOfChar,onChange:h=>a({...s,timeNoOfChar:parseInt(h.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Month Position"}),e.jsx("input",{type:"number",value:s.monthPos,onChange:h=>a({...s,monthPos:parseInt(h.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Month Chars"}),e.jsx("input",{type:"number",value:s.monthNoOfChar,onChange:h=>a({...s,monthNoOfChar:parseInt(h.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Day Position"}),e.jsx("input",{type:"number",value:s.dayPos,onChange:h=>a({...s,dayPos:parseInt(h.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Day Chars"}),e.jsx("input",{type:"number",value:s.dayNoOfChar,onChange:h=>a({...s,dayNoOfChar:parseInt(h.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Year Position"}),e.jsx("input",{type:"number",value:s.yearPos,onChange:h=>a({...s,yearPos:parseInt(h.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Year Chars"}),e.jsx("input",{type:"number",value:s.yearNoOfChar,onChange:h=>a({...s,yearNoOfChar:parseInt(h.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Hour Position"}),e.jsx("input",{type:"number",value:s.hourPos,onChange:h=>a({...s,hourPos:parseInt(h.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Hour Chars"}),e.jsx("input",{type:"number",value:s.hourNoOfChar,onChange:h=>a({...s,hourNoOfChar:parseInt(h.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Minutes Position"}),e.jsx("input",{type:"number",value:s.minutesPos,onChange:h=>a({...s,minutesPos:parseInt(h.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Minutes Chars"}),e.jsx("input",{type:"number",value:s.minutesNoOfChar,onChange:h=>a({...s,minutesNoOfChar:parseInt(h.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Time Period Position"}),e.jsx("input",{type:"number",value:s.timePeriodPos,onChange:h=>a({...s,timePeriodPos:parseInt(h.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Time Period Chars"}),e.jsx("input",{type:"number",value:s.timePeriodNoOfChar,onChange:h=>a({...s,timePeriodNoOfChar:parseInt(h.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Flag Position"}),e.jsx("input",{type:"number",value:s.flagPos,onChange:h=>a({...s,flagPos:parseInt(h.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Flag Chars"}),e.jsx("input",{type:"number",value:s.flagNoOfChar,onChange:h=>a({...s,flagNoOfChar:parseInt(h.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Terminal Position"}),e.jsx("input",{type:"number",value:s.terminalPos,onChange:h=>a({...s,terminalPos:parseInt(h.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Terminal Chars"}),e.jsx("input",{type:"number",value:s.terminalNoOfChar,onChange:h=>a({...s,terminalNoOfChar:parseInt(h.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Identifier Position"}),e.jsx("input",{type:"number",value:s.identifierPos,onChange:h=>a({...s,identifierPos:parseInt(h.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Identifier Chars"}),e.jsx("input",{type:"number",value:s.identifierNoOfChar,onChange:h=>a({...s,identifierNoOfChar:parseInt(h.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:l,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:l?t?"Updating...":"Creating...":t?"Update":"Submit"}),e.jsx("button",{type:"button",onClick:n,disabled:l,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})}const gQ="/Fs/Process/Device/DeviceTypeSetUp",Iu="/Fs/Process/Device/DeviceTypeSetUp/DeviceType2";function yQ(){const[t,s]=o.useState(""),[a,r]=o.useState(1),[n,l]=o.useState("asc"),[i,d]=o.useState([]),[x,h]=o.useState(!1),[m,b]=o.useState(!1),[f,N]=o.useState(""),[p,v]=o.useState(null),y=25,[g,j]=o.useState({}),C=U=>g[U]===!0;o.useEffect(()=>{S()},[]);const S=()=>{const U=localStorage.getItem("loginPayload");if(U)try{const re=(JSON.parse(U).permissions||[]).filter(R=>rs(R.formName)==="DeviceTypeSetUp"),G={};re.forEach(R=>{const F=rs(R.accessTypeName);F&&(G[F]=!0)}),j(G)}catch(Y){console.error("Error parsing or decrypting payload",Y)}};o.useEffect(()=>{P()},[]);const P=async()=>{h(!0),N("");try{const U=await ne.get(gQ);if(U.status===200&&U.data){const Y=U.data.map((W,re)=>({id:re+1,deviceName:W.deviceName,isChecked:!1,deviceType2Id:null}));console.log("Fetched device types:",Y),d(Y),await k(Y)}}catch(U){const Y=U.response?.data?.message||U.message||"Failed to load device types";N(Y),console.error("Error fetching device types:",U)}finally{h(!1)}},k=async U=>{b(!0);try{const Y=await ne.get(Iu);if(Y.status===200&&Y.data){const W=new Map;Y.data.forEach(R=>{W.set(R.deviceName,R.id)}),console.log("Active devices map:",Object.fromEntries(W));const G=(U||i).map(R=>({...R,isChecked:W.has(R.deviceName),deviceType2Id:W.get(R.deviceName)||null}));console.log("Updated devices with active status"),d(G)}}catch(Y){console.error("Error fetching active devices:",Y)}finally{b(!1)}},E=async(U,Y)=>{if(console.log("handleToggleDevice called with:",{deviceId:U,deviceName:Y}),p!==null){console.log("Already processing, skipping...");return}const W=i.findIndex(G=>G.deviceName===Y);if(W===-1){console.error("Device not found with deviceName:",Y);return}const re=i[W];console.log("Found device at index",W,":",{id:re.id,deviceName:re.deviceName,isChecked:re.isChecked,deviceType2Id:re.deviceType2Id}),v(U);try{if(re.isChecked&&re.deviceType2Id){console.log("Deleting active device:",{deviceType2Id:re.deviceType2Id,deviceName:re.deviceName});const G=`${Iu}/${re.deviceType2Id}`;console.log("DELETE URL:",G),await ne.delete(G),d(R=>{const F=R.findIndex(H=>H.deviceName===Y);if(F===-1)return R;const A=[...R];return A[F]={...A[F],isChecked:!1,deviceType2Id:null},console.log("Updated device to unchecked:",A[F]),A})}else{const G={id:0,deviceName:re.deviceName};console.log("POST payload:",G);const R=await ne.post(Iu,G);console.log("POST response:",R.data);const F=R.data?.id||null;console.log("New DeviceType2 ID:",F),d(A=>{const H=A.findIndex(_=>_.deviceName===Y);if(H===-1)return A;const D=[...A];return D[H]={...D[H],isChecked:!0,deviceType2Id:F},console.log("Updated device to checked:",D[H]),D}),await k()}}catch(G){const R=G.response?.data?.message||G.message||"Failed to update device";await ee.fire({icon:"error",title:"Error",text:R}),console.error("Error toggling device:",G),await k()}finally{v(null)}},M=async()=>{if(p!==null)return;const U=se.every(W=>W.isChecked),Y=se;v(-1);try{if(U){for(const W of Y)if(W.deviceType2Id){console.log("Deleting active device with ID:",W.deviceType2Id);try{await ne.delete(`${Iu}/${W.deviceType2Id}`),d(re=>{const G=re.findIndex(F=>F.deviceName===W.deviceName);if(G===-1)return re;const R=[...re];return R[G]={...R[G],isChecked:!1,deviceType2Id:null},R})}catch(re){console.error(`Failed to delete device ${W.deviceName}:`,re)}}}else{for(const W of Y)if(!W.isChecked)try{const re={id:0,deviceName:W.deviceName},R=(await ne.post(Iu,re)).data?.id||null;d(F=>{const A=F.findIndex(D=>D.deviceName===W.deviceName);if(A===-1)return F;const H=[...F];return H[A]={...H[A],isChecked:!0,deviceType2Id:R},H})}catch(re){console.error(`Failed to add device ${W.deviceName}:`,re)}await k()}}catch(W){const re=W.response?.data?.message||W.message||"Failed to update devices";await ee.fire({icon:"error",title:"Error",text:re}),console.error("Error toggling all devices:",W),await k()}finally{v(null)}},O=[...i.filter(U=>U.deviceName.toLowerCase().includes(t.toLowerCase()))].sort((U,Y)=>n==="asc"?U.deviceName.localeCompare(Y.deviceName):Y.deviceName.localeCompare(U.deviceName)),q=Math.ceil(O.length/y),B=(a-1)*y,se=O.slice(B,B+y),le=()=>{l(U=>U==="asc"?"desc":"asc")},pe=se.length>0&&se.every(U=>U.isChecked);return o.useEffect(()=>{r(1)},[t]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Device Type Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Manage biometric device types and models used throughout your organization. Configure device classifications for proper integration with different hardware manufacturers and attendance capture systems."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Multi-vendor support"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device classification"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Hardware compatibility"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Centralized configuration"})]})]})]})]})}),e.jsx("div",{className:"flex items-center justify-end mb-6",children:C("View")&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:t,onChange:U=>s(U.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})}),e.jsx("div",{className:"overflow-x-auto",children:x||m?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading device types..."})}):f?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:f})}):C("View")?e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left w-12",children:e.jsx("input",{type:"checkbox",checked:pe,onChange:M,disabled:p!==null,className:"w-4 h-4 text-blue-600 rounded border-gray-300 focus:ring-2 focus:ring-blue-500 cursor-pointer disabled:opacity-50"})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase cursor-pointer hover:text-gray-900 select-none",onClick:le,children:e.jsxs("div",{className:"flex items-center gap-2",children:["DeviceName",e.jsx("span",{className:"text-gray-400",children:n==="asc"?"":""})]})})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:se.length>0?se.map(U=>e.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${U.isChecked?"bg-blue-50":""} ${p===U.id?"opacity-50":""}`,children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{type:"checkbox",checked:U.isChecked,onChange:Y=>{Y.stopPropagation(),E(U.id,U.deviceName)},disabled:p!==null,className:"w-4 h-4 text-blue-600 rounded border-gray-300 focus:ring-2 focus:ring-blue-500 cursor-pointer disabled:opacity-50"})}),e.jsx("td",{className:`px-6 py-4 text-sm cursor-pointer ${U.isChecked?"text-blue-700":"text-gray-900"}`,onClick:()=>E(U.id,U.deviceName),children:U.deviceName})]},U.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]})}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),C("View")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",O.length>0?B+1:0," to ",Math.min(B+y,O.length)," of ",O.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>r(U=>Math.max(1,U-1)),disabled:a===1,className:"px-4 py-2 text-blue-600 hover:text-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:q},(U,Y)=>Y+1).map(U=>e.jsx("button",{className:`px-3 py-1 rounded ${a===U?"bg-blue-500 text-white":"text-blue-600 hover:bg-gray-100"}`,onClick:()=>r(U),children:U},U)),e.jsx("button",{onClick:()=>r(U=>Math.min(q||1,U+1)),disabled:a>=q||O.length===0,className:"px-4 py-2 text-blue-600 hover:text-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})}),e.jsx(Zt,{}),e.jsx("style",{children:`
        @keyframes blob {
          0% {
            transform: translate(0px, 0px) scale(1);
          }
          33% {
            transform: translate(30px, -50px) scale(1.1);
          }
          66% {
            transform: translate(-20px, 20px) scale(0.9);
          }
          100% {
            transform: translate(0px, 0px) scale(1);
          }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `})]})}const um="/Fs/Process/Device/CoordinatesSetUp";function bQ(){const[t,s]=o.useState(!1),[a,r]=o.useState(""),[n,l]=o.useState(!1),[i,d]=o.useState(null),[x,h]=o.useState(1),m=10,[b,f]=o.useState(""),[N,p]=o.useState(""),[v,y]=o.useState(""),[g,j]=o.useState(""),[C,S]=o.useState(""),[P,k]=o.useState(null),[E,M]=o.useState(!1),[L,O]=o.useState([]),[q,B]=o.useState(!1),[se,le]=o.useState("");o.useEffect(()=>{pe()},[]);const pe=async()=>{B(!0),le("");try{const Ne=await ne.get(um);Ne.status===200&&Ne.data&&O(Ne.data)}catch(Ne){const Ce=Ne.response?.data?.message||Ne.message||"Failed to load coordinates";le(Ce),console.error("Error fetching coordinates:",Ne)}finally{B(!1)}},[U,Y]=o.useState({}),W=Ne=>U[Ne]===!0;o.useEffect(()=>{re()},[]);const re=()=>{const Ne=localStorage.getItem("loginPayload");if(Ne)try{const ue=(JSON.parse(Ne).permissions||[]).filter(De=>rs(De.formName)==="CoordinatesSetUp"),Oe={};ue.forEach(De=>{const Ae=rs(De.accessTypeName);Ae&&(Oe[Ae]=!0)}),Y(Oe)}catch(Ce){console.error("Error parsing or decrypting payload",Ce)}};o.useEffect(()=>{const Ne=Ce=>{Ce.key==="Escape"&&t&&s(!1)};return t&&document.addEventListener("keydown",Ne),()=>{document.removeEventListener("keydown",Ne)}},[t]);const G=()=>{l(!1),d(null),k(null),f(""),p(""),y(""),j(""),S(""),s(!0)},R=(Ne,Ce)=>{l(!0),d(Ce),k(Ne.id),f(Ne.code),p(Ne.description),y(Ne.latitude.toString()),j(Ne.longitude.toString()),S(Ne.distance.toString()),s(!0)},F=async Ne=>{if((await ee.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete coordinate ${Ne.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ne.delete(`${um}/${Ne.id}`),await ee.fire({icon:"success",title:"Success",text:"Coordinate deleted successfully.",timer:2e3,showConfirmButton:!1}),await pe()}catch(fe){const ue=fe.response?.data?.message||fe.message||"Failed to delete coordinate";await ee.fire({icon:"error",title:"Error",text:ue}),console.error("Error deleting coordinate:",fe)}},A=async()=>{if(!b.trim()){await ee.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(L.some((Ce,fe)=>n&&i===fe?!1:Ce.code.toLowerCase()===b.trim().toLowerCase())){await ee.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}M(!0);try{const Ce={id:n&&P?P:0,code:b,description:N,latitude:parseFloat(v)||0,longitude:parseFloat(g)||0,distance:parseFloat(C)||0};n&&P?(await ne.put(`${um}/${P}`,Ce),await ee.fire({icon:"success",title:"Success",text:"Coordinate updated successfully.",timer:2e3,showConfirmButton:!1}),await pe()):(await ne.post(um,Ce),await ee.fire({icon:"success",title:"Success",text:"Coordinate created successfully.",timer:2e3,showConfirmButton:!1}),await pe()),s(!1),f(""),p(""),y(""),j(""),S(""),k(null),l(!1),d(null)}catch(Ce){const fe=Ce.response?.data?.message||Ce.message||"An error occurred";await ee.fire({icon:"error",title:"Error",text:fe}),console.error("Error submitting form:",Ce)}finally{M(!1)}},H=L.filter(Ne=>Ne.code.toLowerCase().includes(a.toLowerCase())||Ne.description.toLowerCase().includes(a.toLowerCase())||Ne.latitude.toString().includes(a.toLowerCase())||Ne.longitude.toString().includes(a.toLowerCase())||Ne.distance.toString().includes(a.toLowerCase())),D=Math.ceil(H.length/m),_=(x-1)*m,xe=_+m,ge=H.slice(_,xe);return o.useEffect(()=>{h(1)},[a]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Coordinates Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define geographic coordinates for workplace locations to enable location-based attendance tracking. Configure latitude and longitude parameters for geofencing and proximity validation."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"GPS-based validation"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Location boundaries"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Multiple work sites"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Geofencing support"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[W("Add")&&W("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:G,children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),W("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:a,onChange:Ne=>r(Ne.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:q?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading coordinates..."})}):se?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:se})}):W("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Latitude"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Longitude"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Distance"}),(W("Edit")||W("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:ge.length>0?ge.map((Ne,Ce)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:Ne.code}),e.jsx("td",{className:"px-4 py-2",children:Ne.description}),e.jsx("td",{className:"px-4 py-2",children:Ne.latitude}),e.jsx("td",{className:"px-4 py-2",children:Ne.longitude}),e.jsx("td",{className:"px-4 py-2",children:Ne.distance}),(W("Edit")||W("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[W("Edit")&&e.jsx("button",{onClick:()=>R(Ne,Ce),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),W("Edit")&&W("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),W("Delete")&&e.jsx("button",{onClick:()=>F(Ne),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},Ne.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),W("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",H.length===0?0:_+1," to ",Math.min(xe,H.length)," of ",H.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(Ne=>Math.max(Ne-1,1)),disabled:x===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:D},(Ne,Ce)=>Ce+1).map(Ne=>e.jsx("button",{onClick:()=>h(Ne),className:`px-3 py-1 rounded transition-colors ${x===Ne?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ne},Ne)),e.jsx("button",{onClick:()=>h(Ne=>Math.min(Ne+1,D)),disabled:x===D||D===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>s(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Coordinate":"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Coordinates Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:b,maxLength:10,onChange:Ne=>f(Ne.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:N,onChange:Ne=>p(Ne.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Latitude :"}),e.jsx("input",{type:"number",step:"any",value:v,onChange:Ne=>y(Ne.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Longitude :"}),e.jsx("input",{type:"number",step:"any",value:g,onChange:Ne=>j(Ne.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Distance :"}),e.jsx("input",{type:"number",step:"any",value:C,onChange:Ne=>S(Ne.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:A,disabled:E,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:E?"Saving...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),disabled:E,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]})]})]})}),e.jsx(Zt,{}),e.jsx("style",{children:`
        @keyframes blob {
          0% {
            transform: translate(0px, 0px) scale(1);
          }
          33% {
            transform: translate(30px, -50px) scale(1.1);
          }
          66% {
            transform: translate(-20px, 20px) scale(0.9);
          }
          100% {
            transform: translate(0px, 0px) scale(1);
          }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `})]})}function vQ({value:t,onChange:s,onClose:a,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&a()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[a]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,y=n.getFullYear(),g=`${v}/${p}/${y}`;s(g),a()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let g=x-1;g>=0;g--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-g},`prev-${g}`));for(let g=1;g<=d;g++)p.push(e.jsx("div",{onClick:()=>f(g),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:g},g));const y=42-p.length;for(let g=1;g<=y;g++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:g},`next-${g}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function wQ(){const[t,s]=o.useState(""),[a,r]=o.useState(!1),[n,l]=o.useState(!1),[i,d]=o.useState(!1),[x,h]=o.useState(1),[m,b]=o.useState(null),[f,N]=o.useState(""),[p,v]=o.useState(!1),[y,g]=o.useState({top:0,left:0}),[j,C]=o.useState("lastDateUpdated"),[S,P]=o.useState(!1),[k,E]=o.useState({description:"",server:"",databaseName:"",username:"",password:"",withDeviceCode:!1,lastDateUpdated:"",tableName:"",empCodeColumn:"",timeStampColumn:"",flagColumn:"",flagCode:"",automaticEmpCode:!1,empCodeTableName:"",empCodeColumnName:"",empCodeIDColumn:"",daysToDeduct:"",specificRange:!1,lastDateUpdatedFrom:"",lastDateUpdatedTo:"",deviceNameColumn:""}),[M,L]=o.useState([]),[O,q]=o.useState(!1),[B,se]=o.useState(""),[le,pe]=o.useState([]),[U,Y]=o.useState(!1),W=10,[re,G]=o.useState({}),R=Ie=>re[Ie]===!0;o.useEffect(()=>{F()},[]);const F=()=>{const Ie=localStorage.getItem("loginPayload");if(Ie)try{const Me=(JSON.parse(Ie).permissions||[]).filter(st=>rs(st.formName)==="AMSDbConfigSetup"),Re={};Me.forEach(st=>{const He=rs(st.accessTypeName);He&&(Re[He]=!0)}),G(Re)}catch(ye){console.error("Error parsing or decrypting payload",ye)}};o.useEffect(()=>{A(),H()},[]);const A=async()=>{q(!0),se("");try{const Ie=await ne.get("/Fs/Process/Device/AMSDbConfigSetUp");Ie.status===200&&Ie.data&&L(Ie.data)}catch(Ie){const ye=Ie.response?.data?.message||Ie.message||"Failed to load AMS databases";se(ye),console.error("Error fetching AMS databases:",Ie)}finally{q(!1)}},H=async()=>{Y(!0);try{const Ie=await ne.get("/Fs/Process/Device/DTRFlagSetUp");Ie.status===200&&Ie.data&&pe(Ie.data)}catch(Ie){console.error("Error fetching flag codes:",Ie),pe([])}finally{Y(!1)}},D=M.filter(Ie=>Ie.description.toLowerCase().includes(t.toLowerCase())||Ie.server.toLowerCase().includes(t.toLowerCase())||Ie.databaseName.toLowerCase().includes(t.toLowerCase())||Ie.username.toLowerCase().includes(t.toLowerCase())),_=Math.ceil(D.length/W),xe=(x-1)*W,ge=D.slice(xe,xe+W),Ne=le.filter(Ie=>Ie.flagCode.toLowerCase().includes(f.toLowerCase()));o.useEffect(()=>{h(1)},[t]);const Ce=()=>{E({description:"",server:"",databaseName:"",username:"",password:"",withDeviceCode:!1,lastDateUpdated:"",tableName:"",empCodeColumn:"",timeStampColumn:"",flagColumn:"",flagCode:"",automaticEmpCode:!1,empCodeTableName:"",empCodeColumnName:"",empCodeIDColumn:"",daysToDeduct:"",specificRange:!1,lastDateUpdatedFrom:"",lastDateUpdatedTo:"",deviceNameColumn:""}),r(!0)},fe=Ie=>{b(Ie),E({description:Ie.description,server:Ie.server,databaseName:Ie.databaseName,username:Ie.username,password:"",withDeviceCode:Ie.withDeviceCode,lastDateUpdated:Ie.lastDateUpdated,tableName:Ie.tableName,empCodeColumn:Ie.empCode,timeStampColumn:Ie.timeStamp,flagColumn:Ie.flag,flagCode:Ie.flagCode,automaticEmpCode:Ie.isAutomaticEmpCode,empCodeTableName:Ie.employeeCodeTable,empCodeColumnName:Ie.employeeCodeCol,empCodeIDColumn:Ie.empoyeeCodeIDCol,daysToDeduct:Ie.dateDaysAhead.toString(),specificRange:Ie.lastDateUpdateFlag,lastDateUpdatedFrom:Ie.lastDateUpdateFrom,lastDateUpdatedTo:Ie.lastDateUpdateTo,deviceNameColumn:Ie.deviceNameCol}),l(!0)},ue=async Ie=>{if((await ee.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete database configuration "${Ie.description}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ne.delete(`/Fs/Process/Device/AMSDbConfigSetUp/${Ie.id}`),await ee.fire({icon:"success",title:"Success",text:"Database configuration deleted successfully.",timer:2e3,showConfirmButton:!1}),await A()}catch(be){const Me=be.response?.data?.message||be.message||"Failed to delete database configuration";await ee.fire({icon:"error",title:"Error",text:Me}),console.error("Error deleting database configuration:",be)}},Oe=async Ie=>{if(Ie.preventDefault(),!k.description.trim()){await ee.fire({icon:"warning",title:"Validation Error",text:"Description is required."});return}if(!k.server.trim()){await ee.fire({icon:"warning",title:"Validation Error",text:"Server is required."});return}if(!k.databaseName.trim()){await ee.fire({icon:"warning",title:"Validation Error",text:"Database Name is required."});return}if(!k.username.trim()){await ee.fire({icon:"warning",title:"Validation Error",text:"Username is required."});return}P(!0);try{const ye={id:0,description:k.description,server:k.server,databaseName:k.databaseName,username:k.username,password:k.password,lastDateUpdated:k.lastDateUpdated||new Date().toISOString(),withDeviceCode:k.withDeviceCode,tableName:k.tableName,empCode:k.empCodeColumn,timeStamp:k.timeStampColumn,flag:k.flagColumn,flagCode:k.flagCode,isAutomaticEmpCode:k.automaticEmpCode,employeeCodeTable:k.empCodeTableName,employeeCodeCol:k.empCodeColumnName,empoyeeCodeIDCol:k.empCodeIDColumn,dateDaysAhead:parseInt(k.daysToDeduct)||0,lastDateUpdateReplica:"",lastDateUpdateTo:k.lastDateUpdatedTo||new Date().toISOString(),lastDateUpdateFlag:k.specificRange,lastDateUpdateFrom:k.lastDateUpdatedFrom||new Date().toISOString(),deviceNameCol:k.deviceNameColumn};await ne.post("/Fs/Process/Device/AMSDbConfigSetUp",ye),await ee.fire({icon:"success",title:"Success",text:"Database configuration created successfully.",timer:2e3,showConfirmButton:!1}),await A(),r(!1)}catch(ye){const be=ye.response?.data?.message||ye.message||"An error occurred";await ee.fire({icon:"error",title:"Error",text:be}),console.error("Error creating database configuration:",ye)}finally{P(!1)}},De=async Ie=>{if(Ie.preventDefault(),!!m){if(!k.description.trim()){await ee.fire({icon:"warning",title:"Validation Error",text:"Description is required."});return}if(!k.server.trim()){await ee.fire({icon:"warning",title:"Validation Error",text:"Server is required."});return}if(!k.databaseName.trim()){await ee.fire({icon:"warning",title:"Validation Error",text:"Database Name is required."});return}if(!k.username.trim()){await ee.fire({icon:"warning",title:"Validation Error",text:"Username is required."});return}P(!0);try{const ye={id:m.id,description:k.description,server:k.server,databaseName:k.databaseName,username:k.username,password:k.password||m.password,lastDateUpdated:k.lastDateUpdated||m.lastDateUpdated,withDeviceCode:k.withDeviceCode,tableName:k.tableName,empCode:k.empCodeColumn,timeStamp:k.timeStampColumn,flag:k.flagColumn,flagCode:k.flagCode,isAutomaticEmpCode:k.automaticEmpCode,employeeCodeTable:k.empCodeTableName,employeeCodeCol:k.empCodeColumnName,empoyeeCodeIDCol:k.empCodeIDColumn,dateDaysAhead:parseInt(k.daysToDeduct)||0,lastDateUpdateReplica:m.lastDateUpdateReplica,lastDateUpdateTo:k.lastDateUpdatedTo||m.lastDateUpdateTo,lastDateUpdateFlag:k.specificRange,lastDateUpdateFrom:k.lastDateUpdatedFrom||m.lastDateUpdateFrom,deviceNameCol:k.deviceNameColumn};await ne.put(`/Fs/Process/Device/AMSDbConfigSetUp/${m.id}`,ye),await ee.fire({icon:"success",title:"Success",text:"Database configuration updated successfully.",timer:2e3,showConfirmButton:!1}),await A(),l(!1),b(null)}catch(ye){const be=ye.response?.data?.message||ye.message||"An error occurred";await ee.fire({icon:"error",title:"Error",text:be}),console.error("Error updating database configuration:",ye)}finally{P(!1)}}},Ae=()=>{r(!1),l(!1),d(!1),b(null)},Ee=Ie=>{E(ye=>({...ye,flagCode:Ie})),d(!1),N("")},ze=(Ie,ye)=>{const be=ye.currentTarget.getBoundingClientRect();g({top:be.bottom+5,left:be.left}),C(Ie),v(!0)},ot=Ie=>{j==="lastDateUpdated"?E({...k,lastDateUpdated:Ie}):j==="lastDateUpdatedFrom"?E({...k,lastDateUpdatedFrom:Ie}):j==="lastDateUpdatedTo"&&E({...k,lastDateUpdatedTo:Ie}),v(!1)};o.useEffect(()=>{const Ie=ye=>{ye.key==="Escape"&&(i?d(!1):a?r(!1):n&&(l(!1),b(null)))};return(a||n||i)&&document.addEventListener("keydown",Ie),()=>{document.removeEventListener("keydown",Ie)}},[a,n,i]);const wt=()=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-40",children:"Description :"}),e.jsx("input",{type:"text",value:k.description,onChange:Ie=>E({...k,description:Ie.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-40",children:"Server :"}),e.jsx("input",{type:"text",value:k.server,onChange:Ie=>E({...k,server:Ie.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-32",children:"Database Name :"}),e.jsx("input",{type:"text",value:k.databaseName,onChange:Ie=>E({...k,databaseName:Ie.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-40",children:"Username :"}),e.jsx("input",{type:"text",value:k.username,onChange:Ie=>E({...k,username:Ie.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-32",children:"Password :"}),e.jsx("input",{type:"password",value:k.password,onChange:Ie=>E({...k,password:Ie.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-40",children:"With Device Code :"}),e.jsx("input",{type:"checkbox",checked:k.withDeviceCode,onChange:Ie=>E({...k,withDeviceCode:Ie.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-40",children:"Last Date Updated :"}),e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx("input",{type:"text",value:k.lastDateUpdated,onChange:Ie=>E({...k,lastDateUpdated:Ie.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("button",{type:"button",className:"w-10 h-10 bg-blue-600 hover:bg-blue-700 text-white rounded flex items-center justify-center transition-colors flex-shrink-0",onClick:Ie=>ze("lastDateUpdated",Ie),children:e.jsx(ds,{className:"w-5 h-5"})})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-40",children:"Table Name :"}),e.jsx("input",{type:"text",value:k.tableName,onChange:Ie=>E({...k,tableName:Ie.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-40",children:"EmpCode Column :"}),e.jsx("input",{type:"text",value:k.empCodeColumn,onChange:Ie=>E({...k,empCodeColumn:Ie.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-32",children:"Time Stamp Column :"}),e.jsx("input",{type:"text",value:k.timeStampColumn,onChange:Ie=>E({...k,timeStampColumn:Ie.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-40",children:"Flag Column :"}),e.jsx("input",{type:"text",value:k.flagColumn,onChange:Ie=>E({...k,flagColumn:Ie.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-32",children:"Flag Code :"}),e.jsx("input",{type:"text",value:k.flagCode,onChange:Ie=>E({...k,flagCode:Ie.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{type:"button",onClick:()=>d(!0),className:"w-10 h-10 bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center justify-center",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>E({...k,flagCode:""}),className:"w-10 h-10 bg-red-600 text-white rounded hover:bg-red-700 transition-colors flex items-center justify-center",children:e.jsx(et,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-40",children:"Automatic EmpCode :"}),e.jsx("input",{type:"checkbox",checked:k.automaticEmpCode,onChange:Ie=>E({...k,automaticEmpCode:Ie.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-40",children:"EmpCode Table Name :"}),e.jsx("input",{type:"text",value:k.empCodeTableName,onChange:Ie=>E({...k,empCodeTableName:Ie.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-40",children:"EmpCode Column :"}),e.jsx("input",{type:"text",value:k.empCodeColumnName,onChange:Ie=>E({...k,empCodeColumnName:Ie.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-32",children:"EmpCode ID Column :"}),e.jsx("input",{type:"text",value:k.empCodeIDColumn,onChange:Ie=>E({...k,empCodeIDColumn:Ie.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-40",children:"Days to Deduct to Convert Date :"}),e.jsx("input",{type:"text",value:k.daysToDeduct,onChange:Ie=>E({...k,daysToDeduct:Ie.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-40",children:"Specific Range :"}),e.jsx("input",{type:"checkbox",checked:k.specificRange,onChange:Ie=>E({...k,specificRange:Ie.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-44",children:"Last Date Updated From :"}),e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx("input",{type:"text",value:k.lastDateUpdatedFrom,onChange:Ie=>E({...k,lastDateUpdatedFrom:Ie.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("button",{type:"button",className:"w-10 h-10 bg-blue-600 hover:bg-blue-700 text-white rounded flex items-center justify-center transition-colors flex-shrink-0",onClick:Ie=>ze("lastDateUpdatedFrom",Ie),children:e.jsx(ds,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-40",children:"Last Date Updated To :"}),e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx("input",{type:"text",value:k.lastDateUpdatedTo,onChange:Ie=>E({...k,lastDateUpdatedTo:Ie.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("button",{type:"button",className:"w-10 h-10 bg-blue-600 hover:bg-blue-700 text-white rounded flex items-center justify-center transition-colors flex-shrink-0",onClick:Ie=>ze("lastDateUpdatedTo",Ie),children:e.jsx(ds,{className:"w-5 h-5"})})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-40",children:"Device Name Column :"}),e.jsx("input",{type:"text",value:k.deviceNameColumn,onChange:Ie=>E({...k,deviceNameColumn:Ie.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]});return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"AMS Database Configuration Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure database connections for Attendance Management System (AMS) integration. Set up server details, credentials, and field mappings to synchronize employee time logs from external biometric systems."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"External database connectivity"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Field mapping configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device code support"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Automatic synchronization"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4 flex-wrap",children:[R("Add")&&R("View")&&e.jsxs("button",{onClick:Ce,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),R("View")&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:t,onChange:Ie=>s(Ie.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:O?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading database configurations..."})}):B?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:B})}):R("View")?e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Server"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Database Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Username"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"With Device Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Last Date Updated"}),(R("Edit")||R("Delete"))&&e.jsx("th",{className:"px-6 py-3 text-center text-xs text-gray-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ge.length>0?ge.map(Ie=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:Ie.description}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Ie.server}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Ie.databaseName}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Ie.username}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Ie.withDeviceCode?"Yes":"No"}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(Ie.lastDateUpdated).toLocaleDateString()}),(R("Edit")||R("Delete"))&&e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[R("Edit")&&e.jsx("button",{onClick:()=>fe(Ie),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),R("Edit")&&R("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),R("Delete")&&e.jsx("button",{onClick:()=>ue(Ie),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},Ie.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),R("View")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",D.length>0?xe+1:0," to ",Math.min(xe+W,D.length)," of ",D.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>h(Ie=>Math.max(1,Ie-1)),disabled:x===1,className:"px-4 py-2 text-blue-600 hover:text-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsx("button",{className:`px-3 py-1 rounded ${x===1?"bg-blue-500 text-white":"text-blue-600 hover:bg-gray-100"}`,onClick:()=>h(1),children:"1"}),e.jsx("button",{onClick:()=>h(Ie=>Math.min(_||1,Ie+1)),disabled:x>=_||D.length===0,className:"px-4 py-2 text-blue-600 hover:text-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})}),a&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0",children:[e.jsx("h2",{className:"text-gray-900",children:"Create New"}),e.jsx("button",{onClick:Ae,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:Oe,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"AMS Database Configuration Setup"}),wt(),e.jsxs("div",{className:"flex gap-3 mt-5 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:S,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:S?"Submitting...":"Submit"}),e.jsx("button",{type:"button",onClick:Ae,disabled:S,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),n&&m&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0",children:[e.jsx("h2",{className:"text-gray-900",children:"Edit"}),e.jsx("button",{onClick:Ae,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:De,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"AMS Database Configuration Setup"}),wt(),e.jsxs("div",{className:"flex gap-3 mt-5 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:S,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:S?"Updating...":"Update"}),e.jsx("button",{type:"button",onClick:Ae,disabled:S,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),i&&e.jsx("div",{className:"fixed inset-0 bg-transparent flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0",children:[e.jsx("h2",{className:"text-gray-900",children:"Search"}),e.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"DTR Flag"}),e.jsxs("div",{className:"flex items-center justify-end gap-2 mb-4",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:f,onChange:Ie=>N(Ie.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden max-h-96 overflow-y-auto",children:U?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading flag codes..."})}):e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase",children:"Flag Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase",children:"Break1 Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase",children:"Break1 In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase",children:"Break2 Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase",children:"Break2 In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase",children:"Break3 Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase",children:"Break3 In"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Ne.length>0?Ne.map((Ie,ye)=>e.jsxs("tr",{className:"hover:bg-blue-50 cursor-pointer transition-colors",onClick:()=>Ee(Ie.flagCode),children:[e.jsx("td",{className:"px-4 py-3 text-sm text-blue-600 hover:underline",children:Ie.flagCode}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:Ie.timeIn}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:Ie.timeOut}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:Ie.break1Out}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:Ie.break1In}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:Ie.break2Out}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:Ie.break2In}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:Ie.break3Out}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:Ie.break3In})]},ye)):e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"px-4 py-8 text-center text-gray-500",children:"No flag codes available"})})})]})})]})]})}),p&&e.jsx(vQ,{value:j==="lastDateUpdated"?k.lastDateUpdated:j==="lastDateUpdatedFrom"?k.lastDateUpdatedFrom:k.lastDateUpdatedTo,onChange:ot,onClose:()=>v(!1),position:y}),e.jsx(Zt,{}),e.jsx("style",{children:`
        @keyframes blob {
          0% {
            transform: translate(0px, 0px) scale(1);
          }
          33% {
            transform: translate(30px, -50px) scale(1.1);
          }
          66% {
            transform: translate(-20px, 20px) scale(0.9);
          }
          100% {
            transform: translate(0px, 0px) scale(1);
          }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `})]})}function NQ({value:t,onChange:s,onClose:a,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const f=N=>{i.current&&!i.current.contains(N.target)&&a()};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[a]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=f=>{const N=String(n.getMonth()+1).padStart(2,"0"),p=n.getFullYear(),v=String(f).padStart(2,"0");s(`${p}-${N}-${v}T00:00:00.000Z`),a()},b=()=>{const f=[],N=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let v=x-1;v>=0;v--)f.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:N-v},`prev-${v}`));for(let v=1;v<=d;v++)f.push(e.jsx("div",{onClick:()=>m(v),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:v},v));const p=42-f.length;for(let v=1;v<=p;v++)f.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v},`next-${v}`));return f};return e.jsx("div",{ref:i,className:"fixed inset-0 flex items-center justify-center z-[100]",children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-xl p-4",style:{width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:()=>l(new Date(n.getFullYear(),n.getMonth()-1)),className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:()=>l(new Date(n.getFullYear(),n.getMonth()+1)),className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(f=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:f},f))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:b()})]})})}const xm=t=>{if(!t)return"";try{const s=new Date(t),a=s.getMonth()+1,r=s.getDate(),n=s.getFullYear();return`${a}/${r}/${n}`}catch{return t}};function jQ(){const[t,s]=o.useState(""),[a,r]=o.useState(!1),[n,l]=o.useState(!1),[i,d]=o.useState(1),[x,h]=o.useState(!1),[m,b]=o.useState(null),[f,N]=o.useState({top:0,left:0}),[p,v]=o.useState({description:"",server:"",databaseName:"",username:"",password:"",withDeviceCode:!1,lastDateUpdated:"",lastDateUpdateReplica:"",lastDateUpdateFlag:!1,lastDateUpdateFrom:"",lastDateUpdateTo:""}),[y,g]=o.useState([]),[j,C]=o.useState(!1),[S,P]=o.useState(null),k=20,[E,M]=o.useState({}),L=D=>E[D]===!0;o.useEffect(()=>{O()},[]);const O=()=>{const D=localStorage.getItem("loginPayload");if(D)try{const ge=(JSON.parse(D).permissions||[]).filter(Ce=>rs(Ce.formName)==="MySQLDbConfigSetup"),Ne={};ge.forEach(Ce=>{const fe=rs(Ce.accessTypeName);fe&&(Ne[fe]=!0)}),M(Ne)}catch(_){console.error("Error parsing or decrypting payload",_)}};o.useEffect(()=>{q()},[]);const q=async()=>{C(!0);try{const D=await ne.get("/Fs/Process/Device/MySQLDbConfigSetUp");D.status===200&&D.data&&g(D.data)}catch(D){const _=D.response?.data?.message||D.message||"Failed to load configurations";await ee.fire({icon:"error",title:"Error",text:_}),console.error("Error fetching MySQL configs:",D)}finally{C(!1)}},B=y.filter(D=>D.description.toLowerCase().includes(t.toLowerCase())||D.server.toLowerCase().includes(t.toLowerCase())||D.databaseName.toLowerCase().includes(t.toLowerCase())||D.username.toLowerCase().includes(t.toLowerCase())),se=Math.ceil(B.length/k),le=(i-1)*k,pe=le+k,U=B.slice(le,pe),Y=()=>{const D=[];if(se<=5)return Array.from({length:se},(ge,Ne)=>Ne+1);D.push(1),i>3&&D.push("...");const _=Math.max(2,i-1),xe=Math.min(se-1,i+1);for(let ge=_;ge<=xe;ge++)D.push(ge);return i<se-2&&D.push("..."),D.push(se),D};o.useEffect(()=>{d(1)},[t]);const W=()=>{v({description:"",server:"",databaseName:"",username:"",password:"",withDeviceCode:!1,lastDateUpdated:"",lastDateUpdateReplica:"",lastDateUpdateFlag:!1,lastDateUpdateFrom:"",lastDateUpdateTo:""})},re=()=>{l(!1),P(null),W(),r(!0)},G=D=>{l(!0),P(D.id),v({description:D.description||"",server:D.server||"",databaseName:D.databaseName||"",username:D.username||"",password:D.password||"",withDeviceCode:D.withDeviceCode||!1,lastDateUpdated:D.lastDateUpdated||"",lastDateUpdateReplica:D.lastDateUpdateReplica||"",lastDateUpdateFlag:D.lastDateUpdateFlag||!1,lastDateUpdateFrom:D.lastDateUpdateFrom||"",lastDateUpdateTo:D.lastDateUpdateTo||""}),r(!0)},R=async D=>{if((await ee.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete "${D.description}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ne.delete(`/Fs/Process/Device/MySQLDbConfigSetUp/${D.id}`),await ee.fire({icon:"success",title:"Success",text:"Configuration deleted successfully.",timer:2e3,showConfirmButton:!1}),await q()}catch(xe){const ge=xe.response?.data?.message||xe.message||"Failed to delete configuration";await ee.fire({icon:"error",title:"Error",text:ge})}},F=async()=>{if(!p.description.trim()){await ee.fire({icon:"warning",title:"Validation Error",text:"Please enter a Description."});return}h(!0);try{const D={description:p.description,server:p.server||null,databaseName:p.databaseName||null,username:p.username||null,password:p.password||null,withDeviceCode:p.withDeviceCode,lastDateUpdated:p.lastDateUpdated||null,lastDateUpdateReplica:p.lastDateUpdateReplica||null,lastDateUpdateFlag:p.lastDateUpdateFlag,lastDateUpdateFrom:p.lastDateUpdateFrom||null,lastDateUpdateTo:p.lastDateUpdateTo||null};n&&S!==null?(await ne.put(`/Fs/Process/Device/MySQLDbConfigSetUp/${S}`,D),await ee.fire({icon:"success",title:"Success",text:"Configuration updated successfully.",timer:2e3,showConfirmButton:!1})):(await ne.post("/Fs/Process/Device/MySQLDbConfigSetUp",D),await ee.fire({icon:"success",title:"Success",text:"Configuration created successfully.",timer:2e3,showConfirmButton:!1})),r(!1),W(),l(!1),P(null),await q()}catch(D){const _=D.response?.data?.message||D.message||"An error occurred";await ee.fire({icon:"error",title:"Error",text:_})}finally{h(!1)}},A=(D,_)=>{const xe=_.currentTarget.getBoundingClientRect();N({top:xe.bottom+window.scrollY+5,left:xe.left+window.scrollX}),b(D)},H=D=>{m&&v({...p,[m]:D})};return o.useEffect(()=>{const D=_=>{_.key==="Escape"&&a&&r(!1)};return a&&document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[a]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"MySQL Database Configuration Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure MySQL database connections for alternative attendance data storage. Set up server credentials, connection parameters, and date range filters for MySQL-based time log synchronization and backup."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["MySQL connectivity","Date range filtering","Backup configuration","Cross-platform support"].map(D=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:D})]},D))})]})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4 flex-wrap",children:[L("Add")&&L("View")&&e.jsxs("button",{onClick:re,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),L("View")&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:t,onChange:D=>s(D.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:L("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Server"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Database Name"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Username"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Last Date Updated"}),(L("Edit")||L("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:j?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-gray-500 text-sm",children:"Loading..."})}):U.length>0?U.map(D=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 text-sm",children:D.description}),e.jsx("td",{className:"px-4 py-2 text-sm",children:D.server}),e.jsx("td",{className:"px-4 py-2 text-sm",children:D.databaseName}),e.jsx("td",{className:"px-4 py-2 text-sm",children:D.username}),e.jsx("td",{className:"px-4 py-2 text-sm",children:xm(D.lastDateUpdated)}),(L("Edit")||L("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[L("Edit")&&e.jsx("button",{onClick:()=>G(D),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),L("Edit")&&L("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),L("Delete")&&e.jsx("button",{onClick:()=>R(D),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},D.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-gray-500 text-sm",children:"No data available in table"})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),L("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600 text-sm",children:["Showing ",B.length===0?0:le+1," to ",Math.min(pe,B.length)," of ",B.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>d(D=>Math.max(D-1,1)),disabled:i===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Previous"}),Y().map((D,_)=>D==="..."?e.jsx("span",{className:"px-2 flex items-center text-gray-500 text-sm",children:"..."},`ellipsis-${_}`):e.jsx("button",{onClick:()=>d(D),className:`px-4 py-2 rounded text-sm font-medium ${i===D?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-50"}`,children:D},D)),e.jsx("button",{onClick:()=>d(D=>Math.min(D+1,se)),disabled:i===se||se===0,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Next"})]})]}),a&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit MySQL Configuration":"Create New"}),e.jsx("button",{onClick:()=>r(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"MySQL Database Configuration Setup"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Description :"}),e.jsx("input",{type:"text",value:p.description,onChange:D=>v({...p,description:D.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Server :"}),e.jsx("input",{type:"text",value:p.server,onChange:D=>v({...p,server:D.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Database Name :"}),e.jsx("input",{type:"text",value:p.databaseName,onChange:D=>v({...p,databaseName:D.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Username :"}),e.jsx("input",{type:"text",value:p.username,onChange:D=>v({...p,username:D.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Password :"}),e.jsx("input",{type:"password",value:p.password,onChange:D=>v({...p,password:D.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"With Device Code :"}),e.jsx("input",{type:"checkbox",checked:p.withDeviceCode,onChange:D=>v({...p,withDeviceCode:D.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-blue-600"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Last Date Updated :"}),e.jsx("input",{type:"text",value:xm(p.lastDateUpdated),readOnly:!0,className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32 bg-gray-50"}),e.jsx("button",{type:"button",className:"w-8 h-8 bg-blue-600 hover:bg-blue-700 text-white rounded flex items-center justify-center transition-colors",onClick:D=>A("lastDateUpdated",D),children:e.jsx(ds,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>v({...p,lastDateUpdated:""}),className:"w-8 h-8 bg-red-600 hover:bg-red-700 text-white rounded flex items-center justify-center transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Specific Range :"}),e.jsx("input",{type:"checkbox",checked:p.lastDateUpdateFlag,onChange:D=>v({...p,lastDateUpdateFlag:D.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-blue-600"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Last Date Updated From :"}),e.jsx("input",{type:"text",value:xm(p.lastDateUpdateFrom),readOnly:!0,className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32 bg-gray-50"}),e.jsx("button",{type:"button",className:"w-8 h-8 bg-blue-600 hover:bg-blue-700 text-white rounded flex items-center justify-center transition-colors",onClick:D=>A("lastDateUpdateFrom",D),children:e.jsx(ds,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>v({...p,lastDateUpdateFrom:""}),className:"w-8 h-8 bg-red-600 hover:bg-red-700 text-white rounded flex items-center justify-center transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Last Date Updated To :"}),e.jsx("input",{type:"text",value:xm(p.lastDateUpdateTo),readOnly:!0,className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32 bg-gray-50"}),e.jsx("button",{type:"button",className:"w-8 h-8 bg-blue-600 hover:bg-blue-700 text-white rounded flex items-center justify-center transition-colors",onClick:D=>A("lastDateUpdateTo",D),children:e.jsx(ds,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>v({...p,lastDateUpdateTo:""}),className:"w-8 h-8 bg-red-600 hover:bg-red-700 text-white rounded flex items-center justify-center transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:F,disabled:x,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Processing...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>r(!1),disabled:x,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Back to List"})]})]})]})}),m&&e.jsx(NQ,{value:p[m],onChange:H,onClose:()=>b(null),position:f})]})]})}),e.jsx(Zt,{})]})}function qc({date:t,onChange:s,disabled:a}){const[r,n]=o.useState(!1),[l,i]=o.useState(new Date),d=new Date(l.getFullYear(),l.getMonth()+1,0).getDate(),x=new Date(l.getFullYear(),l.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=new Date().getFullYear(),b=[];for(let C=1900;C<=m+10;C++)b.push(C);const f=()=>{i(new Date(l.getFullYear(),l.getMonth()-1))},N=()=>{i(new Date(l.getFullYear(),l.getMonth()+1))},p=C=>{i(new Date(l.getFullYear(),C,1))},v=C=>{i(new Date(C,l.getMonth(),1))},y=C=>{const S=(l.getMonth()+1).toString().padStart(2,"0"),P=C.toString().padStart(2,"0"),k=l.getFullYear();s(`${S}/${P}/${k}`),n(!1)},g=()=>{const C=new Date,S=(C.getMonth()+1).toString().padStart(2,"0"),P=C.getDate().toString().padStart(2,"0"),k=C.getFullYear();s(`${S}/${P}/${k}`),n(!1)},j=[];for(let C=0;C<x;C++)j.push(e.jsx("div",{className:"h-8"},`empty-${C}`));for(let C=1;C<=d;C++)j.push(e.jsx("button",{onClick:()=>y(C),type:"button",className:"h-8 flex items-center justify-center rounded hover:bg-blue-100 text-sm text-gray-700 hover:text-blue-600 transition-colors",children:C},C));return e.jsxs(Cx,{open:r,onOpenChange:n,children:[e.jsx(Sx,{asChild:!0,children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:t,onChange:C=>s(C.target.value),disabled:a,className:"w-full pl-9 pr-3 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60 cursor-pointer",readOnly:!0}),e.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})}),e.jsx(kx,{children:e.jsxs(Dx,{className:"z-[9999] bg-white border border-gray-200 rounded-lg shadow-xl p-4 w-72 animate-in fade-in-0 zoom-in-95",align:"start",sideOffset:5,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:f,type:"button",className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx(H0,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("select",{value:l.getMonth(),onChange:C=>p(Number(C.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:h.map((C,S)=>e.jsx("option",{value:S,children:C},C))}),e.jsx("select",{value:l.getFullYear(),onChange:C=>v(Number(C.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:b.map(C=>e.jsx("option",{value:C,children:C},C))})]}),e.jsx("button",{onClick:N,type:"button",className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx(fi,{className:"w-5 h-5 text-gray-600"})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(C=>e.jsx("div",{className:"h-8 flex items-center justify-center text-xs text-gray-500",children:C},C))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:j}),e.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:e.jsx("button",{onClick:g,type:"button",className:"w-full px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 text-sm transition-colors",children:"Today"})})]})})]})}function CQ(){const[t,s]=o.useState("employment"),[a,r]=o.useState(!1),[n,l]=o.useState(!1),[i,d]=o.useState(!1),[x,h]=o.useState(!1),[m,b]=o.useState(!1),[f,N]=o.useState(!1),[p,v]=o.useState(!1),[y,g]=o.useState(!1),[j,C]=o.useState(!1),[S,P]=o.useState(!1),[k,E]=o.useState(!1),[M,L]=o.useState(!1),[O,q]=o.useState(!1),[B,se]=o.useState(!1),[le,pe]=o.useState(!1),[U,Y]=o.useState([]),[W,re]=o.useState(null),[G,R]=o.useState(!1),[F,A]=o.useState(""),[H,D]=o.useState(""),[_,xe]=o.useState(""),[ge,Ne]=o.useState(null),[Ce,fe]=o.useState(""),ue=o.useRef(null),[Oe,De]=o.useState([]),[Ae,Ee]=o.useState([]),[ze,ot]=o.useState([]),[wt,Ie]=o.useState([]),[ye,be]=o.useState([]),[Me,Re]=o.useState([]),[st,He]=o.useState([]),[Ue,Ye]=o.useState([]),[ht,ut]=o.useState([]),[vt,ve]=o.useState([]),[Le,he]=o.useState([]),[Ve,xt]=o.useState(!1),[Pt,Lt]=o.useState(!1),[It,qe]=o.useState(!1),[Nt,gt]=o.useState(!1),[dt,kt]=o.useState(!1),[Dt,Ge]=o.useState(!1),[Ke,ie]=o.useState(!1),[ke,me]=o.useState(!1),[Ze,it]=o.useState(!1),[_t,nt]=o.useState(!1),[mt,ae]=o.useState(!1),[ce,te]=o.useState(""),[z,V]=o.useState(""),[X,de]=o.useState(""),[_e,Te]=o.useState(""),[je,J]=o.useState(""),[we,I]=o.useState(""),[Z,Q]=o.useState(""),[We,ft]=o.useState(""),[$t,yt]=o.useState(""),[$e,bt]=o.useState(""),[ts,Ts]=o.useState(""),[at,Jt]=o.useState({empID:0,empCode:"",empStatCode:"",courtesy:"",lastName:"",firstName:"",middleName:"",suffix:"",dateHired:"",regularized:"",probeStart:"",probeEnd:"",dateResigned:"",suspended:"",suspend:!1,separated:!1,contractual:!1,sss:"",pagibig:"",philhealth:"",tin:"",gsisNo:"",branch:"",branchCode:"",division:"",divisionCode:"",department:"",departmentCode:"",section:"",sectionCode:"",unit:"",unitCode:"",payHouse:"",payHouseCode:"",area:"",areaCode:"",location:"",locationCode:"",onlineApplication:"",onlineAppCode:"",designation:"",jobLevel:"",jobLevelCode:"",homeAddress:"",presentAddress:"",city:"",province:"",postalCode:"",mobilePhone:"",presentPhone:"",homePhone:"",civilStatus:"",citizenship:"",religion:"",weight:"0",height:"0",gender:"M",email:"",birthDate:"",age:"0",birthPlace:""}),jt=async()=>{R(!0),A("");try{const Fe=await ne.get("/Maintenance/EmployeeMasterFile");Fe.status===200&&Fe.data&&Y(Fe.data)}catch(Fe){const At=Fe.response?.data?.message||Fe.message||"Failed to load employees";A(At),console.error("Error fetching employees:",Fe)}finally{R(!1)}},zt=async Fe=>{R(!0),A("");try{const At=await ne.get(`/Maintenance/EmployeeMasterFile/${Fe}`);if(At.status===200&&At.data)return re(At.data),At.data}catch(At){const Mt=At.response?.data?.message||At.message||"Failed to load employee";A(Mt),console.error("Error fetching employee:",At)}finally{R(!1)}},cs=async Fe=>{R(!0),A("");try{const At=new FormData;ge&&At.append("Photo",ge),Object.keys(Fe).forEach(fa=>{const Bs=Fe[fa];Bs!=null&&(Bs instanceof Date?At.append(fa,Bs.toISOString()):At.append(fa,Bs.toString()))});const Mt=await ne.post("/Maintenance/EmployeeMasterFile",At,{headers:{"Content-Type":"multipart/form-data"}});if(Mt.status===200||Mt.status===201)return await jt(),await ee.fire({icon:"success",title:"Success",text:"Employee created successfully.",timer:2e3,showConfirmButton:!1}),Ne(null),fe(""),Mt.data}catch(At){const Mt=At.response?.data?.message||At.message||"Failed to create employee";throw A(Mt),await ee.fire({icon:"error",title:"Oops...",text:Mt}),At}finally{R(!1)}},Js=async(Fe,At)=>{R(!0);try{At.EmpID&&Number(At.EmpID)!==Fe&&console.error("ID Mismatch: URL has "+Fe+" but Body has "+At.EmpID);const Mt=new FormData;ge&&Mt.append("photo",ge),Object.keys(At).forEach(Bs=>{const Ca=At[Bs];Ca!=null&&(Ca instanceof Date?Mt.append(Bs,Ca.toISOString()):Mt.append(Bs,Ca.toString()))});const fa=await ne.put(`/Maintenance/EmployeeMasterFile/${Fe}`,Mt,{headers:{"Content-Type":"multipart/form-data"}});if(fa.status===200||fa.status===204)return await jt(),await ee.fire({icon:"success",title:"Updated!",text:"Employee record has been updated successfully.",timer:2e3,showConfirmButton:!1}),Ne(null),fa.data}catch(Mt){console.error("Error updating employee:",Mt);const fa=Mt.response?.data?.message||Mt.message||"An error occurred during update.";throw await ee.fire({icon:"error",title:"Update Failed",text:fa}),Mt}finally{R(!1)}},Tt=async Fe=>{R(!0),A("");try{const At=await ne.delete(`/Maintenance/EmployeeMasterFile/${Fe}`);if(At.status===200||At.status===204)return await jt(),re(null),!0}catch(At){const Mt=At.response?.data?.message||At.message||"Failed to delete employee";throw A(Mt),console.error("Error deleting employee:",At),At}finally{R(!1)}},Ut=async()=>{xt(!0),te("");try{const Fe=await ne.get("/Fs/Employment/BranchSetUp");if(Fe.status===200&&Fe.data){const At=Fe.data.map(Mt=>({branchId:Mt.braID||Mt.id||"",code:Mt.braCode||Mt.code||"",description:Mt.braDesc||Mt.description||"",branchManager:Mt.braMngr||Mt.branchManager||"",branchManagerCode:Mt.braMngrCode||"",deviceName:Mt.deviceName||Mt.DeviceName||""}));De(At)}}catch(Fe){const At=Fe.response?.data?.message||Fe.message||"Failed to load branches";te(At),console.error("Error fetching branches:",Fe)}finally{xt(!1)}},hs=async()=>{Lt(!0),V("");try{const Fe=await ne.get("/Fs/Employment/DivisionSetUp");if(Fe.status===200&&Fe.data){const At=Fe.data.map(Mt=>({id:Mt.divID||"",code:Mt.divCode||"",description:Mt.divDesc||"",head:Mt.divHead||"",headCode:Mt.divHeadCode||"",deviceName:Mt.deviceName||""}));Ee(At)}}catch(Fe){const At=Fe.response?.data?.message||Fe.message||"Failed to load divisions";V(At),console.error("Error fetching divisions:",Fe)}finally{Lt(!1)}},Na=async()=>{qe(!0),de("");try{const Fe=await ne.get("/Fs/Employment/DepartmentSetUp");if(Fe.status===200&&Fe.data){const At=Fe.data.map(Mt=>({departmentId:Mt.depID||"",code:Mt.depCode||"",departmentCode:Mt.depCode||"",departmentHeadCode:Mt.depHeadCode||"",description:Mt.depDesc||"",divisionCode:Mt.divCode||"",head:Mt.depHead||"",deviceName:Mt.deviceName||"",head1:Mt.head1||"",email1:Mt.email1||"",head2:Mt.head2||"",email2:Mt.email2||""}));ot(At)}}catch(Fe){const At=Fe.response?.data?.message||Fe.message||"Failed to load departments";de(At),console.error("Error fetching departments:",Fe)}finally{qe(!1)}},ha=async()=>{gt(!0),Te("");try{const Fe=await ne.get("/Fs/Employment/SectionSetUp");if(Fe.status===200&&Fe.data){const At=Fe.data.map(Mt=>({id:Mt.secID||Mt.id||"",code:Mt.secCode||Mt.code||"",description:Mt.secDesc||Mt.description||"",head:Mt.secHead||Mt.head||"",headCode:Mt.secHeadCode||Mt.headCode||"",deviceName:Mt.deviceName||""}));Ie(At)}}catch(Fe){const At=Fe.response?.data?.message||Fe.message||"Failed to load sections";Te(At),console.error("Error fetching sections:",Fe)}finally{gt(!1)}},ma=async()=>{kt(!0),J("");try{const Fe=await ne.get("/Fs/Employment/UnitSetUp");if(Fe.status===200&&Fe.data){const At=Fe.data.map(Mt=>({id:Mt.unitID||"",code:Mt.unitCode||"",description:Mt.unitDesc||"",head:Mt.head||"",position:Mt.position||"",deviceName:Mt.deviceName||""}));be(At)}}catch(Fe){const At=Fe.response?.data?.message||Fe.message||"Failed to load units";J(At),console.error("Error fetching units:",Fe)}finally{kt(!1)}},Ba=async()=>{Ge(!0),I("");try{const Fe=await ne.get("/Fs/Employment/PayHouseSetUp");if(Fe.status===200&&Fe.data){const At=Fe.data.map(Mt=>({id:Mt.lineID||"",code:Mt.lineCode||"",description:Mt.lineDesc||"",head:Mt.head||"",headCode:Mt.headCode||"",position:Mt.position||"",deviceName:Mt.deviceName||""}));Re(At)}}catch(Fe){const At=Fe.response?.data?.message||Fe.message||"Failed to load pay houses";I(At),console.error("Error fetching pay houses:",Fe)}finally{Ge(!1)}},hr=async()=>{ie(!0),Q("");try{const Fe=await ne.get("/Fs/EmploymentAreaSetUp");if(Fe.status===200&&Fe.data){const At=Fe.data.map(Mt=>({id:Mt.id||Mt.ID||"",code:Mt.areaCode||Mt.AreaCode||"",description:Mt.areaDesc||Mt.AreaDesc||"",head:Mt.head||Mt.Head||"",headCode:Mt.headCode||Mt.HeadCode||"",deviceName:Mt.deviceName||Mt.DeviceName||""}));He(At)}}catch(Fe){const At=Fe.response?.data?.message||Fe.message||"Failed to load areas";Q(At),console.error("Error fetching areas:",Fe)}finally{ie(!1)}},ta=async()=>{me(!0),ft("");try{const Fe=await ne.get("/Fs/Employment/LocationSetUp");if(Fe.status===200&&Fe.data){const At=Fe.data.map(Mt=>({id:Mt.locID||"",code:Mt.locationCode||"",description:Mt.locationDesc||"",head:Mt.head||"",headCode:Mt.headCode||"",acctCode:Mt.acctCode||"",createdBy:Mt.createdBy||"",createdDate:Mt.createdDate||"",editedBy:Mt.editedBy||"",editedDate:Mt.editedDate||"",deviceName:Mt.deviceName||""}));Ye(At)}}catch(Fe){const At=Fe.response?.data?.message||Fe.message||"Failed to load locations";ft(At),console.error("Error fetching locations:",Fe)}finally{me(!1)}},sa=async()=>{it(!0),yt("");try{const Fe=await ne.get("/Fs/Employment/OnlineApprovalSetUp");if(Fe.status===200&&Fe.data){const At=Fe.data.map(Mt=>({id:Mt.id||"",code:Mt.onlineAppCode||"",description:Mt.onlineAppDesc||"",head:Mt.onlineAppMngr||"",headCode:Mt.onlineAppMngr||"",deviceName:Mt.deviceName||"",createdBy:Mt.createdBy||"",createdDate:Mt.createdDate||"",editedBy:Mt.editedBy||"",editedDate:Mt.editedDate||""}));ut(At)}}catch(Fe){const At=Fe.response?.data?.message||Fe.message||"Failed to load online approvals";yt(At),console.error("Error fetching online approvals:",Fe)}finally{it(!1)}},jr=async()=>{nt(!0),bt("");try{const Fe=await ne.get("/Fs/Employment/JobLevelSetUp");if(Fe.status===200&&Fe.data){const At=Fe.data.map(Mt=>({id:Mt.jobLevelID||"",code:Mt.jobLevelCode||"",description:Mt.jobLevelDesc||""}));ve(At)}}catch(Fe){const At=Fe.response?.data?.message||Fe.message||"Failed to load job levels";bt(At),console.error("Error fetching job levels:",Fe)}finally{nt(!1)}},rt=async()=>{ae(!0),Ts("");try{const Fe=await ne.get("/Fs/Employment/JobLevelSetUp");if(Fe.status===200&&Fe.data){const At=Fe.data.map(Mt=>({id:Mt.jobLevelID||"",code:Mt.jobLevelCode||"",description:Mt.jobLevelDesc||""}));he(At)}}catch(Fe){const At=Fe.response?.data?.message||Fe.message||"Failed to load employee statuses";Ts(At),console.error("Error fetching employee statuses:",Fe)}finally{ae(!1)}},Vt=()=>({empID:at.empID,empCode:at.empCode,empStatCode:at.empStatCode,courtesy:at.courtesy,lName:at.lastName,fName:at.firstName,mName:at.middleName,suffix:at.suffix,dateHired:at.dateHired||null,dateRegularized:at.regularized||null,probeStart:at.probeStart||null,probeEnd:at.probeEnd||null,dateResigned:at.dateResigned||null,dateSuspended:at.suspended||null,suspend:at.suspend,separated:at.separated,contractual:at.contractual,sssNo:at.sss,pagIbigNo:at.pagibig,pHilHealthNo:at.philhealth,tin:at.tin,gsisNo:at.gsisNo,braCode:at.branchCode,divCode:at.divisionCode,depCode:at.departmentCode,secCode:at.sectionCode,unitCode:at.unitCode,payCode:at.payHouseCode,areaCode:at.areaCode,locCode:at.locationCode,onlineAppCode:at.onlineAppCode,desCode:at.designation,grdCode:at.jobLevelCode,hAddress:at.homeAddress,pAddress:at.presentAddress,city:at.city,province:at.province,postalCode:at.postalCode,mobilePhone:at.mobilePhone,presentPhone:at.presentPhone,homePhone:at.homePhone,civilStatus:at.civilStatus,citizenship:at.citizenship,religion:at.religion,weight:at.weight,height:at.height,sex:at.gender,email:at.email,birthDate:at.birthDate||null,age:parseInt(at.age)||0,birthPlace:at.birthPlace,unionMember:!1,agency:!1,subAcctCode:"",shiftCode:"",superior:"",clsCode:"",locId:0,rateCode:"",taxID:0,taxCode:"",bankAccount:"",bankCode:"",pagibigCode:"",photo:"",catCode:"",nickName:""}),vs=Fe=>{if(Jt({empID:Fe.empID,empCode:Fe.empCode,empStatCode:Fe.empStatCode,courtesy:Fe.courtesy,lastName:Fe.lName,firstName:Fe.fName,middleName:Fe.mName,suffix:Fe.suffix,dateHired:Fe.dateHired||"",regularized:Fe.dateRegularized||"",probeStart:Fe.probeStart||"",probeEnd:Fe.probeEnd||"",dateResigned:Fe.dateResigned||"",suspended:Fe.dateSuspended||"",suspend:Fe.suspend,separated:Fe.separated,contractual:Fe.contractual,sss:Fe.sssNo,pagibig:Fe.pagIbigNo,philhealth:Fe.pHilHealthNo,tin:Fe.tin,gsisNo:Fe.gsisNo,branch:Oe.find(At=>At.code===Fe.braCode)?.description||"",branchCode:Fe.braCode,division:Ae.find(At=>At.code===Fe.divCode)?.description||"",divisionCode:Fe.divCode,department:ze.find(At=>At.code===Fe.depCode)?.description||"",departmentCode:Fe.depCode,section:wt.find(At=>At.code===Fe.secCode)?.description||"",sectionCode:Fe.secCode,unit:ye.find(At=>At.code===Fe.unitCode)?.description||"",unitCode:Fe.unitCode,payHouse:Me.find(At=>At.code===Fe.payCode)?.description||"",payHouseCode:Fe.payCode,area:st.find(At=>At.code===Fe.areaCode)?.description||"",areaCode:Fe.areaCode,location:Ue.find(At=>At.code===Fe.locCode)?.description||"",locationCode:Fe.locCode,onlineApplication:ht.find(At=>At.code===Fe.onlineAppCode)?.description||"",onlineAppCode:Fe.onlineAppCode,designation:Fe.desCode,jobLevel:vt.find(At=>At.code===Fe.grdCode)?.description||"",jobLevelCode:Fe.grdCode,homeAddress:Fe.hAddress,presentAddress:Fe.pAddress,city:Fe.city,province:Fe.province,postalCode:Fe.postalCode,mobilePhone:Fe.mobilePhone,presentPhone:Fe.presentPhone,homePhone:Fe.homePhone,civilStatus:Fe.civilStatus,citizenship:Fe.citizenship,religion:Fe.religion,weight:Fe.weight,height:Fe.height,gender:Fe.sex,email:Fe.email,birthDate:Fe.birthDate||"",age:Fe.age.toString(),birthPlace:Fe.birthPlace}),Fe.photo||Fe.photoBytes){const At=Fe.photoBytes||Fe.photo;At.startsWith("data:image")?fe(At):fe(`data:image/jpeg;base64,${At}`)}else fe("");Ne(null)},Ys=Fe=>{const At=Fe.target.files?.[0];if(At){if(!At.type.startsWith("image/")){ee.fire({icon:"error",title:"Invalid File",text:"Please select an image file (JPG, PNG, etc.)"});return}if(At.size>5*1024*1024){ee.fire({icon:"error",title:"File Too Large",text:"Please select an image smaller than 5MB"});return}Ne(At);const Mt=new FileReader;Mt.onloadend=()=>{fe(Mt.result)},Mt.readAsDataURL(At)}},Ks=()=>{Ne(null),fe(""),ue.current&&(ue.current.value="")},qs=()=>{a&&ue.current?.click()},la=()=>{r(!0),l(!0),Ne(null),fe(""),Jt({empID:0,empCode:"",empStatCode:"",courtesy:"",lastName:"",firstName:"",middleName:"",suffix:"",dateHired:"",regularized:"",probeStart:"",probeEnd:"",dateResigned:"",suspended:"",suspend:!1,separated:!1,contractual:!1,sss:"",pagibig:"",philhealth:"",tin:"",gsisNo:"",branch:"",branchCode:"",division:"",divisionCode:"",department:"",departmentCode:"",section:"",sectionCode:"",unit:"",unitCode:"",payHouse:"",payHouseCode:"",area:"",areaCode:"",location:"",locationCode:"",onlineApplication:"",onlineAppCode:"",designation:"",jobLevel:"",jobLevelCode:"",homeAddress:"",presentAddress:"",city:"",province:"",postalCode:"",mobilePhone:"",presentPhone:"",homePhone:"",civilStatus:"",citizenship:"",religion:"",weight:"0",height:"0",gender:"M",email:"",birthDate:"",age:"0",birthPlace:""})},qa=()=>{r(!0)},ia=async()=>{try{const Fe=Vt();n?await cs(Fe):await Js(at.empID,Fe),r(!1),l(!1)}catch(Fe){console.error("Error saving employee:",Fe),alert("Failed to save employee. Please try again.")}},ca=()=>{r(!1),l(!1),W&&!n&&vs(W)},va=()=>{b(!0)},tt=async()=>{try{await Tt(at.empID),alert("Employee deleted successfully!"),b(!1),la()}catch(Fe){console.error("Error deleting employee:",Fe),alert("Failed to delete employee. Please try again.")}},ns=()=>{b(!1)},ks=()=>{d(!0)},pa=o.useMemo(()=>U.map(Fe=>({...Fe,name:`${Fe.lName}, ${Fe.fName}`,groupCode:Fe.grpCode})),[U]),Qs=async(Fe,At)=>{try{const Mt=U.find(Bs=>Bs.empCode===Fe);if(!Mt){console.error("Employee not found:",Fe),alert("Employee not found");return}const fa=await zt(Mt.empID);fa&&vs(fa),d(!1)}catch(Mt){console.error("Error loading employee:",Mt),alert("Failed to load employee details")}};o.useEffect(()=>{jt(),Ut(),hs(),Na(),ha(),ma(),Ba(),hr(),ta(),sa(),jr(),rt()},[]),o.useEffect(()=>{const Fe=At=>{At.key==="Escape"&&(i&&d(!1),x&&h(!1),m&&b(!1),f&&N(!1),p&&v(!1),y&&g(!1),j&&C(!1),S&&P(!1),k&&E(!1),M&&L(!1),O&&q(!1),B&&se(!1),le&&pe(!1))};return document.addEventListener("keydown",Fe),()=>{document.removeEventListener("keydown",Fe)}},[i,x,m,f,p,y,j,S,k,M,O,B,le]),U.filter(Fe=>Fe.empCode.toLowerCase().includes(H.toLowerCase())||`${Fe.lName}, ${Fe.fName}`.toLowerCase().includes(H.toLowerCase()));const ja=Le.filter(Fe=>Fe.code.toLowerCase().includes(_.toLowerCase())||Fe.description.toLowerCase().includes(_.toLowerCase()));return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Employee Master File"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Manage employee records including personal information, employment details, organizational assignments, and government ID numbers. This master file serves as the central repository for all employee data."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Employment and organizational information"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Personal details and contact information"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Government IDs (SSS, PAG-IBIG, PhilHealth, TIN)"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Status tracking and employment history"})]})]})]})]})}),F&&e.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-red-600",children:F})}),e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[!n&&!a&&e.jsxs("button",{onClick:la,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),a?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:ia,disabled:G,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50",children:[e.jsx(Aa,{className:"w-4 h-4"}),G?"Saving...":"Save"]}),e.jsxs("button",{onClick:ca,disabled:G,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50",children:[e.jsx(et,{className:"w-4 h-4"}),"Cancel"]})]}):e.jsxs("button",{onClick:qa,disabled:at.empID===0,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(cl,{className:"w-4 h-4"}),"Edit"]}),!n&&!a&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:va,disabled:at.empID===0,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(ls,{className:"w-4 h-4"}),"Delete"]}),e.jsxs("button",{onClick:ks,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Gt,{className:"w-4 h-4"}),"Search"]})]})]}),e.jsx("div",{className:"mb-6 space-y-4",children:e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Emp. Code"}),e.jsx("input",{type:"text",value:at.empCode,onChange:Fe=>Jt({...at,empCode:Fe.target.value}),disabled:!a,className:"w-full px-4 py-2 text-blue-700 font-bold bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Emp. Stat Code"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:at.empStatCode,onChange:Fe=>Jt({...at,empStatCode:Fe.target.value}),disabled:!a,className:"flex-1 px-4 py-2 text-blue-700 font-bold bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"}),a&&e.jsx("button",{onClick:()=>h(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Courtesy"}),e.jsxs("select",{value:at.courtesy,onChange:Fe=>Jt({...at,courtesy:Fe.target.value}),disabled:!a,className:"w-full px-4 py-2 text-blue-700 font-bold bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60",children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"Engr",children:"Engr (Engineer)"}),e.jsx("option",{value:"Dr",children:"Dr (Doctor)"}),e.jsx("option",{value:"Mr",children:"Mr (Mister)"}),e.jsx("option",{value:"Mrs",children:"Mrs (Mrs)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Last Name"}),e.jsx("input",{type:"text",value:at.lastName,onChange:Fe=>Jt({...at,lastName:Fe.target.value}),disabled:!a,className:"w-full px-4 py-2 text-blue-700 font-bold bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"First Name"}),e.jsx("input",{type:"text",value:at.firstName,onChange:Fe=>Jt({...at,firstName:Fe.target.value}),disabled:!a,className:"w-full px-4 py-2 text-blue-700 font-bold bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Middle Name"}),e.jsx("input",{type:"text",value:at.middleName,onChange:Fe=>Jt({...at,middleName:Fe.target.value}),disabled:!a,className:"w-full px-4 py-2 text-blue-700 font-bold bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Suffix"}),e.jsx("input",{type:"text",value:at.suffix,onChange:Fe=>Jt({...at,suffix:Fe.target.value}),disabled:!a,className:"w-full px-4 py-2 text-blue-700 font-bold bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsxs("button",{onClick:()=>s("employment"),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t==="employment"?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Zs,{className:"w-4 h-4"}),"Employment Information"]}),e.jsxs("button",{onClick:()=>s("personal"),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t==="personal"?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(yp,{className:"w-4 h-4"}),"Personal Information"]})]})}),t==="employment"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Position"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Designation"}),e.jsx("input",{type:"text",value:at.designation,onChange:Fe=>Jt({...at,designation:Fe.target.value}),disabled:!a,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Job Level"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:at.jobLevel,onChange:Fe=>Jt({...at,jobLevel:Fe.target.value}),disabled:!a,className:"flex-1 px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"}),a&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>pe(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Jt({...at,jobLevel:"",jobLevelCode:""}),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Employment Dates"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Date Hired"}),e.jsx(qc,{date:at.dateHired,onChange:Fe=>Jt({...at,dateHired:Fe}),disabled:!a})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Regularized"}),e.jsx(qc,{date:at.regularized,onChange:Fe=>Jt({...at,regularized:Fe}),disabled:!a})]}),e.jsx("div",{className:"flex items-center h-[42px]",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:at.contractual,onChange:Fe=>Jt({...at,contractual:Fe.target.checked}),disabled:!a,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-700",children:"Contractual"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Probe Start"}),e.jsx(qc,{date:at.probeStart,onChange:Fe=>Jt({...at,probeStart:Fe}),disabled:!a})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Probe End"}),e.jsx(qc,{date:at.probeEnd,onChange:Fe=>Jt({...at,probeEnd:Fe}),disabled:!a})]}),e.jsx("div",{className:"flex items-center h-[42px]",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:at.separated,onChange:Fe=>Jt({...at,separated:Fe.target.checked}),disabled:!a,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-700",children:"Separated"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Date Resigned"}),e.jsx(qc,{date:at.dateResigned,onChange:Fe=>Jt({...at,dateResigned:Fe}),disabled:!a})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Suspended"}),e.jsx(qc,{date:at.suspended,onChange:Fe=>Jt({...at,suspended:Fe}),disabled:!a})]}),e.jsx("div",{className:"flex items-center h-[42px]",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:at.suspend,onChange:Fe=>Jt({...at,suspend:Fe.target.checked}),disabled:!a,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-700",children:"Suspend"})]})})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Government IDs"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"SSS"}),e.jsx("input",{type:"text",value:at.sss,onChange:Fe=>Jt({...at,sss:Fe.target.value}),disabled:!a,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"PAG-IBIG"}),e.jsx("input",{type:"text",value:at.pagibig,onChange:Fe=>Jt({...at,pagibig:Fe.target.value}),disabled:!a,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Philhealth"}),e.jsx("input",{type:"text",value:at.philhealth,onChange:Fe=>Jt({...at,philhealth:Fe.target.value}),disabled:!a,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"TIN"}),e.jsx("input",{type:"text",value:at.tin,onChange:Fe=>Jt({...at,tin:Fe.target.value}),disabled:!a,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"GSIS/No"}),e.jsx("input",{type:"text",value:at.gsisNo,onChange:Fe=>Jt({...at,gsisNo:Fe.target.value}),disabled:!a,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Organizational Assignment"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Branch"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:at.branch,disabled:!0,className:"flex-1 px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"}),a&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>N(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Jt({...at,branch:"",branchCode:""}),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Division"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:at.division,disabled:!0,className:"flex-1 px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"}),a&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>v(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Jt({...at,division:"",divisionCode:""}),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Department"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:at.department,disabled:!0,className:"flex-1 px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"}),a&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>g(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Jt({...at,department:"",departmentCode:""}),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Section"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:at.section,disabled:!0,className:"flex-1 px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"}),a&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>C(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Jt({...at,section:"",sectionCode:""}),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Unit"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:at.unit,disabled:!0,className:"flex-1 px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"}),a&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>P(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Jt({...at,unit:"",unitCode:""}),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Pay House"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:at.payHouse,disabled:!0,className:"flex-1 px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"}),a&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>E(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Jt({...at,payHouse:"",payHouseCode:""}),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Area"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:at.area,disabled:!0,className:"flex-1 px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"}),a&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>L(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Jt({...at,area:"",areaCode:""}),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Location"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:at.location,disabled:!0,className:"flex-1 px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"}),a&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>q(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Jt({...at,location:"",locationCode:""}),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Online Application"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:at.onlineApplication,disabled:!0,className:"flex-1 px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"}),a&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>se(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Jt({...at,onlineApplication:"",onlineAppCode:""}),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]})]})]})]})]})]}),t==="personal"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Address Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Home Address"}),e.jsx("textarea",{value:at.homeAddress,onChange:Fe=>Jt({...at,homeAddress:Fe.target.value}),disabled:!a,rows:3,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60 resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Present Address"}),e.jsx("textarea",{value:at.presentAddress,onChange:Fe=>Jt({...at,presentAddress:Fe.target.value}),disabled:!a,rows:3,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60 resize-none"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"City"}),e.jsx("input",{type:"text",value:at.city,onChange:Fe=>Jt({...at,city:Fe.target.value}),disabled:!a,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Province"}),e.jsx("input",{type:"text",value:at.province,onChange:Fe=>Jt({...at,province:Fe.target.value}),disabled:!a,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Postal Code"}),e.jsx("input",{type:"text",value:at.postalCode,onChange:Fe=>Jt({...at,postalCode:Fe.target.value}),disabled:!a,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Mobile Phone"}),e.jsx("input",{type:"text",value:at.mobilePhone,onChange:Fe=>Jt({...at,mobilePhone:Fe.target.value}),disabled:!a,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Present Phone"}),e.jsx("input",{type:"text",value:at.presentPhone,onChange:Fe=>Jt({...at,presentPhone:Fe.target.value}),disabled:!a,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Home Phone"}),e.jsx("input",{type:"text",value:at.homePhone,onChange:Fe=>Jt({...at,homePhone:Fe.target.value}),disabled:!a,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Personal Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Civil Status"}),e.jsx("input",{type:"text",value:at.civilStatus,onChange:Fe=>Jt({...at,civilStatus:Fe.target.value}),disabled:!a,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Citizenship"}),e.jsx("input",{type:"text",value:at.citizenship,onChange:Fe=>Jt({...at,citizenship:Fe.target.value}),disabled:!a,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Religion"}),e.jsx("input",{type:"text",value:at.religion,onChange:Fe=>Jt({...at,religion:Fe.target.value}),disabled:!a,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Weight"}),e.jsx("input",{type:"text",value:at.weight,onChange:Fe=>Jt({...at,weight:Fe.target.value}),disabled:!a,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Height"}),e.jsx("input",{type:"text",value:at.height,onChange:Fe=>Jt({...at,height:Fe.target.value}),disabled:!a,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Gender"}),e.jsx("input",{type:"text",value:at.gender,onChange:Fe=>Jt({...at,gender:Fe.target.value}),disabled:!a,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Email"}),e.jsx("input",{type:"text",value:at.email,onChange:Fe=>Jt({...at,email:Fe.target.value}),disabled:!a,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Birth Date"}),e.jsx(qc,{date:at.birthDate,onChange:Fe=>Jt({...at,birthDate:Fe}),disabled:!a})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Age"}),e.jsx("input",{type:"text",value:at.age,onChange:Fe=>Jt({...at,age:Fe.target.value}),disabled:!a,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Birth Place"}),e.jsx("input",{type:"text",value:at.birthPlace,onChange:Fe=>Jt({...at,birthPlace:Fe.target.value}),disabled:!a,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]})]})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Photo"}),e.jsx("input",{ref:ue,type:"file",accept:"image/*",onChange:Ys,disabled:!a,className:"hidden"}),e.jsx("div",{className:`relative flex items-center justify-center w-full h-64 bg-gradient-to-br from-blue-100 to-blue-200 rounded-lg border-2 border-dashed border-blue-300 overflow-hidden ${a?"cursor-pointer hover:border-blue-500 transition-colors":""}`,onClick:qs,children:Ce?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:Ce,alt:"Employee",className:"w-full h-full object-cover"}),a&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-30 transition-all flex items-center justify-center",children:e.jsx("div",{className:"opacity-0 hover:opacity-100 transition-opacity",children:e.jsx(LA,{className:"w-12 h-12 text-white"})})})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center text-blue-400",children:[e.jsx(yp,{className:"w-32 h-32 mb-2"}),a&&e.jsx("p",{className:"text-sm text-blue-600",children:"Click to upload photo"})]})}),a&&e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("button",{type:"button",onClick:()=>ue.current?.click(),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[e.jsx(ur,{className:"w-4 h-4"}),Ce?"Change Photo":"Upload Photo"]}),(Ce||ge)&&e.jsxs("button",{type:"button",onClick:Ks,className:"w-full px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors flex items-center justify-center gap-2",children:[e.jsx(et,{className:"w-4 h-4"}),"Remove Photo"]}),e.jsx("p",{className:"text-xs text-gray-500 text-center mt-2",children:"Max size: 5MB  Formats: JPG, PNG, GIF"})]})]})})]})})]})]})}),e.jsx(Zt,{}),e.jsx(nr,{isOpen:i,onClose:()=>d(!1),onSelect:Qs,employees:pa,loading:G,error:F}),x&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[85vh] overflow-hidden pointer-events-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-3 flex items-center justify-between border-b border-gray-300",children:[e.jsx("h2",{className:"text-gray-800",children:"Search Employee Status"}),e.jsx("button",{onClick:()=>h(!1),className:"text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 max-h-[calc(85vh-60px)] overflow-y-auto",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Emp Stat Code"}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:_,onChange:Fe=>xe(Fe.target.value),placeholder:"Type status code or description...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),mt?e.jsx("div",{className:"text-center py-8",children:"Loading employee statuses..."}):ts?e.jsx("div",{className:"text-center py-8 text-red-600",children:ts}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"})]})}),e.jsx("tbody",{children:ja.length>0?ja.map((Fe,At)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer ${At%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{Jt({...at,empStatCode:Fe.code}),h(!1),xe("")},children:[e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Fe.code}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Fe.description})]},Fe.code)):e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-4 py-8 text-center text-gray-500",children:"No employee statuses found"})})})]})}),e.jsx("div",{className:"flex items-center justify-between mt-4 text-sm text-gray-700",children:e.jsxs("div",{children:["Showing ",ja.length," status(es)"]})})]})]})]})}),f&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[99] bg-black bg-opacity-50",onClick:()=>N(!1)}),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[85vh] overflow-hidden pointer-events-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-3 flex items-center justify-between border-b border-gray-300",children:[e.jsx("h2",{className:"text-gray-800",children:"Search Branch"}),e.jsx("button",{onClick:()=>N(!1),className:"text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 max-h-[calc(85vh-60px)] overflow-y-auto",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Branch"}),Ve?e.jsx("div",{className:"text-center py-8",children:"Loading branches..."}):ce?e.jsx("div",{className:"text-center py-8 text-red-600",children:ce}):e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Manager"})]})}),e.jsx("tbody",{children:Oe.length>0?Oe.map((Fe,At)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer ${At%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{Jt({...at,branch:Fe.description,branchCode:Fe.code}),N(!1)},children:[e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Fe.code}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Fe.description}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Fe.branchManager})]},Fe.branchId)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-gray-500",children:"No branches found"})})})]})})]})]})})]}),p&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[99] bg-black bg-opacity-50",onClick:()=>v(!1)}),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[85vh] overflow-hidden pointer-events-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-3 flex items-center justify-between border-b border-gray-300",children:[e.jsx("h2",{className:"text-gray-800",children:"Search Division"}),e.jsx("button",{onClick:()=>v(!1),className:"text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 max-h-[calc(85vh-60px)] overflow-y-auto",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Division"}),Pt?e.jsx("div",{className:"text-center py-8",children:"Loading divisions..."}):z?e.jsx("div",{className:"text-center py-8 text-red-600",children:z}):e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"})]})}),e.jsx("tbody",{children:Ae.length>0?Ae.map((Fe,At)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer ${At%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{Jt({...at,division:Fe.description,divisionCode:Fe.code}),v(!1)},children:[e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Fe.code}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Fe.description}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Fe.head})]},Fe.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-gray-500",children:"No divisions found"})})})]})})]})]})})]}),y&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[99] bg-black bg-opacity-50",onClick:()=>g(!1)}),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl max-h-[85vh] overflow-hidden pointer-events-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-3 flex items-center justify-between border-b border-gray-300",children:[e.jsx("h2",{className:"text-gray-800",children:"Search Department"}),e.jsx("button",{onClick:()=>g(!1),className:"text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 max-h-[calc(85vh-60px)] overflow-y-auto",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Department"}),It?e.jsx("div",{className:"text-center py-8",children:"Loading departments..."}):X?e.jsx("div",{className:"text-center py-8 text-red-600",children:X}):e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Division"})]})}),e.jsx("tbody",{children:ze.length>0?ze.map((Fe,At)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer ${At%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{Jt({...at,department:Fe.description,departmentCode:Fe.code}),g(!1)},children:[e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Fe.code}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Fe.description}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Fe.head}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Fe.divisionCode})]},Fe.departmentId)):e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-4 py-8 text-center text-gray-500",children:"No departments found"})})})]})})]})]})})]}),j&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[99] bg-black bg-opacity-50",onClick:()=>C(!1)}),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[85vh] overflow-hidden pointer-events-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-3 flex items-center justify-between border-b border-gray-300",children:[e.jsx("h2",{className:"text-gray-800",children:"Search Section"}),e.jsx("button",{onClick:()=>C(!1),className:"text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 max-h-[calc(85vh-60px)] overflow-y-auto",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Section"}),Nt?e.jsx("div",{className:"text-center py-8",children:"Loading sections..."}):_e?e.jsx("div",{className:"text-center py-8 text-red-600",children:_e}):e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"})]})}),e.jsx("tbody",{children:wt.length>0?wt.map((Fe,At)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer ${At%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{Jt({...at,section:Fe.description,sectionCode:Fe.code}),C(!1)},children:[e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Fe.code}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Fe.description}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Fe.head})]},Fe.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-gray-500",children:"No sections found"})})})]})})]})]})})]}),S&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[99] bg-black bg-opacity-50",onClick:()=>P(!1)}),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[85vh] overflow-hidden pointer-events-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-3 flex items-center justify-between border-b border-gray-300",children:[e.jsx("h2",{className:"text-gray-800",children:"Search Unit"}),e.jsx("button",{onClick:()=>P(!1),className:"text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 max-h-[calc(85vh-60px)] overflow-y-auto",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Unit"}),dt?e.jsx("div",{className:"text-center py-8",children:"Loading units..."}):je?e.jsx("div",{className:"text-center py-8 text-red-600",children:je}):e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"})]})}),e.jsx("tbody",{children:ye.length>0?ye.map((Fe,At)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer ${At%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{Jt({...at,unit:Fe.description,unitCode:Fe.code}),P(!1)},children:[e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Fe.code}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Fe.description}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Fe.head})]},Fe.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-gray-500",children:"No units found"})})})]})})]})]})})]}),k&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[99] bg-black bg-opacity-50",onClick:()=>E(!1)}),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[85vh] overflow-hidden pointer-events-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-3 flex items-center justify-between border-b border-gray-300",children:[e.jsx("h2",{className:"text-gray-800",children:"Search Pay House"}),e.jsx("button",{onClick:()=>E(!1),className:"text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 max-h-[calc(85vh-60px)] overflow-y-auto",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Pay House"}),Dt?e.jsx("div",{className:"text-center py-8",children:"Loading pay houses..."}):we?e.jsx("div",{className:"text-center py-8 text-red-600",children:we}):e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"})]})}),e.jsx("tbody",{children:Me.length>0?Me.map((Fe,At)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer ${At%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{Jt({...at,payHouse:Fe.description,payHouseCode:Fe.code}),E(!1)},children:[e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Fe.code}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Fe.description}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Fe.head})]},Fe.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-gray-500",children:"No pay houses found"})})})]})})]})]})})]}),M&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[99] bg-black bg-opacity-50",onClick:()=>L(!1)}),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[85vh] overflow-hidden pointer-events-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-3 flex items-center justify-between border-b border-gray-300",children:[e.jsx("h2",{className:"text-gray-800",children:"Search Area"}),e.jsx("button",{onClick:()=>L(!1),className:"text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 max-h-[calc(85vh-60px)] overflow-y-auto",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Area"}),Ke?e.jsx("div",{className:"text-center py-8",children:"Loading areas..."}):Z?e.jsx("div",{className:"text-center py-8 text-red-600",children:Z}):e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"})]})}),e.jsx("tbody",{children:st.length>0?st.map((Fe,At)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer ${At%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{Jt({...at,area:Fe.description,areaCode:Fe.code}),L(!1)},children:[e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Fe.code}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Fe.description}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Fe.head})]},Fe.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-gray-500",children:"No areas found"})})})]})})]})]})})]}),O&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[99] bg-black bg-opacity-50",onClick:()=>q(!1)}),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[85vh] overflow-hidden pointer-events-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-3 flex items-center justify-between border-b border-gray-300",children:[e.jsx("h2",{className:"text-gray-800",children:"Search Location"}),e.jsx("button",{onClick:()=>q(!1),className:"text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 max-h-[calc(85vh-60px)] overflow-y-auto",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Location"}),ke?e.jsx("div",{className:"text-center py-8",children:"Loading locations..."}):We?e.jsx("div",{className:"text-center py-8 text-red-600",children:We}):e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"})]})}),e.jsx("tbody",{children:Ue.length>0?Ue.map((Fe,At)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer ${At%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{Jt({...at,location:Fe.description,locationCode:Fe.code}),q(!1)},children:[e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Fe.code}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Fe.description}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Fe.head})]},Fe.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-gray-500",children:"No locations found"})})})]})})]})]})})]}),B&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[99] bg-black bg-opacity-50",onClick:()=>se(!1)}),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[85vh] overflow-hidden pointer-events-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-3 flex items-center justify-between border-b border-gray-300",children:[e.jsx("h2",{className:"text-gray-800",children:"Search Online Approval"}),e.jsx("button",{onClick:()=>se(!1),className:"text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 max-h-[calc(85vh-60px)] overflow-y-auto",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Online Approval"}),Ze?e.jsx("div",{className:"text-center py-8",children:"Loading online approvals..."}):$t?e.jsx("div",{className:"text-center py-8 text-red-600",children:$t}):e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Manager"})]})}),e.jsx("tbody",{children:ht.length>0?ht.map((Fe,At)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer ${At%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{Jt({...at,onlineApplication:Fe.description,onlineAppCode:Fe.code}),se(!1)},children:[e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Fe.code}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Fe.description}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Fe.head})]},Fe.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-gray-500",children:"No online approvals found"})})})]})})]})]})})]}),le&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[99] bg-black bg-opacity-50",onClick:()=>pe(!1)}),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[85vh] overflow-hidden pointer-events-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-3 flex items-center justify-between border-b border-gray-300",children:[e.jsx("h2",{className:"text-gray-800",children:"Search Job Level"}),e.jsx("button",{onClick:()=>pe(!1),className:"text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 max-h-[calc(85vh-60px)] overflow-y-auto",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Job Level"}),_t?e.jsx("div",{className:"text-center py-8",children:"Loading job levels..."}):$e?e.jsx("div",{className:"text-center py-8 text-red-600",children:$e}):e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"})]})}),e.jsx("tbody",{children:vt.length>0?vt.map((Fe,At)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer ${At%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{Jt({...at,jobLevel:Fe.description,jobLevelCode:Fe.code}),pe(!1)},children:[e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Fe.code}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Fe.description})]},Fe.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-4 py-8 text-center text-gray-500",children:"No job levels found"})})})]})})]})]})})]}),m&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-md",children:[e.jsx("div",{className:"bg-gray-100 px-4 py-3 border-b border-gray-300",children:e.jsx("h2",{className:"text-gray-800",children:"Confirm Delete"})}),e.jsxs("div",{className:"p-6",children:[e.jsx("p",{className:"text-gray-800 mb-6",children:"Are you sure you want to delete this employee?"}),e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("button",{onClick:tt,className:"px-8 py-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-colors shadow-sm",children:"OK"}),e.jsx("button",{onClick:ns,className:"px-6 py-2 bg-gray-200 text-gray-800 rounded-full hover:bg-gray-300 transition-colors shadow-sm",children:"Cancel"})]})]})]})})]})}function SQ({isOpen:t,isEditMode:s,empCode:a,date:r,hoursApproved:n,leaveCode:l,period:i,reason:d,remarks:x,withPay:h,sssNotification:m,isLateFiling:b,onClose:f,onDateChange:N,onHoursApprovedChange:p,onLeaveCodeChange:v,onPeriodChange:y,onReasonChange:g,onRemarksChange:j,onWithPayChange:C,onSssNotificationChange:S,onIsLateFilingChange:P,onSubmit:k}){const[E,M]=o.useState(!1);return o.useEffect(()=>{const L=O=>{O.key==="Escape"&&t&&!E&&f()};return t&&document.addEventListener("keydown",L),()=>{document.removeEventListener("keydown",L)}},[t,E,f]),t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:f}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:s?"Edit Leave":"Create New"}),e.jsx("button",{onClick:f,className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Leave Applications"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"EmpCode :"}),e.jsx("input",{type:"text",value:a,readOnly:!0,className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 bg-gray-100"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date :"}),e.jsx("input",{type:"date",value:r,onChange:L=>N(L.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"No of Hours Approved :"}),e.jsx("input",{type:"text",value:n,onChange:L=>p(L.target.value),className:"w-32 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"[hh.mm]"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"LeaveCode :"}),e.jsx("input",{type:"text",value:l,onChange:L=>v(L.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),e.jsx("button",{className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",onClick:()=>M(!0),children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>v(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Period :"}),e.jsxs("select",{value:i,onChange:L=>y(L.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:[e.jsx("option",{value:""}),e.jsx("option",{value:"1ST HALF",children:"1ST HALF"}),e.jsx("option",{value:"2ND HALF",children:"2ND HALF"}),e.jsx("option",{value:"WITHIN THE SHIFT",children:"WITHIN THE SHIFT"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Reason :"}),e.jsx("input",{type:"text",value:d,onChange:L=>g(L.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Remarks :"}),e.jsx("input",{type:"text",value:x,onChange:L=>j(L.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"With Pay :"}),e.jsx("input",{type:"checkbox",checked:h,onChange:L=>C(L.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"SSS Notification :"}),e.jsx("input",{type:"checkbox",checked:m,onChange:L=>S(L.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Is Late Filing :"}),e.jsx("input",{type:"checkbox",checked:b,onChange:L=>P(L.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:k,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:s?"Update":"Submit"}),e.jsx("button",{onClick:f,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),e.jsx(rD,{isOpen:E,onClose:()=>M(!1),onSelect:v,leaveCodeItems:[],loading:!1,error:""})]}):null}function kQ({isOpen:t,isEditMode:s,dateFrom:a,dateTo:r,onClose:n,onDateFromChange:l,onDateToChange:i,onSubmit:d}){return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:n}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:s?"Edit Record":"Create New"}),e.jsx("button",{onClick:n,className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Employee Contractual"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date From :"}),e.jsx(sr,{value:a,onChange:x=>l(x),className:"flex-1"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date To :"}),e.jsx(sr,{value:r,onChange:x=>i(x),className:"flex-1"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:d,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:s?"Update":"Submit"}),e.jsx("button",{onClick:n,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}):null}function DQ({isOpen:t,isEditMode:s,dateFrom:a,dateTo:r,onClose:n,onDateFromChange:l,onDateToChange:i,onSubmit:d}){return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:n}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:s?"Edit Suspension":"Create New"}),e.jsx("button",{onClick:n,className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Suspension"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date From :"}),e.jsx(sr,{value:a,onChange:x=>l(x),className:"flex-1"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date To :"}),e.jsx(sr,{value:r,onChange:x=>i(x),className:"flex-1"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:d,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:s?"Update":"Submit"}),e.jsx("button",{onClick:n,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}):null}function EQ({isOpen:t,onClose:s,onSelect:a,groupSchedules:r,loading:n}){const[l,i]=o.useState(""),[d,x]=o.useState(1),h=10;o.useEffect(()=>{t&&(i(""),x(1))},[t]);const m=r.filter(C=>(C.groupScheduleCode?.toLowerCase()||"").includes(l.toLowerCase())||(C.groupScheduleDesc?.toLowerCase()||"").includes(l.toLowerCase())),b=Math.ceil(m.length/h),f=(d-1)*h,N=f+h,p=m.slice(f,N),v=()=>{const C=[];if(b<=5)for(let P=1;P<=b;P++)C.push(P);else if(d<=3){for(let P=1;P<=4;P++)C.push(P);C.push("..."),C.push(b)}else if(d>=b-2){C.push(1),C.push("...");for(let P=b-3;P<=b;P++)C.push(P)}else C.push(1),C.push("..."),C.push(d-1),C.push(d),C.push(d+1),C.push("..."),C.push(b);return C},y=C=>{x(C)},g=()=>{d>1&&x(d-1)},j=()=>{d<b&&x(d+1)};return o.useEffect(()=>{x(1)},[l]),o.useEffect(()=>{const C=S=>{S.key==="Escape"&&t&&s()};return t&&document.addEventListener("keydown",C),()=>{document.removeEventListener("keydown",C)}},[t,s]),t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:s}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl border border-gray-300 w-full max-w-3xl max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Select Group Schedule"}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3 overflow-y-auto",style:{maxHeight:"calc(90vh - 50px)"},children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Group Schedule Setup"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:l,onChange:C=>i(C.target.value),placeholder:"Search by code or description...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),n?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading group schedules..."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border border-gray-200 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsxs("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:["Group Schedule Code",e.jsx("span",{className:"ml-1 text-blue-500",children:""})]}),e.jsxs("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:["Description",e.jsx("span",{className:"ml-1 text-gray-400",children:""})]})]})}),e.jsx("tbody",{children:p.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-3 py-8 text-center text-gray-500",children:"No group schedules found"})}):p.map(C=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>{a(C.groupScheduleCode),s()},children:[e.jsx("td",{className:"px-3 py-1.5",children:C.groupScheduleCode}),e.jsx("td",{className:"px-3 py-1.5",children:C.groupScheduleDesc})]},C.groupScheduleID))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",m.length>0?f+1:0," to ",Math.min(N,m.length)," of ",m.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:g,disabled:d===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),v().map((C,S)=>typeof C=="number"?e.jsx("button",{onClick:()=>y(C),className:`px-2 py-1 rounded text-xs ${d===C?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:C},S):e.jsx("span",{className:"px-2 py-1 text-xs text-gray-500",children:C},S)),e.jsx("button",{onClick:j,disabled:d===b||b===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})})]}):null}function TQ({isOpen:t,isEditMode:s,empCode:a,code:r,password:n,effectivityDate:l,expiryDate:i,onClose:d,onCodeChange:x,onPasswordChange:h,onEffectivityDateChange:m,onExpiryDateChange:b,onSubmit:f}){return o.useEffect(()=>{const N=p=>{p.key==="Escape"&&t&&d()};return t&&document.addEventListener("keydown",N),()=>{document.removeEventListener("keydown",N)}},[t,d]),t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:d}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:s?"Edit Device Code":"Add Device Code"}),e.jsx("button",{onClick:d,className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Device Code Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"EmpCode :"}),e.jsx("input",{type:"text",value:a,readOnly:!0,className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 bg-gray-100"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Code :"}),e.jsx("input",{type:"text",value:r,onChange:N=>x(N.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Password :"}),e.jsx("input",{type:"password",value:n,onChange:N=>h(N.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Effectivity Date :"}),e.jsx("input",{type:"date",value:l,onChange:N=>m(N.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Expiry Date :"}),e.jsx("input",{type:"date",value:i,onChange:N=>b(N.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:f,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:s?"Update":"Add"}),e.jsx("button",{onClick:d,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Cancel"})]})]})]})})]}):null}function AQ({isOpen:t,isEditMode:s,empCode:a,dateFrom:r,dateTo:n,restDay1:l,restDay2:i,restDay3:d,onClose:x,onDateFromChange:h,onDateToChange:m,onRestDay1Change:b,onRestDay2Change:f,onRestDay3Change:N,onSubmit:p}){if(o.useEffect(()=>{const y=g=>{g.key==="Escape"&&t&&x()};return t&&document.addEventListener("keydown",y),()=>{document.removeEventListener("keydown",y)}},[t,x]),!t)return null;const v=[{value:"",label:"Select Day"},{value:"Monday",label:"Monday"},{value:"Tuesday",label:"Tuesday"},{value:"Wednesday",label:"Wednesday"},{value:"Thursday",label:"Thursday"},{value:"Friday",label:"Friday"},{value:"Saturday",label:"Saturday"},{value:"Sunday",label:"Sunday"}];return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:x}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:s?"Edit Variable Rest Day":"Add Variable Rest Day"}),e.jsx("button",{onClick:x,className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Variable Rest Day Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"EmpCode :"}),e.jsx("input",{type:"text",value:a,readOnly:!0,className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 bg-gray-100"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date From :"}),e.jsx("input",{type:"date",value:r,onChange:y=>h(y.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date To :"}),e.jsx("input",{type:"date",value:n,onChange:y=>m(y.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Rest Day 1 :"}),e.jsx("select",{value:l,onChange:y=>b(y.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:v.map(y=>e.jsx("option",{value:y.value,children:y.label},y.value))})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Rest Day 2 :"}),e.jsx("select",{value:i,onChange:y=>f(y.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:v.map(y=>e.jsx("option",{value:y.value,children:y.label},y.value))})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Rest Day 3 :"}),e.jsx("select",{value:d,onChange:y=>N(y.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:v.map(y=>e.jsx("option",{value:y.value,children:y.label},y.value))})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:p,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:s?"Update":"Add"}),e.jsx("button",{onClick:x,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Cancel"})]})]})]})})]})}function FQ({isOpen:t,isEditMode:s,empCode:a,dateFrom:r,dateTo:n,shiftCode:l,dailyScheduleCode:i,glCode:d,onClose:x,onDateFromChange:h,onDateToChange:m,onShiftCodeChange:b,onDailyScheduleCodeChange:f,onGLCodeChange:N,onSubmit:p}){return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:x}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl border border-gray-300 w-full max-w-2xl",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsxs("h2",{className:"text-gray-800 text-sm",children:[s?"Edit":"Add"," Variable Workshift"]}),e.jsx("button",{onClick:x,className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-40",children:"Employee Code"}),e.jsx("input",{type:"text",value:a,disabled:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-100"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-40",children:"Date From"}),e.jsx("input",{type:"date",value:r,onChange:v=>h(v.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-40",children:"Date To"}),e.jsx("input",{type:"date",value:n,onChange:v=>m(v.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-40",children:"Shift Code"}),e.jsx("input",{type:"text",value:l,onChange:v=>b(v.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-40",children:"Daily Schedule Code"}),e.jsx("input",{type:"text",value:i,onChange:v=>f(v.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-40",children:"GL Code"}),e.jsx("input",{type:"text",value:d,onChange:v=>N(v.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx("button",{onClick:x,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:p,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:s?"Update":"Save"})]})]})]})})]}):null}function PQ({isOpen:t,isEditMode:s,empCode:a,dateFrom:r,dateTo:n,classificationCode:l,onClose:i,onDateFromChange:d,onDateToChange:x,onClassificationCodeChange:h,onSubmit:m}){return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:i}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl border border-gray-300 w-full max-w-2xl",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsxs("h2",{className:"text-gray-800 text-sm",children:[s?"Edit":"Add"," Variable Classification"]}),e.jsx("button",{onClick:i,className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-40",children:"Employee Code"}),e.jsx("input",{type:"text",value:a,disabled:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-100"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-40",children:"Date From"}),e.jsx("input",{type:"date",value:r,onChange:b=>d(b.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-40",children:"Date To"}),e.jsx("input",{type:"date",value:n,onChange:b=>x(b.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-40",children:"Classification Code"}),e.jsx("input",{type:"text",value:l,onChange:b=>h(b.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx("button",{onClick:i,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:m,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:s?"Update":"Save"})]})]})]})})]}):null}function MQ({isOpen:t,onClose:s,onSelect:a,dailySchedules:r,loading:n}){const[l,i]=o.useState("");if(o.useEffect(()=>{t&&i("")},[t]),!t)return null;const d=r.filter(x=>(x.referenceNo?.toLowerCase()||"").includes(l.toLowerCase()));return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:s}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl border border-gray-300 w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Select Daily Schedule"}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3 overflow-y-auto",style:{maxHeight:"calc(90vh - 50px)"},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:l,onChange:x=>i(x.target.value),placeholder:"Search by reference number...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),n?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading daily schedules..."}):e.jsx("div",{className:"border border-gray-200 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Reference No"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Mon"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Tue"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Wed"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Thu"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Fri"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Sat"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Sun"})]})}),e.jsx("tbody",{children:d.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-3 py-8 text-center text-gray-500",children:"No daily schedules found"})}):d.map(x=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>{a(x.referenceNo),s()},children:[e.jsx("td",{className:"px-3 py-1.5",children:x.referenceNo}),e.jsx("td",{className:"px-3 py-1.5",children:x.monday}),e.jsx("td",{className:"px-3 py-1.5",children:x.tuesday}),e.jsx("td",{className:"px-3 py-1.5",children:x.wednesday}),e.jsx("td",{className:"px-3 py-1.5",children:x.thursday}),e.jsx("td",{className:"px-3 py-1.5",children:x.friday}),e.jsx("td",{className:"px-3 py-1.5",children:x.saturday}),e.jsx("td",{className:"px-3 py-1.5",children:x.sunday})]},x.dailyScheduleID))})]})})]})]})})]})}function IQ(){const[t,s]=o.useState("basic-config"),[a,r]=o.useState(""),[n,l]=o.useState(""),[i,d]=o.useState(""),[x,h]=o.useState(""),[m,b]=o.useState(""),[f,N]=o.useState(""),[p,v]=o.useState(""),[y,g]=o.useState(!1),[j,C]=o.useState(!1),[S,P]=o.useState(!1),[k,E]=o.useState(!1),[M,L]=o.useState([]),[O,q]=o.useState(!1),[B,se]=o.useState(""),[le,pe]=o.useState(null),[U,Y]=o.useState(!1),[W,re]=o.useState(""),[G,R]=o.useState([]),[F,A]=o.useState(!1),[H,D]=o.useState(null),[_,xe]=o.useState(!1),[ge,Ne]=o.useState(!1),[Ce,fe]=o.useState(!1),[ue,Oe]=o.useState(0),[De,Ae]=o.useState(""),[Ee,ze]=o.useState(""),[ot,wt]=o.useState(""),[Ie,ye]=o.useState(""),[be,Me]=o.useState(""),[Re,st]=o.useState(""),[He,Ue]=o.useState(!1),[Ye,ht]=o.useState(!1),[ut,vt]=o.useState(!1),[ve,Le]=o.useState(!1),[he,Ve]=o.useState(!1),[xt,Pt]=o.useState(null),[Lt,It]=o.useState(""),[qe,Nt]=o.useState(""),[gt,dt]=o.useState(""),[kt,Dt]=o.useState(""),[Ge,Ke]=o.useState(""),[ie,ke]=o.useState(""),[me,Ze]=o.useState(!1),[it,_t]=o.useState(!1),[nt,mt]=o.useState(null),[ae,ce]=o.useState(""),[te,z]=o.useState(""),[V,X]=o.useState(!1),[de,_e]=o.useState(!1),[Te,je]=o.useState(null),[J,we]=o.useState(""),[I,Z]=o.useState(""),[Q,We]=o.useState([]),[ft,$t]=o.useState(!1),[yt,$e]=o.useState([]),[bt,ts]=o.useState(!1),[Ts,at]=o.useState(!1),[Jt,jt]=o.useState(!1),[zt,cs]=o.useState(null),[Js,Tt]=o.useState(""),[Ut,hs]=o.useState(""),[Na,ha]=o.useState(""),[ma,Ba]=o.useState(""),[hr,ta]=o.useState(!1),[sa,jr]=o.useState("variable"),[rt,Vt]=o.useState(null),[vs,Ys]=o.useState([]),[Ks,qs]=o.useState(!1),[la,qa]=o.useState(!1),[ia,ca]=o.useState(null),[va,tt]=o.useState(""),[ns,ks]=o.useState(""),[pa,Qs]=o.useState(""),[ja,Fe]=o.useState(""),[At,Mt]=o.useState(""),[fa,Bs]=o.useState(!1),[Ca,Jr]=o.useState("variable"),[cn,dn]=o.useState(null),[Lr,Qr]=o.useState([]),[ao,En]=o.useState(!1),[Rn,Xa]=o.useState(!1),[Ja,ro]=o.useState(null),[Qe,ps]=o.useState(""),[_s,Xt]=o.useState(""),[Ra,Qa]=o.useState(""),[or,wa]=o.useState(""),[lt,Ws]=o.useState(""),[Or,un]=o.useState(""),[no,Ro]=o.useState([]),[Uo,Ho]=o.useState(!1),[Xl,yl]=o.useState(!1),[Nc,_r]=o.useState(!1),[xn,Jl]=o.useState("variable"),[bl,Ei]=o.useState(null),[Wo,Ti]=o.useState([]),[No,jo]=o.useState(!1),[Go,Ai]=o.useState(!1),[$o,vl]=o.useState(null),[zo,Ql]=o.useState(""),[Vo,wl]=o.useState(""),[Ed,Td]=o.useState(""),[Ad,jc]=o.useState(""),[Fd,Cc]=o.useState([]),[J0,Un]=o.useState(!1),[Nl,Pd]=o.useState([]),[Md,oo]=o.useState(!1),[Sc,kc]=o.useState([]),[Id,Zr]=o.useState(!1),Q0="Last122, First A",Z0="Main Monthly",[Fi,Yo]=o.useState(!1),[Zl,jl]=o.useState(""),[ei,eu]=o.useState([]),[Pi,Ld]=o.useState(!1),[Br,Ko]=o.useState(1),[ti]=o.useState(10),[Dc,Mi]=o.useState(""),[Od,Ux]=o.useState(""),[St,Ht]=o.useState(""),[mr,Bv]=o.useState(""),[lo,_d]=o.useState(""),[Hx,pf]=o.useState(""),[Wx,ff]=o.useState(""),[Bd,tu]=o.useState(""),[Gx,Cl]=o.useState(""),[su,Rd]=o.useState(""),[au,gf]=o.useState(""),[Ec,Sl]=o.useState(!1),[ru,yf]=o.useState(""),[Ud,bf]=o.useState(!1),$x=async()=>{Ld(!0);try{const Se=await ne.get("/Fs/Process/PayRollLocationSetUp");Se.status===200&&Se.data&&(console.log("Payroll locations fetched successfully:",Se.data),eu(Se.data))}catch(Se){const Xe=Se.response?.data?.message||Se.message||"Failed to load payroll locations";await ee.fire({icon:"error",title:"Error",text:Xe}),console.error("Error fetching payroll locations:",Se)}finally{Ld(!1)}},zx=async()=>{A(!0);try{const Se=await ne.get("/Fs/Process/GroupScheduleSetUp");Se.status===200&&Se.data&&R(Se.data)}catch(Se){const Xe=Se.response?.data?.message||Se.message||"Failed to load group schedules";console.error("Error fetching group schedules:",Se),await ee.fire({icon:"error",title:"Error",text:Xe})}finally{A(!1)}},Vx=async()=>{q(!0),se("");try{const Se=await ne.get("/Maintenance/EmployeeMasterFile");Se.status===200&&Se.data&&L(Se.data)}catch(Se){const Xe=Se.response?.data?.message||Se.message||"Failed to load employees";se(Xe),console.error("Error fetching employees:",Se)}finally{q(!1)}},Ii=async Se=>{if(Se){Y(!0),re("");try{const Xe=await ne.get("/Maintenance/EmployeeBasicConfiguration",{params:{empCode:Se}});if(Xe.status===200&&Xe.data)if(Xe.data.items&&Xe.data.items.length>0){const Ct=Xe.data.items[0];pe(Ct),E(!1)}else pe(null),E(!0)}catch(Xe){const Ct=Xe.response?.data?.message||Xe.message||"Failed to load basic configuration";re(Ct),console.error("Error fetching basic configuration:",Xe),Xe.response?.status===404&&(pe(null),E(!0))}finally{Y(!1)}}},Tc=async Se=>{if(Se){xe(!0);try{const Xe=await ne.get("/Maintenance/EmployeeExemptions",{params:{empCode:Se}});if(Xe.status===200&&Xe.data)if(Xe.data.items&&Xe.data.items.length>0){const Ct=Xe.data.items[0];D(Ct)}else D({id:0,empCode:Se,tardiness:!1,undertime:!1,nightDiffBasic:!1,overtime:!1,absences:!1,otherEarnAndAllow:!1,holidayPay:!1,unprodWorkHoliday:!1})}catch(Xe){console.error("Error fetching exemptions:",Xe),Xe.response?.status===404&&D({id:0,empCode:Se,tardiness:!1,undertime:!1,nightDiffBasic:!1,overtime:!1,absences:!1,otherEarnAndAllow:!1,holidayPay:!1,unprodWorkHoliday:!1})}finally{xe(!1)}}},Hn=async Se=>{if(Se){$t(!0);try{const Xe=await ne.get("/Maintenance/EmployeeLeaveApplication");if(Xe.status===200&&Xe.data){const is=(Array.isArray(Xe.data)?Xe.data:Xe.data.items||[]).filter(Ls=>(Ls.empCode?.trim()||"").toLowerCase()===Se.trim().toLowerCase()).map(Ls=>({id:Ls.id,empCode:Ls.empCode?.trim()??"",leaveDate:Ls.date?new Date(Ls.date).toLocaleDateString():"N/A",leaveCode:Ls.leaveCode?.trim()??"",hours:Ls.hoursApprovedNum??0,reason:Ls.reason??"No reason provided",remarks:Ls.remarks??"",withPay:Ls.withPay??!1,isLate:Ls.isLateFiling??!1,status:Ls.hoursApprovedNum>0?"Approved":"Pending"}));We(is)}}catch(Xe){console.error("Error fetching/filtering leave applications:",Xe),We([])}finally{$t(!1)}}},si=async Se=>{if(Se){ts(!0);try{const Xe=await ne.get("/Maintenance/EmployeeDeviceCode");if(Xe.status===200&&Xe.data){const is=(Array.isArray(Xe.data)?Xe.data:Xe.data.items||[]).filter(Ls=>(Ls.empCode?.trim()||"").toLowerCase()===Se.trim().toLowerCase());$e(is)}}catch(Xe){console.error("Error fetching device codes:",Xe),$e([])}finally{ts(!1)}}},nu=async Se=>{ts(!0);try{const Xe=await ne.post("/Maintenance/EmployeeDeviceCode",Se);(Xe.status===200||Xe.status===201)&&(await ee.fire({icon:"success",title:"Success",text:"Device code created successfully.",timer:2e3,showConfirmButton:!1}),await si(a),at(!1))}catch(Xe){const Ct=Xe.response?.data?.message||Xe.message||"Failed to create device code";throw await ee.fire({icon:"error",title:"Error",text:Ct}),Xe}finally{ts(!1)}},vf=async(Se,Xe)=>{ts(!0);try{const Ct=await ne.put(`/Maintenance/EmployeeDeviceCode/${Se}`,Xe);(Ct.status===200||Ct.status===204)&&(await ee.fire({icon:"success",title:"Updated!",text:"Device code updated successfully.",timer:2e3,showConfirmButton:!1}),await si(a),at(!1))}catch(Ct){const is=Ct.response?.data?.message||Ct.message||"Failed to update device code";throw await ee.fire({icon:"error",title:"Error",text:is}),Ct}finally{ts(!1)}},wf=async Se=>{if((await ee.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed){ts(!0);try{const Ct=await ne.delete(`/Maintenance/EmployeeDeviceCode/${Se}`);(Ct.status===200||Ct.status===204)&&(await ee.fire({icon:"success",title:"Deleted!",text:"Device code has been deleted.",timer:2e3,showConfirmButton:!1}),await si(a))}catch(Ct){const is=Ct.response?.data?.message||Ct.message||"Failed to delete device code";await ee.fire({icon:"error",title:"Error",text:is})}finally{ts(!1)}}},Ac=async()=>{try{const Se={empCode:a,timeInAndOutCode:Js,timeInAndOutPass:Ut,timeInAndOutEffectDate:Na,timeInAndOutExpiryDate:ma};Jt&&zt!==null?await vf(zt,Se):await nu(Se)}catch(Se){console.error("Error submitting device code:",Se)}},Yx=async Se=>{if(Se){ta(!0);try{const Xe=await ne.get("/Maintenance/EmployeeRestDay/Fixed");if(Xe.status===200&&Xe.data){const is=(Array.isArray(Xe.data)?Xe.data:Xe.data.items||[]).find(Ls=>(Ls.empCode?.trim()||"").toLowerCase()===Se.trim().toLowerCase());is&&(Vt(is),jr(is.isFixed===!0?"fixed":"variable"),console.log(is),Qs(is.fixedRestDay1?.trim()??""),Fe(is.fixedRestDay2?.trim()??""),Mt(is.fixedRestDay3?.trim()??""))}}catch(Xe){console.error("Error fetching rest day fixed:",Xe),Vt(null)}finally{ta(!1)}}},Fc=async Se=>{if(Se){ta(!0);try{const Xe=await ne.get("/Maintenance/EmployeeRestDay/Variable");if(Xe.status===200&&Xe.data){const is=(Array.isArray(Xe.data)?Xe.data:Xe.data.items||[]).filter(Ls=>(Ls.empCode?.trim()||"").toLowerCase()===Se.trim().toLowerCase());Ys(is)}}catch(Xe){console.error("Error fetching rest day variable:",Xe),Ys([])}finally{ta(!1)}}},Hd=async Se=>{await Promise.all([Yx(Se),Fc(Se)])},La=async()=>{const Se={id:rt?.id||0,empCode:a,fixedRestDay1:pa,fixedRestDay2:ja,fixedRestDay3:At,isFixed:!0};ta(!0);try{let Xe;Se.id===0||!Se.id?Xe=await ne.post("/Maintenance/EmployeeRestDay/Fixed",Se):Xe=await ne.put(`/Maintenance/EmployeeRestDay/Fixed/${Se.id}`,Se),(Xe.status===200||Xe.status===201||Xe.status===204)&&(await ee.fire({icon:"success",title:"Success",text:"Fixed rest day saved successfully.",timer:2e3,showConfirmButton:!1}),await Yx(a),P(!1))}catch(Xe){const Ct=Xe.response?.data?.message||Xe.message||"Failed to save fixed rest day";await ee.fire({icon:"error",title:"Error",text:Ct})}finally{ta(!1)}},ou=async Se=>{ta(!0);try{const Xe=await ne.post("/Maintenance/EmployeeRestDay/Variable",Se);(Xe.status===200||Xe.status===201)&&(await ee.fire({icon:"success",title:"Success",text:"Variable rest day created successfully.",timer:2e3,showConfirmButton:!1}),await Fc(a),qs(!1))}catch(Xe){const Ct=Xe.response?.data?.message||Xe.message||"Failed to create variable rest day";await ee.fire({icon:"error",title:"Error",text:Ct})}finally{ta(!1)}},Wd=async(Se,Xe)=>{ta(!0);try{const Ct=await ne.put(`/Maintenance/EmployeeRestDay/Variable/${Se}`,Xe);(Ct.status===200||Ct.status===204)&&(await ee.fire({icon:"success",title:"Updated!",text:"Variable rest day updated successfully.",timer:2e3,showConfirmButton:!1}),await Fc(a),qs(!1))}catch(Ct){const is=Ct.response?.data?.message||Ct.message||"Failed to update variable rest day";await ee.fire({icon:"error",title:"Error",text:is})}finally{ta(!1)}},Pc=async Se=>{if((await ee.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed){ta(!0);try{const Ct=await ne.delete(`/Maintenance/EmployeeRestDay/Variable/${Se}`);(Ct.status===200||Ct.status===204)&&(await ee.fire({icon:"success",title:"Deleted!",text:"Variable rest day has been deleted.",timer:2e3,showConfirmButton:!1}),await Fc(a))}catch(Ct){const is=Ct.response?.data?.message||Ct.message||"Failed to delete variable rest day";await ee.fire({icon:"error",title:"Error",text:is})}finally{ta(!1)}}},Kx=async()=>{try{const Se={empCode:a,datefrom:va,dateTo:ns,restDay1:pa,restDay2:ja,restDay3:At};la&&ia!==null?await Wd(ia,Se):await ou(Se)}catch(Se){console.error("Error submitting rest day:",Se)}},lu=async()=>{Ho(!0);try{const Se=await ne.get("/Fs/Process/Dailyschedule");Se.status===200&&Se.data&&Ro(Se.data)}catch(Se){console.error("Error fetching daily schedules:",Se)}finally{Ho(!1)}},Li=async Se=>{if(Se){Bs(!0);try{const Xe=await ne.get("/Maintenance/EmployeeWorkshiftFixed");if(Xe.status===200&&Xe.data){const is=(Array.isArray(Xe.data)?Xe.data:Xe.data.items||[]).find(Ls=>(Ls.empCode?.trim()||"").toLowerCase()===Se.trim().toLowerCase());is&&(dn(is),Jr(is.isFixed===!0?"fixed":"variable"),un(is.dailySched||""))}}catch(Xe){console.error("Error fetching workshift fixed:",Xe),dn(null)}finally{Bs(!1)}}},ai=async Se=>{if(Se){Bs(!0);try{const Xe=await ne.get("/Maintenance/EmployeeWorkshiftVariable");if(Xe.status===200&&Xe.data){const is=(Array.isArray(Xe.data)?Xe.data:Xe.data.items||[]).filter(Ls=>(Ls.empCode?.trim()||"").toLowerCase()===Se.trim().toLowerCase());Qr(is)}}catch(Xe){console.error("Error fetching workshift variable:",Xe),Qr([])}finally{Bs(!1)}}},qo=async Se=>{await Promise.all([Li(Se),ai(Se)])},qx=async()=>{const Se={id:cn?.id||0,empCode:a,dailySched:Or,isFixed:!0};Bs(!0);try{let Xe;Se.id===0||!Se.id?Xe=await ne.post("/Maintenance/EmployeeWorkshiftFixed",Se):Xe=await ne.put(`/Maintenance/EmployeeWorkshiftFixed/${Se.id}`,Se),(Xe.status===200||Xe.status===201||Xe.status===204)&&(await ee.fire({icon:"success",title:"Success",text:"Fixed workshift saved successfully.",timer:2e3,showConfirmButton:!1}),await Li(a),P(!1))}catch(Xe){const Ct=Xe.response?.data?.message||Xe.message||"Failed to save fixed workshift";await ee.fire({icon:"error",title:"Error",text:Ct})}finally{Bs(!1)}},Nf=async Se=>{Bs(!0);try{const Xe=await ne.post("/Maintenance/EmployeeWorkshiftVariable",Se);(Xe.status===200||Xe.status===201)&&(await ee.fire({icon:"success",title:"Success",text:"Variable workshift created successfully.",timer:2e3,showConfirmButton:!1}),await ai(a),En(!1))}catch(Xe){const Ct=Xe.response?.data?.message||Xe.message||"Failed to create variable workshift";await ee.fire({icon:"error",title:"Error",text:Ct})}finally{Bs(!1)}},jf=async(Se,Xe)=>{Bs(!0);try{const Ct=await ne.put(`/Maintenance/EmployeeWorkshiftVariable/${Se}`,Xe);(Ct.status===200||Ct.status===204)&&(await ee.fire({icon:"success",title:"Updated!",text:"Variable workshift updated successfully.",timer:2e3,showConfirmButton:!1}),await ai(a),En(!1))}catch(Ct){const is=Ct.response?.data?.message||Ct.message||"Failed to update variable workshift";await ee.fire({icon:"error",title:"Error",text:is})}finally{Bs(!1)}},Xx=async Se=>{if((await ee.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed){Bs(!0);try{const Ct=await ne.delete(`/Maintenance/EmployeeWorkshiftVariable/${Se}`);(Ct.status===200||Ct.status===204)&&(await ee.fire({icon:"success",title:"Deleted!",text:"Variable workshift has been deleted.",timer:2e3,showConfirmButton:!1}),await ai(a))}catch(Ct){const is=Ct.response?.data?.message||Ct.message||"Failed to delete variable workshift";await ee.fire({icon:"error",title:"Error",text:is})}finally{Bs(!1)}}},Gd=async()=>{try{const Se={empCode:a,dateFrom:Qe,dateTo:_s,shiftCode:Ra,dailyScheduleCode:or,glCode:lt,updateDate:new Date().toISOString()};Rn&&Ja!==null?await jf(Ja,Se):await Nf(Se)}catch(Se){console.error("Error submitting workshift:",Se)}},Mc=async Se=>{if(Se){_r(!0);try{const Xe=await ne.get("/Maintenance/EmployeeClassification/Fixed");if(Xe.status===200&&Xe.data){const is=(Array.isArray(Xe.data)?Xe.data:Xe.data.items||[]).find(Ls=>(Ls.empCode?.trim()||"").toLowerCase()===Se.trim().toLowerCase());is&&(Ei(is),Jl(is.isFixed===!0?"fixed":"variable"),Td(is.classCode||""))}}catch(Xe){console.error("Error fetching classification fixed:",Xe),Ei(null)}finally{_r(!1)}}},Oi=async Se=>{if(Se){_r(!0);try{const Xe=await ne.get("/Maintenance/EmployeeClassification/Variable");if(Xe.status===200&&Xe.data){const is=(Array.isArray(Xe.data)?Xe.data:Xe.data.items||[]).filter(Ls=>(Ls.empCode?.trim()||"").toLowerCase()===Se.trim().toLowerCase());Ti(is)}}catch(Xe){console.error("Error fetching classification variable:",Xe),Ti([])}finally{_r(!1)}}},_i=async Se=>{await Promise.all([Mc(Se),Oi(Se)])},iu=async()=>{const Se={id:bl?.id||0,empCode:a,classCode:Ed,isFixed:!0};_r(!0);try{let Xe;Se.id===0||!Se.id?Xe=await ne.post("/Maintenance/EmployeeClassification/Fixed",Se):Xe=await ne.put(`/Maintenance/EmployeeClassification/Fixed/${Se.id}`,Se),(Xe.status===200||Xe.status===201||Xe.status===204)&&(await ee.fire({icon:"success",title:"Success",text:"Fixed classification saved successfully.",timer:2e3,showConfirmButton:!1}),await Mc(a),P(!1))}catch(Xe){const Ct=Xe.response?.data?.message||Xe.message||"Failed to save fixed classification";await ee.fire({icon:"error",title:"Error",text:Ct})}finally{_r(!1)}},cu=async Se=>{_r(!0);try{const Xe=await ne.post("/Maintenance/EmployeeClassification/Variable",Se);(Xe.status===200||Xe.status===201)&&(await ee.fire({icon:"success",title:"Success",text:"Variable classification created successfully.",timer:2e3,showConfirmButton:!1}),await Oi(a),jo(!1))}catch(Xe){const Ct=Xe.response?.data?.message||Xe.message||"Failed to create variable classification";await ee.fire({icon:"error",title:"Error",text:Ct})}finally{_r(!1)}},Cf=async(Se,Xe)=>{_r(!0);try{const Ct=await ne.put(`/Maintenance/EmployeeClassification/Variable/${Se}`,Xe);(Ct.status===200||Ct.status===204)&&(await ee.fire({icon:"success",title:"Updated!",text:"Variable classification updated successfully.",timer:2e3,showConfirmButton:!1}),await Oi(a),jo(!1))}catch(Ct){const is=Ct.response?.data?.message||Ct.message||"Failed to update variable classification";await ee.fire({icon:"error",title:"Error",text:is})}finally{_r(!1)}},Jx=async Se=>{if((await ee.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed){_r(!0);try{const Ct=await ne.delete(`/Maintenance/EmployeeClassification/Variable/${Se}`);(Ct.status===200||Ct.status===204)&&(await ee.fire({icon:"success",title:"Deleted!",text:"Variable classification has been deleted.",timer:2e3,showConfirmButton:!1}),await Oi(a))}catch(Ct){const is=Ct.response?.data?.message||Ct.message||"Failed to delete variable classification";await ee.fire({icon:"error",title:"Error",text:is})}finally{_r(!1)}}},Sf=async()=>{try{const Se={empCode:a,dateFrom:zo,dateTo:Vo,classCode:Ad};Go&&$o!==null?await Cf($o,Se):await cu(Se)}catch(Se){console.error("Error submitting classification:",Se)}},Ic=async Se=>{if(Se){Un(!0);try{const Xe=await ne.get("/Maintenance/EmployeeOvertimeApplication");if(Xe.status===200&&Xe.data){const is=(Array.isArray(Xe.data)?Xe.data:Xe.data.items||[]).filter(Ls=>(Ls.empCode?.trim()||"").toLowerCase()===Se.trim().toLowerCase());Cc(is)}}catch(Xe){console.error("Error fetching overtime applications:",Xe),Cc([])}finally{Un(!1)}}},du=async Se=>{Un(!0);try{const Xe=await ne.post("/Maintenance/EmployeeOvertimeApplication",Se);(Xe.status===200||Xe.status===201)&&(await ee.fire({icon:"success",title:"Success",text:"Overtime application created successfully.",timer:2e3,showConfirmButton:!1}),await Ic(a))}catch(Xe){const Ct=Xe.response?.data?.message||Xe.message||"Failed to create overtime application";throw await ee.fire({icon:"error",title:"Error",text:Ct}),Xe}finally{Un(!1)}},kl=async(Se,Xe)=>{Un(!0);try{const Ct=await ne.put(`/Maintenance/EmployeeOvertimeApplication/${Se}`,Xe);(Ct.status===200||Ct.status===204)&&(await ee.fire({icon:"success",title:"Updated!",text:"Overtime application updated successfully.",timer:2e3,showConfirmButton:!1}),await Ic(a))}catch(Ct){const is=Ct.response?.data?.message||Ct.message||"Failed to update overtime application";throw await ee.fire({icon:"error",title:"Error",text:is}),Ct}finally{Un(!1)}},Qx=async Se=>{if((await ee.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed){Un(!0);try{const Ct=await ne.delete(`/Maintenance/EmployeeOvertimeApplication/${Se}`);(Ct.status===200||Ct.status===204)&&(await ee.fire({icon:"success",title:"Deleted!",text:"Overtime application has been deleted.",timer:2e3,showConfirmButton:!1}),await Ic(a))}catch(Ct){const is=Ct.response?.data?.message||Ct.message||"Failed to delete overtime application";await ee.fire({icon:"error",title:"Error",text:is})}finally{Un(!1)}}},Bi=async()=>{try{const Se={empCode:a,date:Dc,numOTHoursApproved:parseFloat(Od)||0,earlyOTStartTime:St,earlyTimeIn:mr,startOTPM:lo,minHRSOTBreak:parseFloat(Hx)||0,earlyOTStartTimeRestHol:Wx,reason:Bd,remarks:Gx,approvedOTBreaksHrs:parseFloat(su)||0,stotats:au,isLateFiling:Ec,isLateFilingProcessed:!1,appliedBeforeShiftDate:ru,isOTBeforeShiftNextDay:Ud};he&&xt!==null?await kl(xt,Se):await du(Se),Le(!1)}catch(Se){console.error("Error submitting overtime application:",Se)}},hn=async Se=>{if(Se){oo(!0);try{const Xe=await ne.get("/Maintenance/EmployeeContractual");if(Xe.status===200&&Xe.data){const is=(Array.isArray(Xe.data)?Xe.data:Xe.data.items||[]).filter(Ls=>(Ls.empCode?.trim()||"").toLowerCase()===Se.trim().toLowerCase());Pd(is)}}catch(Xe){console.error("Error fetching contractual records:",Xe),Pd([])}finally{oo(!1)}}},Lc=async Se=>{oo(!0);try{const Xe=await ne.post("/Maintenance/EmployeeContractual",Se);(Xe.status===200||Xe.status===201)&&(await ee.fire({icon:"success",title:"Success",text:"Contractual record created successfully.",timer:2e3,showConfirmButton:!1}),await hn(a))}catch(Xe){const Ct=Xe.response?.data?.message||Xe.message||"Failed to create contractual record";throw await ee.fire({icon:"error",title:"Error",text:Ct}),Xe}finally{oo(!1)}},Xo=async(Se,Xe)=>{oo(!0);try{const Ct=await ne.put(`/Maintenance/EmployeeContractual/${Se}`,Xe);(Ct.status===200||Ct.status===204)&&(await ee.fire({icon:"success",title:"Updated!",text:"Contractual record updated successfully.",timer:2e3,showConfirmButton:!1}),await hn(a))}catch(Ct){const is=Ct.response?.data?.message||Ct.message||"Failed to update contractual record";throw await ee.fire({icon:"error",title:"Error",text:is}),Ct}finally{oo(!1)}},uu=async Se=>{if((await ee.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed){oo(!0);try{const Ct=await ne.delete(`/Maintenance/EmployeeContractual/${Se}`);(Ct.status===200||Ct.status===204)&&(await ee.fire({icon:"success",title:"Deleted!",text:"Contractual record has been deleted.",timer:2e3,showConfirmButton:!1}),await hn(a))}catch(Ct){const is=Ct.response?.data?.message||Ct.message||"Failed to delete contractual record";await ee.fire({icon:"error",title:"Error",text:is})}finally{oo(!1)}}},kf=async()=>{try{const Se={empCode:a,dateFr:ae,dateTo:te};it&&nt!==null?await Xo(nt,Se):await Lc(Se),Ze(!1)}catch(Se){console.error("Error submitting contractual:",Se)}},Oc=async Se=>{if(Se){Zr(!0);try{const Xe=await ne.get("/Maintenance/EmployeeSuspension");if(Xe.status===200&&Xe.data){const is=(Array.isArray(Xe.data)?Xe.data:Xe.data.items||[]).filter(Ls=>(Ls.empCode?.trim()||"").toLowerCase()===Se.trim().toLowerCase());kc(is)}}catch(Xe){console.error("Error fetching suspension records:",Xe),kc([])}finally{Zr(!1)}}},ri=async Se=>{Zr(!0);try{const Xe=await ne.post("/Maintenance/EmployeeSuspension",Se);(Xe.status===200||Xe.status===201)&&(await ee.fire({icon:"success",title:"Success",text:"Suspension record created successfully.",timer:2e3,showConfirmButton:!1}),await Oc(a))}catch(Xe){const Ct=Xe.response?.data?.message||Xe.message||"Failed to create suspension record";throw await ee.fire({icon:"error",title:"Error",text:Ct}),Xe}finally{Zr(!1)}},_c=async(Se,Xe)=>{Zr(!0);try{const Ct=await ne.put(`/Maintenance/EmployeeSuspension/${Se}`,Xe);(Ct.status===200||Ct.status===204)&&(await ee.fire({icon:"success",title:"Updated!",text:"Suspension record updated successfully.",timer:2e3,showConfirmButton:!1}),await Oc(a))}catch(Ct){const is=Ct.response?.data?.message||Ct.message||"Failed to update suspension record";throw await ee.fire({icon:"error",title:"Error",text:is}),Ct}finally{Zr(!1)}},Ri=async Se=>{if((await ee.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed){Zr(!0);try{const Ct=await ne.delete(`/Maintenance/EmployeeSuspension/${Se}`);(Ct.status===200||Ct.status===204)&&(await ee.fire({icon:"success",title:"Deleted!",text:"Suspension record has been deleted.",timer:2e3,showConfirmButton:!1}),await Oc(a))}catch(Ct){const is=Ct.response?.data?.message||Ct.message||"Failed to delete suspension record";await ee.fire({icon:"error",title:"Error",text:is})}finally{Zr(!1)}}},$d=async()=>{try{const Se={empCode:a,dateFrom:J,dateTo:I};de&&Te!==null?await _c(Te,Se):await ri(Se),X(!1)}catch(Se){console.error("Error submitting suspension:",Se)}},xu=async Se=>{Y(!0);try{const Xe=await ne.post("/Maintenance/EmployeeBasicConfiguration",Se);(Xe.status===200||Xe.status===201)&&(await ee.fire({icon:"success",title:"Success",text:"Basic configuration created successfully.",timer:2e3,showConfirmButton:!1}),await Ii(a),P(!1),E(!1))}catch(Xe){const Ct=Xe.response?.data?.message||Xe.message||"Failed to create basic configuration";throw await ee.fire({icon:"error",title:"Oops...",text:Ct}),Xe}finally{Y(!1)}},Ui=async(Se,Xe)=>{Y(!0);try{const Ct=await ne.put(`/Maintenance/EmployeeBasicConfiguration/${Se}`,Xe);(Ct.status===200||Ct.status===204)&&(await ee.fire({icon:"success",title:"Updated!",text:"Basic configuration updated successfully.",timer:2e3,showConfirmButton:!1}),await Ii(a),P(!1))}catch(Ct){const is=Ct.response?.data?.message||Ct.message||"Failed to update basic configuration";throw await ee.fire({icon:"error",title:"Update Failed",text:is}),Ct}finally{Y(!1)}},Dl=async()=>{if(H){xe(!0);try{let Se;H.id===0?Se=await ne.post("/Maintenance/EmployeeExemptions",H):Se=await ne.put(`/Maintenance/EmployeeExemptions/${H.id}`,H),(Se.status===200||Se.status===201||Se.status===204)&&(await ee.fire({icon:"success",title:"Success",text:"Exemptions saved successfully.",timer:2e3,showConfirmButton:!1}),await Tc(a),P(!1))}catch(Se){const Xe=Se.response?.data?.message||Se.message||"Failed to save exemptions";await ee.fire({icon:"error",title:"Error",text:Xe})}finally{xe(!1)}}},Oa=async Se=>{$t(!0);try{const Xe=await ne.post("/Maintenance/EmployeeLeaveApplication",Se);(Xe.status===200||Xe.status===201)&&(await ee.fire({icon:"success",title:"Success",text:"Leave application created successfully.",timer:2e3,showConfirmButton:!1}),await Hn(a))}catch(Xe){const Ct=Xe.response?.data?.message||Xe.message||"Failed to create leave application";throw await ee.fire({icon:"error",title:"Error",text:Ct}),Xe}finally{$t(!1)}},Fa=async(Se,Xe)=>{$t(!0);try{const Ct={...Xe,id:Se,balanceID:Xe.balanceID===""?null:Xe.balanceID,date:Xe.date?new Date(Xe.date).toISOString():null};console.log("Sending Cleaned Payload:",Ct);const is=await ne.put(`/Maintenance/EmployeeLeaveApplication/${Se}`,Ct);(is.status===200||is.status===204)&&(await ee.fire({icon:"success",title:"Updated!",text:"Leave application updated successfully.",timer:2e3,showConfirmButton:!1}),await Hn(a))}catch(Ct){console.error("Backend Error Details:",Ct.response?.data?.errors);const is=Ct.response?.data?.message||Ct.message||"Failed to update leave application";throw await ee.fire({icon:"error",title:"Error",text:is}),Ct}finally{$t(!1)}},El=async Se=>{if((await ee.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed){$t(!0);try{const Ct=await ne.delete(`/Maintenance/EmployeeLeaveApplication/${Se}`);(Ct.status===200||Ct.status===204)&&(await ee.fire({icon:"success",title:"Deleted!",text:"Leave application has been deleted.",timer:2e3,showConfirmButton:!1}),await Hn(a))}catch(Ct){const is=Ct.response?.data?.message||Ct.message||"Failed to delete leave application";await ee.fire({icon:"error",title:"Error",text:is})}finally{$t(!1)}}},lr=ei.filter(Se=>(Se.locCode?.toLowerCase()||"").includes(Zl.toLowerCase())||(Se.locName?.toLowerCase()||"").includes(Zl.toLowerCase())),Wa=Math.ceil(lr.length/ti),Jo=(Br-1)*ti,ni=Jo+ti,en=lr.slice(Jo,ni),zd=()=>{const Se=[];if(Wa<=5)for(let Ct=1;Ct<=Wa;Ct++)Se.push(Ct);else if(Br<=3){for(let Ct=1;Ct<=4;Ct++)Se.push(Ct);Se.push("..."),Se.push(Wa)}else if(Br>=Wa-2){Se.push(1),Se.push("...");for(let Ct=Wa-3;Ct<=Wa;Ct++)Se.push(Ct)}else Se.push(1),Se.push("..."),Se.push(Br-1),Se.push(Br),Se.push(Br+1),Se.push("..."),Se.push(Wa);return Se},Zx=(Se,Xe)=>{l(Se),d(Xe),Yo(!1),jl(""),Ko(1)},eh=Se=>{Ko(Se)},Vd=()=>{Br>1&&Ko(Br-1)},th=()=>{Br<Wa&&Ko(Br+1)},Qo=o.useMemo(()=>M.map(Se=>({...Se,name:`${Se.lName}, ${Se.fName}`,groupCode:Se.grpCode})),[M]),Yd=async(Se,Xe)=>{try{const Ct=M.find(is=>is.empCode===Se);if(!Ct){console.error("Employee not found:",Se),await ee.fire({icon:"error",title:"Error",text:"Employee not found"});return}r(Se),l(Ct.grpCode),g(!1),await Promise.all([Ii(Se),Tc(Se),Hn(Se),si(Se),Hd(Se),qo(Se),_i(Se),Ic(Se),hn(Se),Oc(Se),qo(Se),_i(Se)])}catch(Ct){console.error("Error loading employee:",Ct),await ee.fire({icon:"error",title:"Error",text:"Failed to load employee details"})}},hu=async()=>{try{if(!a){await ee.fire({icon:"warning",title:"Warning",text:"Please select an employee first"});return}if(t==="basic-config"){const Se={empCode:a,groupCode:n,groupScheduleCode:le?.groupScheduleCode||"",allowOTDefault:le?.allowOTDefault||!1,active:le?.active??!0,compAllowFrRDExmpOT:le?.compAllowFrRDExmpOT||!1,compAllowFrHolExmpOT:le?.compAllowFrHolExmpOT||!1,timeAttendanceStatus:le?.timeAttendanceStatus||!1};k||!le?await xu(Se):await Ui(le.id,Se)}else t==="exemptions"?await Dl():t==="rest-day"&&sa==="fixed"?await La():t==="workshift"&&Ca==="fixed"?await qx():t==="classification"&&xn==="fixed"&&await iu()}catch(Se){console.error("Error saving:",Se)}},sh=()=>{P(!1),a&&(t==="basic-config"?Ii(a):t==="exemptions"?Tc(a):t==="rest-day"?Hd(a):t==="workshift"?qo(a):t==="classification"&&_i(a))},Df=()=>{P(!0)},mn=(Se,Xe)=>{pe(Ct=>Ct?{...Ct,[Se]:Xe}:{id:0,empCode:a,groupCode:n,groupScheduleCode:"",allowOTDefault:!1,active:!0,compAllowFrRDExmpOT:!1,compAllowFrHolExmpOT:!1,timeAttendanceStatus:!1,[Se]:Xe})},Tn=(Se,Xe)=>{D(Ct=>Ct?{...Ct,[Se]:Xe}:null)},Hi=async()=>{try{const Se={empCode:a,date:De,hoursApprovedNum:parseFloat(Ee)||0,leaveCode:ot,period:Ie,reason:be,remarks:Re,withPay:He,sssNotif:Ye,isProcSSSNotif:!1,balanceID:"",isLateFiling:ut,isLateFilingProcessed:!1,exemptAllowFlag:!1};Ce&&ue!==0?await Fa(ue,Se):await Oa(Se),Ne(!1)}catch(Se){console.error("Error submitting leave application:",Se)}},Kd=async Se=>{await El(Se)},qd=async Se=>{await Qx(Se)},Wn=async Se=>{await uu(Se)},Gn=async Se=>{await Ri(Se)};o.useEffect(()=>{$x(),Vx(),zx(),lu()},[]),o.useEffect(()=>{if(a)switch(t){case"basic-config":Ii(a);break;case"exemptions":Tc(a);break;case"device-code":si(a);break;case"rest-day":Hd(a);break;case"workshift":qo(a);break;case"classification":_i(a);break;case"leave-applications":Hn(a);break;case"overtime-applications":Ic(a);break;case"contractual":hn(a);break;case"suspension":Oc(a);break}},[a,t]),o.useEffect(()=>{Ko(1)},[Zl]),o.useEffect(()=>{const Se=Xe=>{Xe.key==="Escape"&&(y?g(!1):Fi?Yo(!1):j?C(!1):Ts?at(!1):Ks?qs(!1):ve?Le(!1):me?Ze(!1):V?X(!1):ao?En(!1):No?jo(!1):Xl&&yl(!1))};return(y||Fi||j||Ts||Ks||ve||me||V)&&document.addEventListener("keydown",Se),()=>{document.removeEventListener("keydown",Se)}},[y,Fi,j,Ts,Ks,ve,me,V]);const oi=[{id:"basic-config",label:"Basic Configuration",icon:wx},{id:"exemptions",label:"Exemptions",icon:uF},{id:"device-code",label:"Device Code",icon:GF},{id:"rest-day",label:"Rest Day",icon:ds},{id:"workshift",label:"Workshift",icon:xa},{id:"classification",label:"Classification",icon:gC},{id:"leave-applications",label:"Leave Applications",icon:vi},{id:"overtime-applications",label:"Overtime Applications",icon:Nb},{id:"contractual",label:"Contractual",icon:iF},{id:"suspension",label:"Suspension",icon:xC}],Zo=()=>{switch(t){case"basic-config":return"Employee Basic Configuration";case"exemptions":return"Employee Exemptions";case"device-code":return"Employee Device Code";case"rest-day":return"Employee Rest Day";case"workshift":return"Employee Workshift";case"classification":return"Employee Classification";case"leave-applications":return"Employee Leave Applications";case"overtime-applications":return"Employee Overtime Applications";case"contractual":return"Employee Contractual";case"suspension":return"Employee Suspension";default:return"Employee Timekeep Configuration"}},el=()=>{switch(t){case"basic-config":return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:U?e.jsx("div",{className:"text-center py-8",children:"Loading configuration..."}):W?e.jsx("div",{className:"text-center py-8 text-red-600",children:W}):e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-80",children:"GroupScheduleCode"}),e.jsx("input",{type:"text",value:le?.groupScheduleCode||"",onChange:Se=>mn("groupScheduleCode",Se.target.value),disabled:!0,className:"w-64 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-100 cursor-pointer",onClick:()=>S&&C(!0)}),S&&e.jsxs("button",{onClick:()=>C(!0),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx(Gt,{className:"w-4 h-4"}),"Browse"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-80",children:"AllowOTDefault"}),e.jsx("input",{type:"checkbox",checked:le?.allowOTDefault||!1,onChange:Se=>mn("allowOTDefault",Se.target.checked),disabled:!S,className:"w-4 h-4 accent-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-100"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-80",children:"Active"}),e.jsx("input",{type:"checkbox",checked:le?.active??!0,onChange:Se=>mn("active",Se.target.checked),disabled:!S,className:"w-4 h-4 accent-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-100"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-80",children:"Worked Rest Day Allowance Not based on Computed OT"}),e.jsx("input",{type:"checkbox",checked:le?.compAllowFrRDExmpOT||!1,onChange:Se=>mn("compAllowFrRDExmpOT",Se.target.checked),disabled:!S,className:"w-4 h-4 accent-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-100"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-80",children:"Worked Holiday Allowance Not based on Computed OT"}),e.jsx("input",{type:"checkbox",checked:le?.compAllowFrHolExmpOT||!1,onChange:Se=>mn("compAllowFrHolExmpOT",Se.target.checked),disabled:!S,className:"w-4 h-4 accent-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-100"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-80",children:"TimeAttendanceStatus"}),e.jsx("input",{type:"checkbox",checked:le?.timeAttendanceStatus||!1,onChange:Se=>mn("timeAttendanceStatus",Se.target.checked),disabled:!S,className:"w-4 h-4 accent-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-100"})]}),k&&e.jsx("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsx("p",{className:"text-yellow-800 text-sm",children:"No configuration found for this employee. Click Save to create a new configuration."})})]})});case"exemptions":return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:_?e.jsx("div",{className:"text-center py-8",children:"Loading exemptions..."}):e.jsxs("div",{className:"grid grid-cols-2 gap-x-24 gap-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:H?.tardiness||!1,onChange:Se=>Tn("tardiness",Se.target.checked),disabled:!S,className:"w-4 h-4 accent-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-100"}),e.jsx("label",{className:"text-gray-700",children:"Tardiness"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:H?.absences||!1,onChange:Se=>Tn("absences",Se.target.checked),disabled:!S,className:"w-4 h-4 accent-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-100"}),e.jsx("label",{className:"text-gray-700",children:"Absences"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:H?.undertime||!1,onChange:Se=>Tn("undertime",Se.target.checked),disabled:!S,className:"w-4 h-4 accent-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-100"}),e.jsx("label",{className:"text-gray-700",children:"Undertime"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:H?.otherEarnAndAllow||!1,onChange:Se=>Tn("otherEarnAndAllow",Se.target.checked),disabled:!S,className:"w-4 h-4 accent-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-100"}),e.jsx("label",{className:"text-gray-700",children:"Other Earn And Allowance"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:H?.nightDiffBasic||!1,onChange:Se=>Tn("nightDiffBasic",Se.target.checked),disabled:!S,className:"w-4 h-4 accent-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-100"}),e.jsx("label",{className:"text-gray-700",children:"Night Diff Basic"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:H?.holidayPay||!1,onChange:Se=>Tn("holidayPay",Se.target.checked),disabled:!S,className:"w-4 h-4 accent-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-100"}),e.jsx("label",{className:"text-gray-700",children:"HolidayPay"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:H?.overtime||!1,onChange:Se=>Tn("overtime",Se.target.checked),disabled:!S,className:"w-4 h-4 accent-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-100"}),e.jsx("label",{className:"text-gray-700",children:"Overtime"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:H?.unprodWorkHoliday||!1,onChange:Se=>Tn("unprodWorkHoliday",Se.target.checked),disabled:!S,className:"w-4 h-4 accent-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-100"}),e.jsx("label",{className:"text-gray-700",children:"Unproductive Work Holiday"})]})]})});case"leave-applications":return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{children:e.jsxs("button",{onClick:()=>{fe(!1),Oe(0),Ae(""),ze(""),wt(""),ye(""),Me(""),st(""),Ue(!1),ht(!1),vt(!1),Ne(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:ft?e.jsx("div",{className:"text-center py-8",children:"Loading leave applications..."}):e.jsx(e.Fragment,{children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Hours Approved"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Leave Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Period"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Reason"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Remarks"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"With Pay"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"SSS Notification"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Late Filing"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:Q.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:10,className:"px-6 py-8 text-center text-gray-500",children:"No leave applications found"})}):Q.map(Se=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-3 text-gray-900",children:new Date(Se.date).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Se.hoursApprovedNum}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Se.leaveCode}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Se.period}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Se.reason}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Se.remarks}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Se.withPay?"Yes":"No"}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Se.sssNotif?"Yes":"No"}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Se.isLateFiling?"Yes":"No"}),e.jsx("td",{className:"px-6 py-3",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>{const Xe=Se.date?new Date(Se.date):null,Ct=Xe&&!isNaN(Xe.getTime());fe(!0),Oe(Se.id),Ae(Ct?Xe.toISOString().split("T")[0]:""),ze(Se.hoursApprovedNum?.toString()??"0"),wt(Se.leaveCode?.trim()??""),ye(Se.period??""),Me(Se.reason??""),st(Se.remarks??""),Ue(Se.withPay??!1),ht(Se.sssNotif??!1),vt(Se.isLateFiling??!1),Ne(!0)},className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",children:e.jsx(ws,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>Kd(Se.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},Se.id))})]})})})]})});case"device-code":return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:bt?e.jsx("div",{className:"text-center py-8",children:"Loading device codes..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{children:e.jsxs("button",{onClick:()=>{jt(!1),cs(null),Tt(""),hs(""),ha(""),Ba(""),at(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(fs,{className:"w-4 h-4"}),"Add"]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date From"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date To"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:yt.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500",children:"No device codes found"})}):yt.map(Se=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Se.timeInAndOutEffectDate?new Date(Se.timeInAndOutEffectDate).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Se.timeInAndOutExpiryDate?new Date(Se.timeInAndOutExpiryDate).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Se.timeInAndOutCode}),e.jsx("td",{className:"px-6 py-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{jt(!0),cs(Se.id),Tt(Se.timeInAndOutCode||""),hs(Se.timeInAndOutPass||""),ha(Se.timeInAndOutEffectDate?new Date(Se.timeInAndOutEffectDate).toISOString().split("T")[0]:""),Ba(Se.timeInAndOutExpiryDate?new Date(Se.timeInAndOutExpiryDate).toISOString().split("T")[0]:""),at(!0)},className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",children:e.jsx(ws,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>wf(Se.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},Se.id))})]})})]})});case"rest-day":return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:hr?e.jsx("div",{className:"text-center py-8",children:"Loading rest days..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"radio",id:"rest-day-fixed",checked:sa==="fixed",onChange:()=>jr("fixed"),disabled:!S,className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500 disabled:cursor-not-allowed"}),e.jsx("label",{htmlFor:"rest-day-fixed",className:"text-gray-700",children:"Fixed"})]}),sa==="fixed"&&e.jsx("div",{className:"ml-7 bg-gray-50 rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-24",children:"Rest Day 1"}),e.jsxs("select",{value:pa,onChange:Se=>Qs(Se.target.value),disabled:!S,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed",children:[e.jsx("option",{value:"",children:"Select Day"}),e.jsx("option",{value:"Monday",children:"Monday"}),e.jsx("option",{value:"Tuesday",children:"Tuesday"}),e.jsx("option",{value:"Wednesday",children:"Wednesday"}),e.jsx("option",{value:"Thursday",children:"Thursday"}),e.jsx("option",{value:"Friday",children:"Friday"}),e.jsx("option",{value:"Saturday",children:"Saturday"}),e.jsx("option",{value:"Sunday",children:"Sunday"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-24",children:"Rest Day 2"}),e.jsxs("select",{value:ja,onChange:Se=>Fe(Se.target.value),disabled:!S,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed",children:[e.jsx("option",{value:"",children:"Select Day"}),e.jsx("option",{value:"Monday",children:"Monday"}),e.jsx("option",{value:"Tuesday",children:"Tuesday"}),e.jsx("option",{value:"Wednesday",children:"Wednesday"}),e.jsx("option",{value:"Thursday",children:"Thursday"}),e.jsx("option",{value:"Friday",children:"Friday"}),e.jsx("option",{value:"Saturday",children:"Saturday"}),e.jsx("option",{value:"Sunday",children:"Sunday"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-24",children:"Rest Day 3"}),e.jsxs("select",{value:At,onChange:Se=>Mt(Se.target.value),disabled:!S,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed",children:[e.jsx("option",{value:"",children:"Select Day"}),e.jsx("option",{value:"Monday",children:"Monday"}),e.jsx("option",{value:"Tuesday",children:"Tuesday"}),e.jsx("option",{value:"Wednesday",children:"Wednesday"}),e.jsx("option",{value:"Thursday",children:"Thursday"}),e.jsx("option",{value:"Friday",children:"Friday"}),e.jsx("option",{value:"Saturday",children:"Saturday"}),e.jsx("option",{value:"Sunday",children:"Sunday"})]})]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"radio",id:"rest-day-variable",checked:sa==="variable",onChange:()=>jr("variable"),disabled:!S,className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500 disabled:cursor-not-allowed"}),e.jsx("label",{htmlFor:"rest-day-variable",className:"text-gray-700",children:"Variable"})]}),sa==="variable"&&e.jsxs("div",{className:"ml-7 space-y-4",children:[e.jsx("div",{children:e.jsxs("button",{onClick:()=>{qa(!1),ca(null),tt(""),ks(""),Qs(""),Fe(""),Mt(""),qs(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(fs,{className:"w-4 h-4"}),"Add"]})}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"From"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"To"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Rest Day 1"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Rest Day 2"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Rest Day 3"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:vs.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"No variable rest day records found"})}):vs.map(Se=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Se.datefrom?new Date(Se.datefrom).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Se.dateTo?new Date(Se.dateTo).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Se.restDay1}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Se.restDay2}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Se.restDay3}),e.jsx("td",{className:"px-6 py-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{qa(!0),ca(Se.id),tt(Se.datefrom?new Date(Se.datefrom).toISOString().split("T")[0]:""),ks(Se.dateTo?new Date(Se.dateTo).toISOString().split("T")[0]:""),Qs(Se.restDay1||""),Fe(Se.restDay2||""),Mt(Se.restDay3||""),qs(!0)},className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",children:e.jsx(ws,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>Pc(Se.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},Se.id))})]})})]})]})]})});case"workshift":return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:fa?e.jsx("div",{className:"text-center py-8",children:"Loading workshifts..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"radio",id:"workshift-fixed",checked:Ca==="fixed",onChange:()=>Jr("fixed"),disabled:!S,className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500 disabled:cursor-not-allowed"}),e.jsx("label",{htmlFor:"workshift-fixed",className:"text-gray-700",children:"Fixed"})]}),Ca==="fixed"&&e.jsx("div",{className:"ml-7 bg-gray-50 rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center gap-3 max-w-md",children:[e.jsx("label",{className:"text-gray-700 w-32",children:"Daily Schedule"}),e.jsx("input",{type:"text",value:Or,disabled:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-100 cursor-pointer",onClick:()=>S&&yl(!0)}),S&&e.jsxs("button",{onClick:()=>yl(!0),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx(Gt,{className:"w-4 h-4"}),"Search"]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"radio",id:"workshift-variable",checked:Ca==="variable",onChange:()=>Jr("variable"),disabled:!S,className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500 disabled:cursor-not-allowed"}),e.jsx("label",{htmlFor:"workshift-variable",className:"text-gray-700",children:"Variable"})]}),Ca==="variable"&&e.jsxs("div",{className:"ml-7 space-y-4",children:[e.jsx("div",{children:e.jsxs("button",{onClick:()=>{Xa(!1),ro(null),ps(""),Xt(""),Qa(""),wa(""),Ws(""),En(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(fs,{className:"w-4 h-4"}),"Add"]})}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date From"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date To"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Shift Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Daily Schedule Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"GL Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:Lr.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"No variable workshift records found"})}):Lr.map(Se=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Se.dateFrom?new Date(Se.dateFrom).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Se.dateTo?new Date(Se.dateTo).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Se.shiftCode}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Se.dailyScheduleCode}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Se.glCode}),e.jsx("td",{className:"px-6 py-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{Xa(!0),ro(Se.id),ps(Se.dateFrom?new Date(Se.dateFrom).toISOString().split("T")[0]:""),Xt(Se.dateTo?new Date(Se.dateTo).toISOString().split("T")[0]:""),Qa(Se.shiftCode||""),wa(Se.dailyScheduleCode||""),Ws(Se.glCode||""),En(!0)},className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",children:e.jsx(ws,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>Xx(Se.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},Se.id))})]})})]})]})]})});case"classification":return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:Nc?e.jsx("div",{className:"text-center py-8",children:"Loading classifications..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"radio",id:"classification-fixed",checked:xn==="fixed",onChange:()=>Jl("fixed"),disabled:!S,className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500 disabled:cursor-not-allowed"}),e.jsx("label",{htmlFor:"classification-fixed",className:"text-gray-700",children:"Fixed"})]}),xn==="fixed"&&e.jsx("div",{className:"ml-7 bg-gray-50 rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center gap-3 max-w-md",children:[e.jsx("label",{className:"text-gray-700 w-40",children:"Classification Code"}),e.jsx("input",{type:"text",value:Ed,onChange:Se=>Td(Se.target.value),disabled:!S,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed"})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"radio",id:"classification-variable",checked:xn==="variable",onChange:()=>Jl("variable"),disabled:!S,className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500 disabled:cursor-not-allowed"}),e.jsx("label",{htmlFor:"classification-variable",className:"text-gray-700",children:"Variable"})]}),xn==="variable"&&e.jsxs("div",{className:"ml-7 space-y-4",children:[e.jsx("div",{children:e.jsxs("button",{onClick:()=>{Ai(!1),vl(null),Ql(""),wl(""),jc(""),jo(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(fs,{className:"w-4 h-4"}),"Add"]})}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date From"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date To"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Classification Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:Wo.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500",children:"No variable classification records found"})}):Wo.map(Se=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Se.dateFrom?new Date(Se.dateFrom).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Se.dateTo?new Date(Se.dateTo).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Se.classCode}),e.jsx("td",{className:"px-6 py-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{Ai(!0),vl(Se.id),Ql(Se.dateFrom?new Date(Se.dateFrom).toISOString().split("T")[0]:""),wl(Se.dateTo?new Date(Se.dateTo).toISOString().split("T")[0]:""),jc(Se.classCode||""),jo(!0)},className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",children:e.jsx(ws,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>Jx(Se.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},Se.id))})]})})]})]})]})});case"overtime-applications":return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{children:e.jsxs("button",{onClick:()=>{Ve(!1),Pt(null),Mi(""),It(""),Nt(""),dt(""),Dt(""),Ke(""),ke(""),tu(""),Cl(""),Sl(!1),Le(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:J0?e.jsx("div",{className:"text-center py-8",children:"Loading overtime applications..."}):e.jsx(e.Fragment,{children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Hours Approved"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Start Time OT Before"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Approved OT Break"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Reason"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Remarks"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Late Filing"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:Fd.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-6 py-8 text-center text-gray-500",children:"No overtime applications found"})}):Fd.map(Se=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Se.date}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Se.hoursApproved}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Se.startTimeOTBefore}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Se.approvedOTBreak}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Se.reason}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Se.remarks}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Se.isLateFiling?"Yes":"No"}),e.jsx("td",{className:"px-6 py-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{Ve(!0),Pt(Se.id),Mi(Se.date),It(Se.hoursApproved),Nt(Se.actualDateInOTBefore),dt(Se.startTimeOTBefore),Dt(Se.startOvertimeDate),Ke(Se.startOvertimeTime),ke(Se.approvedOTBreak),tu(Se.reason),Cl(Se.remarks),Sl(Se.isLateFiling),Le(!0)},className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",children:e.jsx(ws,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>qd(Se.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},Se.id))})]})})})]})});case"contractual":return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{children:e.jsxs("button",{onClick:()=>{_t(!1),mt(null),ce(""),z(""),Ze(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:Md?e.jsx("div",{className:"text-center py-8",children:"Loading contractual records..."}):e.jsx(e.Fragment,{children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date From"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date To"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:Nl.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-6 py-8 text-center text-gray-500",children:"No contractual records found"})}):Nl.map(Se=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Se.dateFrom}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Se.dateTo}),e.jsx("td",{className:"px-6 py-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{_t(!0),mt(Se.id),ce(Se.dateFrom),z(Se.dateTo),Ze(!0)},className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",children:e.jsx(ws,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>Wn(Se.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},Se.id))})]})})})]})});case"suspension":return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{children:e.jsxs("button",{onClick:()=>{_e(!1),je(null),we(""),Z(""),X(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:Id?e.jsx("div",{className:"text-center py-8",children:"Loading suspension records..."}):e.jsx(e.Fragment,{children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date From"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date To"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:Sc.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-6 py-8 text-center text-gray-500",children:"No suspension records found"})}):Sc.map(Se=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Se.dateFrom}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Se.dateTo}),e.jsx("td",{className:"px-6 py-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{_e(!0),je(Se.id),we(Se.dateFrom),Z(Se.dateTo),X(!0)},className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",children:e.jsx(ws,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>Gn(Se.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",children:e.jsx(ls,{className:"w-4 h-4"})})]})})]},Se.id))})]})})})]})});default:return null}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:Zo()})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure comprehensive employee timekeeping settings including basic information, exemptions, device codes, rest days, work shifts, classifications, and leave/overtime applications for accurate time tracking."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Employee timekeeping configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device code management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Work shift and rest day setup"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Leave and overtime tracking"})]})]})]})]})}),e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[!["leave-applications","overtime-applications","contractual","suspension"].includes(t)&&e.jsx(e.Fragment,{children:S?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:hu,disabled:U||_,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50",children:[e.jsx(Aa,{className:"w-4 h-4"}),U||_?"Saving...":"Save"]}),e.jsxs("button",{onClick:sh,disabled:U||_,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50",children:[e.jsx(et,{className:"w-4 h-4"}),"Cancel"]})]}):e.jsxs("button",{onClick:Df,disabled:!a||!le&&!k&&t==="basic-config"||t==="exemptions"&&!H,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(cl,{className:"w-4 h-4"}),"Edit"]})}),["leave-applications","overtime-applications","contractual","suspension"].includes(t)&&e.jsx("div",{className:"px-4 py-2",children:""})]}),e.jsx("div",{className:"mb-6 bg-gray-50 border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 font-bold w-32 flex-shrink-0",children:"TKS Group"}),e.jsx("div",{onClick:()=>Yo(!0),className:"flex-1 min-w-0 px-3 py-2 border border-gray-300 rounded-lg bg-white cursor-pointer hover:bg-gray-50 transition-colors",children:n?e.jsx("span",{className:"text-sm font-medium text-gray-900 truncate block",children:n}):e.jsx("span",{className:"text-gray-400 text-sm",children:"Select..."})}),e.jsxs("button",{onClick:()=>Yo(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 flex-shrink-0",children:[e.jsx(Gt,{className:"w-4 h-4"}),"Browse"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 font-bold w-32 flex-shrink-0",children:"Location Name"}),e.jsx("input",{type:"text",value:i,disabled:!0,placeholder:"Auto-filled from selection",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-100 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 font-bold w-32 flex-shrink-0",children:"EmpCode"}),e.jsx("input",{type:"text",value:a,onChange:Se=>r(Se.target.value),disabled:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-100"}),e.jsxs("button",{onClick:()=>g(!0),className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 flex-shrink-0",children:[e.jsx(Gt,{className:"w-4 h-4"}),"Search"]})]})]})}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-blue-700 mb-1",children:Q0}),e.jsx("div",{className:"text-blue-600",children:Z0})]})]}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:oi.map(Se=>e.jsxs("button",{onClick:()=>s(Se.id),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===Se.id?"text-white bg-blue-600 font-medium":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[e.jsx(Se.icon,{className:"w-4 h-4"}),e.jsx("span",{children:Se.label})]},Se.id))}),Fi&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:()=>Yo(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl border border-gray-300 w-full max-w-3xl max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Select TKS Group"}),e.jsx("button",{onClick:()=>Yo(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3 overflow-y-auto",style:{maxHeight:"calc(90vh - 50px)"},children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Payroll Location"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:Zl,onChange:Se=>jl(Se.target.value),placeholder:"Search by code or name...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),Pi?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading payroll locations..."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border border-gray-200 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Location Code"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Location Name"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Company Code"})]})}),e.jsx("tbody",{children:en.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-3 py-8 text-center text-gray-500",children:"No payroll locations found"})}):en.map(Se=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>Zx(Se.locCode,Se.locName),children:[e.jsx("td",{className:"px-3 py-1.5",children:Se.locCode}),e.jsx("td",{className:"px-3 py-1.5",children:Se.locName}),e.jsx("td",{className:"px-3 py-1.5",children:Se.companyCode})]},Se.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",lr.length>0?Jo+1:0," to ",Math.min(ni,lr.length)," of ",lr.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:Vd,disabled:Br===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),zd().map((Se,Xe)=>typeof Se=="number"?e.jsx("button",{onClick:()=>eh(Se),className:`px-2 py-1 rounded text-xs ${Br===Se?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Se},Xe):e.jsx("span",{className:"px-2 py-1 text-xs text-gray-500",children:Se},Xe)),e.jsx("button",{onClick:th,disabled:Br===Wa||Wa===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})})]}),el()]})]})}),e.jsx(nr,{isOpen:y,onClose:()=>g(!1),onSelect:Yd,employees:Qo,loading:O,error:B}),e.jsx(EQ,{isOpen:j,onClose:()=>C(!1),onSelect:Se=>mn("groupScheduleCode",Se),groupSchedules:G,loading:F}),e.jsx(SQ,{isOpen:ge,isEditMode:Ce,empCode:a,date:De,hoursApproved:Ee,leaveCode:ot,period:Ie,reason:be,remarks:Re,withPay:He,sssNotification:Ye,isLateFiling:ut,onClose:()=>Ne(!1),onDateChange:Ae,onHoursApprovedChange:ze,onLeaveCodeChange:wt,onPeriodChange:ye,onReasonChange:Me,onRemarksChange:st,onWithPayChange:Ue,onSssNotificationChange:ht,onIsLateFilingChange:vt,onSubmit:Hi}),e.jsx(aD,{isOpen:ve,isEditMode:he,empCode:a,date:Dc,hoursApproved:Lt,actualDateInOTBefore:qe,startTimeBefore:gt,startOvertimeDate:kt,startOvertimeTime:Ge,approvedBreak:ie,reason:Bd,remarks:Gx,isLateFiling:Ec,onClose:()=>Le(!1),onDateChange:Mi,onHoursApprovedChange:It,onActualDateInOTBeforeChange:Nt,onStartTimeBeforeChange:dt,onStartOvertimeDateChange:Dt,onStartOvertimeTimeChange:Ke,onApprovedBreakChange:ke,onReasonChange:tu,onRemarksChange:Cl,onIsLateFilingChange:Sl,onSubmit:Bi}),e.jsx(kQ,{isOpen:me,isEditMode:it,dateFrom:ae,dateTo:te,onClose:()=>Ze(!1),onDateFromChange:ce,onDateToChange:z,onSubmit:kf}),e.jsx(DQ,{isOpen:V,isEditMode:de,dateFrom:J,dateTo:I,onClose:()=>X(!1),onDateFromChange:we,onDateToChange:Z,onSubmit:$d}),e.jsx(TQ,{isOpen:Ts,isEditMode:Jt,empCode:a,code:Js,password:Ut,effectivityDate:Na,expiryDate:ma,onClose:()=>at(!1),onCodeChange:Tt,onPasswordChange:hs,onEffectivityDateChange:ha,onExpiryDateChange:Ba,onSubmit:Ac}),e.jsx(AQ,{isOpen:Ks,isEditMode:la,empCode:a,dateFrom:va,dateTo:ns,restDay1:pa,restDay2:ja,restDay3:At,onClose:()=>qs(!1),onDateFromChange:tt,onDateToChange:ks,onRestDay1Change:Qs,onRestDay2Change:Fe,onRestDay3Change:Mt,onSubmit:Kx}),e.jsx(MQ,{isOpen:Xl,onClose:()=>yl(!1),onSelect:Se=>un(Se),dailySchedules:no,loading:Uo}),e.jsx(FQ,{isOpen:ao,isEditMode:Rn,empCode:a,dateFrom:Qe,dateTo:_s,shiftCode:Ra,dailyScheduleCode:or,glCode:lt,onClose:()=>En(!1),onDateFromChange:ps,onDateToChange:Xt,onShiftCodeChange:Qa,onDailyScheduleCodeChange:wa,onGLCodeChange:Ws,onSubmit:Gd}),"// Update the modal import at the end (before Footer)",e.jsx(PQ,{isOpen:No,isEditMode:Go,empCode:a,dateFrom:zo,dateTo:Vo,classificationCode:Ad,onClose:()=>jo(!1),onDateFromChange:Ql,onDateToChange:wl,onClassificationCodeChange:jc,onSubmit:Sf}),e.jsx(Zt,{})]})}const hm="/Maintenance/EmployeeRawData",LQ="/Fs/Process/Device/BorrowedDeviceName",OQ="/Maintenance/WorkShift",_Q="/Maintenance/EmployeeMasterFile",$r=(t,s="")=>{if(!t)return new Date().toISOString();try{let a=t;if(t.includes("/")){const[r,n,l]=t.split("/");a=`${l}-${r.padStart(2,"0")}-${n.padStart(2,"0")}`}if(s){const n=s.toUpperCase().trim().match(/^(\d{1,2}):(\d{2})\s?(AM|PM)$/);if(n){let l=parseInt(n[1]);const i=n[2],d=n[3];return d==="PM"&&l!==12&&(l+=12),d==="AM"&&l===12&&(l=0),`${a}T${String(l).padStart(2,"0")}:${i}:00.000Z`}}return`${a}T00:00:00.000Z`}catch{return new Date().toISOString()}},za=t=>{if(!t)return{date:"",time:""};try{const s=new Date(t),a=String(s.getUTCMonth()+1).padStart(2,"0"),r=String(s.getUTCDate()).padStart(2,"0"),n=s.getUTCFullYear();let l=s.getUTCHours();const i=String(s.getUTCMinutes()).padStart(2,"0"),d=l>=12?"PM":"AM";return l>12&&(l-=12),l===0&&(l=12),{date:`${a}/${r}/${n}`,time:`${String(l).padStart(2,"0")}:${i} ${d}`}}catch{return{date:"",time:""}}},BQ=t=>{const s=t.trim().toUpperCase();if(!s)return"";const a=/^(0?[1-9]|1[0-2]):([0-5][0-9])\s?(AM|PM)$/i;if(a.test(s)){const r=s.match(a);return`${r[1].padStart(2,"0")}:${r[2]} ${r[3].toUpperCase()}`}return t},W2=()=>{const t=new Date;return`${String(t.getMonth()+1).padStart(2,"0")}/${String(t.getDate()).padStart(2,"0")}/${t.getFullYear()}`};function RQ(){const[t,s]=o.useState(W2()),[a,r]=o.useState(W2()),[n,l]=o.useState(!0),[i,d]=o.useState("all"),[x,h]=o.useState(!1),[m,b]=o.useState(!1),[f,N]=o.useState([]),[p,v]=o.useState(!1),[y,g]=o.useState(""),[j,C]=o.useState("empCode"),[S,P]=o.useState("asc"),k=rt=>{j===rt?P(Vt=>Vt==="asc"?"desc":"asc"):(C(rt),P("asc"))},[E,M]=o.useState({break1Out:!0,break1In:!0,break2Out:!1,break2In:!1,break3Out:!0,break3In:!0,terminalId:!1,secondDayType:!1,remarks:!1,entryFlag:!1,isLateFiling:!1,borrowedDeviceName:!1,approvedOvertime:!1,deviceName:!1,selectAll:!1}),[L,O]=o.useState(!1),[q,B]=o.useState(null),[se,le]=o.useState(!1),[pe,U]=o.useState(""),[Y,W]=o.useState(""),[re,G]=o.useState(""),[R,F]=o.useState(""),[A,H]=o.useState(""),[D,_]=o.useState(""),[xe,ge]=o.useState(""),[Ne,Ce]=o.useState(""),[fe,ue]=o.useState(""),[Oe,De]=o.useState(""),[Ae,Ee]=o.useState(""),[ze,ot]=o.useState(""),[wt,Ie]=o.useState(""),[ye,be]=o.useState(""),[Me,Re]=o.useState(""),[st,He]=o.useState(""),[Ue,Ye]=o.useState(!1),[ht,ut]=o.useState(!1),[vt,ve]=o.useState(""),[Le,he]=o.useState(""),[Ve,xt]=o.useState(!1),[Pt,Lt]=o.useState(!1),[It,qe]=o.useState(!1),[Nt,gt]=o.useState([]),[dt,kt]=o.useState(!1),[Dt,Ge]=o.useState(""),[Ke,ie]=o.useState(""),[ke,me]=o.useState(""),[Ze,it]=o.useState(!1),[_t,nt]=o.useState(!1),[mt,ae]=o.useState(""),[ce,te]=o.useState([]),[z,V]=o.useState(!1),[X,de]=o.useState(""),[_e,Te]=o.useState(!1),[je,J]=o.useState(""),[we,I]=o.useState([]),[Z,Q]=o.useState(!1),[We,ft]=o.useState(""),$t=o.useCallback(async()=>{v(!0),g("");try{const rt={dateFrom:$r(t),dateTo:$r(a)};i==="specific"&&Ke&&(rt.empCode=Ke);const Vt=await ne.get(hm,{params:rt});if(Vt.status===200&&Vt.data){const vs=Array.isArray(Vt.data)?Vt.data:[],Ys=new Date($r(t)).setUTCHours(0,0,0,0),Ks=new Date($r(a)).setUTCHours(23,59,0,0),qs=vs.filter(la=>{if(!la.rawDateIn)return!1;const qa=new Date(la.rawDateIn).getTime();if(qa<Ys||qa>Ks)return!1;const ia=!!la.rawDateOut&&la.rawDateOut.trim()!=="",ca=!!la.rawTimeIn,va=!!la.rawTimeOut,tt=ia&&ca&&va;return n?!tt:tt});N(qs)}}catch(rt){const Vt=rt.response?.data?.message||rt.message||"Failed to load raw data";g(Vt),console.error("Error fetching raw data:",rt)}finally{v(!1)}},[t,a,n,i,Ke]),yt=o.useCallback(async()=>{Q(!0),ft("");try{const rt=await ne.get(LQ);rt.status===200&&rt.data&&I(Array.isArray(rt.data)?rt.data:[])}catch(rt){const Vt=rt.response?.data?.message||rt.message||"Failed to load devices";ft(Vt),console.error("Error fetching devices:",rt)}finally{Q(!1)}},[]),$e=o.useCallback(async()=>{V(!0),de("");try{const rt=await ne.get(OQ);if(rt.status===200&&rt.data){const Vt=Array.isArray(rt.data)?rt.data:[];te(Vt.map(vs=>({code:vs.code||vs.workShiftCode||vs.workshiftCode||"",description:vs.description||vs.workShiftDescription||""})))}}catch(rt){const Vt=rt.response?.data?.message||rt.message||"Failed to load workshifts";de(Vt),console.error("Error fetching workshifts:",rt)}finally{V(!1)}},[]),bt=async()=>{kt(!0),Ge("");try{const rt=await ne.get(_Q);if(rt.status===200&&rt.data){const Vt=rt.data.map(vs=>({empCode:vs.empCode||vs.code||"",name:`${vs.lName||""}, ${vs.fName||""} ${vs.mName||""}`.trim(),groupCode:vs.grpCode||""}));gt(Vt)}}catch(rt){const Vt=rt.response?.data?.message||rt.message||"Failed to load employees";Ge(Vt),console.error("Error fetching employees:",rt)}finally{kt(!1)}},ts=async()=>{if(!Y.trim()){U("Please select an Employee Code.");return}if(!A.trim()){U("Date In is required.");return}U(""),le(!0);const rt={empCode:Y,workShiftCode:R,dayType:"Regular",rawDateIn:$r(A),rawTimeIn:$r(A,D),actualDateIn:$r(xe||A),actualTimeIn2:$r(xe||A,Ne),rawBreak1Out:$r(A,fe),rawBreak1In:$r(A,Oe),rawBreak2Out:$r(A,Ae),rawBreak2In:$r(A,ze),rawBreak3Out:$r(A,wt),rawBreak3In:$r(A,ye),rawDateOut:$r(Me||A),rawTimeOut:$r(Me||A,st),rawotApproved:Ue,rawRemarks:vt,isLateFiling:ht,bDeviceName:Le,rawTardiness:!1,rawUndertime:!1,rawOT:!1,rawNightDiff:!1,rawOtherEarnings:!1,rawUnproductive:!1,rawDisplDateFrom:$r(t),rawDisplDateTo:$r(a),isSuspended:!1,rawNoofDays:!1,dayType2:"",actualDateIn2:"",entryFlag:"",terminalID:"",dayTypeDOLE:"",aprOTTime:"",deviceNameIn:"",deviceNameOut:"",isLateFilingProcessed:!1,post_Tardy:!1,post_UT:!1,post_OT:!1,post_Earn:!1,post_ND:!1,post_NoOfDays:!1,otAppApprovalFlag:!1,sdWorkShiftCodeFlag:!1,flexiBreakFlag:!1};try{q!==null?await ne.put(`${hm}/${q}`,{...rt,id:q}):await ne.post(hm,rt),O(!1),B(null),await $t()}catch(Vt){const vs=Vt.response?.data?.message||Vt.message||"Failed to save entry";U(vs),console.error("Error saving raw data:",Vt)}finally{le(!1)}},Ts=rt=>{B(rt.id),W(rt.empCode),F(rt.workShiftCode);const Vt=za(rt.rawDateIn),vs=za(rt.rawTimeIn),Ys=za(rt.actualDateIn),Ks=za(rt.actualTimeIn2),qs=za(rt.rawBreak1Out),la=za(rt.rawBreak1In),qa=za(rt.rawBreak2Out),ia=za(rt.rawBreak2In),ca=za(rt.rawBreak3Out),va=za(rt.rawBreak3In),tt=za(rt.rawDateOut),ns=za(rt.rawTimeOut);H(Vt.date),_(vs.time),ge(Ys.date),Ce(Ks.time),ue(qs.time),De(la.time),Ee(qa.time),ot(ia.time),Ie(ca.time),be(va.time),Re(tt.date),He(ns.time),Ye(rt.rawotApproved),ut(rt.isLateFiling),ve(rt.rawRemarks),he(rt.bDeviceName),U(""),O(!0)},at=async rt=>{if(confirm("Are you sure you want to delete this entry?"))try{await ne.delete(`${hm}/${rt}`),N(Vt=>Vt.filter(vs=>vs.id!==rt))}catch(Vt){const vs=Vt.response?.data?.message||Vt.message||"Failed to delete entry";alert(vs),console.error("Error deleting raw data:",Vt)}},Jt=()=>{B(null),W(""),G(""),F(""),H(""),_(""),ge(""),Ce(""),ue(""),De(""),Ee(""),ot(""),Ie(""),be(""),Re(""),He(""),Ye(!1),ut(!1),ve(""),he(""),U(""),O(!0)},jt=(rt,Vt)=>{W(rt),G(Vt),qe(!1)},zt=(rt,Vt)=>{ie(rt),me(Vt),it(!1)},cs=rt=>{F(rt),nt(!1)},Js=rt=>{he(rt),Te(!1)},Tt=ce.filter(rt=>rt.code.toLowerCase().includes(mt.toLowerCase())||rt.description.toLowerCase().includes(mt.toLowerCase())),Ut=we.filter(rt=>rt.code.toLowerCase().includes(je.toLowerCase())||rt.description.toLowerCase().includes(je.toLowerCase())),hs=rt=>{M(Vt=>({...Vt,[rt]:!Vt[rt]}))},Na=()=>{const rt=!E.selectAll;M({break1Out:rt,break1In:rt,break2Out:rt,break2In:rt,break3Out:rt,break3In:rt,terminalId:rt,secondDayType:rt,remarks:rt,entryFlag:rt,isLateFiling:rt,borrowedDeviceName:rt,approvedOvertime:rt,deviceName:rt,selectAll:rt})};o.useEffect(()=>{bt()},[]),o.useEffect(()=>{const rt=Vt=>{if(Vt.key==="Escape"){if(It){qe(!1);return}if(Ze){it(!1);return}if(_t){nt(!1);return}if(_e){Te(!1);return}if(L){O(!1);return}h(!1),b(!1),xt(!1),Lt(!1)}};return document.addEventListener("keydown",rt),()=>document.removeEventListener("keydown",rt)},[It,Ze,_t,_e,L]),o.useEffect(()=>{_t&&ce.length===0&&$e()},[_t,ce.length,$e]),o.useEffect(()=>{_e&&yt()},[_e,yt]);const ha=rt=>Vt=>rt(Vt.target.value),ma=(rt,Vt)=>()=>Vt(BQ(rt)),Ba=({col:rt})=>j!==rt?e.jsxs("span",{className:"inline-flex flex-col ml-1 leading-none",style:{fontSize:"8px",verticalAlign:"middle"},children:[e.jsx("span",{className:"text-gray-400",children:""}),e.jsx("span",{className:"text-gray-400",children:""})]}):e.jsxs("span",{className:"inline-flex flex-col ml-1 leading-none",style:{fontSize:"8px",verticalAlign:"middle"},children:[e.jsx("span",{className:S==="asc"?"text-blue-600":"text-gray-300",children:""}),e.jsx("span",{className:S==="desc"?"text-blue-600":"text-gray-300",children:""})]}),ta=[...i==="specific"&&Ke?f.filter(rt=>rt.empCode===Ke):f].sort((rt,Vt)=>{let vs="",Ys="";return j==="rawotApproved"?(vs=rt.rawotApproved?1:0,Ys=Vt.rawotApproved?1:0):["rawDateIn","rawTimeIn","actualDateIn","rawDateOut","rawTimeOut"].includes(j)?(vs=rt[j]?new Date(rt[j]).getTime():0,Ys=Vt[j]?new Date(Vt[j]).getTime():0):(vs=rt[j]??"",Ys=Vt[j]??""),vs<Ys?S==="asc"?-1:1:vs>Ys?S==="asc"?1:-1:0}),sa=(rt,Vt,vs,Ys="flex-1")=>e.jsxs(e.Fragment,{children:[e.jsxs("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:[rt," :"]}),e.jsx("input",{type:"text",value:Vt,onChange:ha(vs),onBlur:ma(Vt,vs),placeholder:"HH:MM AM/PM",className:`${Ys} px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm`})]}),jr=(rt,Vt,vs,Ys,Ks)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:[rt," :"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:Vt,onChange:qs=>vs(qs.target.value),placeholder:"MM/DD/YYYY",className:"w-36 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-9"}),e.jsx("button",{type:"button",onClick:()=>Ks(!Ys),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(ds,{className:"w-3.5 h-3.5"})}),Ys&&e.jsx(Mr,{onDateSelect:qs=>{vs(qs),Ks(!1)},onClose:()=>Ks(!1)})]})]});return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white text-xl font-semibold",children:"Raw Data"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Manage and view employee raw time data including clock in/out times, breaks, and overtime approvals."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Employee time tracking","Break time management","Overtime approval tracking","Workshift assignment"].map(rt=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-green-600 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:rt})]},rt))})]})]})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:Jt,children:[e.jsx(fs,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n,onChange:rt=>l(rt.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded"}),e.jsx("span",{className:"text-gray-700",children:"Incomplete Logs"})]}),e.jsx("div",{className:"flex items-center gap-4",children:["all","specific"].map(rt=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",checked:i===rt,onChange:()=>{d(rt),rt==="all"&&(ie(""),me(""))},className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-gray-700 capitalize",children:rt})]},rt))})]}),i==="specific"&&e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4 bg-blue-50 border border-blue-200 rounded-lg p-3",children:[e.jsx("span",{className:"text-sm font-medium text-blue-700 whitespace-nowrap",children:"Employee:"}),e.jsx("input",{type:"text",value:Ke,readOnly:!0,placeholder:"Select employee...",className:"w-32 px-3 py-1.5 border border-gray-300 rounded text-sm bg-white"}),e.jsx("input",{type:"text",value:ke,readOnly:!0,placeholder:"Employee name",className:"flex-1 min-w-[160px] px-3 py-1.5 border border-gray-300 rounded text-sm bg-white"}),e.jsxs("button",{onClick:()=>it(!0),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-1 text-sm",children:[e.jsx(Gt,{className:"w-3.5 h-3.5"}),"Browse"]}),Ke&&e.jsxs("button",{onClick:()=>{ie(""),me("")},className:"px-3 py-1.5 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors flex items-center gap-1 text-sm",children:[e.jsx(et,{className:"w-3.5 h-3.5"}),"Clear"]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6 bg-gray-50 border border-gray-200 rounded-lg p-4",children:[jr("Date From",t,s,x,h),jr("Date To",a,r,m,b),e.jsxs("button",{onClick:$t,disabled:p,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-60",children:[p?e.jsx(Ea,{className:"w-4 h-4 animate-spin"}):e.jsx(Gt,{className:"w-4 h-4"}),"Search"]})]}),y&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700 text-sm",children:[e.jsx(ya,{className:"w-4 h-4 flex-shrink-0"}),y]}),e.jsxs("div",{className:"mb-6 bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-gray-700 font-medium mb-4",children:"Hide Column"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-3",children:[[{key:"break1Out",label:"Break 1 Out"},{key:"break1In",label:"Break 1 In"},{key:"break2Out",label:"Break 2 Out"},{key:"break2In",label:"Break 2 In"},{key:"break3Out",label:"Break 3 Out"},{key:"break3In",label:"Break 3 In"},{key:"remarks",label:"Remarks"},{key:"entryFlag",label:"Entry Flag"},{key:"terminalId",label:"TerminalID"},{key:"secondDayType",label:"2nd Day Type"},{key:"approvedOvertime",label:"Approved Overtime"},{key:"deviceName",label:"Device Name"},{key:"isLateFiling",label:"Is Late Filing"},{key:"borrowedDeviceName",label:"BDevice Name"}].map(rt=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:E[rt.key],onChange:()=>hs(rt.key),className:"w-4 h-4 text-blue-600 border-gray-300 rounded"}),e.jsx("span",{className:"text-gray-700 text-sm",children:rt.label})]},rt.key)),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:E.selectAll,onChange:Na,className:"w-4 h-4 text-blue-600 border-gray-300 rounded"}),e.jsx("span",{className:"text-gray-700 text-sm font-medium",children:"Select All"})]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"}),[{key:"empCode",label:"Emp Code"},{key:"workShiftCode",label:"Workshift"},{key:"rawDateIn",label:"Date-In"},{key:"rawTimeIn",label:"Time-In"},{key:"actualDateIn",label:"Actual Date/Time In"}].map(({key:rt,label:Vt})=>e.jsxs("th",{onClick:()=>k(rt),className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap cursor-pointer select-none hover:bg-gray-200 transition-colors",children:[Vt,e.jsx(Ba,{col:rt})]},rt)),!E.break1Out&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break1-Out"}),!E.break1In&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break1-In"}),!E.break2Out&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break2-Out"}),!E.break2In&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break2-In"}),!E.break3Out&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break3-Out"}),!E.break3In&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break3-In"}),[{key:"rawDateOut",label:"Date-Out"},{key:"rawTimeOut",label:"Time-Out"},{key:"dayType",label:"Day Type"},{key:"rawotApproved",label:"OT Approved"}].map(({key:rt,label:Vt})=>e.jsxs("th",{onClick:()=>k(rt),className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap cursor-pointer select-none hover:bg-gray-200 transition-colors",children:[Vt,e.jsx(Ba,{col:rt})]},rt)),!E.remarks&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Remarks"}),!E.entryFlag&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Entry Flag"}),!E.terminalId&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Terminal ID"}),!E.secondDayType&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"2nd Day Type"}),!E.approvedOvertime&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Approved OT"}),!E.deviceName&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Device In/Out"}),!E.isLateFiling&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Late Filing"}),!E.borrowedDeviceName&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"BDevice"})]})}),e.jsx("tbody",{children:p?e.jsx("tr",{children:e.jsx("td",{colSpan:25,className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-500",children:[e.jsx(Ea,{className:"w-5 h-5 animate-spin"}),"Loading data..."]})})}):ta.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:25,className:"px-6 py-8 text-center text-gray-500",children:"No data available. Use the Search button to load records."})}):ta.map(rt=>{const Vt=za(rt.rawDateIn),vs=za(rt.rawTimeIn),Ys=za(rt.actualDateIn),Ks=za(rt.actualTimeIn2),qs=za(rt.rawBreak1Out),la=za(rt.rawBreak1In),qa=za(rt.rawBreak2Out),ia=za(rt.rawBreak2In),ca=za(rt.rawBreak3Out),va=za(rt.rawBreak3In),tt=za(rt.rawDateOut),ns=za(rt.rawTimeOut),ks=za(rt.aprOTTime);return e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>Ts(rt),className:"p-1 text-blue-600 hover:bg-blue-100 rounded",title:"Edit",children:e.jsx(ws,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>at(rt.id),className:"p-1 text-red-600 hover:bg-red-100 rounded",title:"Delete",children:e.jsx(ls,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:rt.empCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:rt.workShiftCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:Vt.date}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:vs.time}),e.jsxs("td",{className:"px-4 py-2 whitespace-nowrap",children:[Ys.date," ",Ks.time]}),!E.break1Out&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:qs.time}),!E.break1In&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:la.time}),!E.break2Out&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:qa.time}),!E.break2In&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:ia.time}),!E.break3Out&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:ca.time}),!E.break3In&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:va.time}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:tt.date}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:ns.time}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:rt.dayType}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:rt.rawotApproved?"Yes":"No"}),!E.remarks&&e.jsx("td",{className:"px-4 py-2 text-sm max-w-xs truncate",children:rt.rawRemarks}),!E.entryFlag&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:rt.entryFlag}),!E.terminalId&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:rt.terminalID}),!E.secondDayType&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:rt.dayType2}),!E.approvedOvertime&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:ks.time}),!E.deviceName&&e.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-xs",children:[rt.deviceNameIn,"/",rt.deviceNameOut]}),!E.isLateFiling&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:rt.isLateFiling?"Yes":"No"}),!E.borrowedDeviceName&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:rt.bDeviceName})]},rt.id)})})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx("div",{className:"text-gray-600 text-sm",children:f.length>0?`Showing 1 to ${f.length} of ${f.length} entries`:"No entries"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm disabled:opacity-50",disabled:!0,children:"Previous"}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm disabled:opacity-50",disabled:!0,children:"Next"})]})]}),L&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:()=>O(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white px-5 py-3 border-b border-gray-200 flex items-center justify-between z-10",children:[e.jsx("h2",{className:"text-gray-800 font-semibold",children:q!==null?"Edit Entry":"Create New Entry"}),e.jsx("button",{onClick:()=>O(!1),className:"text-gray-500 hover:text-gray-700",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-5 space-y-3",children:[e.jsx("h3",{className:"text-blue-600 font-medium",children:"Raw Data"}),pe&&e.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded flex items-center gap-2 text-red-700 text-sm",children:[e.jsx(ya,{className:"w-4 h-4 flex-shrink-0"}),pe]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-44 text-gray-700 text-sm flex-shrink-0",children:"Emp Code :"}),e.jsx("input",{type:"text",value:Y,readOnly:!0,placeholder:"Select employee...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm bg-gray-50"}),e.jsx("button",{onClick:()=>qe(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex-shrink-0",children:e.jsx(Gt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-44 text-gray-700 text-sm flex-shrink-0",children:"Workshift Code :"}),e.jsx("input",{type:"text",value:R,readOnly:!0,placeholder:"Select workshift...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm bg-gray-50"}),e.jsx("button",{onClick:()=>{ae(""),nt(!0)},className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex-shrink-0",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{className:"px-4 py-1.5 bg-blue-500 text-white rounded-lg hover:bg-blue-600 text-sm flex-shrink-0",children:"Get Shift"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-44 text-gray-700 text-sm flex-shrink-0",children:"Date In :"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:A,onChange:rt=>H(rt.target.value),placeholder:"MM/DD/YYYY",className:"w-36 px-3 py-1.5 border border-gray-300 rounded text-sm pr-9"}),e.jsx("button",{type:"button",onClick:()=>xt(!Ve),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:e.jsx(ds,{className:"w-3.5 h-3.5"})}),Ve&&e.jsx(Mr,{onDateSelect:rt=>{H(rt),xt(!1)},onClose:()=>xt(!1)})]}),sa("Time In",D,_)]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-44 text-gray-700 text-sm flex-shrink-0",children:"Actual Date In :"}),e.jsx("input",{type:"text",value:xe,onChange:rt=>ge(rt.target.value),placeholder:"MM/DD/YYYY",className:"w-36 px-3 py-1.5 border border-gray-300 rounded text-sm"}),sa("Actual Time In",Ne,Ce)]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-44 text-gray-700 text-sm flex-shrink-0",children:"Break 1 Out :"}),e.jsx("input",{type:"text",value:fe,onChange:ha(ue),onBlur:ma(fe,ue),placeholder:"HH:MM AM/PM",className:"w-32 px-3 py-1.5 border border-gray-300 rounded text-sm"}),sa("Break 1 In",Oe,De)]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-44 text-gray-700 text-sm flex-shrink-0",children:"Break 2 Out :"}),e.jsx("input",{type:"text",value:Ae,onChange:ha(Ee),onBlur:ma(Ae,Ee),placeholder:"HH:MM AM/PM",className:"w-32 px-3 py-1.5 border border-gray-300 rounded text-sm"}),sa("Break 2 In",ze,ot)]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-44 text-gray-700 text-sm flex-shrink-0",children:"Break 3 Out :"}),e.jsx("input",{type:"text",value:wt,onChange:ha(Ie),onBlur:ma(wt,Ie),placeholder:"HH:MM AM/PM",className:"w-32 px-3 py-1.5 border border-gray-300 rounded text-sm"}),sa("Break 3 In",ye,be)]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-44 text-gray-700 text-sm flex-shrink-0",children:"Date Out :"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:Me,onChange:rt=>Re(rt.target.value),placeholder:"MM/DD/YYYY",className:"w-36 px-3 py-1.5 border border-gray-300 rounded text-sm pr-9"}),e.jsx("button",{type:"button",onClick:()=>Lt(!Pt),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:e.jsx(ds,{className:"w-3.5 h-3.5"})}),Pt&&e.jsx(Mr,{onDateSelect:rt=>{Re(rt),Lt(!1)},onClose:()=>Lt(!1)})]}),sa("Time Out",st,He)]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-44 text-gray-700 text-sm flex-shrink-0",children:"OT Approved :"}),e.jsx("input",{type:"checkbox",checked:Ue,onChange:rt=>Ye(rt.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-44 text-gray-700 text-sm flex-shrink-0",children:"Is Late Filing :"}),e.jsx("input",{type:"checkbox",checked:ht,onChange:rt=>ut(rt.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-44 text-gray-700 text-sm flex-shrink-0 pt-1",children:"Remarks :"}),e.jsx("textarea",{value:vt,onChange:rt=>ve(rt.target.value),rows:3,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none resize-none"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-44 text-gray-700 text-sm flex-shrink-0",children:"Borrowed Device :"}),e.jsx("input",{type:"text",value:Le,readOnly:!0,placeholder:"Select device...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm bg-gray-50"}),e.jsx("button",{onClick:()=>{J(""),Te(!0)},className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex-shrink-0",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>he(""),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 flex-shrink-0",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex gap-3 pt-2 border-t border-gray-100",children:[e.jsxs("button",{onClick:ts,disabled:se,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 text-sm disabled:opacity-60",children:[se&&e.jsx(Ea,{className:"w-4 h-4 animate-spin"}),q!==null?"Update":"Submit"]}),e.jsx("button",{onClick:()=>O(!1),className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors text-sm",children:"Back to List"})]})]})]})})]}),e.jsx(nr,{isOpen:It,onClose:()=>qe(!1),onSelect:rt=>{const Vt=Nt.find(vs=>vs.empCode===rt);jt(rt,Vt?.name??"")},employees:Nt,loading:dt,error:Dt}),_t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:()=>nt(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-lg max-h-[80vh] flex flex-col",children:[e.jsxs("div",{className:"bg-gray-100 px-4 py-2.5 border-b border-gray-200 flex items-center justify-between rounded-t-lg",children:[e.jsx("h2",{className:"text-gray-800 font-medium text-sm",children:"Search  Workshift Code"}),e.jsx("button",{onClick:()=>nt(!1),className:"text-gray-500 hover:text-gray-700",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-4 flex flex-col flex-1 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Gt,{className:"w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:mt,autoFocus:!0,onChange:rt=>ae(rt.target.value),placeholder:"Search workshifts...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),X&&e.jsxs("div",{className:"mb-3 p-2 bg-red-50 border border-red-200 rounded text-red-700 text-sm flex items-center gap-2",children:[e.jsx(ya,{className:"w-4 h-4"})," ",X]}),e.jsx("div",{className:"flex-1 overflow-y-auto border border-gray-200 rounded",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-50 border-b-2 border-gray-200",children:[e.jsx("th",{className:"px-3 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-3 py-2 text-left text-gray-700",children:"Description"})]})}),e.jsx("tbody",{children:z?e.jsx("tr",{children:e.jsxs("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:[e.jsx(Ea,{className:"w-5 h-5 animate-spin inline mr-2"}),"Loading..."]})}):Tt.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:"No workshifts found"})}):Tt.map(rt=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-blue-50 cursor-pointer transition-colors",onClick:()=>cs(rt.code),children:[e.jsx("td",{className:"px-3 py-2 font-mono font-medium",children:rt.code}),e.jsx("td",{className:"px-3 py-2",children:rt.description})]},rt.code))})]})})]})]})})]}),_e&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:()=>Te(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-lg max-h-[80vh] flex flex-col",children:[e.jsxs("div",{className:"bg-gray-100 px-4 py-2.5 border-b border-gray-200 flex items-center justify-between rounded-t-lg",children:[e.jsx("h2",{className:"text-gray-800 font-medium text-sm",children:"Search  Borrowed Device Name"}),e.jsx("button",{onClick:()=>Te(!1),className:"text-gray-500 hover:text-gray-700",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-4 flex flex-col flex-1 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Gt,{className:"w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:je,autoFocus:!0,onChange:rt=>J(rt.target.value),placeholder:"Search devices...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),We&&e.jsxs("div",{className:"mb-3 p-2 bg-red-50 border border-red-200 rounded text-red-700 text-sm flex items-center gap-2",children:[e.jsx(ya,{className:"w-4 h-4"})," ",We]}),e.jsx("div",{className:"flex-1 overflow-y-auto border border-gray-200 rounded",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-50 border-b-2 border-gray-200",children:[e.jsx("th",{className:"px-3 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-3 py-2 text-left text-gray-700",children:"Description"})]})}),e.jsx("tbody",{children:Z?e.jsx("tr",{children:e.jsxs("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:[e.jsx(Ea,{className:"w-5 h-5 animate-spin inline mr-2"}),"Loading..."]})}):Ut.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:"No devices found"})}):Ut.map(rt=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-blue-50 cursor-pointer transition-colors",onClick:()=>Js(rt.description),children:[e.jsx("td",{className:"px-3 py-2 font-mono",children:rt.code}),e.jsx("td",{className:"px-3 py-2",children:rt.description})]},rt.id))})]})})]})]})})]}),e.jsx(nr,{isOpen:Ze,onClose:()=>it(!1),onSelect:rt=>{const Vt=Nt.find(vs=>vs.empCode===rt);zt(rt,Vt?.name??"")},employees:Nt,loading:dt,error:Dt})]})]})}),e.jsx(Zt,{})]})}function UQ({activeSection:t}){return t==="workshift-variable"?e.jsx(a1,{}):t==="import-workshift-variable"?e.jsx(a1,{}):t==="import-adjustment"?e.jsx(RL,{}):t==="import-logs-from-device-v2"?e.jsx(UL,{}):t==="import-device-code"?e.jsx(Uz,{}):t==="import-employee-masterfile"?e.jsx(Hz,{}):t==="overtime-application"?e.jsx(h2,{}):t==="import-overtime-application"?e.jsx(h2,{}):t==="leave-application"?e.jsx(m2,{}):t==="import-leave-application"?e.jsx(m2,{}):t==="logs-from-device-v2"?e.jsx(Wz,{}):t==="overtime-application-2-shifts"?e.jsx(Iq,{}):t==="workshift-variable-2-shifts"?e.jsx(Lq,{}):t==="logs-from-device-2-shifts"?e.jsx(Oq,{}):t==="update-raw-data"||t==="update-rawdata-import"?e.jsx(Gz,{}):t==="raw-data-ot-group"?e.jsx(bq,{}):t==="rawdata-ot-gap"?e.jsx(Nq,{}):t==="rawdata-on-straight-duty"?e.jsx(Dq,{}):t==="2-shifts-rawdata"?e.jsx(Pq,{}):t==="2-shifts-employee-timekeep-config"?e.jsx(Mq,{}):t==="raw-data"?e.jsx(RQ,{}):t==="process"||t==="process-data"?e.jsx(aJ,{}):t==="2-shifts-payroll"||t==="process-2-shifts-payroll"?e.jsx(rJ,{}):t==="processed-data"?e.jsx(Kq,{}):t==="daily-time-record-monitoring"?e.jsx(nJ,{}):t==="update-status"?e.jsx(Xq,{}):t==="update-employee-overtime-application"?e.jsx(Qq,{}):t==="update-employee-workshift"?e.jsx(eX,{}):t==="update-employee-leave-application"?e.jsx(sX,{}):t==="update-employee-pay-house"?e.jsx(rX,{}):t==="update-employee-classification"?e.jsx(lX,{}):t==="update-batch-rest-day"?e.jsx(iX,{}):t==="delete-employee-transactions"?e.jsx(cX,{}):t==="update-rawdata-online"?e.jsx(dX,{}):t==="update-daytype-rawdata"?e.jsx(xX,{}):t==="update-workshift-rawdata"?e.jsx(mX,{}):t==="delete-incomplete-logs"?e.jsx(fX,{}):t==="delete-rawdata"?e.jsx(yX,{}):t==="unpost-transaction"?e.jsx(vX,{}):t==="additional-hours-per-week"?e.jsx(NX,{}):t==="apply-ot-allowances"?e.jsx(CX,{}):t==="apply-break-overbreak"?e.jsx(kX,{}):t==="update-allowance-per-bracket"?e.jsx(EX,{}):t==="update-gl-code-utility"?e.jsx(AX,{}):t==="update-flexi-break"?e.jsx(PX,{}):t==="update-sss-notification"?e.jsx(IX,{}):t==="update-hours-per-week"?e.jsx(OX,{}):t==="update-tardiness-penalty"?e.jsx(BX,{}):t==="delete-ot-restday-absent"?e.jsx(UX,{}):t==="process-overtime-cutoff"?e.jsx(WX,{}):t==="update-assumed-days"?e.jsx($X,{}):t==="deduct-absences-excess"?e.jsx(VX,{}):t==="process-overtime-24hours"?e.jsx(KX,{}):t==="post-processed-timekeeping"?e.jsx(XX,{}):t==="update-time-flag-breaks"?e.jsx(QX,{}):t==="unpaid-lunch-deduction"?e.jsx(eJ,{}):t==="deduct-tardiness-to-overtime"?e.jsx(sJ,{}):t==="timekeep-group"||t==="tks-group-setup"||t==="timekeep-group-setup"?e.jsx(xQ,{}):t==="tks-group-setup-definition"?e.jsx(oJ,{}):t==="company-information"?e.jsx(lJ,{}):t==="calendar-setup"?e.jsx(iJ,{}):t==="holiday-ot-rates-setup"?e.jsx(dJ,{}):t==="overtime-setup"?e.jsx(uJ,{}):t==="employee-master-file"?e.jsx(CQ,{}):t==="employee-timekeep-configuration"?e.jsx(IQ,{}):t==="allowance-bracket-code-setup"?e.jsx(xJ,{}):t==="allowance-bracketing-setup"?e.jsx(hJ,{}):t==="allowance-per-classification-setup"?e.jsx(mJ,{}):t==="classification-setup"?e.jsx(pJ,{}):t==="earning-setup"?e.jsx(fJ,{}):t==="day-type-setup"?e.jsx(gJ,{}):t==="ams-database-configuration-setup"?e.jsx(wQ,{}):t==="borrowed-device-name"?e.jsx(hQ,{}):t==="coordinates-setup"?e.jsx(bQ,{}):t==="device-type-setup"?e.jsx(yQ,{}):t==="dtr-flag-setup"?e.jsx(mQ,{}):t==="dtr-log-fields-setup"?e.jsx(pQ,{}):t==="sdk-list-setup"?e.jsx(yJ,{}):t==="mysql-database-configuration-setup"?e.jsx(jQ,{}):t==="equivalent-hours-deduction-setup"?e.jsx(bJ,{}):t==="group-schedule-setup"?e.jsx(oQ,{}):t==="help-setup"?e.jsx(lQ,{}):t==="leave-type-setup"?e.jsx(iQ,{}):t==="additional-ot-hours-per-week"?e.jsx(EJ,{}):t==="regular-overtime-setup"?e.jsx(TJ,{}):t==="rest-day-overtime-setup"?e.jsx(AJ,{}):t==="payroll-location-setup"?e.jsx(cQ,{}):t==="system-configuration-setup"?e.jsx(dQ,{}):t==="daily-schedule-setup"?e.jsx(FJ,{}):t==="rest-day-setup"?e.jsx(PJ,{}):t==="workshift-setup"?e.jsx(MJ,{}):t==="unpaid-lunch-deduction-bracket-setup"?e.jsx(uQ,{}):t==="bracket-code-setup"?e.jsx(IJ,{}):t==="tardiness-undertime-accumulation-table-setup"?e.jsx(LJ,{}):t==="area-setup"?e.jsx(OJ,{}):t==="branch-setup"?e.jsx(_J,{}):t==="department-setup"?e.jsx(RJ,{}):t==="division-setup"?e.jsx(UJ,{}):t==="employee-designation-setup"?e.jsx(HJ,{}):t==="employee-status-setup"?e.jsx(WJ,{}):t==="group-setup"?e.jsx(GJ,{}):t==="job-level-setup"?e.jsx($J,{}):t==="location-setup"?e.jsx(zJ,{}):t==="pay-house-setup"?e.jsx(VJ,{}):t==="online-approval-setup"?e.jsx(YJ,{}):t==="section-setup"?e.jsx(KJ,{}):t==="unit-setup"?e.jsx(qJ,{}):t==="create-new-database"?e.jsx(XJ,{}):t==="email-configuration"?e.jsx(JJ,{}):t==="audit-trail"?e.jsx(eQ,{}):t==="security-manager"?e.jsx(H2,{}):t==="security"?e.jsx(H2,{}):t==="export-nav"?e.jsx(rQ,{}):t==="export-payroll-data"?e.jsx(nQ,{}):t==="payroll-dtr-allowance"?e.jsx(sQ,{}):t!=="home"?e.jsx("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-8",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8",children:[e.jsx("h2",{className:"text-gray-900 mb-2",children:G2(t)}),e.jsxs("p",{className:"text-gray-600",children:["Content for ",G2(t)," will be displayed here."]})]})}):e.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-8 flex-1",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-gray-900 mb-2",children:"Welcome back, Admin"}),e.jsx("p",{className:"text-gray-600",children:"Here's what's happening with your timekeeping today"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(mm,{icon:Hs,label:"Active Employees",value:"247",change:"+12 this month",changeType:"positive",color:"blue"}),e.jsx(mm,{icon:xa,label:"Hours This Week",value:"9,845",change:"+5.2% vs last week",changeType:"positive",color:"cyan"}),e.jsx(mm,{icon:ya,label:"Pending Exceptions",value:"18",change:"Needs attention",changeType:"warning",color:"amber"}),e.jsx(mm,{icon:gl,label:"Approved Time Cards",value:"229",change:"92.7% completion",changeType:"positive",color:"green"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(m0,{icon:vi,title:"Review Time Cards",description:"View and approve pending time cards",action:"Go to Time Cards"}),e.jsx(m0,{icon:Hs,title:"Manage Employees",description:"Add, edit, or deactivate employees",action:"Manage Employees"}),e.jsx(m0,{icon:uC,title:"Generate Reports",description:"Create custom reports and exports",action:"View Reports"}),e.jsx(m0,{icon:ya,title:"Exception Review",description:"Handle exceptions and discrepancies",action:"Review Exceptions"}),e.jsx(m0,{icon:ds,title:"Schedule Management",description:"Update shifts and schedules",action:"Manage Schedules"}),e.jsx(m0,{icon:e7,title:"Process Payroll",description:"Calculate and post payroll data",action:"Process Now"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Recent Activity"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(pm,{type:"success",title:"Payroll Posted",description:"Period ending 11/30/2025 successfully posted",time:"2 hours ago"}),e.jsx(pm,{type:"info",title:"New Employee Added",description:"Sarah Johnson added to Sales department",time:"4 hours ago"}),e.jsx(pm,{type:"warning",title:"Exception Created",description:"Missing punch for employee #1247",time:"Yesterday"}),e.jsx(pm,{type:"success",title:"Data Backup Complete",description:"Automated backup finished successfully",time:"Yesterday"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Upcoming Tasks"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(fm,{title:"Weekly Payroll Processing",due:"Due in 2 days",priority:"high"}),e.jsx(fm,{title:"Monthly Report Generation",due:"Due in 5 days",priority:"medium"}),e.jsx(fm,{title:"Employee Schedule Update",due:"Due in 1 week",priority:"low"}),e.jsx(fm,{title:"Quarterly Data Backup",due:"Due in 2 weeks",priority:"medium"})]})]})]})]})}function mm({icon:t,label:s,value:a,change:r,changeType:n,color:l}){const i={blue:"from-blue-500 to-blue-600",cyan:"from-cyan-500 to-cyan-600",amber:"from-amber-500 to-amber-600",green:"from-green-500 to-green-600"},d={positive:"text-green-600",warning:"text-amber-600",negative:"text-red-600"};return e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow duration-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:`p-3 bg-gradient-to-br ${i[l]} rounded-xl shadow-lg`,children:e.jsx(t,{className:"w-6 h-6 text-white"})})}),e.jsx("div",{className:"mb-1",children:e.jsx("div",{className:"text-gray-900",style:{fontSize:"1.875rem",lineHeight:"2.25rem"},children:a})}),e.jsx("div",{className:"text-gray-600 mb-2",children:s}),e.jsx("div",{className:`${d[n]}`,style:{fontSize:"0.875rem",lineHeight:"1.25rem"},children:r})]})}function m0({icon:t,title:s,description:a,action:r}){return e.jsxs("button",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md hover:border-blue-200 transition-all duration-200 text-left group",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg group-hover:bg-blue-100 transition-colors",children:e.jsx(t,{className:"w-5 h-5 text-blue-600"})}),e.jsx(wA,{className:"w-5 h-5 text-gray-400 group-hover:text-blue-600 group-hover:translate-x-1 transition-all"})]}),e.jsx("h4",{className:"text-gray-900 mb-1",children:s}),e.jsx("p",{className:"text-gray-600 mb-3",style:{fontSize:"0.875rem",lineHeight:"1.25rem"},children:a}),e.jsxs("div",{className:"text-blue-600",style:{fontSize:"0.875rem",lineHeight:"1.25rem"},children:[r," "]})]})}function pm({type:t,title:s,description:a,time:r}){const n={success:"bg-green-100 text-green-600",info:"bg-blue-100 text-blue-600",warning:"bg-amber-100 text-amber-600"};return e.jsxs("div",{className:"flex items-start space-x-3 pb-4 border-b border-gray-100 last:border-0 last:pb-0",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${n[t].replace("text-","bg-")}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-gray-900",children:s}),e.jsx("div",{className:"text-gray-600",style:{fontSize:"0.875rem",lineHeight:"1.25rem"},children:a}),e.jsx("div",{className:"text-gray-500 mt-1",style:{fontSize:"0.75rem",lineHeight:"1rem"},children:r})]})]})}function fm({title:t,due:s,priority:a}){const r={high:"bg-red-100 text-red-700",medium:"bg-amber-100 text-amber-700",low:"bg-blue-100 text-blue-700"};return e.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-gray-100 last:border-0 last:pb-0",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-gray-900",children:t}),e.jsx("div",{className:"text-gray-600 mt-1",style:{fontSize:"0.875rem",lineHeight:"1.25rem"},children:s})]}),e.jsx("span",{className:`px-3 py-1 rounded-full ${r[a]}`,style:{fontSize:"0.75rem",lineHeight:"1rem"},children:a.charAt(0).toUpperCase()+a.slice(1)})]})}function G2(t){return{home:"Home","file-setup":"File Setup","timekeep-group-setup":"TimeKeep Group Setup","holiday-calendar":"Holiday Calendar",maintenance:"Maintenance","employee-master-file":"Employee Master File","employee-timekeep-configuration":"Employee Timekeep Configuration","raw-data":"Raw Data","raw-data-ot-group":"Raw Data OT Group","processed-data":"Processed Data",process:"Process",reports:"Reports",import:"Import","workshift-variable":"Workshift Variable","leave-application":"Leave Application","overtime-application":"Overtime Application","rawdata-ot-gap":"Rawdata OT Gap","rawdata-on-straight-duty":"Rawdata On Straight Duty","2-shifts-rawdata":"Two Shifts Raw Data","2-shifts-employee-timekeep-config":"Two Shifts Employee Timekeep Config",export:"Export",utilities:"Utilities",security:"Security","daily-time-record-monitoring":"Daily Time Record Monitoring","tks-group-setup-definition":"TKS Group Setup Definition","company-information":"Company Information","calendar-setup":"Calendar Setup","holiday-ot-rates-setup":"Holiday OT Rates Setup","overtime-setup":"Overtime Setup","allowance-bracket-code-setup":"Allowance Bracket Code Setup","allowance-bracketing-setup":"Allowance Bracketing Setup","allowance-per-classification-setup":"Allowance Per Classification Setup","classification-setup":"Classification Setup","earning-setup":"Earning Setup","day-type-setup":"Day Type Setup","ams-database-configuration-setup":"AMS Database Configuration Setup","borrowed-device-name":"Borrowed Device Name","coordinates-setup":"Coordinates Setup","device-type-setup":"Device Type Setup","dtr-flag-setup":"DTR Flag Setup","dtr-log-fields-setup":"DTR Log Fields Setup","sdk-list-setup":"SDK List Setup","mysql-database-configuration-setup":"MySQL Database Configuration Setup","equivalent-hours-deduction-setup":"Equivalent Hours Deduction Setup","group-schedule-setup":"Group Schedule Setup","help-setup":"Help Setup","leave-type-setup":"Leave Type Setup","additional-ot-hours-per-week":"Additional OT Hours Per Week","regular-overtime-setup":"Regular Overtime Setup","rest-day-overtime-setup":"Rest Day Overtime Setup","payroll-location-setup":"Payroll Location Setup","system-configuration-setup":"System Configuration Setup","daily-schedule-setup":"Daily Schedule Setup","rest-day-setup":"Rest Day Setup","workshift-setup":"Workshift Setup","unpaid-lunch-deduction-bracket-setup":"Unpaid Lunch Deduction Bracket Setup","bracket-code-setup":"Bracket Code Setup","tardiness-undertime-accumulation-table-setup":"Tardiness Undertime Accumulation Table Setup","area-setup":"Area Setup","branch-setup":"Branch Setup","department-setup":"Department Setup","division-setup":"Division Setup","employee-designation-setup":"Employee Designation Setup","employee-status-setup":"Employee Status Setup","group-setup":"Group Setup","job-level-setup":"Job Level Setup","location-setup":"Location Setup","pay-house-setup":"Pay House Setup","online-approval-setup":"Online Approval Setup","section-setup":"Section Setup","unit-setup":"Unit Setup","create-new-database":"Create New Database","email-configuration":"Email Configuration","audit-trail":"Audit Trail","export-nav":"Export NAV","export-payroll-data":"Export Payroll Data","payroll-dtr-allowance":"Payroll DTR Allowance"}[t]||t}function HQ({onLogout:t}){const[s,a]=o.useState("home"),n=["workshift-variable","import-workshift-variable","import-adjustment","import-device-code","import-employee-masterfile","overtime-application","import-overtime-application","leave-application","import-leave-application","logs-from-device-v2","import-logs-from-device-v2","update-raw-data","update-rawdata-import","raw-data-ot-group","rawdata-ot-gap","rawdata-on-straight-duty","2-shifts-rawdata","raw-data","process","2-shifts-payroll","process-data","process-2-shifts-payroll","processed-data","daily-time-record-monitoring","timekeep-group","timekeep-group-setup","tks-group-setup","tks-group-setup-definition","company-information","calendar-setup","holiday-ot-rates-setup","overtime-setup","employee-master-file","employee-timekeep-configuration","allowance-bracket-code-setup","allowance-bracketing-setup","allowance-per-classification-setup","classification-setup","earning-setup","day-type-setup","ams-database-configuration-setup","borrowed-device-name","coordinates-setup","device-type-setup","dtr-flag-setup","dtr-log-fields-setup","sdk-list-setup","mysql-database-configuration-setup","equivalent-hours-deduction-setup","group-schedule-setup","help-setup","leave-type-setup","additional-ot-hours-per-week","regular-overtime-setup","rest-day-overtime-setup","payroll-location-setup","system-configuration-setup","daily-schedule-setup","rest-day-setup","workshift-setup","unpaid-lunch-deduction-bracket-setup","bracket-code-setup","tardiness-undertime-accumulation-table-setup","area-setup","branch-setup","department-setup","division-setup","employee-designation-setup","employee-status-setup","group-setup","job-level-setup","location-setup","pay-house-setup","online-approval-setup","section-setup","unit-setup","2-shifts-employee-timekeep-config","overtime-application-2-shifts","workshift-variable-2-shifts","logs-from-device-2-shifts","update-status","update-employee-overtime-application","update-employee-workshift","update-employee-leave-application","update-employee-pay-house","update-employee-classification","update-batch-rest-day","delete-employee-transactions","update-rawdata-online","update-daytype-rawdata","update-workshift-rawdata","delete-incomplete-logs","delete-rawdata","unpost-transaction","additional-hours-per-week","apply-ot-allowances","apply-break-overbreak","update-allowance-per-bracket","update-gl-code-utility","update-sss-notification","process-overtime-24hours","post-processed-timekeeping","update-time-flag-breaks","unpaid-lunch-deduction","update-flexi-break","deduct-tardiness-to-overtime"].includes(s);return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute top-20 -left-20 w-96 h-96 bg-green-200 rounded-full mix-blend-multiply filter blur-3xl opacity-60 animate-blob"}),e.jsx("div",{className:"absolute top-40 -right-20 w-96 h-96 bg-lime-200 rounded-full mix-blend-multiply filter blur-3xl opacity-60 animate-blob animation-delay-2000"})]}),e.jsx(FP,{onLogout:t,activeSection:s,setActiveSection:a}),e.jsx(UQ,{activeSection:s}),!n&&e.jsx(Zt,{})]})}const WQ="/assets/128Tech_Logo-DpXa_uFg.jpg";function GQ({onLogin:t,onForgotPassword:s}){const[a,r]=o.useState(""),[n,l]=o.useState(""),[i,d]=o.useState("DEMO COMPANY INC"),[x,h]=o.useState(!1),[m,b]=o.useState(!1),[f,N]=o.useState(""),p=async y=>{y.preventDefault(),N(""),b(!0);try{const g=await ne.post("UserLogin/login",{username:a,password:n,company:i,windowsAuth:x});g.status===200&&(g.data.token&&(localStorage.setItem("authToken",g.data.token),localStorage.setItem("loginTimestamp",new Date().getTime().toString())),g.data&&localStorage.setItem("loginPayload",JSON.stringify(g.data)),g.data.user&&localStorage.setItem("userData",JSON.stringify(g.data.user)),await ee.fire({icon:"success",title:"Login Successful",text:"Welcome back!",timer:2e3,showConfirmButton:!1}),t())}catch(g){v(g)}finally{b(!1)}},v=async y=>{const g=y.response?.status,j=y.response?.data?.message||y.message||"Login failed. Please try again.";N(j),g===401?await ee.fire({icon:"error",title:"Invalid Credentials",text:"Invalid username or password.",confirmButtonColor:"#dc2626"}):g===403?await ee.fire({icon:"warning",title:"Account Suspended",text:j,confirmButtonColor:"#dc2626"}):g===400?await ee.fire({icon:"warning",title:"Invalid Input",text:j,confirmButtonColor:"#dc2626"}):g>=500?await ee.fire({icon:"error",title:"Server Error",text:"Server error. Please try again later.",confirmButtonColor:"#dc2626"}):y.message==="Network Error"||!y.response?await ee.fire({icon:"error",title:"Connection Error",text:"Unable to connect to the server.",confirmButtonColor:"#dc2626"}):await ee.fire({icon:"error",title:"Login Failed",text:j,confirmButtonColor:"#dc2626"})};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute top-20 -left-20 w-96 h-96 bg-green-200 rounded-full mix-blend-multiply filter blur-3xl opacity-60 animate-blob"}),e.jsx("div",{className:"absolute top-40 -right-20 w-96 h-96 bg-lime-200 rounded-full mix-blend-multiply filter blur-3xl opacity-60 animate-blob animation-delay-2000"})]}),e.jsx("div",{className:"bg-white border-b border-gray-200 relative z-10 shadow-md",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:e.jsx("img",{src:yC,alt:"LifeBank Microfinance Foundation",className:"h-14 object-contain"})})}),e.jsx("div",{className:"w-full bg-green-600 text-white py-3",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx("p",{className:"text-white tracking-wide",children:"LIFEBANK MICROFINANCE FOUNDATION, INC."})})}),e.jsx("div",{className:"flex-1 flex items-center justify-center p-6 relative z-10",children:e.jsxs("div",{className:"w-full max-w-md relative",children:[e.jsx("div",{className:"absolute -top-12 left-1/2 transform -translate-x-1/2 z-20",children:e.jsx("div",{className:"w-24 h-24 rounded-full bg-white shadow-xl flex items-center justify-center border-4 border-green-600",children:e.jsx("img",{src:WQ,alt:"128 Tech Logo",className:"w-16 h-16 object-contain"})})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 p-8 pt-16",children:[e.jsx("div",{className:"flex flex-col items-center mb-8",children:e.jsx("h2",{className:"text-gray-900 text-center",children:"Login"})}),e.jsxs("form",{onSubmit:p,className:"space-y-5",children:[f&&e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-md",children:e.jsx("p",{className:"text-red-700 text-sm",children:f})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(yp,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",value:a,onChange:y=>r(y.target.value),className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-gray-700 placeholder-gray-400",placeholder:"Username"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(vF,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"password",value:n,onChange:y=>l(y.target.value),className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-gray-700 placeholder-gray-400",placeholder:"Password"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-600 mb-2",style:{fontSize:"0.875rem"},children:"Company Name"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ea,{className:"h-5 w-5 text-gray-400"})}),e.jsxs("select",{value:i,onChange:y=>d(y.target.value),className:"w-full pl-10 pr-10 py-3 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 appearance-none cursor-pointer text-gray-700",children:[e.jsx("option",{value:"DEMO COMPANY INC",children:"DEMO COMPANY INC"}),e.jsx("option",{value:"LIFEBANK MICROFINANCE FOUNDATION INC",children:"LIFEBANK MICROFINANCE FOUNDATION INC"}),e.jsx("option",{value:"ACME Corporation",children:"ACME Corporation"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),e.jsxs("div",{className:"flex items-center pt-2",children:[e.jsx("input",{type:"checkbox",id:"windowsAuth",checked:x,onChange:y=>h(y.target.checked),className:"w-4 h-4 text-blue-600 bg-white border-gray-300 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer"}),e.jsx("label",{htmlFor:"windowsAuth",className:"ml-3 text-gray-700 cursor-pointer select-none",children:"Windows Authentication"})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4",children:[e.jsx("button",{type:"submit",disabled:m,className:"px-8 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-md hover:from-red-600 hover:to-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 uppercase tracking-wider disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:from-red-500 disabled:hover:to-red-600 disabled:hover:shadow-lg disabled:transform-none",children:m?"Logging in...":"Log in"}),e.jsx("button",{type:"button",onClick:s,disabled:m,className:"text-blue-600 hover:text-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Forgot Password?"})]})]})]}),e.jsx("div",{className:"text-center mt-6",children:e.jsx("p",{className:"text-gray-500",style:{fontSize:"0.875rem"},children:"v7.3  Secure Login"})})]})}),e.jsx("div",{className:"bg-green-700 text-white px-6 py-4 relative z-10",children:e.jsx("div",{className:"max-w-7xl mx-auto text-center",children:e.jsx("p",{className:"text-white",style:{fontSize:"0.875rem"},children:" 128 Tech Consulting Inc. 2025. All Rights Reserved."})})}),e.jsx("style",{children:`
        @keyframes blob {
          0% {
            transform: translate(0px, 0px) scale(1);
          }
          33% {
            transform: translate(30px, -50px) scale(1.1);
          }
          66% {
            transform: translate(-20px, 20px) scale(0.9);
          }
          100% {
            transform: translate(0px, 0px) scale(1);
          }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `})]})}const $Q="/assets/61938a0d79b7addf7705f197066d189cda2ff9a9-C5CCugB1.png";function zQ({onBack:t}){const[s,a]=o.useState(""),[r,n]=o.useState(!1),l=i=>{i.preventDefault(),n(!0)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50 flex flex-col",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:e.jsx("img",{src:$Q,alt:"LifeBank Foundation",className:"h-12 object-contain"})})}),e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 text-white px-6 py-3 shadow-md",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx("p",{className:"text-white/95",children:"LIFEBANK MICROFINANCE FOUNDATION, INC."})})}),e.jsxs("div",{className:"flex-1 flex items-center justify-center p-6",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 right-10 w-96 h-96 bg-blue-200 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute bottom-20 left-10 w-96 h-96 bg-cyan-200 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"})]}),e.jsxs("div",{className:"relative w-full max-w-md",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-8",children:r?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:e.jsx(gl,{className:"w-8 h-8 text-green-600"})}),e.jsx("h1",{className:"text-gray-900 mb-2",children:"Check Your Email"}),e.jsx("p",{className:"text-gray-600",children:"If an account exists with the provided email or username, you will receive password reset instructions shortly."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:e.jsxs("p",{className:"text-blue-800",style:{fontSize:"0.875rem"},children:[e.jsx("strong",{children:"Note:"})," The email may take a few minutes to arrive. Please check your spam folder if you don't see it in your inbox."]})}),e.jsx("button",{type:"button",onClick:t,className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 text-white py-3 px-6 rounded-xl hover:from-blue-700 hover:to-cyan-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40",children:"Back to Login"}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:()=>n(!1),className:"text-blue-600 hover:text-blue-700 transition-colors",children:"Didn't receive the email? Try again"})})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-gray-900 mb-2",children:"Forgot Password?"}),e.jsx("p",{className:"text-gray-600",children:"Enter your email address or username and we'll send you instructions to reset your password."})]}),e.jsxs("form",{onSubmit:l,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-gray-700 mb-2",children:"Email or Username"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(pC,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",id:"email",value:s,onChange:i=>a(i.target.value),className:"w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter your email or username",required:!0})]})]}),e.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 text-white py-3 px-6 rounded-xl hover:from-blue-700 hover:to-cyan-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 transform hover:-translate-y-0.5",children:"Send Reset Instructions"}),e.jsx("div",{className:"text-center",children:e.jsxs("button",{type:"button",onClick:t,className:"inline-flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[e.jsx(bA,{className:"w-4 h-4"}),e.jsx("span",{children:"Back to Login"})]})})]})]})}),e.jsx("div",{className:"text-center mt-6",children:e.jsx("p",{className:"text-gray-500",style:{fontSize:"0.875rem"},children:"v7.3  Secure Login"})})]})]}),e.jsx("style",{children:`
        @keyframes blob {
          0% {
            transform: translate(0px, 0px) scale(1);
          }
          33% {
            transform: translate(30px, -50px) scale(1.1);
          }
          66% {
            transform: translate(-20px, 20px) scale(0.9);
          }
          100% {
            transform: translate(0px, 0px) scale(1);
          }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `})]})}function VQ(){const[t,s]=o.useState(!1),[a,r]=o.useState(!1),[n,l]=o.useState(!0);return o.useEffect(()=>{localStorage.getItem("authToken")&&s(!0),l(!1)},[]),n?e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-lime-200 via-green-400 to-lime-200 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-700",children:"Loading..."})]})}):t?e.jsx(HQ,{onLogout:()=>s(!1)}):a?e.jsx(zQ,{onBack:()=>r(!1)}):e.jsx(GQ,{onLogin:()=>s(!0),onForgotPassword:()=>r(!0)})}qD.createRoot(document.getElementById("root")).render(e.jsx(VQ,{}));
